(function(ft){typeof define=="function"&&define.amd?define(ft):ft()})(function(){"use strict";var ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Un(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var ie={},ef={};ef.byteLength=UE,ef.toByteArray=DE,ef.fromByteArray=zE;for(var pi=[],Fn=[],NE=typeof Uint8Array<"u"?Uint8Array:Array,Il="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",So=0,PE=Il.length;So<PE;++So)pi[So]=Il[So],Fn[Il.charCodeAt(So)]=So;Fn["-".charCodeAt(0)]=62,Fn["_".charCodeAt(0)]=63;function Pp(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function UE(e){var t=Pp(e),r=t[0],n=t[1];return(r+n)*3/4-n}function FE(e,t,r){return(t+r)*3/4-r}function DE(e){var t,r=Pp(e),n=r[0],i=r[1],s=new NE(FE(e,n,i)),o=0,a=i>0?n-4:n,c;for(c=0;c<a;c+=4)t=Fn[e.charCodeAt(c)]<<18|Fn[e.charCodeAt(c+1)]<<12|Fn[e.charCodeAt(c+2)]<<6|Fn[e.charCodeAt(c+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=t&255;return i===2&&(t=Fn[e.charCodeAt(c)]<<2|Fn[e.charCodeAt(c+1)]>>4,s[o++]=t&255),i===1&&(t=Fn[e.charCodeAt(c)]<<10|Fn[e.charCodeAt(c+1)]<<4|Fn[e.charCodeAt(c+2)]>>2,s[o++]=t>>8&255,s[o++]=t&255),s}function HE(e){return pi[e>>18&63]+pi[e>>12&63]+pi[e>>6&63]+pi[e&63]}function jE(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),i.push(HE(n));return i.join("")}function zE(e){for(var t,r=e.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(jE(e,o,o+s>a?a:o+s));return n===1?(t=e[r-1],i.push(pi[t>>2]+pi[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(pi[t>>10]+pi[t>>4&63]+pi[t<<2&63]+"=")),i.join("")}var Rl={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Rl.read=function(e,t,r,n,i){var s,o,a=i*8-n-1,c=(1<<a)-1,u=c>>1,l=-7,y=r?i-1:0,A=r?-1:1,v=e[t+y];for(y+=A,s=v&(1<<-l)-1,v>>=-l,l+=a;l>0;s=s*256+e[t+y],y+=A,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=o*256+e[t+y],y+=A,l-=8);if(s===0)s=1-u;else{if(s===c)return o?NaN:(v?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-u}return(v?-1:1)*o*Math.pow(2,s-n)},Rl.write=function(e,t,r,n,i,s){var o,a,c,u=s*8-i-1,l=(1<<u)-1,y=l>>1,A=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:s-1,R=n?1:-1,O=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+y>=1?t+=A/c:t+=A*Math.pow(2,1-y),t*c>=2&&(o++,c/=2),o+y>=l?(a=0,o=l):o+y>=1?(a=(t*c-1)*Math.pow(2,i),o=o+y):(a=t*Math.pow(2,y-1)*Math.pow(2,i),o=0));i>=8;e[r+v]=a&255,v+=R,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;e[r+v]=o&255,v+=R,o/=256,u-=8);e[r+v-R]|=O*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=ef,r=Rl,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=F,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const C=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(C,w),C.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(C){if(C>i)throw new RangeError('The value "'+C+'" is invalid for option "size"');const w=new Uint8Array(C);return Object.setPrototypeOf(w,a.prototype),w}function a(C,w,b){if(typeof C=="number"){if(typeof w=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(C)}return c(C,w,b)}a.poolSize=8192;function c(C,w,b){if(typeof C=="string")return A(C,w);if(ArrayBuffer.isView(C))return R(C);if(C==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C);if(Wt(C,ArrayBuffer)||C&&Wt(C.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Wt(C,SharedArrayBuffer)||C&&Wt(C.buffer,SharedArrayBuffer)))return O(C,w,b);if(typeof C=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const D=C.valueOf&&C.valueOf();if(D!=null&&D!==C)return a.from(D,w,b);const V=P(C);if(V)return V;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof C[Symbol.toPrimitive]=="function")return a.from(C[Symbol.toPrimitive]("string"),w,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C)}a.from=function(C,w,b){return c(C,w,b)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(C){if(typeof C!="number")throw new TypeError('"size" argument must be of type number');if(C<0)throw new RangeError('The value "'+C+'" is invalid for option "size"')}function l(C,w,b){return u(C),C<=0?o(C):w!==void 0?typeof b=="string"?o(C).fill(w,b):o(C).fill(w):o(C)}a.alloc=function(C,w,b){return l(C,w,b)};function y(C){return u(C),o(C<0?0:H(C)|0)}a.allocUnsafe=function(C){return y(C)},a.allocUnsafeSlow=function(C){return y(C)};function A(C,w){if((typeof w!="string"||w==="")&&(w="utf8"),!a.isEncoding(w))throw new TypeError("Unknown encoding: "+w);const b=N(C,w)|0;let D=o(b);const V=D.write(C,w);return V!==b&&(D=D.slice(0,V)),D}function v(C){const w=C.length<0?0:H(C.length)|0,b=o(w);for(let D=0;D<w;D+=1)b[D]=C[D]&255;return b}function R(C){if(Wt(C,Uint8Array)){const w=new Uint8Array(C);return O(w.buffer,w.byteOffset,w.byteLength)}return v(C)}function O(C,w,b){if(w<0||C.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(C.byteLength<w+(b||0))throw new RangeError('"length" is outside of buffer bounds');let D;return w===void 0&&b===void 0?D=new Uint8Array(C):b===void 0?D=new Uint8Array(C,w):D=new Uint8Array(C,w,b),Object.setPrototypeOf(D,a.prototype),D}function P(C){if(a.isBuffer(C)){const w=H(C.length)|0,b=o(w);return b.length===0||C.copy(b,0,0,w),b}if(C.length!==void 0)return typeof C.length!="number"||xt(C.length)?o(0):v(C);if(C.type==="Buffer"&&Array.isArray(C.data))return v(C.data)}function H(C){if(C>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return C|0}function F(C){return+C!=C&&(C=0),a.alloc(+C)}a.isBuffer=function(w){return w!=null&&w._isBuffer===!0&&w!==a.prototype},a.compare=function(w,b){if(Wt(w,Uint8Array)&&(w=a.from(w,w.offset,w.byteLength)),Wt(b,Uint8Array)&&(b=a.from(b,b.offset,b.byteLength)),!a.isBuffer(w)||!a.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===b)return 0;let D=w.length,V=b.length;for(let X=0,ae=Math.min(D,V);X<ae;++X)if(w[X]!==b[X]){D=w[X],V=b[X];break}return D<V?-1:V<D?1:0},a.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(w,b){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(w.length===0)return a.alloc(0);let D;if(b===void 0)for(b=0,D=0;D<w.length;++D)b+=w[D].length;const V=a.allocUnsafe(b);let X=0;for(D=0;D<w.length;++D){let ae=w[D];if(Wt(ae,Uint8Array))X+ae.length>V.length?(a.isBuffer(ae)||(ae=a.from(ae)),ae.copy(V,X)):Uint8Array.prototype.set.call(V,ae,X);else if(a.isBuffer(ae))ae.copy(V,X);else throw new TypeError('"list" argument must be an Array of Buffers');X+=ae.length}return V};function N(C,w){if(a.isBuffer(C))return C.length;if(ArrayBuffer.isView(C)||Wt(C,ArrayBuffer))return C.byteLength;if(typeof C!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof C);const b=C.length,D=arguments.length>2&&arguments[2]===!0;if(!D&&b===0)return 0;let V=!1;for(;;)switch(w){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return He(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b*2;case"hex":return b>>>1;case"base64":return ut(C).length;default:if(V)return D?-1:He(C).length;w=(""+w).toLowerCase(),V=!0}}a.byteLength=N;function $(C,w,b){let D=!1;if((w===void 0||w<0)&&(w=0),w>this.length||((b===void 0||b>this.length)&&(b=this.length),b<=0)||(b>>>=0,w>>>=0,b<=w))return"";for(C||(C="utf8");;)switch(C){case"hex":return x(this,w,b);case"utf8":case"utf-8":return f(this,w,b);case"ascii":return _(this,w,b);case"latin1":case"binary":return E(this,w,b);case"base64":return g(this,w,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,w,b);default:if(D)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),D=!0}}a.prototype._isBuffer=!0;function q(C,w,b){const D=C[w];C[w]=C[b],C[b]=D}a.prototype.swap16=function(){const w=this.length;if(w%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let b=0;b<w;b+=2)q(this,b,b+1);return this},a.prototype.swap32=function(){const w=this.length;if(w%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let b=0;b<w;b+=4)q(this,b,b+3),q(this,b+1,b+2);return this},a.prototype.swap64=function(){const w=this.length;if(w%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let b=0;b<w;b+=8)q(this,b,b+7),q(this,b+1,b+6),q(this,b+2,b+5),q(this,b+3,b+4);return this},a.prototype.toString=function(){const w=this.length;return w===0?"":arguments.length===0?f(this,0,w):$.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(w){if(!a.isBuffer(w))throw new TypeError("Argument must be a Buffer");return this===w?!0:a.compare(this,w)===0},a.prototype.inspect=function(){let w="";const b=e.INSPECT_MAX_BYTES;return w=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(w+=" ... "),"<Buffer "+w+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(w,b,D,V,X){if(Wt(w,Uint8Array)&&(w=a.from(w,w.offset,w.byteLength)),!a.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if(b===void 0&&(b=0),D===void 0&&(D=w?w.length:0),V===void 0&&(V=0),X===void 0&&(X=this.length),b<0||D>w.length||V<0||X>this.length)throw new RangeError("out of range index");if(V>=X&&b>=D)return 0;if(V>=X)return-1;if(b>=D)return 1;if(b>>>=0,D>>>=0,V>>>=0,X>>>=0,this===w)return 0;let ae=X-V,Ze=D-b;const Ge=Math.min(ae,Ze),We=this.slice(V,X),jt=w.slice(b,D);for(let ze=0;ze<Ge;++ze)if(We[ze]!==jt[ze]){ae=We[ze],Ze=jt[ze];break}return ae<Ze?-1:Ze<ae?1:0};function G(C,w,b,D,V){if(C.length===0)return-1;if(typeof b=="string"?(D=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b=+b,xt(b)&&(b=V?0:C.length-1),b<0&&(b=C.length+b),b>=C.length){if(V)return-1;b=C.length-1}else if(b<0)if(V)b=0;else return-1;if(typeof w=="string"&&(w=a.from(w,D)),a.isBuffer(w))return w.length===0?-1:Z(C,w,b,D,V);if(typeof w=="number")return w=w&255,typeof Uint8Array.prototype.indexOf=="function"?V?Uint8Array.prototype.indexOf.call(C,w,b):Uint8Array.prototype.lastIndexOf.call(C,w,b):Z(C,[w],b,D,V);throw new TypeError("val must be string, number or Buffer")}function Z(C,w,b,D,V){let X=1,ae=C.length,Ze=w.length;if(D!==void 0&&(D=String(D).toLowerCase(),D==="ucs2"||D==="ucs-2"||D==="utf16le"||D==="utf-16le")){if(C.length<2||w.length<2)return-1;X=2,ae/=2,Ze/=2,b/=2}function Ge(jt,ze){return X===1?jt[ze]:jt.readUInt16BE(ze*X)}let We;if(V){let jt=-1;for(We=b;We<ae;We++)if(Ge(C,We)===Ge(w,jt===-1?0:We-jt)){if(jt===-1&&(jt=We),We-jt+1===Ze)return jt*X}else jt!==-1&&(We-=We-jt),jt=-1}else for(b+Ze>ae&&(b=ae-Ze),We=b;We>=0;We--){let jt=!0;for(let ze=0;ze<Ze;ze++)if(Ge(C,We+ze)!==Ge(w,ze)){jt=!1;break}if(jt)return We}return-1}a.prototype.includes=function(w,b,D){return this.indexOf(w,b,D)!==-1},a.prototype.indexOf=function(w,b,D){return G(this,w,b,D,!0)},a.prototype.lastIndexOf=function(w,b,D){return G(this,w,b,D,!1)};function z(C,w,b,D){b=Number(b)||0;const V=C.length-b;D?(D=Number(D),D>V&&(D=V)):D=V;const X=w.length;D>X/2&&(D=X/2);let ae;for(ae=0;ae<D;++ae){const Ze=parseInt(w.substr(ae*2,2),16);if(xt(Ze))return ae;C[b+ae]=Ze}return ae}function ee(C,w,b,D){return pt(He(w,C.length-b),C,b,D)}function se(C,w,b,D){return pt(it(w),C,b,D)}function Q(C,w,b,D){return pt(ut(w),C,b,D)}function I(C,w,b,D){return pt(Ht(w,C.length-b),C,b,D)}a.prototype.write=function(w,b,D,V){if(b===void 0)V="utf8",D=this.length,b=0;else if(D===void 0&&typeof b=="string")V=b,D=this.length,b=0;else if(isFinite(b))b=b>>>0,isFinite(D)?(D=D>>>0,V===void 0&&(V="utf8")):(V=D,D=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const X=this.length-b;if((D===void 0||D>X)&&(D=X),w.length>0&&(D<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");V||(V="utf8");let ae=!1;for(;;)switch(V){case"hex":return z(this,w,b,D);case"utf8":case"utf-8":return ee(this,w,b,D);case"ascii":case"latin1":case"binary":return se(this,w,b,D);case"base64":return Q(this,w,b,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,w,b,D);default:if(ae)throw new TypeError("Unknown encoding: "+V);V=(""+V).toLowerCase(),ae=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function g(C,w,b){return w===0&&b===C.length?t.fromByteArray(C):t.fromByteArray(C.slice(w,b))}function f(C,w,b){b=Math.min(C.length,b);const D=[];let V=w;for(;V<b;){const X=C[V];let ae=null,Ze=X>239?4:X>223?3:X>191?2:1;if(V+Ze<=b){let Ge,We,jt,ze;switch(Ze){case 1:X<128&&(ae=X);break;case 2:Ge=C[V+1],(Ge&192)===128&&(ze=(X&31)<<6|Ge&63,ze>127&&(ae=ze));break;case 3:Ge=C[V+1],We=C[V+2],(Ge&192)===128&&(We&192)===128&&(ze=(X&15)<<12|(Ge&63)<<6|We&63,ze>2047&&(ze<55296||ze>57343)&&(ae=ze));break;case 4:Ge=C[V+1],We=C[V+2],jt=C[V+3],(Ge&192)===128&&(We&192)===128&&(jt&192)===128&&(ze=(X&15)<<18|(Ge&63)<<12|(We&63)<<6|jt&63,ze>65535&&ze<1114112&&(ae=ze))}}ae===null?(ae=65533,Ze=1):ae>65535&&(ae-=65536,D.push(ae>>>10&1023|55296),ae=56320|ae&1023),D.push(ae),V+=Ze}return m(D)}const h=4096;function m(C){const w=C.length;if(w<=h)return String.fromCharCode.apply(String,C);let b="",D=0;for(;D<w;)b+=String.fromCharCode.apply(String,C.slice(D,D+=h));return b}function _(C,w,b){let D="";b=Math.min(C.length,b);for(let V=w;V<b;++V)D+=String.fromCharCode(C[V]&127);return D}function E(C,w,b){let D="";b=Math.min(C.length,b);for(let V=w;V<b;++V)D+=String.fromCharCode(C[V]);return D}function x(C,w,b){const D=C.length;(!w||w<0)&&(w=0),(!b||b<0||b>D)&&(b=D);let V="";for(let X=w;X<b;++X)V+=At[C[X]];return V}function T(C,w,b){const D=C.slice(w,b);let V="";for(let X=0;X<D.length-1;X+=2)V+=String.fromCharCode(D[X]+D[X+1]*256);return V}a.prototype.slice=function(w,b){const D=this.length;w=~~w,b=b===void 0?D:~~b,w<0?(w+=D,w<0&&(w=0)):w>D&&(w=D),b<0?(b+=D,b<0&&(b=0)):b>D&&(b=D),b<w&&(b=w);const V=this.subarray(w,b);return Object.setPrototypeOf(V,a.prototype),V};function B(C,w,b){if(C%1!==0||C<0)throw new RangeError("offset is not uint");if(C+w>b)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(w,b,D){w=w>>>0,b=b>>>0,D||B(w,b,this.length);let V=this[w],X=1,ae=0;for(;++ae<b&&(X*=256);)V+=this[w+ae]*X;return V},a.prototype.readUintBE=a.prototype.readUIntBE=function(w,b,D){w=w>>>0,b=b>>>0,D||B(w,b,this.length);let V=this[w+--b],X=1;for(;b>0&&(X*=256);)V+=this[w+--b]*X;return V},a.prototype.readUint8=a.prototype.readUInt8=function(w,b){return w=w>>>0,b||B(w,1,this.length),this[w]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(w,b){return w=w>>>0,b||B(w,2,this.length),this[w]|this[w+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(w,b){return w=w>>>0,b||B(w,2,this.length),this[w]<<8|this[w+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(w,b){return w=w>>>0,b||B(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+this[w+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(w,b){return w=w>>>0,b||B(w,4,this.length),this[w]*16777216+(this[w+1]<<16|this[w+2]<<8|this[w+3])},a.prototype.readBigUInt64LE=Xt(function(w){w=w>>>0,pe(w,"offset");const b=this[w],D=this[w+7];(b===void 0||D===void 0)&&we(w,this.length-8);const V=b+this[++w]*2**8+this[++w]*2**16+this[++w]*2**24,X=this[++w]+this[++w]*2**8+this[++w]*2**16+D*2**24;return BigInt(V)+(BigInt(X)<<BigInt(32))}),a.prototype.readBigUInt64BE=Xt(function(w){w=w>>>0,pe(w,"offset");const b=this[w],D=this[w+7];(b===void 0||D===void 0)&&we(w,this.length-8);const V=b*2**24+this[++w]*2**16+this[++w]*2**8+this[++w],X=this[++w]*2**24+this[++w]*2**16+this[++w]*2**8+D;return(BigInt(V)<<BigInt(32))+BigInt(X)}),a.prototype.readIntLE=function(w,b,D){w=w>>>0,b=b>>>0,D||B(w,b,this.length);let V=this[w],X=1,ae=0;for(;++ae<b&&(X*=256);)V+=this[w+ae]*X;return X*=128,V>=X&&(V-=Math.pow(2,8*b)),V},a.prototype.readIntBE=function(w,b,D){w=w>>>0,b=b>>>0,D||B(w,b,this.length);let V=b,X=1,ae=this[w+--V];for(;V>0&&(X*=256);)ae+=this[w+--V]*X;return X*=128,ae>=X&&(ae-=Math.pow(2,8*b)),ae},a.prototype.readInt8=function(w,b){return w=w>>>0,b||B(w,1,this.length),this[w]&128?(255-this[w]+1)*-1:this[w]},a.prototype.readInt16LE=function(w,b){w=w>>>0,b||B(w,2,this.length);const D=this[w]|this[w+1]<<8;return D&32768?D|4294901760:D},a.prototype.readInt16BE=function(w,b){w=w>>>0,b||B(w,2,this.length);const D=this[w+1]|this[w]<<8;return D&32768?D|4294901760:D},a.prototype.readInt32LE=function(w,b){return w=w>>>0,b||B(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},a.prototype.readInt32BE=function(w,b){return w=w>>>0,b||B(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},a.prototype.readBigInt64LE=Xt(function(w){w=w>>>0,pe(w,"offset");const b=this[w],D=this[w+7];(b===void 0||D===void 0)&&we(w,this.length-8);const V=this[w+4]+this[w+5]*2**8+this[w+6]*2**16+(D<<24);return(BigInt(V)<<BigInt(32))+BigInt(b+this[++w]*2**8+this[++w]*2**16+this[++w]*2**24)}),a.prototype.readBigInt64BE=Xt(function(w){w=w>>>0,pe(w,"offset");const b=this[w],D=this[w+7];(b===void 0||D===void 0)&&we(w,this.length-8);const V=(b<<24)+this[++w]*2**16+this[++w]*2**8+this[++w];return(BigInt(V)<<BigInt(32))+BigInt(this[++w]*2**24+this[++w]*2**16+this[++w]*2**8+D)}),a.prototype.readFloatLE=function(w,b){return w=w>>>0,b||B(w,4,this.length),r.read(this,w,!0,23,4)},a.prototype.readFloatBE=function(w,b){return w=w>>>0,b||B(w,4,this.length),r.read(this,w,!1,23,4)},a.prototype.readDoubleLE=function(w,b){return w=w>>>0,b||B(w,8,this.length),r.read(this,w,!0,52,8)},a.prototype.readDoubleBE=function(w,b){return w=w>>>0,b||B(w,8,this.length),r.read(this,w,!1,52,8)};function d(C,w,b,D,V,X){if(!a.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>V||w<X)throw new RangeError('"value" argument is out of bounds');if(b+D>C.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(w,b,D,V){if(w=+w,b=b>>>0,D=D>>>0,!V){const Ze=Math.pow(2,8*D)-1;d(this,w,b,D,Ze,0)}let X=1,ae=0;for(this[b]=w&255;++ae<D&&(X*=256);)this[b+ae]=w/X&255;return b+D},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(w,b,D,V){if(w=+w,b=b>>>0,D=D>>>0,!V){const Ze=Math.pow(2,8*D)-1;d(this,w,b,D,Ze,0)}let X=D-1,ae=1;for(this[b+X]=w&255;--X>=0&&(ae*=256);)this[b+X]=w/ae&255;return b+D},a.prototype.writeUint8=a.prototype.writeUInt8=function(w,b,D){return w=+w,b=b>>>0,D||d(this,w,b,1,255,0),this[b]=w&255,b+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(w,b,D){return w=+w,b=b>>>0,D||d(this,w,b,2,65535,0),this[b]=w&255,this[b+1]=w>>>8,b+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(w,b,D){return w=+w,b=b>>>0,D||d(this,w,b,2,65535,0),this[b]=w>>>8,this[b+1]=w&255,b+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(w,b,D){return w=+w,b=b>>>0,D||d(this,w,b,4,4294967295,0),this[b+3]=w>>>24,this[b+2]=w>>>16,this[b+1]=w>>>8,this[b]=w&255,b+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(w,b,D){return w=+w,b=b>>>0,D||d(this,w,b,4,4294967295,0),this[b]=w>>>24,this[b+1]=w>>>16,this[b+2]=w>>>8,this[b+3]=w&255,b+4};function k(C,w,b,D,V){Pe(w,D,V,C,b,7);let X=Number(w&BigInt(4294967295));C[b++]=X,X=X>>8,C[b++]=X,X=X>>8,C[b++]=X,X=X>>8,C[b++]=X;let ae=Number(w>>BigInt(32)&BigInt(4294967295));return C[b++]=ae,ae=ae>>8,C[b++]=ae,ae=ae>>8,C[b++]=ae,ae=ae>>8,C[b++]=ae,b}function W(C,w,b,D,V){Pe(w,D,V,C,b,7);let X=Number(w&BigInt(4294967295));C[b+7]=X,X=X>>8,C[b+6]=X,X=X>>8,C[b+5]=X,X=X>>8,C[b+4]=X;let ae=Number(w>>BigInt(32)&BigInt(4294967295));return C[b+3]=ae,ae=ae>>8,C[b+2]=ae,ae=ae>>8,C[b+1]=ae,ae=ae>>8,C[b]=ae,b+8}a.prototype.writeBigUInt64LE=Xt(function(w,b=0){return k(this,w,b,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Xt(function(w,b=0){return W(this,w,b,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(w,b,D,V){if(w=+w,b=b>>>0,!V){const Ge=Math.pow(2,8*D-1);d(this,w,b,D,Ge-1,-Ge)}let X=0,ae=1,Ze=0;for(this[b]=w&255;++X<D&&(ae*=256);)w<0&&Ze===0&&this[b+X-1]!==0&&(Ze=1),this[b+X]=(w/ae>>0)-Ze&255;return b+D},a.prototype.writeIntBE=function(w,b,D,V){if(w=+w,b=b>>>0,!V){const Ge=Math.pow(2,8*D-1);d(this,w,b,D,Ge-1,-Ge)}let X=D-1,ae=1,Ze=0;for(this[b+X]=w&255;--X>=0&&(ae*=256);)w<0&&Ze===0&&this[b+X+1]!==0&&(Ze=1),this[b+X]=(w/ae>>0)-Ze&255;return b+D},a.prototype.writeInt8=function(w,b,D){return w=+w,b=b>>>0,D||d(this,w,b,1,127,-128),w<0&&(w=255+w+1),this[b]=w&255,b+1},a.prototype.writeInt16LE=function(w,b,D){return w=+w,b=b>>>0,D||d(this,w,b,2,32767,-32768),this[b]=w&255,this[b+1]=w>>>8,b+2},a.prototype.writeInt16BE=function(w,b,D){return w=+w,b=b>>>0,D||d(this,w,b,2,32767,-32768),this[b]=w>>>8,this[b+1]=w&255,b+2},a.prototype.writeInt32LE=function(w,b,D){return w=+w,b=b>>>0,D||d(this,w,b,4,2147483647,-2147483648),this[b]=w&255,this[b+1]=w>>>8,this[b+2]=w>>>16,this[b+3]=w>>>24,b+4},a.prototype.writeInt32BE=function(w,b,D){return w=+w,b=b>>>0,D||d(this,w,b,4,2147483647,-2147483648),w<0&&(w=4294967295+w+1),this[b]=w>>>24,this[b+1]=w>>>16,this[b+2]=w>>>8,this[b+3]=w&255,b+4},a.prototype.writeBigInt64LE=Xt(function(w,b=0){return k(this,w,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Xt(function(w,b=0){return W(this,w,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function K(C,w,b,D,V,X){if(b+D>C.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function re(C,w,b,D,V){return w=+w,b=b>>>0,V||K(C,w,b,4),r.write(C,w,b,D,23,4),b+4}a.prototype.writeFloatLE=function(w,b,D){return re(this,w,b,!0,D)},a.prototype.writeFloatBE=function(w,b,D){return re(this,w,b,!1,D)};function xe(C,w,b,D,V){return w=+w,b=b>>>0,V||K(C,w,b,8),r.write(C,w,b,D,52,8),b+8}a.prototype.writeDoubleLE=function(w,b,D){return xe(this,w,b,!0,D)},a.prototype.writeDoubleBE=function(w,b,D){return xe(this,w,b,!1,D)},a.prototype.copy=function(w,b,D,V){if(!a.isBuffer(w))throw new TypeError("argument should be a Buffer");if(D||(D=0),!V&&V!==0&&(V=this.length),b>=w.length&&(b=w.length),b||(b=0),V>0&&V<D&&(V=D),V===D||w.length===0||this.length===0)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(D<0||D>=this.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("sourceEnd out of bounds");V>this.length&&(V=this.length),w.length-b<V-D&&(V=w.length-b+D);const X=V-D;return this===w&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(b,D,V):Uint8Array.prototype.set.call(w,this.subarray(D,V),b),X},a.prototype.fill=function(w,b,D,V){if(typeof w=="string"){if(typeof b=="string"?(V=b,b=0,D=this.length):typeof D=="string"&&(V=D,D=this.length),V!==void 0&&typeof V!="string")throw new TypeError("encoding must be a string");if(typeof V=="string"&&!a.isEncoding(V))throw new TypeError("Unknown encoding: "+V);if(w.length===1){const ae=w.charCodeAt(0);(V==="utf8"&&ae<128||V==="latin1")&&(w=ae)}}else typeof w=="number"?w=w&255:typeof w=="boolean"&&(w=Number(w));if(b<0||this.length<b||this.length<D)throw new RangeError("Out of range index");if(D<=b)return this;b=b>>>0,D=D===void 0?this.length:D>>>0,w||(w=0);let X;if(typeof w=="number")for(X=b;X<D;++X)this[X]=w;else{const ae=a.isBuffer(w)?w:a.from(w,V),Ze=ae.length;if(Ze===0)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for(X=0;X<D-b;++X)this[X+b]=ae[X%Ze]}return this};const be={};function ge(C,w,b){be[C]=class extends b{constructor(){super(),Object.defineProperty(this,"message",{value:w.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${C}]`,this.stack,delete this.name}get code(){return C}set code(V){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:V,writable:!0})}toString(){return`${this.name} [${C}]: ${this.message}`}}}ge("ERR_BUFFER_OUT_OF_BOUNDS",function(C){return C?`${C} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ge("ERR_INVALID_ARG_TYPE",function(C,w){return`The "${C}" argument must be of type number. Received type ${typeof w}`},TypeError),ge("ERR_OUT_OF_RANGE",function(C,w,b){let D=`The value of "${C}" is out of range.`,V=b;return Number.isInteger(b)&&Math.abs(b)>2**32?V=tt(String(b)):typeof b=="bigint"&&(V=String(b),(b>BigInt(2)**BigInt(32)||b<-(BigInt(2)**BigInt(32)))&&(V=tt(V)),V+="n"),D+=` It must be ${w}. Received ${V}`,D},RangeError);function tt(C){let w="",b=C.length;const D=C[0]==="-"?1:0;for(;b>=D+4;b-=3)w=`_${C.slice(b-3,b)}${w}`;return`${C.slice(0,b)}${w}`}function Ue(C,w,b){pe(w,"offset"),(C[w]===void 0||C[w+b]===void 0)&&we(w,C.length-(b+1))}function Pe(C,w,b,D,V,X){if(C>b||C<w){const ae=typeof w=="bigint"?"n":"";let Ze;throw X>3?w===0||w===BigInt(0)?Ze=`>= 0${ae} and < 2${ae} ** ${(X+1)*8}${ae}`:Ze=`>= -(2${ae} ** ${(X+1)*8-1}${ae}) and < 2 ** ${(X+1)*8-1}${ae}`:Ze=`>= ${w}${ae} and <= ${b}${ae}`,new be.ERR_OUT_OF_RANGE("value",Ze,C)}Ue(D,V,X)}function pe(C,w){if(typeof C!="number")throw new be.ERR_INVALID_ARG_TYPE(w,"number",C)}function we(C,w,b){throw Math.floor(C)!==C?(pe(C,b),new be.ERR_OUT_OF_RANGE(b||"offset","an integer",C)):w<0?new be.ERR_BUFFER_OUT_OF_BOUNDS:new be.ERR_OUT_OF_RANGE(b||"offset",`>= ${b?1:0} and <= ${w}`,C)}const ke=/[^+/0-9A-Za-z-_]/g;function vt(C){if(C=C.split("=")[0],C=C.trim().replace(ke,""),C.length<2)return"";for(;C.length%4!==0;)C=C+"=";return C}function He(C,w){w=w||1/0;let b;const D=C.length;let V=null;const X=[];for(let ae=0;ae<D;++ae){if(b=C.charCodeAt(ae),b>55295&&b<57344){if(!V){if(b>56319){(w-=3)>-1&&X.push(239,191,189);continue}else if(ae+1===D){(w-=3)>-1&&X.push(239,191,189);continue}V=b;continue}if(b<56320){(w-=3)>-1&&X.push(239,191,189),V=b;continue}b=(V-55296<<10|b-56320)+65536}else V&&(w-=3)>-1&&X.push(239,191,189);if(V=null,b<128){if((w-=1)<0)break;X.push(b)}else if(b<2048){if((w-=2)<0)break;X.push(b>>6|192,b&63|128)}else if(b<65536){if((w-=3)<0)break;X.push(b>>12|224,b>>6&63|128,b&63|128)}else if(b<1114112){if((w-=4)<0)break;X.push(b>>18|240,b>>12&63|128,b>>6&63|128,b&63|128)}else throw new Error("Invalid code point")}return X}function it(C){const w=[];for(let b=0;b<C.length;++b)w.push(C.charCodeAt(b)&255);return w}function Ht(C,w){let b,D,V;const X=[];for(let ae=0;ae<C.length&&!((w-=2)<0);++ae)b=C.charCodeAt(ae),D=b>>8,V=b%256,X.push(V),X.push(D);return X}function ut(C){return t.toByteArray(vt(C))}function pt(C,w,b,D){let V;for(V=0;V<D&&!(V+b>=w.length||V>=C.length);++V)w[V+b]=C[V];return V}function Wt(C,w){return C instanceof w||C!=null&&C.constructor!=null&&C.constructor.name!=null&&C.constructor.name===w.name}function xt(C){return C!==C}const At=function(){const C="0123456789abcdef",w=new Array(256);for(let b=0;b<16;++b){const D=b*16;for(let V=0;V<16;++V)w[D+V]=C[b]+C[V]}return w}();function Xt(C){return typeof BigInt>"u"?Tt:C}function Tt(){throw new Error("BigInt not supported")}})(ie);var Dn={exports:{}},Ao=typeof Reflect=="object"?Reflect:null,Up=Ao&&typeof Ao.apply=="function"?Ao.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},tf;Ao&&typeof Ao.ownKeys=="function"?tf=Ao.ownKeys:Object.getOwnPropertySymbols?tf=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:tf=function(t){return Object.getOwnPropertyNames(t)};function qE(e){console&&console.warn&&console.warn(e)}var Fp=Number.isNaN||function(t){return t!==t};function Zt(){Zt.init.call(this)}Dn.exports=Zt,Dn.exports.once=ZE,Zt.EventEmitter=Zt,Zt.prototype._events=void 0,Zt.prototype._eventsCount=0,Zt.prototype._maxListeners=void 0;var Dp=10;function rf(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Zt,"defaultMaxListeners",{enumerable:!0,get:function(){return Dp},set:function(e){if(typeof e!="number"||e<0||Fp(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Dp=e}}),Zt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Zt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Fp(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Hp(e){return e._maxListeners===void 0?Zt.defaultMaxListeners:e._maxListeners}Zt.prototype.getMaxListeners=function(){return Hp(this)},Zt.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=t==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[t];if(c===void 0)return!1;if(typeof c=="function")Up(c,this,r);else for(var u=c.length,l=Wp(c,u),n=0;n<u;++n)Up(l[n],this,r);return!0};function jp(e,t,r,n){var i,s,o;if(rf(r),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]),o===void 0)o=s[t]=r,++e._eventsCount;else if(typeof o=="function"?o=s[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=Hp(e),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,qE(a)}return e}Zt.prototype.addListener=function(t,r){return jp(this,t,r,!1)},Zt.prototype.on=Zt.prototype.addListener,Zt.prototype.prependListener=function(t,r){return jp(this,t,r,!0)};function VE(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function zp(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=VE.bind(n);return i.listener=r,n.wrapFn=i,i}Zt.prototype.once=function(t,r){return rf(r),this.on(t,zp(this,t,r)),this},Zt.prototype.prependOnceListener=function(t,r){return rf(r),this.prependListener(t,zp(this,t,r)),this},Zt.prototype.removeListener=function(t,r){var n,i,s,o,a;if(rf(r),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():WE(n,s),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,a||r)}return this},Zt.prototype.off=Zt.prototype.removeListener,Zt.prototype.removeAllListeners=function(t){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this};function qp(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?KE(i):Wp(i,i.length)}Zt.prototype.listeners=function(t){return qp(this,t,!0)},Zt.prototype.rawListeners=function(t){return qp(this,t,!1)},Zt.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Vp.call(e,t)},Zt.prototype.listenerCount=Vp;function Vp(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Zt.prototype.eventNames=function(){return this._eventsCount>0?tf(this._events):[]};function Wp(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function WE(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function KE(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function ZE(e,t){return new Promise(function(r,n){function i(o){e.removeListener(t,s),n(o)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}Kp(e,t,s,{once:!0}),t!=="error"&&GE(e,i,{once:!0})})}function GE(e,t,r){typeof e.on=="function"&&Kp(e,"error",t,r)}function Kp(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(s){n.once&&e.removeEventListener(t,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}const $a={PROMISES:"PROMISES",CALLBACK:"CALLBACK"};class nf{static isCallbackAdapterRequest(t){return t.id!==void 0}constructor(t){this.setStrategy(t)}setHandler(t){return this.handler=t,this}request(t,r){if(!this.handler)throw new Error("No handler defined for Adapter");return nf.isCallbackAdapterRequest(t)?this.handler({network:r,id:t.id,name:t.method,params:t.params,object:t.params}):this.handler({name:t.method,network:r,params:t.params,object:t.params})}setStrategy(t){return this.strategy=t,this}getStrategy(){return this.strategy}}var YE=Object.defineProperty,XE=Object.defineProperties,JE=Object.getOwnPropertyDescriptors,Zp=Object.getOwnPropertySymbols,QE=Object.prototype.hasOwnProperty,ex=Object.prototype.propertyIsEnumerable,Gp=(e,t,r)=>t in e?YE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,tx=(e,t)=>{for(var r in t||(t={}))QE.call(t,r)&&Gp(e,r,t[r]);if(Zp)for(var r of Zp(t))ex.call(t,r)&&Gp(e,r,t[r]);return e},rx=(e,t)=>XE(e,JE(t));class nx extends nf{constructor(){super($a.CALLBACK),this.callback=new Map}async request(t,r){return new Promise((n,i)=>{const s=new Date().getTime()+Math.floor(Math.random()*1e3);this.callback.set(s.toString(),{reject:i,resolve:n}),super.request(rx(tx({},t),{id:s}),r)})}sendResponse(t,r){if(this.callback.has(t.toString())){const n=this.callback.get(t.toString());this.callback.delete(t.toString()),n?.resolve(r)}else console.error(`Unable to find callback for requestId: ${t}`)}sendError(t,r){if(this.callback.has(t.toString())){const n=this.callback.get(t.toString());this.callback.delete(t.toString()),n?.reject(r)}else console.error(`Unable to find callback for requestId: ${t}`)}}class ix extends nf{constructor(){super($a.PROMISES)}request(t,r){return super.request(t,r)}}class sf extends Dn.exports.EventEmitter{setAdapter(t){return this.adapter=t,this}async request(t){try{if(!this.adapter)throw new Error("No adapter set, maybe you forgot to register the provider?");const r=await this.adapter.request(t,this.getNetwork());return this.emit("onResponseReady",t,r),r}catch(r){throw r}}sendResponse(t,r){if(!this.adapter)throw new Error("Adapter not found");if(this.adapter.getStrategy()!==$a.CALLBACK)throw new Error("Trying to send callback request on promisified adapter");this.adapter.sendResponse(t,r)}sendError(t,r){if(!this.adapter)throw new Error("Adapter not found");if(this.adapter.getStrategy()!==$a.CALLBACK)throw new Error("Trying to send callback request on promisified adapter");this.adapter.sendError(t,r)}}class sx{constructor(t){const r=t.strategy===$a.CALLBACK?new nx:new ix;t.handler&&r.setHandler(t.handler),this.setAdapter(r)}setHandler(t){this.adapter.setHandler(t)}setAdapter(t){return this.adapter=t,this}registerProvider(t){return t.setAdapter(this.adapter),this}registerProviders(t){return t.forEach(r=>this.registerProvider(r)),this}sendResponse(t,r){this.adapter.getStrategy()==="CALLBACK"&&this.adapter.sendResponse(t,r)}sendError(t,r){this.adapter.getStrategy()==="CALLBACK"&&this.adapter.sendError(t,r)}}function Yp(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function ox(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function of(e,...t){if(!ox(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function ax(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Yp(e.outputLen),Yp(e.blockLen)}function af(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function cx(e,t){of(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const Tl=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kl=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),gi=(e,t)=>e<<32-t|e>>>t;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function Xp(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Cl(e){return typeof e=="string"&&(e=Xp(e)),of(e),e}function Jp(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];of(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const s=e[n];r.set(s,i),i+=s.length}return r}class Qp{clone(){return this._cloneInto()}}function eg(e){const t=n=>e().update(Cl(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function tg(e=32){if(Tl&&typeof Tl.getRandomValues=="function")return Tl.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function fx(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+u,a,n)}const ux=(e,t,r)=>e&t^~e&r,lx=(e,t,r)=>e&t^e&r^t&r;class rg extends Qp{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=kl(this.buffer)}update(t){af(this);const{view:r,buffer:n,blockLen:i}=this;t=Cl(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=kl(t);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){af(this),cx(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let y=o;y<i;y++)r[y]=0;fx(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=kl(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<u;y++)a.setUint32(4*y,l[y],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%r&&t.buffer.set(n),t}}const cf=BigInt(2**32-1),Ll=BigInt(32);function ng(e,t=!1){return t?{h:Number(e&cf),l:Number(e>>Ll&cf)}:{h:Number(e>>Ll&cf)|0,l:Number(e&cf)|0}}function hx(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=ng(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}const dx=(e,t)=>BigInt(e>>>0)<<Ll|BigInt(t>>>0),px=(e,t,r)=>e>>>r,gx=(e,t,r)=>e<<32-r|t>>>r,yx=(e,t,r)=>e>>>r|t<<32-r,wx=(e,t,r)=>e<<32-r|t>>>r,mx=(e,t,r)=>e<<64-r|t>>>r-32,bx=(e,t,r)=>e>>>r-32|t<<64-r,vx=(e,t)=>t,_x=(e,t)=>e,Ex=(e,t,r)=>e<<r|t>>>32-r,xx=(e,t,r)=>t<<r|e>>>32-r,Sx=(e,t,r)=>t<<r-32|e>>>64-r,Ax=(e,t,r)=>e<<r-32|t>>>64-r;function Bx(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}const mt={fromBig:ng,split:hx,toBig:dx,shrSH:px,shrSL:gx,rotrSH:yx,rotrSL:wx,rotrBH:mx,rotrBL:bx,rotr32H:vx,rotr32L:_x,rotlSH:Ex,rotlSL:xx,rotlBH:Sx,rotlBL:Ax,add:Bx,add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,add5H:(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)},[Ix,Rx]=(()=>mt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),es=new Uint32Array(80),ts=new Uint32Array(80);class Tx extends rg{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:y,Fl:A,Gh:v,Gl:R,Hh:O,Hl:P}=this;return[t,r,n,i,s,o,a,c,u,l,y,A,v,R,O,P]}set(t,r,n,i,s,o,a,c,u,l,y,A,v,R,O,P){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=y|0,this.Fl=A|0,this.Gh=v|0,this.Gl=R|0,this.Hh=O|0,this.Hl=P|0}process(t,r){for(let N=0;N<16;N++,r+=4)es[N]=t.getUint32(r),ts[N]=t.getUint32(r+=4);for(let N=16;N<80;N++){const $=es[N-15]|0,q=ts[N-15]|0,G=mt.rotrSH($,q,1)^mt.rotrSH($,q,8)^mt.shrSH($,q,7),Z=mt.rotrSL($,q,1)^mt.rotrSL($,q,8)^mt.shrSL($,q,7),z=es[N-2]|0,ee=ts[N-2]|0,se=mt.rotrSH(z,ee,19)^mt.rotrBH(z,ee,61)^mt.shrSH(z,ee,6),Q=mt.rotrSL(z,ee,19)^mt.rotrBL(z,ee,61)^mt.shrSL(z,ee,6),I=mt.add4L(Z,Q,ts[N-7],ts[N-16]),g=mt.add4H(I,G,se,es[N-7],es[N-16]);es[N]=g|0,ts[N]=I|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:y,El:A,Fh:v,Fl:R,Gh:O,Gl:P,Hh:H,Hl:F}=this;for(let N=0;N<80;N++){const $=mt.rotrSH(y,A,14)^mt.rotrSH(y,A,18)^mt.rotrBH(y,A,41),q=mt.rotrSL(y,A,14)^mt.rotrSL(y,A,18)^mt.rotrBL(y,A,41),G=y&v^~y&O,Z=A&R^~A&P,z=mt.add5L(F,q,Z,Rx[N],ts[N]),ee=mt.add5H(z,H,$,G,Ix[N],es[N]),se=z|0,Q=mt.rotrSH(n,i,28)^mt.rotrBH(n,i,34)^mt.rotrBH(n,i,39),I=mt.rotrSL(n,i,28)^mt.rotrBL(n,i,34)^mt.rotrBL(n,i,39),g=n&s^n&a^s&a,f=i&o^i&c^o&c;H=O|0,F=P|0,O=v|0,P=R|0,v=y|0,R=A|0,{h:y,l:A}=mt.add(u|0,l|0,ee|0,se|0),u=a|0,l=c|0,a=s|0,c=o|0,s=n|0,o=i|0;const h=mt.add3L(se,I,f);n=mt.add3H(h,ee,Q,g),i=h|0}({h:n,l:i}=mt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=mt.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=mt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=mt.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:y,l:A}=mt.add(this.Eh|0,this.El|0,y|0,A|0),{h:v,l:R}=mt.add(this.Fh|0,this.Fl|0,v|0,R|0),{h:O,l:P}=mt.add(this.Gh|0,this.Gl|0,O|0,P|0),{h:H,l:F}=mt.add(this.Hh|0,this.Hl|0,H|0,F|0),this.set(n,i,s,o,a,c,u,l,y,A,v,R,O,P,H,F)}roundClean(){es.fill(0),ts.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const ig=eg(()=>new Tx);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sg=BigInt(0),ff=BigInt(1),kx=BigInt(2);function Ds(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Oa(e){if(!Ds(e))throw new Error("Uint8Array expected")}const Cx=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Hs(e){Oa(e);let t="";for(let r=0;r<e.length;r++)t+=Cx[e[r]];return t}function og(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function $l(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}const Ci={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function ag(e){if(e>=Ci._0&&e<=Ci._9)return e-Ci._0;if(e>=Ci._A&&e<=Ci._F)return e-(Ci._A-10);if(e>=Ci._a&&e<=Ci._f)return e-(Ci._a-10)}function Bo(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=ag(e.charCodeAt(s)),a=ag(e.charCodeAt(s+1));if(o===void 0||a===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function js(e){return $l(Hs(e))}function Io(e){return Oa(e),$l(Hs(Uint8Array.from(e).reverse()))}function Ro(e,t){return Bo(e.toString(16).padStart(t*2,"0"))}function Ma(e,t){return Ro(e,t).reverse()}function Lx(e){return Bo(og(e))}function Cr(e,t,r){let n;if(typeof t=="string")try{n=Bo(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else if(Ds(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}function zs(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];Oa(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const s=e[n];r.set(s,i),i+=s.length}return r}function $x(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}function Ox(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Mx(e){let t;for(t=0;e>sg;e>>=ff,t+=1);return t}function Nx(e,t){return e>>BigInt(t)&ff}function Px(e,t,r){return e|(r?ff:sg)<<BigInt(t)}const Ol=e=>(kx<<BigInt(e-1))-ff,Ml=e=>new Uint8Array(e),cg=e=>Uint8Array.from(e);function fg(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Ml(e),i=Ml(e),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...y)=>r(i,n,...y),c=(y=Ml())=>{i=a(cg([0]),y),n=a(),y.length!==0&&(i=a(cg([1]),y),n=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let y=0;const A=[];for(;y<t;){n=a();const v=n.slice();A.push(v),y+=n.length}return zs(...A)};return(y,A)=>{o(),c(y);let v;for(;!(v=A(u()));)c();return o(),v}}const Ux={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Ds(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function To(e,t,r={}){const n=(i,s,o)=>{const a=Ux[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const c=e[i];if(!(o&&c===void 0)&&!a(c,e))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(const[i,s]of Object.entries(t))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return e}var Fx=Object.freeze({__proto__:null,isBytes:Ds,abytes:Oa,bytesToHex:Hs,numberToHexUnpadded:og,hexToNumber:$l,hexToBytes:Bo,bytesToNumberBE:js,bytesToNumberLE:Io,numberToBytesBE:Ro,numberToBytesLE:Ma,numberToVarBytesBE:Lx,ensureBytes:Cr,concatBytes:zs,equalBytes:$x,utf8ToBytes:Ox,bitLen:Mx,bitGet:Nx,bitSet:Px,bitMask:Ol,createHmacDrbg:fg,validateObject:To});/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fr=BigInt(0),hr=BigInt(1),qs=BigInt(2),Dx=BigInt(3),Nl=BigInt(4),ug=BigInt(5),lg=BigInt(8);BigInt(9),BigInt(16);function ir(e,t){const r=e%t;return r>=Fr?r:t+r}function Hx(e,t,r){if(r<=Fr||t<Fr)throw new Error("Expected power/modulo > 0");if(r===hr)return Fr;let n=hr;for(;t>Fr;)t&hr&&(n=n*e%r),e=e*e%r,t>>=hr;return n}function wr(e,t,r){let n=e;for(;t-- >Fr;)n*=n,n%=r;return n}function Pl(e,t){if(e===Fr||t<=Fr)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=ir(e,t),n=t,i=Fr,s=hr;for(;r!==Fr;){const a=n/r,c=n%r,u=i-s*a;n=r,r=c,i=s,s=u}if(n!==hr)throw new Error("invert: does not exist");return ir(i,t)}function jx(e){const t=(e-hr)/qs;let r,n,i;for(r=e-hr,n=0;r%qs===Fr;r/=qs,n++);for(i=qs;i<e&&Hx(i,t,e)!==e-hr;i++);if(n===1){const o=(e+hr)/Nl;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const s=(r+hr)/qs;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=n,l=a.pow(a.mul(a.ONE,i),r),y=a.pow(c,s),A=a.pow(c,r);for(;!a.eql(A,a.ONE);){if(a.eql(A,a.ZERO))return a.ZERO;let v=1;for(let O=a.sqr(A);v<u&&!a.eql(O,a.ONE);v++)O=a.sqr(O);const R=a.pow(l,hr<<BigInt(u-v-1));l=a.sqr(R),y=a.mul(y,R),A=a.mul(A,l),u=v}return y}}function zx(e){if(e%Nl===Dx){const t=(e+hr)/Nl;return function(n,i){const s=n.pow(i,t);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(e%lg===ug){const t=(e-ug)/lg;return function(n,i){const s=n.mul(i,qs),o=n.pow(s,t),a=n.mul(i,o),c=n.mul(n.mul(a,qs),o),u=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),i))throw new Error("Cannot find square root");return u}}return jx(e)}const qx=(e,t)=>(ir(e,t)&hr)===hr,Vx=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Wx(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Vx.reduce((n,i)=>(n[i]="function",n),t);return To(e,r)}function Kx(e,t,r){if(r<Fr)throw new Error("Expected power > 0");if(r===Fr)return e.ONE;if(r===hr)return t;let n=e.ONE,i=t;for(;r>Fr;)r&hr&&(n=e.mul(n,i)),i=e.sqr(i),r>>=hr;return n}function Zx(e,t){const r=new Array(t.length),n=t.reduce((s,o,a)=>e.is0(o)?s:(r[a]=s,e.mul(s,o)),e.ONE),i=e.inv(n);return t.reduceRight((s,o,a)=>e.is0(o)?s:(r[a]=e.mul(s,r[a]),e.mul(s,o)),i),r}function hg(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function dg(e,t,r=!1,n={}){if(e<=Fr)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=hg(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=zx(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:Ol(i),ZERO:Fr,ONE:hr,create:c=>ir(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Fr<=c&&c<e},is0:c=>c===Fr,isOdd:c=>(c&hr)===hr,neg:c=>ir(-c,e),eql:(c,u)=>c===u,sqr:c=>ir(c*c,e),add:(c,u)=>ir(c+u,e),sub:(c,u)=>ir(c-u,e),mul:(c,u)=>ir(c*u,e),pow:(c,u)=>Kx(a,c,u),div:(c,u)=>ir(c*Pl(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Pl(c,e),sqrt:n.sqrt||(c=>o(a,c)),invertBatch:c=>Zx(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>r?Ma(c,s):Ro(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return r?Io(c):js(c)}});return Object.freeze(a)}function Gx(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r}function pg(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function gg(e){const t=pg(e);return t+Math.ceil(t/2)}function Yx(e,t,r=!1){const n=e.length,i=pg(t),s=gg(t);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const o=r?js(e):Io(e),a=ir(o,t-hr)+hr;return r?Ma(a,i):Ro(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xx=BigInt(0),Ul=BigInt(1);function yg(e,t){const r=(i,s)=>{const o=s.negate();return i?o:s},n=i=>{const s=Math.ceil(t/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,s){let o=e.ZERO,a=i;for(;s>Xx;)s&Ul&&(o=o.add(a)),a=a.double(),s>>=Ul;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=n(s),c=[];let u=i,l=u;for(let y=0;y<o;y++){l=u,c.push(l);for(let A=1;A<a;A++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(i,s,o){const{windows:a,windowSize:c}=n(i);let u=e.ZERO,l=e.BASE;const y=BigInt(2**i-1),A=2**i,v=BigInt(i);for(let R=0;R<a;R++){const O=R*c;let P=Number(o&y);o>>=v,P>c&&(P-=A,o+=Ul);const H=O,F=O+Math.abs(P)-1,N=R%2!==0,$=P<0;P===0?l=l.add(r(N,s[H])):u=u.add(r($,s[F]))}return{p:u,f:l}},wNAFCached(i,s,o,a){const c=i._WINDOW_SIZE||1;let u=s.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&s.set(i,a(u))),this.wNAF(c,u,o)}}}function Fl(e){return Wx(e.Fp),To(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...hg(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ri=BigInt(0),An=BigInt(1),uf=BigInt(2),Jx=BigInt(8),Qx={zip215:!0};function eS(e){const t=Fl(e);return To(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function Dl(e){const t=eS(e),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=t,u=uf<<BigInt(a*8)-An,l=r.create,y=t.uvRatio||((E,x)=>{try{return{isValid:!0,value:r.sqrt(E*r.inv(x))}}catch{return{isValid:!1,value:ri}}}),A=t.adjustScalarBytes||(E=>E),v=t.domain||((E,x,T)=>{if(x.length||T)throw new Error("Contexts/pre-hash are not supported");return E}),R=E=>typeof E=="bigint"&&ri<E,O=(E,x)=>R(E)&&R(x)&&E<x,P=E=>E===ri||O(E,u);function H(E,x){if(O(E,x))return E;throw new Error(`Expected valid scalar < ${x}, got ${typeof E} ${E}`)}function F(E){return E===ri?E:H(E,n)}const N=new Map;function $(E){if(!(E instanceof q))throw new Error("ExtendedPoint expected")}class q{constructor(x,T,B,d){if(this.ex=x,this.ey=T,this.ez=B,this.et=d,!P(x))throw new Error("x required");if(!P(T))throw new Error("y required");if(!P(B))throw new Error("z required");if(!P(d))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(x){if(x instanceof q)throw new Error("extended point not allowed");const{x:T,y:B}=x||{};if(!P(T)||!P(B))throw new Error("invalid affine point");return new q(T,B,An,l(T*B))}static normalizeZ(x){const T=r.invertBatch(x.map(B=>B.ez));return x.map((B,d)=>B.toAffine(T[d])).map(q.fromAffine)}_setWindowSize(x){this._WINDOW_SIZE=x,N.delete(this)}assertValidity(){const{a:x,d:T}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:B,ey:d,ez:k,et:W}=this,K=l(B*B),re=l(d*d),xe=l(k*k),be=l(xe*xe),ge=l(K*x),tt=l(xe*l(ge+re)),Ue=l(be+l(T*l(K*re)));if(tt!==Ue)throw new Error("bad point: equation left != right (1)");const Pe=l(B*d),pe=l(k*W);if(Pe!==pe)throw new Error("bad point: equation left != right (2)")}equals(x){$(x);const{ex:T,ey:B,ez:d}=this,{ex:k,ey:W,ez:K}=x,re=l(T*K),xe=l(k*d),be=l(B*K),ge=l(W*d);return re===xe&&be===ge}is0(){return this.equals(q.ZERO)}negate(){return new q(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:x}=t,{ex:T,ey:B,ez:d}=this,k=l(T*T),W=l(B*B),K=l(uf*l(d*d)),re=l(x*k),xe=T+B,be=l(l(xe*xe)-k-W),ge=re+W,tt=ge-K,Ue=re-W,Pe=l(be*tt),pe=l(ge*Ue),we=l(be*Ue),ke=l(tt*ge);return new q(Pe,pe,ke,we)}add(x){$(x);const{a:T,d:B}=t,{ex:d,ey:k,ez:W,et:K}=this,{ex:re,ey:xe,ez:be,et:ge}=x;if(T===BigInt(-1)){const Wt=l((k-d)*(xe+re)),xt=l((k+d)*(xe-re)),At=l(xt-Wt);if(At===ri)return this.double();const Xt=l(W*uf*ge),Tt=l(K*uf*be),C=Tt+Xt,w=xt+Wt,b=Tt-Xt,D=l(C*At),V=l(w*b),X=l(C*b),ae=l(At*w);return new q(D,V,ae,X)}const tt=l(d*re),Ue=l(k*xe),Pe=l(K*B*ge),pe=l(W*be),we=l((d+k)*(re+xe)-tt-Ue),ke=pe-Pe,vt=pe+Pe,He=l(Ue-T*tt),it=l(we*ke),Ht=l(vt*He),ut=l(we*He),pt=l(ke*vt);return new q(it,Ht,pt,ut)}subtract(x){return this.add(x.negate())}wNAF(x){return z.wNAFCached(this,N,x,q.normalizeZ)}multiply(x){const{p:T,f:B}=this.wNAF(H(x,n));return q.normalizeZ([T,B])[0]}multiplyUnsafe(x){let T=F(x);return T===ri?Z:this.equals(Z)||T===An?this:this.equals(G)?this.wNAF(T).p:z.unsafeLadder(this,T)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return z.unsafeLadder(this,n).is0()}toAffine(x){const{ex:T,ey:B,ez:d}=this,k=this.is0();x==null&&(x=k?Jx:r.inv(d));const W=l(T*x),K=l(B*x),re=l(d*x);if(k)return{x:ri,y:An};if(re!==An)throw new Error("invZ was invalid");return{x:W,y:K}}clearCofactor(){const{h:x}=t;return x===An?this:this.multiplyUnsafe(x)}static fromHex(x,T=!1){const{d:B,a:d}=t,k=r.BYTES;x=Cr("pointHex",x,k);const W=x.slice(),K=x[k-1];W[k-1]=K&-129;const re=Io(W);re===ri||(T?H(re,u):H(re,r.ORDER));const xe=l(re*re),be=l(xe-An),ge=l(B*xe-d);let{isValid:tt,value:Ue}=y(be,ge);if(!tt)throw new Error("Point.fromHex: invalid y coordinate");const Pe=(Ue&An)===An,pe=(K&128)!==0;if(!T&&Ue===ri&&pe)throw new Error("Point.fromHex: x=0 and x_0=1");return pe!==Pe&&(Ue=l(-Ue)),q.fromAffine({x:Ue,y:re})}static fromPrivateKey(x){return Q(x).point}toRawBytes(){const{x,y:T}=this.toAffine(),B=Ma(T,r.BYTES);return B[B.length-1]|=x&An?128:0,B}toHex(){return Hs(this.toRawBytes())}}q.BASE=new q(t.Gx,t.Gy,An,l(t.Gx*t.Gy)),q.ZERO=new q(ri,An,An,ri);const{BASE:G,ZERO:Z}=q,z=yg(q,a*8);function ee(E){return ir(E,n)}function se(E){return ee(Io(E))}function Q(E){const x=a;E=Cr("private key",E,x);const T=Cr("hashed private key",s(E),2*x),B=A(T.slice(0,x)),d=T.slice(x,2*x),k=se(B),W=G.multiply(k),K=W.toRawBytes();return{head:B,prefix:d,scalar:k,point:W,pointBytes:K}}function I(E){return Q(E).pointBytes}function g(E=new Uint8Array,...x){const T=zs(...x);return se(s(v(T,Cr("context",E),!!i)))}function f(E,x,T={}){E=Cr("message",E),i&&(E=i(E));const{prefix:B,scalar:d,pointBytes:k}=Q(x),W=g(T.context,B,E),K=G.multiply(W).toRawBytes(),re=g(T.context,K,k,E),xe=ee(W+re*d);F(xe);const be=zs(K,Ma(xe,r.BYTES));return Cr("result",be,a*2)}const h=Qx;function m(E,x,T,B=h){const{context:d,zip215:k}=B,W=r.BYTES;E=Cr("signature",E,2*W),x=Cr("message",x),i&&(x=i(x));const K=Io(E.slice(W,2*W));let re,xe,be;try{re=q.fromHex(T,k),xe=q.fromHex(E.slice(0,W),k),be=G.multiplyUnsafe(K)}catch{return!1}if(!k&&re.isSmallOrder())return!1;const ge=g(d,xe.toRawBytes(),re.toRawBytes(),x);return xe.add(re.multiplyUnsafe(ge)).subtract(be).clearCofactor().equals(q.ZERO)}return G._setWindowSize(8),{CURVE:t,getPublicKey:I,sign:f,verify:m,ExtendedPoint:q,utils:{getExtendedPublicKey:Q,randomPrivateKey:()=>o(r.BYTES),precompute(E=8,x=q.BASE){return x._setWindowSize(E),x.multiply(BigInt(3)),x}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0),BigInt(1);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Hl=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),wg=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const tS=BigInt(1),jl=BigInt(2),rS=BigInt(5),mg=BigInt(10),nS=BigInt(20),iS=BigInt(40),bg=BigInt(80);function sS(e){const t=Hl,n=e*e%t*e%t,i=wr(n,jl,t)*n%t,s=wr(i,tS,t)*e%t,o=wr(s,rS,t)*s%t,a=wr(o,mg,t)*o%t,c=wr(a,nS,t)*a%t,u=wr(c,iS,t)*c%t,l=wr(u,bg,t)*u%t,y=wr(l,bg,t)*u%t,A=wr(y,mg,t)*o%t;return{pow_p_5_8:wr(A,jl,t)*e%t,b2:n}}function oS(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function aS(e,t){const r=Hl,n=ir(t*t*t,r),i=ir(n*n*t,r),s=sS(e*i).pow_p_5_8;let o=ir(e*n*s,r);const a=ir(t*o*o,r),c=o,u=ir(o*wg,r),l=a===e,y=a===ir(-e,r),A=a===ir(-e*wg,r);return l&&(o=c),(y||A)&&(o=u),qx(o,r)&&(o=ir(-o,r)),{isValid:l||y,value:o}}const Li=dg(Hl,void 0,!0),zl={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Li,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:ig,randomBytes:tg,adjustScalarBytes:oS,uvRatio:aS},lf=Dl(zl);function vg(e,t,r){if(t.length>255)throw new Error("Context is too big");return Jp(Xp("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,t.length]),t,e)}({...zl},{...zl});const cS=(Li.ORDER+BigInt(3))/BigInt(8);Li.pow(jl,cS),Li.sqrt(Li.neg(Li.ONE)),(Li.ORDER-BigInt(5))/BigInt(8),BigInt(486662),Gx(Li,Li.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var ql={exports:{}},fS={},uS=Object.freeze({__proto__:null,default:fS}),_g=Un(uS);(function(e){(function(t,r){function n(g,f){if(!g)throw new Error(f||"Assertion failed")}function i(g,f){g.super_=f;var h=function(){};h.prototype=f.prototype,g.prototype=new h,g.prototype.constructor=g}function s(g,f,h){if(s.isBN(g))return g;this.negative=0,this.words=null,this.length=0,this.red=null,g!==null&&((f==="le"||f==="be")&&(h=f,f=10),this._init(g||0,f||10,h||"be"))}typeof t=="object"?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=_g.Buffer}catch{}s.isBN=function(f){return f instanceof s?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===s.wordSize&&Array.isArray(f.words)},s.max=function(f,h){return f.cmp(h)>0?f:h},s.min=function(f,h){return f.cmp(h)<0?f:h},s.prototype._init=function(f,h,m){if(typeof f=="number")return this._initNumber(f,h,m);if(typeof f=="object")return this._initArray(f,h,m);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),f=f.toString().replace(/\s+/g,"");var _=0;f[0]==="-"&&(_++,this.negative=1),_<f.length&&(h===16?this._parseHex(f,_,m):(this._parseBase(f,h,_),m==="le"&&this._initArray(this.toArray(),h,m)))},s.prototype._initNumber=function(f,h,m){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(n(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),h,m)},s.prototype._initArray=function(f,h,m){if(n(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var E,x,T=0;if(m==="be")for(_=f.length-1,E=0;_>=0;_-=3)x=f[_]|f[_-1]<<8|f[_-2]<<16,this.words[E]|=x<<T&67108863,this.words[E+1]=x>>>26-T&67108863,T+=24,T>=26&&(T-=26,E++);else if(m==="le")for(_=0,E=0;_<f.length;_+=3)x=f[_]|f[_+1]<<8|f[_+2]<<16,this.words[E]|=x<<T&67108863,this.words[E+1]=x>>>26-T&67108863,T+=24,T>=26&&(T-=26,E++);return this._strip()};function a(g,f){var h=g.charCodeAt(f);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;n(!1,"Invalid character in "+g)}function c(g,f,h){var m=a(g,h);return h-1>=f&&(m|=a(g,h-1)<<4),m}s.prototype._parseHex=function(f,h,m){this.length=Math.ceil((f.length-h)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var E=0,x=0,T;if(m==="be")for(_=f.length-1;_>=h;_-=2)T=c(f,h,_)<<E,this.words[x]|=T&67108863,E>=18?(E-=18,x+=1,this.words[x]|=T>>>26):E+=8;else{var B=f.length-h;for(_=B%2===0?h+1:h;_<f.length;_+=2)T=c(f,h,_)<<E,this.words[x]|=T&67108863,E>=18?(E-=18,x+=1,this.words[x]|=T>>>26):E+=8}this._strip()};function u(g,f,h,m){for(var _=0,E=0,x=Math.min(g.length,h),T=f;T<x;T++){var B=g.charCodeAt(T)-48;_*=m,B>=49?E=B-49+10:B>=17?E=B-17+10:E=B,n(B>=0&&E<m,"Invalid character"),_+=E}return _}s.prototype._parseBase=function(f,h,m){this.words=[0],this.length=1;for(var _=0,E=1;E<=67108863;E*=h)_++;_--,E=E/h|0;for(var x=f.length-m,T=x%_,B=Math.min(x,x-T)+m,d=0,k=m;k<B;k+=_)d=u(f,k,k+_,h),this.imuln(E),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(T!==0){var W=1;for(d=u(f,k,f.length,h),k=0;k<T;k++)W*=h;this.imuln(W),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},s.prototype.copy=function(f){f.words=new Array(this.length);for(var h=0;h<this.length;h++)f.words[h]=this.words[h];f.length=this.length,f.negative=this.negative,f.red=this.red};function l(g,f){g.words=f.words,g.length=f.length,g.negative=f.negative,g.red=f.red}if(s.prototype._move=function(f){l(f,this)},s.prototype.clone=function(){var f=new s(null);return this.copy(f),f},s.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{s.prototype.inspect=y}else s.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var A=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],R=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(f,h){f=f||10,h=h|0||1;var m;if(f===16||f==="hex"){m="";for(var _=0,E=0,x=0;x<this.length;x++){var T=this.words[x],B=((T<<_|E)&16777215).toString(16);E=T>>>24-_&16777215,_+=2,_>=26&&(_-=26,x--),E!==0||x!==this.length-1?m=A[6-B.length]+B+m:m=B+m}for(E!==0&&(m=E.toString(16)+m);m.length%h!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(f===(f|0)&&f>=2&&f<=36){var d=v[f],k=R[f];m="";var W=this.clone();for(W.negative=0;!W.isZero();){var K=W.modrn(k).toString(f);W=W.idivn(k),W.isZero()?m=K+m:m=A[d-K.length]+K+m}for(this.isZero()&&(m="0"+m);m.length%h!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(f,h){return this.toArrayLike(o,f,h)}),s.prototype.toArray=function(f,h){return this.toArrayLike(Array,f,h)};var O=function(f,h){return f.allocUnsafe?f.allocUnsafe(h):new f(h)};s.prototype.toArrayLike=function(f,h,m){this._strip();var _=this.byteLength(),E=m||Math.max(1,_);n(_<=E,"byte array longer than desired length"),n(E>0,"Requested array length <= 0");var x=O(f,E),T=h==="le"?"LE":"BE";return this["_toArrayLike"+T](x,_),x},s.prototype._toArrayLikeLE=function(f,h){for(var m=0,_=0,E=0,x=0;E<this.length;E++){var T=this.words[E]<<x|_;f[m++]=T&255,m<f.length&&(f[m++]=T>>8&255),m<f.length&&(f[m++]=T>>16&255),x===6?(m<f.length&&(f[m++]=T>>24&255),_=0,x=0):(_=T>>>24,x+=2)}if(m<f.length)for(f[m++]=_;m<f.length;)f[m++]=0},s.prototype._toArrayLikeBE=function(f,h){for(var m=f.length-1,_=0,E=0,x=0;E<this.length;E++){var T=this.words[E]<<x|_;f[m--]=T&255,m>=0&&(f[m--]=T>>8&255),m>=0&&(f[m--]=T>>16&255),x===6?(m>=0&&(f[m--]=T>>24&255),_=0,x=0):(_=T>>>24,x+=2)}if(m>=0)for(f[m--]=_;m>=0;)f[m--]=0},Math.clz32?s.prototype._countBits=function(f){return 32-Math.clz32(f)}:s.prototype._countBits=function(f){var h=f,m=0;return h>=4096&&(m+=13,h>>>=13),h>=64&&(m+=7,h>>>=7),h>=8&&(m+=4,h>>>=4),h>=2&&(m+=2,h>>>=2),m+h},s.prototype._zeroBits=function(f){if(f===0)return 26;var h=f,m=0;return h&8191||(m+=13,h>>>=13),h&127||(m+=7,h>>>=7),h&15||(m+=4,h>>>=4),h&3||(m+=2,h>>>=2),h&1||m++,m},s.prototype.bitLength=function(){var f=this.words[this.length-1],h=this._countBits(f);return(this.length-1)*26+h};function P(g){for(var f=new Array(g.bitLength()),h=0;h<f.length;h++){var m=h/26|0,_=h%26;f[h]=g.words[m]>>>_&1}return f}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,h=0;h<this.length;h++){var m=this._zeroBits(this.words[h]);if(f+=m,m!==26)break}return f},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},s.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var h=0;h<f.length;h++)this.words[h]=this.words[h]|f.words[h];return this._strip()},s.prototype.ior=function(f){return n((this.negative|f.negative)===0),this.iuor(f)},s.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},s.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},s.prototype.iuand=function(f){var h;this.length>f.length?h=f:h=this;for(var m=0;m<h.length;m++)this.words[m]=this.words[m]&f.words[m];return this.length=h.length,this._strip()},s.prototype.iand=function(f){return n((this.negative|f.negative)===0),this.iuand(f)},s.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},s.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},s.prototype.iuxor=function(f){var h,m;this.length>f.length?(h=this,m=f):(h=f,m=this);for(var _=0;_<m.length;_++)this.words[_]=h.words[_]^m.words[_];if(this!==h)for(;_<h.length;_++)this.words[_]=h.words[_];return this.length=h.length,this._strip()},s.prototype.ixor=function(f){return n((this.negative|f.negative)===0),this.iuxor(f)},s.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},s.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},s.prototype.inotn=function(f){n(typeof f=="number"&&f>=0);var h=Math.ceil(f/26)|0,m=f%26;this._expand(h),m>0&&h--;for(var _=0;_<h;_++)this.words[_]=~this.words[_]&67108863;return m>0&&(this.words[_]=~this.words[_]&67108863>>26-m),this._strip()},s.prototype.notn=function(f){return this.clone().inotn(f)},s.prototype.setn=function(f,h){n(typeof f=="number"&&f>=0);var m=f/26|0,_=f%26;return this._expand(m+1),h?this.words[m]=this.words[m]|1<<_:this.words[m]=this.words[m]&~(1<<_),this._strip()},s.prototype.iadd=function(f){var h;if(this.negative!==0&&f.negative===0)return this.negative=0,h=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,h=this.isub(f),f.negative=1,h._normSign();var m,_;this.length>f.length?(m=this,_=f):(m=f,_=this);for(var E=0,x=0;x<_.length;x++)h=(m.words[x]|0)+(_.words[x]|0)+E,this.words[x]=h&67108863,E=h>>>26;for(;E!==0&&x<m.length;x++)h=(m.words[x]|0)+E,this.words[x]=h&67108863,E=h>>>26;if(this.length=m.length,E!==0)this.words[this.length]=E,this.length++;else if(m!==this)for(;x<m.length;x++)this.words[x]=m.words[x];return this},s.prototype.add=function(f){var h;return f.negative!==0&&this.negative===0?(f.negative=0,h=this.sub(f),f.negative^=1,h):f.negative===0&&this.negative!==0?(this.negative=0,h=f.sub(this),this.negative=1,h):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},s.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var h=this.iadd(f);return f.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var m=this.cmp(f);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _,E;m>0?(_=this,E=f):(_=f,E=this);for(var x=0,T=0;T<E.length;T++)h=(_.words[T]|0)-(E.words[T]|0)+x,x=h>>26,this.words[T]=h&67108863;for(;x!==0&&T<_.length;T++)h=(_.words[T]|0)+x,x=h>>26,this.words[T]=h&67108863;if(x===0&&T<_.length&&_!==this)for(;T<_.length;T++)this.words[T]=_.words[T];return this.length=Math.max(this.length,T),_!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(f){return this.clone().isub(f)};function H(g,f,h){h.negative=f.negative^g.negative;var m=g.length+f.length|0;h.length=m,m=m-1|0;var _=g.words[0]|0,E=f.words[0]|0,x=_*E,T=x&67108863,B=x/67108864|0;h.words[0]=T;for(var d=1;d<m;d++){for(var k=B>>>26,W=B&67108863,K=Math.min(d,f.length-1),re=Math.max(0,d-g.length+1);re<=K;re++){var xe=d-re|0;_=g.words[xe]|0,E=f.words[re]|0,x=_*E+W,k+=x/67108864|0,W=x&67108863}h.words[d]=W|0,B=k|0}return B!==0?h.words[d]=B|0:h.length--,h._strip()}var F=function(f,h,m){var _=f.words,E=h.words,x=m.words,T=0,B,d,k,W=_[0]|0,K=W&8191,re=W>>>13,xe=_[1]|0,be=xe&8191,ge=xe>>>13,tt=_[2]|0,Ue=tt&8191,Pe=tt>>>13,pe=_[3]|0,we=pe&8191,ke=pe>>>13,vt=_[4]|0,He=vt&8191,it=vt>>>13,Ht=_[5]|0,ut=Ht&8191,pt=Ht>>>13,Wt=_[6]|0,xt=Wt&8191,At=Wt>>>13,Xt=_[7]|0,Tt=Xt&8191,C=Xt>>>13,w=_[8]|0,b=w&8191,D=w>>>13,V=_[9]|0,X=V&8191,ae=V>>>13,Ze=E[0]|0,Ge=Ze&8191,We=Ze>>>13,jt=E[1]|0,ze=jt&8191,rr=jt>>>13,La=E[2]|0,yr=La&8191,vr=La>>>13,Bl=E[3]|0,zt=Bl&8191,Yt=Bl>>>13,Qi=E[4]|0,ur=Qi&8191,lr=Qi>>>13,Jc=E[5]|0,_r=Jc&8191,kt=Jc>>>13,Qc=E[6]|0,S=Qc&8191,L=Qc>>>13,M=E[7]|0,p=M&8191,U=M>>>13,J=E[8]|0,Y=J&8191,ue=J>>>13,_e=E[9]|0,Ae=_e&8191,Ee=_e>>>13;m.negative=f.negative^h.negative,m.length=19,B=Math.imul(K,Ge),d=Math.imul(K,We),d=d+Math.imul(re,Ge)|0,k=Math.imul(re,We);var Bt=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,B=Math.imul(be,Ge),d=Math.imul(be,We),d=d+Math.imul(ge,Ge)|0,k=Math.imul(ge,We),B=B+Math.imul(K,ze)|0,d=d+Math.imul(K,rr)|0,d=d+Math.imul(re,ze)|0,k=k+Math.imul(re,rr)|0;var Le=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(Le>>>26)|0,Le&=67108863,B=Math.imul(Ue,Ge),d=Math.imul(Ue,We),d=d+Math.imul(Pe,Ge)|0,k=Math.imul(Pe,We),B=B+Math.imul(be,ze)|0,d=d+Math.imul(be,rr)|0,d=d+Math.imul(ge,ze)|0,k=k+Math.imul(ge,rr)|0,B=B+Math.imul(K,yr)|0,d=d+Math.imul(K,vr)|0,d=d+Math.imul(re,yr)|0,k=k+Math.imul(re,vr)|0;var Ke=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,B=Math.imul(we,Ge),d=Math.imul(we,We),d=d+Math.imul(ke,Ge)|0,k=Math.imul(ke,We),B=B+Math.imul(Ue,ze)|0,d=d+Math.imul(Ue,rr)|0,d=d+Math.imul(Pe,ze)|0,k=k+Math.imul(Pe,rr)|0,B=B+Math.imul(be,yr)|0,d=d+Math.imul(be,vr)|0,d=d+Math.imul(ge,yr)|0,k=k+Math.imul(ge,vr)|0,B=B+Math.imul(K,zt)|0,d=d+Math.imul(K,Yt)|0,d=d+Math.imul(re,zt)|0,k=k+Math.imul(re,Yt)|0;var Ye=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,B=Math.imul(He,Ge),d=Math.imul(He,We),d=d+Math.imul(it,Ge)|0,k=Math.imul(it,We),B=B+Math.imul(we,ze)|0,d=d+Math.imul(we,rr)|0,d=d+Math.imul(ke,ze)|0,k=k+Math.imul(ke,rr)|0,B=B+Math.imul(Ue,yr)|0,d=d+Math.imul(Ue,vr)|0,d=d+Math.imul(Pe,yr)|0,k=k+Math.imul(Pe,vr)|0,B=B+Math.imul(be,zt)|0,d=d+Math.imul(be,Yt)|0,d=d+Math.imul(ge,zt)|0,k=k+Math.imul(ge,Yt)|0,B=B+Math.imul(K,ur)|0,d=d+Math.imul(K,lr)|0,d=d+Math.imul(re,ur)|0,k=k+Math.imul(re,lr)|0;var lt=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(lt>>>26)|0,lt&=67108863,B=Math.imul(ut,Ge),d=Math.imul(ut,We),d=d+Math.imul(pt,Ge)|0,k=Math.imul(pt,We),B=B+Math.imul(He,ze)|0,d=d+Math.imul(He,rr)|0,d=d+Math.imul(it,ze)|0,k=k+Math.imul(it,rr)|0,B=B+Math.imul(we,yr)|0,d=d+Math.imul(we,vr)|0,d=d+Math.imul(ke,yr)|0,k=k+Math.imul(ke,vr)|0,B=B+Math.imul(Ue,zt)|0,d=d+Math.imul(Ue,Yt)|0,d=d+Math.imul(Pe,zt)|0,k=k+Math.imul(Pe,Yt)|0,B=B+Math.imul(be,ur)|0,d=d+Math.imul(be,lr)|0,d=d+Math.imul(ge,ur)|0,k=k+Math.imul(ge,lr)|0,B=B+Math.imul(K,_r)|0,d=d+Math.imul(K,kt)|0,d=d+Math.imul(re,_r)|0,k=k+Math.imul(re,kt)|0;var ct=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(ct>>>26)|0,ct&=67108863,B=Math.imul(xt,Ge),d=Math.imul(xt,We),d=d+Math.imul(At,Ge)|0,k=Math.imul(At,We),B=B+Math.imul(ut,ze)|0,d=d+Math.imul(ut,rr)|0,d=d+Math.imul(pt,ze)|0,k=k+Math.imul(pt,rr)|0,B=B+Math.imul(He,yr)|0,d=d+Math.imul(He,vr)|0,d=d+Math.imul(it,yr)|0,k=k+Math.imul(it,vr)|0,B=B+Math.imul(we,zt)|0,d=d+Math.imul(we,Yt)|0,d=d+Math.imul(ke,zt)|0,k=k+Math.imul(ke,Yt)|0,B=B+Math.imul(Ue,ur)|0,d=d+Math.imul(Ue,lr)|0,d=d+Math.imul(Pe,ur)|0,k=k+Math.imul(Pe,lr)|0,B=B+Math.imul(be,_r)|0,d=d+Math.imul(be,kt)|0,d=d+Math.imul(ge,_r)|0,k=k+Math.imul(ge,kt)|0,B=B+Math.imul(K,S)|0,d=d+Math.imul(K,L)|0,d=d+Math.imul(re,S)|0,k=k+Math.imul(re,L)|0;var Xe=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,B=Math.imul(Tt,Ge),d=Math.imul(Tt,We),d=d+Math.imul(C,Ge)|0,k=Math.imul(C,We),B=B+Math.imul(xt,ze)|0,d=d+Math.imul(xt,rr)|0,d=d+Math.imul(At,ze)|0,k=k+Math.imul(At,rr)|0,B=B+Math.imul(ut,yr)|0,d=d+Math.imul(ut,vr)|0,d=d+Math.imul(pt,yr)|0,k=k+Math.imul(pt,vr)|0,B=B+Math.imul(He,zt)|0,d=d+Math.imul(He,Yt)|0,d=d+Math.imul(it,zt)|0,k=k+Math.imul(it,Yt)|0,B=B+Math.imul(we,ur)|0,d=d+Math.imul(we,lr)|0,d=d+Math.imul(ke,ur)|0,k=k+Math.imul(ke,lr)|0,B=B+Math.imul(Ue,_r)|0,d=d+Math.imul(Ue,kt)|0,d=d+Math.imul(Pe,_r)|0,k=k+Math.imul(Pe,kt)|0,B=B+Math.imul(be,S)|0,d=d+Math.imul(be,L)|0,d=d+Math.imul(ge,S)|0,k=k+Math.imul(ge,L)|0,B=B+Math.imul(K,p)|0,d=d+Math.imul(K,U)|0,d=d+Math.imul(re,p)|0,k=k+Math.imul(re,U)|0;var rt=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(rt>>>26)|0,rt&=67108863,B=Math.imul(b,Ge),d=Math.imul(b,We),d=d+Math.imul(D,Ge)|0,k=Math.imul(D,We),B=B+Math.imul(Tt,ze)|0,d=d+Math.imul(Tt,rr)|0,d=d+Math.imul(C,ze)|0,k=k+Math.imul(C,rr)|0,B=B+Math.imul(xt,yr)|0,d=d+Math.imul(xt,vr)|0,d=d+Math.imul(At,yr)|0,k=k+Math.imul(At,vr)|0,B=B+Math.imul(ut,zt)|0,d=d+Math.imul(ut,Yt)|0,d=d+Math.imul(pt,zt)|0,k=k+Math.imul(pt,Yt)|0,B=B+Math.imul(He,ur)|0,d=d+Math.imul(He,lr)|0,d=d+Math.imul(it,ur)|0,k=k+Math.imul(it,lr)|0,B=B+Math.imul(we,_r)|0,d=d+Math.imul(we,kt)|0,d=d+Math.imul(ke,_r)|0,k=k+Math.imul(ke,kt)|0,B=B+Math.imul(Ue,S)|0,d=d+Math.imul(Ue,L)|0,d=d+Math.imul(Pe,S)|0,k=k+Math.imul(Pe,L)|0,B=B+Math.imul(be,p)|0,d=d+Math.imul(be,U)|0,d=d+Math.imul(ge,p)|0,k=k+Math.imul(ge,U)|0,B=B+Math.imul(K,Y)|0,d=d+Math.imul(K,ue)|0,d=d+Math.imul(re,Y)|0,k=k+Math.imul(re,ue)|0;var Je=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(Je>>>26)|0,Je&=67108863,B=Math.imul(X,Ge),d=Math.imul(X,We),d=d+Math.imul(ae,Ge)|0,k=Math.imul(ae,We),B=B+Math.imul(b,ze)|0,d=d+Math.imul(b,rr)|0,d=d+Math.imul(D,ze)|0,k=k+Math.imul(D,rr)|0,B=B+Math.imul(Tt,yr)|0,d=d+Math.imul(Tt,vr)|0,d=d+Math.imul(C,yr)|0,k=k+Math.imul(C,vr)|0,B=B+Math.imul(xt,zt)|0,d=d+Math.imul(xt,Yt)|0,d=d+Math.imul(At,zt)|0,k=k+Math.imul(At,Yt)|0,B=B+Math.imul(ut,ur)|0,d=d+Math.imul(ut,lr)|0,d=d+Math.imul(pt,ur)|0,k=k+Math.imul(pt,lr)|0,B=B+Math.imul(He,_r)|0,d=d+Math.imul(He,kt)|0,d=d+Math.imul(it,_r)|0,k=k+Math.imul(it,kt)|0,B=B+Math.imul(we,S)|0,d=d+Math.imul(we,L)|0,d=d+Math.imul(ke,S)|0,k=k+Math.imul(ke,L)|0,B=B+Math.imul(Ue,p)|0,d=d+Math.imul(Ue,U)|0,d=d+Math.imul(Pe,p)|0,k=k+Math.imul(Pe,U)|0,B=B+Math.imul(be,Y)|0,d=d+Math.imul(be,ue)|0,d=d+Math.imul(ge,Y)|0,k=k+Math.imul(ge,ue)|0,B=B+Math.imul(K,Ae)|0,d=d+Math.imul(K,Ee)|0,d=d+Math.imul(re,Ae)|0,k=k+Math.imul(re,Ee)|0;var $e=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+($e>>>26)|0,$e&=67108863,B=Math.imul(X,ze),d=Math.imul(X,rr),d=d+Math.imul(ae,ze)|0,k=Math.imul(ae,rr),B=B+Math.imul(b,yr)|0,d=d+Math.imul(b,vr)|0,d=d+Math.imul(D,yr)|0,k=k+Math.imul(D,vr)|0,B=B+Math.imul(Tt,zt)|0,d=d+Math.imul(Tt,Yt)|0,d=d+Math.imul(C,zt)|0,k=k+Math.imul(C,Yt)|0,B=B+Math.imul(xt,ur)|0,d=d+Math.imul(xt,lr)|0,d=d+Math.imul(At,ur)|0,k=k+Math.imul(At,lr)|0,B=B+Math.imul(ut,_r)|0,d=d+Math.imul(ut,kt)|0,d=d+Math.imul(pt,_r)|0,k=k+Math.imul(pt,kt)|0,B=B+Math.imul(He,S)|0,d=d+Math.imul(He,L)|0,d=d+Math.imul(it,S)|0,k=k+Math.imul(it,L)|0,B=B+Math.imul(we,p)|0,d=d+Math.imul(we,U)|0,d=d+Math.imul(ke,p)|0,k=k+Math.imul(ke,U)|0,B=B+Math.imul(Ue,Y)|0,d=d+Math.imul(Ue,ue)|0,d=d+Math.imul(Pe,Y)|0,k=k+Math.imul(Pe,ue)|0,B=B+Math.imul(be,Ae)|0,d=d+Math.imul(be,Ee)|0,d=d+Math.imul(ge,Ae)|0,k=k+Math.imul(ge,Ee)|0;var De=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(De>>>26)|0,De&=67108863,B=Math.imul(X,yr),d=Math.imul(X,vr),d=d+Math.imul(ae,yr)|0,k=Math.imul(ae,vr),B=B+Math.imul(b,zt)|0,d=d+Math.imul(b,Yt)|0,d=d+Math.imul(D,zt)|0,k=k+Math.imul(D,Yt)|0,B=B+Math.imul(Tt,ur)|0,d=d+Math.imul(Tt,lr)|0,d=d+Math.imul(C,ur)|0,k=k+Math.imul(C,lr)|0,B=B+Math.imul(xt,_r)|0,d=d+Math.imul(xt,kt)|0,d=d+Math.imul(At,_r)|0,k=k+Math.imul(At,kt)|0,B=B+Math.imul(ut,S)|0,d=d+Math.imul(ut,L)|0,d=d+Math.imul(pt,S)|0,k=k+Math.imul(pt,L)|0,B=B+Math.imul(He,p)|0,d=d+Math.imul(He,U)|0,d=d+Math.imul(it,p)|0,k=k+Math.imul(it,U)|0,B=B+Math.imul(we,Y)|0,d=d+Math.imul(we,ue)|0,d=d+Math.imul(ke,Y)|0,k=k+Math.imul(ke,ue)|0,B=B+Math.imul(Ue,Ae)|0,d=d+Math.imul(Ue,Ee)|0,d=d+Math.imul(Pe,Ae)|0,k=k+Math.imul(Pe,Ee)|0;var Re=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(Re>>>26)|0,Re&=67108863,B=Math.imul(X,zt),d=Math.imul(X,Yt),d=d+Math.imul(ae,zt)|0,k=Math.imul(ae,Yt),B=B+Math.imul(b,ur)|0,d=d+Math.imul(b,lr)|0,d=d+Math.imul(D,ur)|0,k=k+Math.imul(D,lr)|0,B=B+Math.imul(Tt,_r)|0,d=d+Math.imul(Tt,kt)|0,d=d+Math.imul(C,_r)|0,k=k+Math.imul(C,kt)|0,B=B+Math.imul(xt,S)|0,d=d+Math.imul(xt,L)|0,d=d+Math.imul(At,S)|0,k=k+Math.imul(At,L)|0,B=B+Math.imul(ut,p)|0,d=d+Math.imul(ut,U)|0,d=d+Math.imul(pt,p)|0,k=k+Math.imul(pt,U)|0,B=B+Math.imul(He,Y)|0,d=d+Math.imul(He,ue)|0,d=d+Math.imul(it,Y)|0,k=k+Math.imul(it,ue)|0,B=B+Math.imul(we,Ae)|0,d=d+Math.imul(we,Ee)|0,d=d+Math.imul(ke,Ae)|0,k=k+Math.imul(ke,Ee)|0;var Me=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(Me>>>26)|0,Me&=67108863,B=Math.imul(X,ur),d=Math.imul(X,lr),d=d+Math.imul(ae,ur)|0,k=Math.imul(ae,lr),B=B+Math.imul(b,_r)|0,d=d+Math.imul(b,kt)|0,d=d+Math.imul(D,_r)|0,k=k+Math.imul(D,kt)|0,B=B+Math.imul(Tt,S)|0,d=d+Math.imul(Tt,L)|0,d=d+Math.imul(C,S)|0,k=k+Math.imul(C,L)|0,B=B+Math.imul(xt,p)|0,d=d+Math.imul(xt,U)|0,d=d+Math.imul(At,p)|0,k=k+Math.imul(At,U)|0,B=B+Math.imul(ut,Y)|0,d=d+Math.imul(ut,ue)|0,d=d+Math.imul(pt,Y)|0,k=k+Math.imul(pt,ue)|0,B=B+Math.imul(He,Ae)|0,d=d+Math.imul(He,Ee)|0,d=d+Math.imul(it,Ae)|0,k=k+Math.imul(it,Ee)|0;var Ne=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,B=Math.imul(X,_r),d=Math.imul(X,kt),d=d+Math.imul(ae,_r)|0,k=Math.imul(ae,kt),B=B+Math.imul(b,S)|0,d=d+Math.imul(b,L)|0,d=d+Math.imul(D,S)|0,k=k+Math.imul(D,L)|0,B=B+Math.imul(Tt,p)|0,d=d+Math.imul(Tt,U)|0,d=d+Math.imul(C,p)|0,k=k+Math.imul(C,U)|0,B=B+Math.imul(xt,Y)|0,d=d+Math.imul(xt,ue)|0,d=d+Math.imul(At,Y)|0,k=k+Math.imul(At,ue)|0,B=B+Math.imul(ut,Ae)|0,d=d+Math.imul(ut,Ee)|0,d=d+Math.imul(pt,Ae)|0,k=k+Math.imul(pt,Ee)|0;var Ie=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,B=Math.imul(X,S),d=Math.imul(X,L),d=d+Math.imul(ae,S)|0,k=Math.imul(ae,L),B=B+Math.imul(b,p)|0,d=d+Math.imul(b,U)|0,d=d+Math.imul(D,p)|0,k=k+Math.imul(D,U)|0,B=B+Math.imul(Tt,Y)|0,d=d+Math.imul(Tt,ue)|0,d=d+Math.imul(C,Y)|0,k=k+Math.imul(C,ue)|0,B=B+Math.imul(xt,Ae)|0,d=d+Math.imul(xt,Ee)|0,d=d+Math.imul(At,Ae)|0,k=k+Math.imul(At,Ee)|0;var ce=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(ce>>>26)|0,ce&=67108863,B=Math.imul(X,p),d=Math.imul(X,U),d=d+Math.imul(ae,p)|0,k=Math.imul(ae,U),B=B+Math.imul(b,Y)|0,d=d+Math.imul(b,ue)|0,d=d+Math.imul(D,Y)|0,k=k+Math.imul(D,ue)|0,B=B+Math.imul(Tt,Ae)|0,d=d+Math.imul(Tt,Ee)|0,d=d+Math.imul(C,Ae)|0,k=k+Math.imul(C,Ee)|0;var fe=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(fe>>>26)|0,fe&=67108863,B=Math.imul(X,Y),d=Math.imul(X,ue),d=d+Math.imul(ae,Y)|0,k=Math.imul(ae,ue),B=B+Math.imul(b,Ae)|0,d=d+Math.imul(b,Ee)|0,d=d+Math.imul(D,Ae)|0,k=k+Math.imul(D,Ee)|0;var ye=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(ye>>>26)|0,ye&=67108863,B=Math.imul(X,Ae),d=Math.imul(X,Ee),d=d+Math.imul(ae,Ae)|0,k=Math.imul(ae,Ee);var he=(T+B|0)+((d&8191)<<13)|0;return T=(k+(d>>>13)|0)+(he>>>26)|0,he&=67108863,x[0]=Bt,x[1]=Le,x[2]=Ke,x[3]=Ye,x[4]=lt,x[5]=ct,x[6]=Xe,x[7]=rt,x[8]=Je,x[9]=$e,x[10]=De,x[11]=Re,x[12]=Me,x[13]=Ne,x[14]=Ie,x[15]=ce,x[16]=fe,x[17]=ye,x[18]=he,T!==0&&(x[19]=T,m.length++),m};Math.imul||(F=H);function N(g,f,h){h.negative=f.negative^g.negative,h.length=g.length+f.length;for(var m=0,_=0,E=0;E<h.length-1;E++){var x=_;_=0;for(var T=m&67108863,B=Math.min(E,f.length-1),d=Math.max(0,E-g.length+1);d<=B;d++){var k=E-d,W=g.words[k]|0,K=f.words[d]|0,re=W*K,xe=re&67108863;x=x+(re/67108864|0)|0,xe=xe+T|0,T=xe&67108863,x=x+(xe>>>26)|0,_+=x>>>26,x&=67108863}h.words[E]=T,m=x,x=_}return m!==0?h.words[E]=m:h.length--,h._strip()}function $(g,f,h){return N(g,f,h)}s.prototype.mulTo=function(f,h){var m,_=this.length+f.length;return this.length===10&&f.length===10?m=F(this,f,h):_<63?m=H(this,f,h):_<1024?m=N(this,f,h):m=$(this,f,h),m},s.prototype.mul=function(f){var h=new s(null);return h.words=new Array(this.length+f.length),this.mulTo(f,h)},s.prototype.mulf=function(f){var h=new s(null);return h.words=new Array(this.length+f.length),$(this,f,h)},s.prototype.imul=function(f){return this.clone().mulTo(f,this)},s.prototype.imuln=function(f){var h=f<0;h&&(f=-f),n(typeof f=="number"),n(f<67108864);for(var m=0,_=0;_<this.length;_++){var E=(this.words[_]|0)*f,x=(E&67108863)+(m&67108863);m>>=26,m+=E/67108864|0,m+=x>>>26,this.words[_]=x&67108863}return m!==0&&(this.words[_]=m,this.length++),h?this.ineg():this},s.prototype.muln=function(f){return this.clone().imuln(f)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(f){var h=P(f);if(h.length===0)return new s(1);for(var m=this,_=0;_<h.length&&h[_]===0;_++,m=m.sqr());if(++_<h.length)for(var E=m.sqr();_<h.length;_++,E=E.sqr())h[_]!==0&&(m=m.mul(E));return m},s.prototype.iushln=function(f){n(typeof f=="number"&&f>=0);var h=f%26,m=(f-h)/26,_=67108863>>>26-h<<26-h,E;if(h!==0){var x=0;for(E=0;E<this.length;E++){var T=this.words[E]&_,B=(this.words[E]|0)-T<<h;this.words[E]=B|x,x=T>>>26-h}x&&(this.words[E]=x,this.length++)}if(m!==0){for(E=this.length-1;E>=0;E--)this.words[E+m]=this.words[E];for(E=0;E<m;E++)this.words[E]=0;this.length+=m}return this._strip()},s.prototype.ishln=function(f){return n(this.negative===0),this.iushln(f)},s.prototype.iushrn=function(f,h,m){n(typeof f=="number"&&f>=0);var _;h?_=(h-h%26)/26:_=0;var E=f%26,x=Math.min((f-E)/26,this.length),T=67108863^67108863>>>E<<E,B=m;if(_-=x,_=Math.max(0,_),B){for(var d=0;d<x;d++)B.words[d]=this.words[d];B.length=x}if(x!==0)if(this.length>x)for(this.length-=x,d=0;d<this.length;d++)this.words[d]=this.words[d+x];else this.words[0]=0,this.length=1;var k=0;for(d=this.length-1;d>=0&&(k!==0||d>=_);d--){var W=this.words[d]|0;this.words[d]=k<<26-E|W>>>E,k=W&T}return B&&k!==0&&(B.words[B.length++]=k),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(f,h,m){return n(this.negative===0),this.iushrn(f,h,m)},s.prototype.shln=function(f){return this.clone().ishln(f)},s.prototype.ushln=function(f){return this.clone().iushln(f)},s.prototype.shrn=function(f){return this.clone().ishrn(f)},s.prototype.ushrn=function(f){return this.clone().iushrn(f)},s.prototype.testn=function(f){n(typeof f=="number"&&f>=0);var h=f%26,m=(f-h)/26,_=1<<h;if(this.length<=m)return!1;var E=this.words[m];return!!(E&_)},s.prototype.imaskn=function(f){n(typeof f=="number"&&f>=0);var h=f%26,m=(f-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(h!==0&&m++,this.length=Math.min(m,this.length),h!==0){var _=67108863^67108863>>>h<<h;this.words[this.length-1]&=_}return this._strip()},s.prototype.maskn=function(f){return this.clone().imaskn(f)},s.prototype.iaddn=function(f){return n(typeof f=="number"),n(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},s.prototype._iaddn=function(f){this.words[0]+=f;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},s.prototype.isubn=function(f){if(n(typeof f=="number"),n(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},s.prototype.addn=function(f){return this.clone().iaddn(f)},s.prototype.subn=function(f){return this.clone().isubn(f)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(f,h,m){var _=f.length+m,E;this._expand(_);var x,T=0;for(E=0;E<f.length;E++){x=(this.words[E+m]|0)+T;var B=(f.words[E]|0)*h;x-=B&67108863,T=(x>>26)-(B/67108864|0),this.words[E+m]=x&67108863}for(;E<this.length-m;E++)x=(this.words[E+m]|0)+T,T=x>>26,this.words[E+m]=x&67108863;if(T===0)return this._strip();for(n(T===-1),T=0,E=0;E<this.length;E++)x=-(this.words[E]|0)+T,T=x>>26,this.words[E]=x&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(f,h){var m=this.length-f.length,_=this.clone(),E=f,x=E.words[E.length-1]|0,T=this._countBits(x);m=26-T,m!==0&&(E=E.ushln(m),_.iushln(m),x=E.words[E.length-1]|0);var B=_.length-E.length,d;if(h!=="mod"){d=new s(null),d.length=B+1,d.words=new Array(d.length);for(var k=0;k<d.length;k++)d.words[k]=0}var W=_.clone()._ishlnsubmul(E,1,B);W.negative===0&&(_=W,d&&(d.words[B]=1));for(var K=B-1;K>=0;K--){var re=(_.words[E.length+K]|0)*67108864+(_.words[E.length+K-1]|0);for(re=Math.min(re/x|0,67108863),_._ishlnsubmul(E,re,K);_.negative!==0;)re--,_.negative=0,_._ishlnsubmul(E,1,K),_.isZero()||(_.negative^=1);d&&(d.words[K]=re)}return d&&d._strip(),_._strip(),h!=="div"&&m!==0&&_.iushrn(m),{div:d||null,mod:_}},s.prototype.divmod=function(f,h,m){if(n(!f.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var _,E,x;return this.negative!==0&&f.negative===0?(x=this.neg().divmod(f,h),h!=="mod"&&(_=x.div.neg()),h!=="div"&&(E=x.mod.neg(),m&&E.negative!==0&&E.iadd(f)),{div:_,mod:E}):this.negative===0&&f.negative!==0?(x=this.divmod(f.neg(),h),h!=="mod"&&(_=x.div.neg()),{div:_,mod:x.mod}):this.negative&f.negative?(x=this.neg().divmod(f.neg(),h),h!=="div"&&(E=x.mod.neg(),m&&E.negative!==0&&E.isub(f)),{div:x.div,mod:E}):f.length>this.length||this.cmp(f)<0?{div:new s(0),mod:this}:f.length===1?h==="div"?{div:this.divn(f.words[0]),mod:null}:h==="mod"?{div:null,mod:new s(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new s(this.modrn(f.words[0]))}:this._wordDiv(f,h)},s.prototype.div=function(f){return this.divmod(f,"div",!1).div},s.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},s.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},s.prototype.divRound=function(f){var h=this.divmod(f);if(h.mod.isZero())return h.div;var m=h.div.negative!==0?h.mod.isub(f):h.mod,_=f.ushrn(1),E=f.andln(1),x=m.cmp(_);return x<0||E===1&&x===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},s.prototype.modrn=function(f){var h=f<0;h&&(f=-f),n(f<=67108863);for(var m=(1<<26)%f,_=0,E=this.length-1;E>=0;E--)_=(m*_+(this.words[E]|0))%f;return h?-_:_},s.prototype.modn=function(f){return this.modrn(f)},s.prototype.idivn=function(f){var h=f<0;h&&(f=-f),n(f<=67108863);for(var m=0,_=this.length-1;_>=0;_--){var E=(this.words[_]|0)+m*67108864;this.words[_]=E/f|0,m=E%f}return this._strip(),h?this.ineg():this},s.prototype.divn=function(f){return this.clone().idivn(f)},s.prototype.egcd=function(f){n(f.negative===0),n(!f.isZero());var h=this,m=f.clone();h.negative!==0?h=h.umod(f):h=h.clone();for(var _=new s(1),E=new s(0),x=new s(0),T=new s(1),B=0;h.isEven()&&m.isEven();)h.iushrn(1),m.iushrn(1),++B;for(var d=m.clone(),k=h.clone();!h.isZero();){for(var W=0,K=1;!(h.words[0]&K)&&W<26;++W,K<<=1);if(W>0)for(h.iushrn(W);W-- >0;)(_.isOdd()||E.isOdd())&&(_.iadd(d),E.isub(k)),_.iushrn(1),E.iushrn(1);for(var re=0,xe=1;!(m.words[0]&xe)&&re<26;++re,xe<<=1);if(re>0)for(m.iushrn(re);re-- >0;)(x.isOdd()||T.isOdd())&&(x.iadd(d),T.isub(k)),x.iushrn(1),T.iushrn(1);h.cmp(m)>=0?(h.isub(m),_.isub(x),E.isub(T)):(m.isub(h),x.isub(_),T.isub(E))}return{a:x,b:T,gcd:m.iushln(B)}},s.prototype._invmp=function(f){n(f.negative===0),n(!f.isZero());var h=this,m=f.clone();h.negative!==0?h=h.umod(f):h=h.clone();for(var _=new s(1),E=new s(0),x=m.clone();h.cmpn(1)>0&&m.cmpn(1)>0;){for(var T=0,B=1;!(h.words[0]&B)&&T<26;++T,B<<=1);if(T>0)for(h.iushrn(T);T-- >0;)_.isOdd()&&_.iadd(x),_.iushrn(1);for(var d=0,k=1;!(m.words[0]&k)&&d<26;++d,k<<=1);if(d>0)for(m.iushrn(d);d-- >0;)E.isOdd()&&E.iadd(x),E.iushrn(1);h.cmp(m)>=0?(h.isub(m),_.isub(E)):(m.isub(h),E.isub(_))}var W;return h.cmpn(1)===0?W=_:W=E,W.cmpn(0)<0&&W.iadd(f),W},s.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var h=this.clone(),m=f.clone();h.negative=0,m.negative=0;for(var _=0;h.isEven()&&m.isEven();_++)h.iushrn(1),m.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;m.isEven();)m.iushrn(1);var E=h.cmp(m);if(E<0){var x=h;h=m,m=x}else if(E===0||m.cmpn(1)===0)break;h.isub(m)}while(!0);return m.iushln(_)},s.prototype.invm=function(f){return this.egcd(f).a.umod(f)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(f){return this.words[0]&f},s.prototype.bincn=function(f){n(typeof f=="number");var h=f%26,m=(f-h)/26,_=1<<h;if(this.length<=m)return this._expand(m+1),this.words[m]|=_,this;for(var E=_,x=m;E!==0&&x<this.length;x++){var T=this.words[x]|0;T+=E,E=T>>>26,T&=67108863,this.words[x]=T}return E!==0&&(this.words[x]=E,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(f){var h=f<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var m;if(this.length>1)m=1;else{h&&(f=-f),n(f<=67108863,"Number is too big");var _=this.words[0]|0;m=_===f?0:_<f?-1:1}return this.negative!==0?-m|0:m},s.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var h=this.ucmp(f);return this.negative!==0?-h|0:h},s.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var h=0,m=this.length-1;m>=0;m--){var _=this.words[m]|0,E=f.words[m]|0;if(_!==E){_<E?h=-1:_>E&&(h=1);break}}return h},s.prototype.gtn=function(f){return this.cmpn(f)===1},s.prototype.gt=function(f){return this.cmp(f)===1},s.prototype.gten=function(f){return this.cmpn(f)>=0},s.prototype.gte=function(f){return this.cmp(f)>=0},s.prototype.ltn=function(f){return this.cmpn(f)===-1},s.prototype.lt=function(f){return this.cmp(f)===-1},s.prototype.lten=function(f){return this.cmpn(f)<=0},s.prototype.lte=function(f){return this.cmp(f)<=0},s.prototype.eqn=function(f){return this.cmpn(f)===0},s.prototype.eq=function(f){return this.cmp(f)===0},s.red=function(f){return new Q(f)},s.prototype.toRed=function(f){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(f){return this.red=f,this},s.prototype.forceRed=function(f){return n(!this.red,"Already a number in reduction context"),this._forceRed(f)},s.prototype.redAdd=function(f){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},s.prototype.redIAdd=function(f){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},s.prototype.redSub=function(f){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},s.prototype.redISub=function(f){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},s.prototype.redShl=function(f){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},s.prototype.redMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},s.prototype.redIMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(f){return n(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var q={k256:null,p224:null,p192:null,p25519:null};function G(g,f){this.name=g,this.p=new s(f,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}G.prototype._tmp=function(){var f=new s(null);return f.words=new Array(Math.ceil(this.n/13)),f},G.prototype.ireduce=function(f){var h=f,m;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),m=h.bitLength();while(m>this.n);var _=m<this.n?-1:h.ucmp(this.p);return _===0?(h.words[0]=0,h.length=1):_>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},G.prototype.split=function(f,h){f.iushrn(this.n,0,h)},G.prototype.imulK=function(f){return f.imul(this.k)};function Z(){G.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(Z,G),Z.prototype.split=function(f,h){for(var m=4194303,_=Math.min(f.length,9),E=0;E<_;E++)h.words[E]=f.words[E];if(h.length=_,f.length<=9){f.words[0]=0,f.length=1;return}var x=f.words[9];for(h.words[h.length++]=x&m,E=10;E<f.length;E++){var T=f.words[E]|0;f.words[E-10]=(T&m)<<4|x>>>22,x=T}x>>>=22,f.words[E-10]=x,x===0&&f.length>10?f.length-=10:f.length-=9},Z.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var h=0,m=0;m<f.length;m++){var _=f.words[m]|0;h+=_*977,f.words[m]=h&67108863,h=_*64+(h/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function z(){G.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(z,G);function ee(){G.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(ee,G);function se(){G.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(se,G),se.prototype.imulK=function(f){for(var h=0,m=0;m<f.length;m++){var _=(f.words[m]|0)*19+h,E=_&67108863;_>>>=26,f.words[m]=E,h=_}return h!==0&&(f.words[f.length++]=h),f},s._prime=function(f){if(q[f])return q[f];var h;if(f==="k256")h=new Z;else if(f==="p224")h=new z;else if(f==="p192")h=new ee;else if(f==="p25519")h=new se;else throw new Error("Unknown prime "+f);return q[f]=h,h};function Q(g){if(typeof g=="string"){var f=s._prime(g);this.m=f.p,this.prime=f}else n(g.gtn(1),"modulus must be greater than 1"),this.m=g,this.prime=null}Q.prototype._verify1=function(f){n(f.negative===0,"red works only with positives"),n(f.red,"red works only with red numbers")},Q.prototype._verify2=function(f,h){n((f.negative|h.negative)===0,"red works only with positives"),n(f.red&&f.red===h.red,"red works only with red numbers")},Q.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(l(f,f.umod(this.m)._forceRed(this)),f)},Q.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},Q.prototype.add=function(f,h){this._verify2(f,h);var m=f.add(h);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},Q.prototype.iadd=function(f,h){this._verify2(f,h);var m=f.iadd(h);return m.cmp(this.m)>=0&&m.isub(this.m),m},Q.prototype.sub=function(f,h){this._verify2(f,h);var m=f.sub(h);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},Q.prototype.isub=function(f,h){this._verify2(f,h);var m=f.isub(h);return m.cmpn(0)<0&&m.iadd(this.m),m},Q.prototype.shl=function(f,h){return this._verify1(f),this.imod(f.ushln(h))},Q.prototype.imul=function(f,h){return this._verify2(f,h),this.imod(f.imul(h))},Q.prototype.mul=function(f,h){return this._verify2(f,h),this.imod(f.mul(h))},Q.prototype.isqr=function(f){return this.imul(f,f.clone())},Q.prototype.sqr=function(f){return this.mul(f,f)},Q.prototype.sqrt=function(f){if(f.isZero())return f.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var m=this.m.add(new s(1)).iushrn(2);return this.pow(f,m)}for(var _=this.m.subn(1),E=0;!_.isZero()&&_.andln(1)===0;)E++,_.iushrn(1);n(!_.isZero());var x=new s(1).toRed(this),T=x.redNeg(),B=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new s(2*d*d).toRed(this);this.pow(d,B).cmp(T)!==0;)d.redIAdd(T);for(var k=this.pow(d,_),W=this.pow(f,_.addn(1).iushrn(1)),K=this.pow(f,_),re=E;K.cmp(x)!==0;){for(var xe=K,be=0;xe.cmp(x)!==0;be++)xe=xe.redSqr();n(be<re);var ge=this.pow(k,new s(1).iushln(re-be-1));W=W.redMul(ge),k=ge.redSqr(),K=K.redMul(k),re=be}return W},Q.prototype.invm=function(f){var h=f._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},Q.prototype.pow=function(f,h){if(h.isZero())return new s(1).toRed(this);if(h.cmpn(1)===0)return f.clone();var m=4,_=new Array(1<<m);_[0]=new s(1).toRed(this),_[1]=f;for(var E=2;E<_.length;E++)_[E]=this.mul(_[E-1],f);var x=_[0],T=0,B=0,d=h.bitLength()%26;for(d===0&&(d=26),E=h.length-1;E>=0;E--){for(var k=h.words[E],W=d-1;W>=0;W--){var K=k>>W&1;if(x!==_[0]&&(x=this.sqr(x)),K===0&&T===0){B=0;continue}T<<=1,T|=K,B++,!(B!==m&&(E!==0||W!==0))&&(x=this.mul(x,_[T]),B=0,T=0)}d=26}return x},Q.prototype.convertTo=function(f){var h=f.umod(this.m);return h===f?h.clone():h},Q.prototype.convertFrom=function(f){var h=f.clone();return h.red=null,h},s.mont=function(f){return new I(f)};function I(g){Q.call(this,g),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(I,Q),I.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},I.prototype.convertFrom=function(f){var h=this.imod(f.mul(this.rinv));return h.red=null,h},I.prototype.imul=function(f,h){if(f.isZero()||h.isZero())return f.words[0]=0,f.length=1,f;var m=f.imul(h),_=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=m.isub(_).iushrn(this.shift),x=E;return E.cmp(this.m)>=0?x=E.isub(this.m):E.cmpn(0)<0&&(x=E.iadd(this.m)),x._forceRed(this)},I.prototype.mul=function(f,h){if(f.isZero()||h.isZero())return new s(0)._forceRed(this);var m=f.mul(h),_=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=m.isub(_).iushrn(this.shift),x=E;return E.cmp(this.m)>=0?x=E.isub(this.m):E.cmpn(0)<0&&(x=E.iadd(this.m)),x._forceRed(this)},I.prototype.invm=function(f){var h=this.imod(f._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(e,ft)})(ql);var Eg=ql.exports,hf={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=ie,n=r.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s);function s(o,a,c){return n(o,a,c)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=n(o);return a!==void 0?typeof c=="string"?u.fill(a,c):u.fill(a):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(hf,hf.exports);var df=hf.exports.Buffer;function lS(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),s=i.charCodeAt(0);if(t[s]!==255)throw new TypeError(i+" is ambiguous");t[s]=n}var o=e.length,a=e.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function l(v){if((Array.isArray(v)||v instanceof Uint8Array)&&(v=df.from(v)),!df.isBuffer(v))throw new TypeError("Expected Buffer");if(v.length===0)return"";for(var R=0,O=0,P=0,H=v.length;P!==H&&v[P]===0;)P++,R++;for(var F=(H-P)*u+1>>>0,N=new Uint8Array(F);P!==H;){for(var $=v[P],q=0,G=F-1;($!==0||q<O)&&G!==-1;G--,q++)$+=256*N[G]>>>0,N[G]=$%o>>>0,$=$/o>>>0;if($!==0)throw new Error("Non-zero carry");O=q,P++}for(var Z=F-O;Z!==F&&N[Z]===0;)Z++;for(var z=a.repeat(R);Z<F;++Z)z+=e.charAt(N[Z]);return z}function y(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return df.alloc(0);for(var R=0,O=0,P=0;v[R]===a;)O++,R++;for(var H=(v.length-R)*c+1>>>0,F=new Uint8Array(H);v[R];){var N=t[v.charCodeAt(R)];if(N===255)return;for(var $=0,q=H-1;(N!==0||$<P)&&q!==-1;q--,$++)N+=o*F[q]>>>0,F[q]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");P=$,R++}for(var G=H-P;G!==H&&F[G]===0;)G++;var Z=df.allocUnsafe(O+(H-G));Z.fill(0,0,O);for(var z=O;G!==H;)Z[z++]=F[G++];return Z}function A(v){var R=y(v);if(R)return R;throw new Error("Non-base"+o+" character")}return{encode:l,decodeUnsafe:y,decode:A}}var hS=lS,dS=hS,pS="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Ar=dS(pS);const gS=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),rs=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ns=new Uint32Array(64);class yS extends rg{constructor(){super(64,32,8,!1),this.A=rs[0]|0,this.B=rs[1]|0,this.C=rs[2]|0,this.D=rs[3]|0,this.E=rs[4]|0,this.F=rs[5]|0,this.G=rs[6]|0,this.H=rs[7]|0}get(){const{A:t,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[t,r,n,i,s,o,a,c]}set(t,r,n,i,s,o,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,r){for(let y=0;y<16;y++,r+=4)ns[y]=t.getUint32(r,!1);for(let y=16;y<64;y++){const A=ns[y-15],v=ns[y-2],R=gi(A,7)^gi(A,18)^A>>>3,O=gi(v,17)^gi(v,19)^v>>>10;ns[y]=O+ns[y-7]+R+ns[y-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:u,H:l}=this;for(let y=0;y<64;y++){const A=gi(a,6)^gi(a,11)^gi(a,25),v=l+A+ux(a,c,u)+gS[y]+ns[y]|0,O=(gi(n,2)^gi(n,13)^gi(n,22))+lx(n,i,s)|0;l=u,u=c,c=a,a=o+v|0,o=s,s=i,i=n,n=v+O|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,i,s,o,a,c,u,l)}roundClean(){ns.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Vl=eg(()=>new yS);var Zr={};function $i(e,t,r){return t<=e&&e<=r}function pf(e){if(e===void 0)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function wS(e){for(var t=String(e),r=t.length,n=0,i=[];n<r;){var s=t.charCodeAt(n);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(n===r-1)i.push(65533);else{var o=e.charCodeAt(n+1);if(56320<=o&&o<=57343){var a=s&1023,c=o&1023;i.push(65536+(a<<10)+c),n+=1}else i.push(65533)}n+=1}return i}function mS(e){for(var t="",r=0;r<e.length;++r){var n=e[r];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return t}var gf=-1;function Wl(e){this.tokens=[].slice.call(e)}Wl.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():gf},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var ko=-1;function Kl(e,t){if(e)throw TypeError("Decoder error");return t||65533}var yf="utf-8";function wf(e,t){if(!(this instanceof wf))return new wf(e,t);if(e=e!==void 0?String(e).toLowerCase():yf,e!==yf)throw new Error("Encoding not supported. Only utf-8 is supported");t=pf(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}wf.prototype={decode:function(t,r){var n;typeof t=="object"&&t instanceof ArrayBuffer?n=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):n=new Uint8Array(0),r=pf(r),this._streaming||(this._decoder=new bS({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var i=new Wl(n),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==ko);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===ko)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),mS(s)}};function mf(e,t){if(!(this instanceof mf))return new mf(e,t);if(e=e!==void 0?String(e).toLowerCase():yf,e!==yf)throw new Error("Encoding not supported. Only utf-8 is supported");t=pf(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}mf.prototype={encode:function(t,r){t=t?String(t):"",r=pf(r),this._streaming||(this._encoder=new vS(this._options)),this._streaming=!!r.stream;for(var n=[],i=new Wl(wS(t)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==ko);)Array.isArray(s)?n.push.apply(n,s):n.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==ko;)Array.isArray(s)?n.push.apply(n,s):n.push(s);this._encoder=null}return new Uint8Array(n)}};function bS(e){var t=e.fatal,r=0,n=0,i=0,s=128,o=191;this.handler=function(a,c){if(c===gf&&i!==0)return i=0,Kl(t);if(c===gf)return ko;if(i===0){if($i(c,0,127))return c;if($i(c,194,223))i=1,r=c-192;else if($i(c,224,239))c===224&&(s=160),c===237&&(o=159),i=2,r=c-224;else if($i(c,240,244))c===240&&(s=144),c===244&&(o=143),i=3,r=c-240;else return Kl(t);return r=r<<6*i,null}if(!$i(c,s,o))return r=i=n=0,s=128,o=191,a.prepend(c),Kl(t);if(s=128,o=191,n+=1,r+=c-128<<6*(i-n),n!==i)return null;var u=r;return r=i=n=0,u}}function vS(e){e.fatal,this.handler=function(t,r){if(r===gf)return ko;if($i(r,0,127))return r;var n,i;$i(r,128,2047)?(n=1,i=192):$i(r,2048,65535)?(n=2,i=224):$i(r,65536,1114111)&&(n=3,i=240);for(var s=[(r>>6*n)+i];n>0;){var o=r>>6*(n-1);s.push(128|o&63),n-=1}return s}}var _S=Object.freeze({__proto__:null,TextEncoder:mf,TextDecoder:wf}),ES=Un(_S),xS=ft&&ft.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),SS=ft&&ft.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),yi=ft&&ft.__decorate||function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},AS=ft&&ft.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&xS(t,e,r);return SS(t,e),t},xg=ft&&ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zr,"__esModule",{value:!0});var Sg=Zr.deserializeUnchecked=kg=Zr.deserialize=Tg=Zr.serialize=Zr.BinaryReader=Zr.BinaryWriter=Zr.BorshError=Zr.baseDecode=Zr.baseEncode=void 0;const is=xg(ql.exports),Ag=xg(Ar),BS=AS(ES),IS=typeof TextDecoder!="function"?BS.TextDecoder:TextDecoder,RS=new IS("utf-8",{fatal:!0});function TS(e){return typeof e=="string"&&(e=ie.Buffer.from(e,"utf8")),Ag.default.encode(ie.Buffer.from(e))}Zr.baseEncode=TS;function kS(e){return ie.Buffer.from(Ag.default.decode(e))}Zr.baseDecode=kS;const Zl=1024;class ln extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Zr.BorshError=ln;class Bg{constructor(){this.buf=ie.Buffer.alloc(Zl),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=ie.Buffer.concat([this.buf,ie.Buffer.alloc(Zl)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(ie.Buffer.from(new is.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(ie.Buffer.from(new is.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(ie.Buffer.from(new is.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(ie.Buffer.from(new is.default(t).toArray("le",64)))}writeBuffer(t){this.buf=ie.Buffer.concat([ie.Buffer.from(this.buf.subarray(0,this.length)),t,ie.Buffer.alloc(Zl)]),this.length+=t.length}writeString(t){this.maybeResize();const r=ie.Buffer.from(t,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(t){this.writeBuffer(ie.Buffer.from(t))}writeArray(t,r){this.maybeResize(),this.writeU32(t.length);for(const n of t)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}}Zr.BinaryWriter=Bg;function wi(e,t,r){const n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new ln("Reached the end of buffer when deserializing")}throw s}}}class Bn{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new is.default(t,"le")}readU128(){const t=this.readBuffer(16);return new is.default(t,"le")}readU256(){const t=this.readBuffer(32);return new is.default(t,"le")}readU512(){const t=this.readBuffer(64);return new is.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new ln(`Expected buffer length ${t} isn't within bounds`);const r=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,r}readString(){const t=this.readU32(),r=this.readBuffer(t);try{return RS.decode(r)}catch(n){throw new ln(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(t());return n}}yi([wi],Bn.prototype,"readU8",null),yi([wi],Bn.prototype,"readU16",null),yi([wi],Bn.prototype,"readU32",null),yi([wi],Bn.prototype,"readU64",null),yi([wi],Bn.prototype,"readU128",null),yi([wi],Bn.prototype,"readU256",null),yi([wi],Bn.prototype,"readU512",null),yi([wi],Bn.prototype,"readString",null),yi([wi],Bn.prototype,"readFixedArray",null),yi([wi],Bn.prototype,"readArray",null),Zr.BinaryReader=Bn;function Ig(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Vs(e,t,r,n,i){try{if(typeof n=="string")i[`write${Ig(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new ln(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new ln(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let s=0;s<n[1];s++)Vs(e,null,r[s],n[0],i)}else i.writeArray(r,s=>{Vs(e,t,s,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),Vs(e,t,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((s,o)=>{Vs(e,t,o,n.key,i),Vs(e,t,s,n.value,i)});break}default:throw new ln(`FieldType ${n} unrecognized`)}else Rg(e,r,i)}catch(s){throw s instanceof ln&&s.addToFieldPath(t),s}}function Rg(e,t,r){if(typeof t.borshSerialize=="function"){t.borshSerialize(r);return}const n=e.get(t.constructor);if(!n)throw new ln(`Class ${t.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,s])=>{Vs(e,i,t[i],s,r)});else if(n.kind==="enum"){const i=t[n.field];for(let s=0;s<n.values.length;++s){const[o,a]=n.values[s];if(o===i){r.writeU8(s),Vs(e,o,t[o],a,r);break}}}else throw new ln(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function CS(e,t,r=Bg){const n=new r;return Rg(e,t,n),n.toArray()}var Tg=Zr.serialize=CS;function Ws(e,t,r,n){try{if(typeof r=="string")return n[`read${Ig(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){const i=[];for(let s=0;s<r[1];s++)i.push(Ws(e,null,r[0],n));return i}else return n.readArray(()=>Ws(e,t,r[0],n))}if(r.kind==="option")return n.readU8()?Ws(e,t,r.type,n):void 0;if(r.kind==="map"){let i=new Map;const s=n.readU32();for(let o=0;o<s;o++){const a=Ws(e,t,r.key,n),c=Ws(e,t,r.value,n);i.set(a,c)}return i}return Gl(e,r,n)}catch(i){throw i instanceof ln&&i.addToFieldPath(t),i}}function Gl(e,t,r){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(r);const n=e.get(t);if(!n)throw new ln(`Class ${t.name} is missing in schema`);if(n.kind==="struct"){const i={};for(const[s,o]of e.get(t).fields)i[s]=Ws(e,s,o,r);return new t(i)}if(n.kind==="enum"){const i=r.readU8();if(i>=n.values.length)throw new ln(`Enum index: ${i} is out of range`);const[s,o]=n.values[i],a=Ws(e,s,o,r);return new t({[s]:a})}throw new ln(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function LS(e,t,r,n=Bn){const i=new n(r),s=Gl(e,t,i);if(i.offset<r.length)throw new ln(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return s}var kg=Zr.deserialize=LS;function $S(e,t,r,n=Bn){const i=new n(r);return Gl(e,t,i)}Sg=Zr.deserializeUnchecked=$S;var ne={};Object.defineProperty(ne,"__esModule",{value:!0}),ne.s16=ne.s8=ne.nu64be=ne.u48be=ne.u40be=ne.u32be=ne.u24be=ne.u16be=Gr=ne.nu64=ne.u48=ne.u40=qe=ne.u32=ne.u24=jn=ne.u16=Ut=ne.u8=Zs=ne.offset=ne.greedy=ne.Constant=ne.UTF8=ne.CString=ne.Blob=ne.Boolean=ne.BitField=ne.BitStructure=ne.VariantLayout=ne.Union=ne.UnionLayoutDiscriminator=ne.UnionDiscriminator=ne.Structure=ne.Sequence=ne.DoubleBE=ne.Double=ne.FloatBE=ne.Float=ne.NearInt64BE=ne.NearInt64=ne.NearUInt64BE=ne.NearUInt64=ne.IntBE=ne.Int=ne.UIntBE=ne.UInt=ne.OffsetLayout=ne.GreedyCount=ne.ExternalLayout=ne.bindConstructorLayout=ne.nameWithProperty=ne.Layout=ne.uint8ArrayToBuffer=ne.checkUint8Array=void 0,ne.constant=ne.utf8=ne.cstr=nr=ne.blob=ne.unionLayoutDiscriminator=ne.union=en=ne.seq=ne.bits=Fe=ne.struct=ne.f64be=ne.f64=ne.f32be=ne.f32=ne.ns64be=ne.s48be=ne.s40be=ne.s32be=ne.s24be=ne.s16be=In=ne.ns64=ne.s48=ne.s40=ne.s32=ne.s24=void 0;const Yl=ie;function Co(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}ne.checkUint8Array=Co;function Nt(e){return Co(e),Yl.Buffer.from(e.buffer,e.byteOffset,e.length)}ne.uint8ArrayToBuffer=Nt;class qt{constructor(t,r){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=r}makeDestinationObject(){return{}}getSpan(t,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=t,r}fromArray(t){}}ne.Layout=qt;function Xl(e,t){return t.property?e+"["+t.property+"]":e}ne.nameWithProperty=Xl;function OS(e,t){if(typeof e!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof qt))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(r,n){return t.encode(this,r,n)},writable:!0}),Object.defineProperty(e,"decode",{value(r,n){return t.decode(r,n)},writable:!0})}ne.bindConstructorLayout=OS;class wn extends qt{isCount(){throw new Error("ExternalLayout is abstract")}}ne.ExternalLayout=wn;class Cg extends wn{constructor(t=1,r){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=t}isCount(){return!0}decode(t,r=0){Co(t);const n=t.length-r;return Math.floor(n/this.elementSpan)}encode(t,r,n){return 0}}ne.GreedyCount=Cg;class Jl extends wn{constructor(t,r=0,n){if(!(t instanceof qt))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=r}isCount(){return this.layout instanceof Hn||this.layout instanceof ni}decode(t,r=0){return this.layout.decode(t,r+this.offset)}encode(t,r,n=0){return this.layout.encode(t,r,n+this.offset)}}ne.OffsetLayout=Jl;class Hn extends qt{constructor(t,r){if(super(t,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,r=0){return Nt(t).readUIntLE(r,this.span)}encode(t,r,n=0){return Nt(r).writeUIntLE(t,n,this.span),this.span}}ne.UInt=Hn;class ni extends qt{constructor(t,r){if(super(t,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,r=0){return Nt(t).readUIntBE(r,this.span)}encode(t,r,n=0){return Nt(r).writeUIntBE(t,n,this.span),this.span}}ne.UIntBE=ni;class Ks extends qt{constructor(t,r){if(super(t,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,r=0){return Nt(t).readIntLE(r,this.span)}encode(t,r,n=0){return Nt(r).writeIntLE(t,n,this.span),this.span}}ne.Int=Ks;class Lo extends qt{constructor(t,r){if(super(t,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,r=0){return Nt(t).readIntBE(r,this.span)}encode(t,r,n=0){return Nt(r).writeIntBE(t,n,this.span),this.span}}ne.IntBE=Lo;const Ql=Math.pow(2,32);function bf(e){const t=Math.floor(e/Ql),r=e-t*Ql;return{hi32:t,lo32:r}}function vf(e,t){return e*Ql+t}class Lg extends qt{constructor(t){super(8,t)}decode(t,r=0){const n=Nt(t),i=n.readUInt32LE(r),s=n.readUInt32LE(r+4);return vf(s,i)}encode(t,r,n=0){const i=bf(t),s=Nt(r);return s.writeUInt32LE(i.lo32,n),s.writeUInt32LE(i.hi32,n+4),8}}ne.NearUInt64=Lg;class $g extends qt{constructor(t){super(8,t)}decode(t,r=0){const n=Nt(t),i=n.readUInt32BE(r),s=n.readUInt32BE(r+4);return vf(i,s)}encode(t,r,n=0){const i=bf(t),s=Nt(r);return s.writeUInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}}ne.NearUInt64BE=$g;class Og extends qt{constructor(t){super(8,t)}decode(t,r=0){const n=Nt(t),i=n.readUInt32LE(r),s=n.readInt32LE(r+4);return vf(s,i)}encode(t,r,n=0){const i=bf(t),s=Nt(r);return s.writeUInt32LE(i.lo32,n),s.writeInt32LE(i.hi32,n+4),8}}ne.NearInt64=Og;class Mg extends qt{constructor(t){super(8,t)}decode(t,r=0){const n=Nt(t),i=n.readInt32BE(r),s=n.readUInt32BE(r+4);return vf(i,s)}encode(t,r,n=0){const i=bf(t),s=Nt(r);return s.writeInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}}ne.NearInt64BE=Mg;class Ng extends qt{constructor(t){super(4,t)}decode(t,r=0){return Nt(t).readFloatLE(r)}encode(t,r,n=0){return Nt(r).writeFloatLE(t,n),4}}ne.Float=Ng;class Pg extends qt{constructor(t){super(4,t)}decode(t,r=0){return Nt(t).readFloatBE(r)}encode(t,r,n=0){return Nt(r).writeFloatBE(t,n),4}}ne.FloatBE=Pg;class Ug extends qt{constructor(t){super(8,t)}decode(t,r=0){return Nt(t).readDoubleLE(r)}encode(t,r,n=0){return Nt(r).writeDoubleLE(t,n),8}}ne.Double=Ug;class Fg extends qt{constructor(t){super(8,t)}decode(t,r=0){return Nt(t).readDoubleBE(r)}encode(t,r,n=0){return Nt(r).writeDoubleBE(t,n),8}}ne.DoubleBE=Fg;class Dg extends qt{constructor(t,r,n){if(!(t instanceof qt))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof wn&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof wn)&&0<t.span&&(i=r*t.span),super(i,n),this.elementLayout=t,this.count=r}getSpan(t,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof wn&&(i=i.decode(t,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let s=0;for(;s<i;)n+=this.elementLayout.getSpan(t,r+n),++s}return n}decode(t,r=0){const n=[];let i=0,s=this.count;for(s instanceof wn&&(s=s.decode(t,r));i<s;)n.push(this.elementLayout.decode(t,r)),r+=this.elementLayout.getSpan(t,r),i+=1;return n}encode(t,r,n=0){const i=this.elementLayout,s=t.reduce((o,a)=>o+i.encode(a,r,n+o),0);return this.count instanceof wn&&this.count.encode(t.length,r,n),s}}ne.Sequence=Dg;class Hg extends qt{constructor(t,r,n){if(!(Array.isArray(t)&&t.reduce((s,o)=>s&&o instanceof qt,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const s of t)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=t.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,r),this.fields=t,this.decodePrefixes=!!n}getSpan(t,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,s)=>{const o=s.getSpan(t,r);return r+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return n}decode(t,r=0){Co(t);const n=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(t,r)),r+=i.getSpan(t,r),this.decodePrefixes&&t.length===r)break;return n}encode(t,r,n=0){const i=n;let s=0,o=0;for(const a of this.fields){let c=a.span;if(o=0<c?c:0,a.property!==void 0){const u=t[a.property];u!==void 0&&(o=a.encode(u,r,n),0>c&&(c=a.getSpan(r,n)))}s=n,n+=c}return s+o-i}fromArray(t){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<t.length&&(r[n.property]=t.shift());return r}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===t)return r}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===t)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}}ne.Structure=Hg;class eh{constructor(t){this.property=t}decode(t,r){throw new Error("UnionDiscriminator is abstract")}encode(t,r,n){throw new Error("UnionDiscriminator is abstract")}}ne.UnionDiscriminator=eh;class _f extends eh{constructor(t,r){if(!(t instanceof wn&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||t.property||"variant"),this.layout=t}decode(t,r){return this.layout.decode(t,r)}encode(t,r,n){return this.layout.encode(t,r,n)}}ne.UnionLayoutDiscriminator=_f;class th extends qt{constructor(t,r,n){let i;if(t instanceof Hn||t instanceof ni)i=new _f(new Jl(t));else if(t instanceof wn&&t.isCount())i=new _f(t);else if(t instanceof eh)i=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof qt))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&(t instanceof Hn||t instanceof ni)&&(s+=i.layout.span)),super(s,n),this.discriminator=i,this.usesPrefixDiscriminator=t instanceof Hn||t instanceof ni,this.defaultLayout=r,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(t,r=0){if(0<=this.span)return this.span;const n=this.getVariant(t,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,r)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const r=this.registry[t[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(t,r.property)))return r}else for(const r in this.registry){const n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,r=0){let n;const i=this.discriminator,s=i.decode(t,r),o=this.registry[s];if(o===void 0){const a=this.defaultLayout;let c=0;this.usesPrefixDiscriminator&&(c=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[a.property]=a.decode(t,r+c)}else n=o.decode(t,r);return n}encode(t,r,n=0){const i=this.getSourceVariant(t);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(t[s.property],r,n),a+o.encode(t[o.property],r,n+a)}return i.encode(t,r,n)}addVariant(t,r,n){const i=new jg(this,t,r,n);return this.registry[t]=i,i}getVariant(t,r=0){let n;return t instanceof Uint8Array?n=this.discriminator.decode(t,r):n=t,this.registry[n]}}ne.Union=th;class jg extends qt{constructor(t,r,n,i){if(!(t instanceof th))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof qt))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=t.span;0>t.span&&(s=n?n.span:0,0<=s&&t.usesPrefixDiscriminator&&(s+=t.discriminator.layout.span)),super(s,i),this.union=t,this.variant=r,this.layout=n||null}getSpan(t,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(t,r+n)),n+i}decode(t,r=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(t,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=i;if(this.layout&&(this.layout.encode(t[this.property],r,n+i),s+=this.layout.getSpan(r,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}ne.VariantLayout=jg;function $o(e){return 0>e&&(e+=4294967296),e}class rh extends qt{constructor(t,r,n){if(!(t instanceof Hn||t instanceof ni))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(s){return i=$o(s),this},this._packedGetValue=function(){return i}}decode(t,r=0){const n=this.makeDestinationObject(),i=this.word.decode(t,r);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(t));return n}encode(t,r,n=0){const i=this.word.decode(r,n);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=t[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),r,n)}addField(t,r){const n=new nh(this,t,r);return this.fields.push(n),n}addBoolean(t){const r=new zg(this,t);return this.fields.push(r),r}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===t)return r}}ne.BitStructure=rh;class nh{constructor(t,r,n){if(!(t instanceof rh))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");const i=8*t.span,s=t.fields.reduce((o,a)=>o+a.bits,0);if(r+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=t,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-r),this.wordMask=$o(this.valueMask<<this.start),this.property=n}decode(t,r){const n=this.container._packedGetValue();return $o(n&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==$o(t&this.valueMask))throw new TypeError(Xl("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const r=this.container._packedGetValue(),n=$o(t<<this.start);this.container._packedSetValue($o(r&~this.wordMask)|n)}}ne.BitField=nh;class zg extends nh{constructor(t,r){super(t,1,r)}decode(t,r){return!!super.decode(t,r)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}}ne.Boolean=zg;class qg extends qt{constructor(t,r){if(!(t instanceof wn&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof wn||(n=t),super(n,r),this.length=t}getSpan(t,r){let n=this.span;return 0>n&&(n=this.length.decode(t,r)),n}decode(t,r=0){let n=this.span;return 0>n&&(n=this.length.decode(t,r)),Nt(t).slice(r,r+n)}encode(t,r,n){let i=this.length;if(this.length instanceof wn&&(i=t.length),!(t instanceof Uint8Array&&i===t.length))throw new TypeError(Xl("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");const s=Nt(t);return Nt(r).write(s.toString("hex"),n,i,"hex"),this.length instanceof wn&&this.length.encode(i,r,n),i}}ne.Blob=qg;class Vg extends qt{constructor(t){super(-1,t)}getSpan(t,r=0){Co(t);let n=r;for(;n<t.length&&t[n]!==0;)n+=1;return 1+n-r}decode(t,r=0){const n=this.getSpan(t,r);return Nt(t).slice(r,r+n-1).toString("utf-8")}encode(t,r,n=0){typeof t!="string"&&(t=String(t));const i=Yl.Buffer.from(t,"utf8"),s=i.length;if(n+s>r.length)throw new RangeError("encoding overruns Buffer");const o=Nt(r);return i.copy(o,n),o[n+s]=0,s+1}}ne.CString=Vg;class Wg extends qt{constructor(t,r){if(typeof t=="string"&&r===void 0&&(r=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=t}getSpan(t,r=0){return Co(t),t.length-r}decode(t,r=0){const n=this.getSpan(t,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Nt(t).slice(r,r+n).toString("utf-8")}encode(t,r,n=0){typeof t!="string"&&(t=String(t));const i=Yl.Buffer.from(t,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(Nt(r),n),s}}ne.UTF8=Wg;class Kg extends qt{constructor(t,r){super(0,r),this.value=t}decode(t,r){return this.value}encode(t,r,n){return 0}}ne.Constant=Kg,ne.greedy=(e,t)=>new Cg(e,t);var Zs=ne.offset=(e,t,r)=>new Jl(e,t,r),Ut=ne.u8=e=>new Hn(1,e),jn=ne.u16=e=>new Hn(2,e);ne.u24=e=>new Hn(3,e);var qe=ne.u32=e=>new Hn(4,e);ne.u40=e=>new Hn(5,e),ne.u48=e=>new Hn(6,e);var Gr=ne.nu64=e=>new Lg(e);ne.u16be=e=>new ni(2,e),ne.u24be=e=>new ni(3,e),ne.u32be=e=>new ni(4,e),ne.u40be=e=>new ni(5,e),ne.u48be=e=>new ni(6,e),ne.nu64be=e=>new $g(e),ne.s8=e=>new Ks(1,e),ne.s16=e=>new Ks(2,e),ne.s24=e=>new Ks(3,e),ne.s32=e=>new Ks(4,e),ne.s40=e=>new Ks(5,e),ne.s48=e=>new Ks(6,e);var In=ne.ns64=e=>new Og(e);ne.s16be=e=>new Lo(2,e),ne.s24be=e=>new Lo(3,e),ne.s32be=e=>new Lo(4,e),ne.s40be=e=>new Lo(5,e),ne.s48be=e=>new Lo(6,e),ne.ns64be=e=>new Mg(e),ne.f32=e=>new Ng(e),ne.f32be=e=>new Pg(e),ne.f64=e=>new Ug(e),ne.f64be=e=>new Fg(e);var Fe=ne.struct=(e,t,r)=>new Hg(e,t,r);ne.bits=(e,t,r)=>new rh(e,t,r);var en=ne.seq=(e,t,r)=>new Dg(e,t,r);ne.union=(e,t,r)=>new th(e,t,r),ne.unionLayoutDiscriminator=(e,t)=>new _f(e,t);var nr=ne.blob=(e,t)=>new qg(e,t);ne.cstr=e=>new Vg(e),ne.utf8=(e,t)=>new Wg(e,t),ne.constant=(e,t)=>new Kg(e,t);var Na={};Object.defineProperty(Na,"__esModule",{value:!0});function MS(e){{const t=ie.Buffer.from(e);t.reverse();const r=t.toString("hex");return r.length===0?BigInt(0):BigInt(`0x${r}`)}}var NS=Na.toBigIntLE=MS;function PS(e){{const t=e.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}Na.toBigIntBE=PS;function US(e,t){{const r=e.toString(16),n=ie.Buffer.from(r.padStart(t*2,"0").slice(0,t*2),"hex");return n.reverse(),n}}var FS=Na.toBufferLE=US;function DS(e,t){{const r=e.toString(16);return ie.Buffer.from(r.padStart(t*2,"0").slice(0,t*2),"hex")}}Na.toBufferBE=DS;class HS extends TypeError{constructor(t,r){let n;const{message:i,...s}=t,{path:o}=t,a=o.length===0?i:"At path: "+o.join(".")+" -- "+i;super(a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var c;return(c=n)!=null?c:n=[t,...r()]}}}function jS(e){return ss(e)&&typeof e[Symbol.iterator]=="function"}function ss(e){return typeof e=="object"&&e!=null}function ii(e){return typeof e=="string"?JSON.stringify(e):""+e}function zS(e){const{done:t,value:r}=e.next();return t?void 0:r}function qS(e,t,r,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:s}=t,{type:o}=r,{refinement:a,message:c="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+ii(n)+"`"}=e;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...e,message:c}}function*Zg(e,t,r,n){jS(e)||(e=[e]);for(const i of e){const s=qS(i,t,r,n);s&&(yield s)}}function*ih(e,t,r={}){const{path:n=[],branch:i=[e],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(e=t.coercer(e,a),o&&t.type!=="type"&&ss(t.schema)&&ss(e)&&!Array.isArray(e)))for(const u in e)t.schema[u]===void 0&&delete e[u];let c=!0;for(const u of t.validator(e,a))c=!1,yield[u,void 0];for(let[u,l,y]of t.entries(e,a)){const A=ih(l,y,{path:u===void 0?n:[...n,u],branch:u===void 0?i:[...i,l],coerce:s,mask:o});for(const v of A)v[0]?(c=!1,yield[v[0],void 0]):s&&(l=v[1],u===void 0?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):ss(e)&&(e[u]=l))}if(c)for(const u of t.refiner(e,a))c=!1,yield[u,void 0];c&&(yield[void 0,e])}class mi{constructor(t){const{type:r,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=t;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const l=i(c,u);return Zg(l,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const l=s(c,u);return Zg(l,u,this,c)}:this.refiner=()=>[]}assert(t){return VS(t,this)}create(t){return Be(t,this)}is(t){return Gg(t,this)}mask(t){return WS(t,this)}validate(t,r={}){return Pa(t,this,r)}}function VS(e,t){const r=Pa(e,t);if(r[0])throw r[0]}function Be(e,t){const r=Pa(e,t,{coerce:!0});if(r[0])throw r[0];return r[1]}function WS(e,t){const r=Pa(e,t,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}function Gg(e,t){return!Pa(e,t)[0]}function Pa(e,t,r={}){const n=ih(e,t,r),i=zS(n);return i[0]?[new HS(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Gs(e,t){return new mi({type:e,schema:null,validator:t})}function KS(){return Gs("any",()=>!0)}function Ce(e){return new mi({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: "+ii(t)}})}function bi(){return Gs("boolean",e=>typeof e=="boolean")}function sh(e){return Gs("instance",t=>t instanceof e||"Expected a `"+e.name+"` instance, but received: "+ii(t))}function dr(e){const t=ii(e),r=typeof e;return new mi({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?e:null,validator(n){return n===e||"Expected the literal `"+t+"`, but received: "+ii(n)}})}function ZS(){return Gs("never",()=>!1)}function Te(e){return new mi({...e,validator:(t,r)=>t===null||e.validator(t,r),refiner:(t,r)=>t===null||e.refiner(t,r)})}function te(){return Gs("number",e=>typeof e=="number"&&!isNaN(e)||"Expected a number, but received: "+ii(e))}function Qe(e){return new mi({...e,validator:(t,r)=>t===void 0||e.validator(t,r),refiner:(t,r)=>t===void 0||e.refiner(t,r)})}function Yg(e,t){return new mi({type:"record",schema:null,*entries(r){if(ss(r))for(const n in r){const i=r[n];yield[n,n,e],yield[n,i,t]}},validator(r){return ss(r)||"Expected an object, but received: "+ii(r)}})}function Se(){return Gs("string",e=>typeof e=="string"||"Expected a string, but received: "+ii(e))}function oh(e){const t=ZS();return new mi({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator(r){return Array.isArray(r)||"Expected an array, but received: "+ii(r)}})}function me(e){const t=Object.keys(e);return new mi({type:"type",schema:e,*entries(r){if(ss(r))for(const n of t)yield[n,r[n],e[n]]},validator(r){return ss(r)||"Expected an object, but received: "+ii(r)}})}function mn(e){const t=e.map(r=>r.type).join(" | ");return new mi({type:"union",schema:null,validator(r,n){const i=[];for(const s of e){const[...o]=ih(r,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return["Expected the value to satisfy a union of `"+t+"`, but received: "+ii(r),...i]}})}function Ua(){return Gs("unknown",()=>!0)}function Fa(e,t,r){return new mi({...e,coercer:(n,i)=>Gg(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}var Ef,GS=new Uint8Array(16);function Xg(){if(!Ef&&(Ef=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Ef))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ef(GS)}var YS=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function xf(e){return typeof e=="string"&&YS.test(e)}for(var Yr=[],ah=0;ah<256;++ah)Yr.push((ah+256).toString(16).substr(1));function Sf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Yr[e[t+0]]+Yr[e[t+1]]+Yr[e[t+2]]+Yr[e[t+3]]+"-"+Yr[e[t+4]]+Yr[e[t+5]]+"-"+Yr[e[t+6]]+Yr[e[t+7]]+"-"+Yr[e[t+8]]+Yr[e[t+9]]+"-"+Yr[e[t+10]]+Yr[e[t+11]]+Yr[e[t+12]]+Yr[e[t+13]]+Yr[e[t+14]]+Yr[e[t+15]]).toLowerCase();if(!xf(r))throw TypeError("Stringified UUID is invalid");return r}var Jg,ch,fh=0,uh=0;function XS(e,t,r){var n=t&&r||0,i=t||new Array(16);e=e||{};var s=e.node||Jg,o=e.clockseq!==void 0?e.clockseq:ch;if(s==null||o==null){var a=e.random||(e.rng||Xg)();s==null&&(s=Jg=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=ch=(a[6]<<8|a[7])&16383)}var c=e.msecs!==void 0?e.msecs:Date.now(),u=e.nsecs!==void 0?e.nsecs:uh+1,l=c-fh+(u-uh)/1e4;if(l<0&&e.clockseq===void 0&&(o=o+1&16383),(l<0||c>fh)&&e.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");fh=c,uh=u,ch=o,c+=122192928e5;var y=((c&268435455)*1e4+u)%4294967296;i[n++]=y>>>24&255,i[n++]=y>>>16&255,i[n++]=y>>>8&255,i[n++]=y&255;var A=c/4294967296*1e4&268435455;i[n++]=A>>>8&255,i[n++]=A&255,i[n++]=A>>>24&15|16,i[n++]=A>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var v=0;v<6;++v)i[n+v]=s[v];return t||Sf(i)}function Qg(e){if(!xf(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}function JS(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var QS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",e3="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function e1(e,t,r){function n(i,s,o,a){if(typeof i=="string"&&(i=JS(i)),typeof s=="string"&&(s=Qg(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(s),c.set(i,s.length),c=r(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,o){a=a||0;for(var u=0;u<16;++u)o[a+u]=c[u];return o}return Sf(c)}try{n.name=e}catch{}return n.DNS=QS,n.URL=e3,n}function t3(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return r3(n3(i3(e),e.length*8))}function r3(e){for(var t=[],r=e.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var s=e[i>>5]>>>i%32&255,o=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);t.push(o)}return t}function t1(e){return(e+64>>>9<<4)+14+1}function n3(e,t){e[t>>5]|=128<<t%32,e[t1(t)-1]=t;for(var r=1732584193,n=-271733879,i=-1732584194,s=271733878,o=0;o<e.length;o+=16){var a=r,c=n,u=i,l=s;r=tn(r,n,i,s,e[o],7,-680876936),s=tn(s,r,n,i,e[o+1],12,-389564586),i=tn(i,s,r,n,e[o+2],17,606105819),n=tn(n,i,s,r,e[o+3],22,-1044525330),r=tn(r,n,i,s,e[o+4],7,-176418897),s=tn(s,r,n,i,e[o+5],12,1200080426),i=tn(i,s,r,n,e[o+6],17,-1473231341),n=tn(n,i,s,r,e[o+7],22,-45705983),r=tn(r,n,i,s,e[o+8],7,1770035416),s=tn(s,r,n,i,e[o+9],12,-1958414417),i=tn(i,s,r,n,e[o+10],17,-42063),n=tn(n,i,s,r,e[o+11],22,-1990404162),r=tn(r,n,i,s,e[o+12],7,1804603682),s=tn(s,r,n,i,e[o+13],12,-40341101),i=tn(i,s,r,n,e[o+14],17,-1502002290),n=tn(n,i,s,r,e[o+15],22,1236535329),r=rn(r,n,i,s,e[o+1],5,-165796510),s=rn(s,r,n,i,e[o+6],9,-1069501632),i=rn(i,s,r,n,e[o+11],14,643717713),n=rn(n,i,s,r,e[o],20,-373897302),r=rn(r,n,i,s,e[o+5],5,-701558691),s=rn(s,r,n,i,e[o+10],9,38016083),i=rn(i,s,r,n,e[o+15],14,-660478335),n=rn(n,i,s,r,e[o+4],20,-405537848),r=rn(r,n,i,s,e[o+9],5,568446438),s=rn(s,r,n,i,e[o+14],9,-1019803690),i=rn(i,s,r,n,e[o+3],14,-187363961),n=rn(n,i,s,r,e[o+8],20,1163531501),r=rn(r,n,i,s,e[o+13],5,-1444681467),s=rn(s,r,n,i,e[o+2],9,-51403784),i=rn(i,s,r,n,e[o+7],14,1735328473),n=rn(n,i,s,r,e[o+12],20,-1926607734),r=nn(r,n,i,s,e[o+5],4,-378558),s=nn(s,r,n,i,e[o+8],11,-2022574463),i=nn(i,s,r,n,e[o+11],16,1839030562),n=nn(n,i,s,r,e[o+14],23,-35309556),r=nn(r,n,i,s,e[o+1],4,-1530992060),s=nn(s,r,n,i,e[o+4],11,1272893353),i=nn(i,s,r,n,e[o+7],16,-155497632),n=nn(n,i,s,r,e[o+10],23,-1094730640),r=nn(r,n,i,s,e[o+13],4,681279174),s=nn(s,r,n,i,e[o],11,-358537222),i=nn(i,s,r,n,e[o+3],16,-722521979),n=nn(n,i,s,r,e[o+6],23,76029189),r=nn(r,n,i,s,e[o+9],4,-640364487),s=nn(s,r,n,i,e[o+12],11,-421815835),i=nn(i,s,r,n,e[o+15],16,530742520),n=nn(n,i,s,r,e[o+2],23,-995338651),r=sn(r,n,i,s,e[o],6,-198630844),s=sn(s,r,n,i,e[o+7],10,1126891415),i=sn(i,s,r,n,e[o+14],15,-1416354905),n=sn(n,i,s,r,e[o+5],21,-57434055),r=sn(r,n,i,s,e[o+12],6,1700485571),s=sn(s,r,n,i,e[o+3],10,-1894986606),i=sn(i,s,r,n,e[o+10],15,-1051523),n=sn(n,i,s,r,e[o+1],21,-2054922799),r=sn(r,n,i,s,e[o+8],6,1873313359),s=sn(s,r,n,i,e[o+15],10,-30611744),i=sn(i,s,r,n,e[o+6],15,-1560198380),n=sn(n,i,s,r,e[o+13],21,1309151649),r=sn(r,n,i,s,e[o+4],6,-145523070),s=sn(s,r,n,i,e[o+11],10,-1120210379),i=sn(i,s,r,n,e[o+2],15,718787259),n=sn(n,i,s,r,e[o+9],21,-343485551),r=os(r,a),n=os(n,c),i=os(i,u),s=os(s,l)}return[r,n,i,s]}function i3(e){if(e.length===0)return[];for(var t=e.length*8,r=new Uint32Array(t1(t)),n=0;n<t;n+=8)r[n>>5]|=(e[n/8]&255)<<n%32;return r}function os(e,t){var r=(e&65535)+(t&65535),n=(e>>16)+(t>>16)+(r>>16);return n<<16|r&65535}function s3(e,t){return e<<t|e>>>32-t}function Af(e,t,r,n,i,s){return os(s3(os(os(t,e),os(n,s)),i),r)}function tn(e,t,r,n,i,s,o){return Af(t&r|~t&n,e,t,i,s,o)}function rn(e,t,r,n,i,s,o){return Af(t&n|r&~n,e,t,i,s,o)}function nn(e,t,r,n,i,s,o){return Af(t^r^n,e,t,i,s,o)}function sn(e,t,r,n,i,s,o){return Af(r^(t|~n),e,t,i,s,o)}var o3=e1("v3",48,t3),a3=o3;function c3(e,t,r){e=e||{};var n=e.random||(e.rng||Xg)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return Sf(n)}function f3(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function lh(e,t){return e<<t|e>>>32-t}function u3(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var s=e.length/4+2,o=Math.ceil(s/16),a=new Array(o),c=0;c<o;++c){for(var u=new Uint32Array(16),l=0;l<16;++l)u[l]=e[c*64+l*4]<<24|e[c*64+l*4+1]<<16|e[c*64+l*4+2]<<8|e[c*64+l*4+3];a[c]=u}a[o-1][14]=(e.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(e.length-1)*8&4294967295;for(var y=0;y<o;++y){for(var A=new Uint32Array(80),v=0;v<16;++v)A[v]=a[y][v];for(var R=16;R<80;++R)A[R]=lh(A[R-3]^A[R-8]^A[R-14]^A[R-16],1);for(var O=r[0],P=r[1],H=r[2],F=r[3],N=r[4],$=0;$<80;++$){var q=Math.floor($/20),G=lh(O,5)+f3(q,P,H,F)+N+t[q]+A[$]>>>0;N=F,F=H,H=lh(P,30)>>>0,P=O,O=G}r[0]=r[0]+O>>>0,r[1]=r[1]+P>>>0,r[2]=r[2]+H>>>0,r[3]=r[3]+F>>>0,r[4]=r[4]+N>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var l3=e1("v5",80,u3),h3=l3,d3="00000000-0000-0000-0000-000000000000";function p3(e){if(!xf(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var g3=Object.freeze({__proto__:null,v1:XS,v3:a3,v4:c3,v5:h3,NIL:d3,version:p3,validate:xf,stringify:Sf,parse:Qg}),r1=Un(g3);const y3=r1.v4;var w3=function(e,t,r,n){if(typeof e!="string")throw new TypeError(e+" must be a string");n=n||{};const i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:e};if(i===2&&(s.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");s.params=t}if(typeof r>"u"){const o=typeof n.generator=="function"?n.generator:function(){return y3()};s.id=o(s,n)}else i===2&&r===null?n.notificationIdNull&&(s.id=null):s.id=r;return s};const m3=r1.v4,b3=w3,Da=function(e,t){if(!(this instanceof Da))return new Da(e,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return m3()},version:typeof t.version<"u"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=e};var v3=Da;Da.prototype.request=function(e,t,r,n){const i=this;let s=null;const o=Array.isArray(e)&&typeof t=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&e&&typeof e=="object"&&typeof t=="function")n=t,s=e;else{typeof r=="function"&&(n=r,r=void 0);const u=typeof n=="function";try{s=b3(e,t,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(l){if(u)return n(l);throw l}if(!u)return s}let c;try{c=JSON.stringify(s,this.options.replacer)}catch(u){return n(u)}return this.callServer(c,function(u,l){i._parseResponse(u,l,n)}),s},Da.prototype._parseResponse=function(e,t,r){if(e){r(e);return}if(!t)return r();let n;try{n=JSON.parse(t,this.options.reviver)}catch(i){return r(i)}if(r.length===3)if(Array.isArray(n)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return r(null,n.filter(i),n.filter(s))}else return r(null,n.error,n.result);r(null,n)};var n1={},hh={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,l){this.fn=c,this.context=u,this.once=l||!1}function s(c,u,l,y,A){if(typeof l!="function")throw new TypeError("The listener must be a function");var v=new i(l,y||c,A),R=r?r+u:u;return c._events[R]?c._events[R].fn?c._events[R]=[c._events[R],v]:c._events[R].push(v):(c._events[R]=v,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],l,y;if(this._eventsCount===0)return u;for(y in l=this._events)t.call(l,y)&&u.push(r?y.slice(1):y);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},a.prototype.listeners=function(u){var l=r?r+u:u,y=this._events[l];if(!y)return[];if(y.fn)return[y.fn];for(var A=0,v=y.length,R=new Array(v);A<v;A++)R[A]=y[A].fn;return R},a.prototype.listenerCount=function(u){var l=r?r+u:u,y=this._events[l];return y?y.fn?1:y.length:0},a.prototype.emit=function(u,l,y,A,v,R){var O=r?r+u:u;if(!this._events[O])return!1;var P=this._events[O],H=arguments.length,F,N;if(P.fn){switch(P.once&&this.removeListener(u,P.fn,void 0,!0),H){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,l),!0;case 3:return P.fn.call(P.context,l,y),!0;case 4:return P.fn.call(P.context,l,y,A),!0;case 5:return P.fn.call(P.context,l,y,A,v),!0;case 6:return P.fn.call(P.context,l,y,A,v,R),!0}for(N=1,F=new Array(H-1);N<H;N++)F[N-1]=arguments[N];P.fn.apply(P.context,F)}else{var $=P.length,q;for(N=0;N<$;N++)switch(P[N].once&&this.removeListener(u,P[N].fn,void 0,!0),H){case 1:P[N].fn.call(P[N].context);break;case 2:P[N].fn.call(P[N].context,l);break;case 3:P[N].fn.call(P[N].context,l,y);break;case 4:P[N].fn.call(P[N].context,l,y,A);break;default:if(!F)for(q=1,F=new Array(H-1);q<H;q++)F[q-1]=arguments[q];P[N].fn.apply(P[N].context,F)}}return!0},a.prototype.on=function(u,l,y){return s(this,u,l,y,!1)},a.prototype.once=function(u,l,y){return s(this,u,l,y,!0)},a.prototype.removeListener=function(u,l,y,A){var v=r?r+u:u;if(!this._events[v])return this;if(!l)return o(this,v),this;var R=this._events[v];if(R.fn)R.fn===l&&(!A||R.once)&&(!y||R.context===y)&&o(this,v);else{for(var O=0,P=[],H=R.length;O<H;O++)(R[O].fn!==l||A&&!R[O].once||y&&R[O].context!==y)&&P.push(R[O]);P.length?this._events[v]=P.length===1?P[0]:P:o(this,v)}return this},a.prototype.removeAllListeners=function(u){var l;return u?(l=r?r+u:u,this._events[l]&&o(this,l)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a})(hh);var Oo={};Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.createError=Oo.DefaultDataPack=void 0;const _3=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]);class E3{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}}Oo.DefaultDataPack=E3;function x3(e,t){const r={code:e,message:_3.get(e)||"Internal Server Error"};return t&&(r.data=t),r}Oo.createError=x3,Object.defineProperty(n1,"__esModule",{value:!0});const S3=hh.exports,A3=Oo;class B3 extends S3.EventEmitter{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(t,r="ws://localhost:8080",{autoconnect:n=!0,reconnect:i=!0,reconnect_interval:s=1e3,max_reconnects:o=5,...a}={},c,u){super(),this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=n,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=o,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=c||(()=>++this.rpc_id),u?this.dataPack=u:this.dataPack=new A3.DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,r,n,i){return!i&&typeof n=="object"&&(i=n,n=null),new Promise((s,o)=>{if(!this.ready)return o(new Error("socket not ready"));const a=this.generate_request_id(t,r),c={jsonrpc:"2.0",method:t,params:r||void 0,id:a};this.socket.send(this.dataPack.encode(c),i,u=>{if(u)return o(u);this.queue[a]={promise:[s,o]},n&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],o(new Error("reply timeout"))},n))})})}async login(t){const r=await this.call("rpc.login",t);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(t,r){return new Promise((n,i)=>{if(!this.ready)return i(new Error("socket not ready"));const s={jsonrpc:"2.0",method:t,params:r};this.socket.send(this.dataPack.encode(s),o=>{if(o)return i(o);n()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.on",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+r[t]);return r}async unsubscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.off",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+r);return r}close(t,r){this.socket.close(t||1e3,r)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,r),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=ie.Buffer.from(n).toString());try{n=this.dataPack.decode(n)}catch{return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);const i=[n.notification];if(n.params.constructor===Object)i.push(n.params);else for(let s=0;s<n.params.length;s++)i.push(n.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n?.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",n,i),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,r),this.reconnect_interval)))})}}var I3=n1.default=B3,i1={};Object.defineProperty(i1,"__esModule",{value:!0});const R3=hh.exports;class T3 extends R3.EventEmitter{socket;constructor(t,r,n){super(),this.socket=new window.WebSocket(t,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=i=>this.emit("message",i.data),this.socket.onerror=i=>this.emit("error",i),this.socket.onclose=i=>{this.emit("close",i.code,i.reason)}}send(t,r,n){const i=n||r;try{this.socket.send(t),i()}catch(s){i(s)}}close(t,r){this.socket.close(t,r)}addEventListener(t,r,n){this.socket.addEventListener(t,r,n)}}function k3(e,t){return new T3(e,t)}var C3=i1.default=k3;const L3=[],$3=BigInt(0),Ha=BigInt(1),O3=BigInt(2),M3=BigInt(7),N3=BigInt(256),P3=BigInt(113);for(let e=0,t=Ha,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5];let i=$3;for(let s=0;s<7;s++)t=(t<<Ha^(t>>M3)*P3)%N3,t&O3&&(i^=Ha<<(Ha<<BigInt(s))-Ha);L3.push(i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function U3(e){const t=Fl(e);To(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:F3,hexToBytes:D3}=Fx,Ys={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=Ys;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(n[0]&128)throw new t("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:F3(n),l:e.subarray(r+2)}},toSig(e){const{Err:t}=Ys,r=typeof e=="string"?D3(e):e;Oa(r);let n=r.length;if(n<2||r[0]!=48)throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:i,l:s}=Ys._parseInt(r.subarray(2)),{d:o,l:a}=Ys._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){const t=u=>Number.parseInt(u[0],16)&8?"00"+u:u,r=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},n=t(r(e.s)),i=t(r(e.r)),s=n.length/2,o=i.length/2,a=r(s),c=r(o);return`30${r(o+s+4)}02${c}${i}02${a}${n}`}},Oi=BigInt(0),zn=BigInt(1);BigInt(2);const s1=BigInt(3);BigInt(4);function H3(e){const t=U3(e),{Fp:r}=t,n=t.toBytes||((R,O,P)=>{const H=O.toAffine();return zs(Uint8Array.from([4]),r.toBytes(H.x),r.toBytes(H.y))}),i=t.fromBytes||(R=>{const O=R.subarray(1),P=r.fromBytes(O.subarray(0,r.BYTES)),H=r.fromBytes(O.subarray(r.BYTES,2*r.BYTES));return{x:P,y:H}});function s(R){const{a:O,b:P}=t,H=r.sqr(R),F=r.mul(H,R);return r.add(r.add(F,r.mul(R,O)),P)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function o(R){return typeof R=="bigint"&&Oi<R&&R<t.n}function a(R){if(!o(R))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(R){const{allowedPrivateKeyLengths:O,nByteLength:P,wrapPrivateKey:H,n:F}=t;if(O&&typeof R!="bigint"){if(Ds(R)&&(R=Hs(R)),typeof R!="string"||!O.includes(R.length))throw new Error("Invalid key");R=R.padStart(P*2,"0")}let N;try{N=typeof R=="bigint"?R:js(Cr("private key",R,P))}catch{throw new Error(`private key must be ${P} bytes, hex or bigint, not ${typeof R}`)}return H&&(N=ir(N,F)),a(N),N}const u=new Map;function l(R){if(!(R instanceof y))throw new Error("ProjectivePoint expected")}class y{constructor(O,P,H){if(this.px=O,this.py=P,this.pz=H,O==null||!r.isValid(O))throw new Error("x required");if(P==null||!r.isValid(P))throw new Error("y required");if(H==null||!r.isValid(H))throw new Error("z required")}static fromAffine(O){const{x:P,y:H}=O||{};if(!O||!r.isValid(P)||!r.isValid(H))throw new Error("invalid affine point");if(O instanceof y)throw new Error("projective point not allowed");const F=N=>r.eql(N,r.ZERO);return F(P)&&F(H)?y.ZERO:new y(P,H,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(O){const P=r.invertBatch(O.map(H=>H.pz));return O.map((H,F)=>H.toAffine(P[F])).map(y.fromAffine)}static fromHex(O){const P=y.fromAffine(i(Cr("pointHex",O)));return P.assertValidity(),P}static fromPrivateKey(O){return y.BASE.multiply(c(O))}_setWindowSize(O){this._WINDOW_SIZE=O,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:O,y:P}=this.toAffine();if(!r.isValid(O)||!r.isValid(P))throw new Error("bad point: x or y not FE");const H=r.sqr(P),F=s(O);if(!r.eql(H,F))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:O}=this.toAffine();if(r.isOdd)return!r.isOdd(O);throw new Error("Field doesn't support isOdd")}equals(O){l(O);const{px:P,py:H,pz:F}=this,{px:N,py:$,pz:q}=O,G=r.eql(r.mul(P,q),r.mul(N,F)),Z=r.eql(r.mul(H,q),r.mul($,F));return G&&Z}negate(){return new y(this.px,r.neg(this.py),this.pz)}double(){const{a:O,b:P}=t,H=r.mul(P,s1),{px:F,py:N,pz:$}=this;let q=r.ZERO,G=r.ZERO,Z=r.ZERO,z=r.mul(F,F),ee=r.mul(N,N),se=r.mul($,$),Q=r.mul(F,N);return Q=r.add(Q,Q),Z=r.mul(F,$),Z=r.add(Z,Z),q=r.mul(O,Z),G=r.mul(H,se),G=r.add(q,G),q=r.sub(ee,G),G=r.add(ee,G),G=r.mul(q,G),q=r.mul(Q,q),Z=r.mul(H,Z),se=r.mul(O,se),Q=r.sub(z,se),Q=r.mul(O,Q),Q=r.add(Q,Z),Z=r.add(z,z),z=r.add(Z,z),z=r.add(z,se),z=r.mul(z,Q),G=r.add(G,z),se=r.mul(N,$),se=r.add(se,se),z=r.mul(se,Q),q=r.sub(q,z),Z=r.mul(se,ee),Z=r.add(Z,Z),Z=r.add(Z,Z),new y(q,G,Z)}add(O){l(O);const{px:P,py:H,pz:F}=this,{px:N,py:$,pz:q}=O;let G=r.ZERO,Z=r.ZERO,z=r.ZERO;const ee=t.a,se=r.mul(t.b,s1);let Q=r.mul(P,N),I=r.mul(H,$),g=r.mul(F,q),f=r.add(P,H),h=r.add(N,$);f=r.mul(f,h),h=r.add(Q,I),f=r.sub(f,h),h=r.add(P,F);let m=r.add(N,q);return h=r.mul(h,m),m=r.add(Q,g),h=r.sub(h,m),m=r.add(H,F),G=r.add($,q),m=r.mul(m,G),G=r.add(I,g),m=r.sub(m,G),z=r.mul(ee,h),G=r.mul(se,g),z=r.add(G,z),G=r.sub(I,z),z=r.add(I,z),Z=r.mul(G,z),I=r.add(Q,Q),I=r.add(I,Q),g=r.mul(ee,g),h=r.mul(se,h),I=r.add(I,g),g=r.sub(Q,g),g=r.mul(ee,g),h=r.add(h,g),Q=r.mul(I,h),Z=r.add(Z,Q),Q=r.mul(m,h),G=r.mul(f,G),G=r.sub(G,Q),Q=r.mul(f,I),z=r.mul(m,z),z=r.add(z,Q),new y(G,Z,z)}subtract(O){return this.add(O.negate())}is0(){return this.equals(y.ZERO)}wNAF(O){return v.wNAFCached(this,u,O,P=>{const H=r.invertBatch(P.map(F=>F.pz));return P.map((F,N)=>F.toAffine(H[N])).map(y.fromAffine)})}multiplyUnsafe(O){const P=y.ZERO;if(O===Oi)return P;if(a(O),O===zn)return this;const{endo:H}=t;if(!H)return v.unsafeLadder(this,O);let{k1neg:F,k1:N,k2neg:$,k2:q}=H.splitScalar(O),G=P,Z=P,z=this;for(;N>Oi||q>Oi;)N&zn&&(G=G.add(z)),q&zn&&(Z=Z.add(z)),z=z.double(),N>>=zn,q>>=zn;return F&&(G=G.negate()),$&&(Z=Z.negate()),Z=new y(r.mul(Z.px,H.beta),Z.py,Z.pz),G.add(Z)}multiply(O){a(O);let P=O,H,F;const{endo:N}=t;if(N){const{k1neg:$,k1:q,k2neg:G,k2:Z}=N.splitScalar(P);let{p:z,f:ee}=this.wNAF(q),{p:se,f:Q}=this.wNAF(Z);z=v.constTimeNegate($,z),se=v.constTimeNegate(G,se),se=new y(r.mul(se.px,N.beta),se.py,se.pz),H=z.add(se),F=ee.add(Q)}else{const{p:$,f:q}=this.wNAF(P);H=$,F=q}return y.normalizeZ([H,F])[0]}multiplyAndAddUnsafe(O,P,H){const F=y.BASE,N=(q,G)=>G===Oi||G===zn||!q.equals(F)?q.multiplyUnsafe(G):q.multiply(G),$=N(this,P).add(N(O,H));return $.is0()?void 0:$}toAffine(O){const{px:P,py:H,pz:F}=this,N=this.is0();O==null&&(O=N?r.ONE:r.inv(F));const $=r.mul(P,O),q=r.mul(H,O),G=r.mul(F,O);if(N)return{x:r.ZERO,y:r.ZERO};if(!r.eql(G,r.ONE))throw new Error("invZ was invalid");return{x:$,y:q}}isTorsionFree(){const{h:O,isTorsionFree:P}=t;if(O===zn)return!0;if(P)return P(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:O,clearCofactor:P}=t;return O===zn?this:P?P(y,this):this.multiplyUnsafe(t.h)}toRawBytes(O=!0){return this.assertValidity(),n(y,this,O)}toHex(O=!0){return Hs(this.toRawBytes(O))}}y.BASE=new y(t.Gx,t.Gy,r.ONE),y.ZERO=new y(r.ZERO,r.ONE,r.ZERO);const A=t.nBitLength,v=yg(y,t.endo?Math.ceil(A/2):A);return{CURVE:t,ProjectivePoint:y,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:o}}function j3(e){const t=Fl(e);return To(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function z3(e){const t=j3(e),{Fp:r,n}=t,i=r.BYTES+1,s=2*r.BYTES+1;function o(h){return Oi<h&&h<r.ORDER}function a(h){return ir(h,n)}function c(h){return Pl(h,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:y,isWithinCurveOrder:A}=H3({...t,toBytes(h,m,_){const E=m.toAffine(),x=r.toBytes(E.x),T=zs;return _?T(Uint8Array.from([m.hasEvenY()?2:3]),x):T(Uint8Array.from([4]),x,r.toBytes(E.y))},fromBytes(h){const m=h.length,_=h[0],E=h.subarray(1);if(m===i&&(_===2||_===3)){const x=js(E);if(!o(x))throw new Error("Point is not on curve");const T=y(x);let B;try{B=r.sqrt(T)}catch(W){const K=W instanceof Error?": "+W.message:"";throw new Error("Point is not on curve"+K)}const d=(B&zn)===zn;return(_&1)===1!==d&&(B=r.neg(B)),{x,y:B}}else if(m===s&&_===4){const x=r.fromBytes(E.subarray(0,r.BYTES)),T=r.fromBytes(E.subarray(r.BYTES,2*r.BYTES));return{x,y:T}}else throw new Error(`Point of length ${m} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),v=h=>Hs(Ro(h,t.nByteLength));function R(h){const m=n>>zn;return h>m}function O(h){return R(h)?a(-h):h}const P=(h,m,_)=>js(h.slice(m,_));class H{constructor(m,_,E){this.r=m,this.s=_,this.recovery=E,this.assertValidity()}static fromCompact(m){const _=t.nByteLength;return m=Cr("compactSignature",m,_*2),new H(P(m,0,_),P(m,_,2*_))}static fromDER(m){const{r:_,s:E}=Ys.toSig(Cr("DER",m));return new H(_,E)}assertValidity(){if(!A(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!A(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(m){return new H(this.r,this.s,m)}recoverPublicKey(m){const{r:_,s:E,recovery:x}=this,T=Z(Cr("msgHash",m));if(x==null||![0,1,2,3].includes(x))throw new Error("recovery id invalid");const B=x===2||x===3?_+t.n:_;if(B>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=x&1?"03":"02",k=u.fromHex(d+v(B)),W=c(B),K=a(-T*W),re=a(E*W),xe=u.BASE.multiplyAndAddUnsafe(k,K,re);if(!xe)throw new Error("point at infinify");return xe.assertValidity(),xe}hasHighS(){return R(this.s)}normalizeS(){return this.hasHighS()?new H(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Bo(this.toDERHex())}toDERHex(){return Ys.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Bo(this.toCompactHex())}toCompactHex(){return v(this.r)+v(this.s)}}const F={isValidPrivateKey(h){try{return l(h),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const h=gg(t.n);return Yx(t.randomBytes(h),t.n)},precompute(h=8,m=u.BASE){return m._setWindowSize(h),m.multiply(BigInt(3)),m}};function N(h,m=!0){return u.fromPrivateKey(h).toRawBytes(m)}function $(h){const m=Ds(h),_=typeof h=="string",E=(m||_)&&h.length;return m?E===i||E===s:_?E===2*i||E===2*s:h instanceof u}function q(h,m,_=!0){if($(h))throw new Error("first arg must be private key");if(!$(m))throw new Error("second arg must be public key");return u.fromHex(m).multiply(l(h)).toRawBytes(_)}const G=t.bits2int||function(h){const m=js(h),_=h.length*8-t.nBitLength;return _>0?m>>BigInt(_):m},Z=t.bits2int_modN||function(h){return a(G(h))},z=Ol(t.nBitLength);function ee(h){if(typeof h!="bigint")throw new Error("bigint expected");if(!(Oi<=h&&h<z))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Ro(h,t.nByteLength)}function se(h,m,_=Q){if(["recovered","canonical"].some(ge=>ge in _))throw new Error("sign() legacy options not supported");const{hash:E,randomBytes:x}=t;let{lowS:T,prehash:B,extraEntropy:d}=_;T==null&&(T=!0),h=Cr("msgHash",h),B&&(h=Cr("prehashed msgHash",E(h)));const k=Z(h),W=l(m),K=[ee(W),ee(k)];if(d!=null&&d!==!1){const ge=d===!0?x(r.BYTES):d;K.push(Cr("extraEntropy",ge))}const re=zs(...K),xe=k;function be(ge){const tt=G(ge);if(!A(tt))return;const Ue=c(tt),Pe=u.BASE.multiply(tt).toAffine(),pe=a(Pe.x);if(pe===Oi)return;const we=a(Ue*a(xe+pe*W));if(we===Oi)return;let ke=(Pe.x===pe?0:2)|Number(Pe.y&zn),vt=we;return T&&R(we)&&(vt=O(we),ke^=1),new H(pe,vt,ke)}return{seed:re,k2sig:be}}const Q={lowS:t.lowS,prehash:!1},I={lowS:t.lowS,prehash:!1};function g(h,m,_=Q){const{seed:E,k2sig:x}=se(h,m,_),T=t;return fg(T.hash.outputLen,T.nByteLength,T.hmac)(E,x)}u.BASE._setWindowSize(8);function f(h,m,_,E=I){const x=h;if(m=Cr("msgHash",m),_=Cr("publicKey",_),"strict"in E)throw new Error("options.strict was renamed to lowS");const{lowS:T,prehash:B}=E;let d,k;try{if(typeof x=="string"||Ds(x))try{d=H.fromDER(x)}catch(Pe){if(!(Pe instanceof Ys.Err))throw Pe;d=H.fromCompact(x)}else if(typeof x=="object"&&typeof x.r=="bigint"&&typeof x.s=="bigint"){const{r:Pe,s:pe}=x;d=new H(Pe,pe)}else throw new Error("PARSE");k=u.fromHex(_)}catch(Pe){if(Pe.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(T&&d.hasHighS())return!1;B&&(m=t.hash(m));const{r:W,s:K}=d,re=Z(m),xe=c(K),be=a(re*xe),ge=a(W*xe),tt=u.BASE.multiplyAndAddUnsafe(k,be,ge)?.toAffine();return tt?a(tt.x)===W:!1}return{CURVE:t,getPublicKey:N,getSharedSecret:q,sign:g,verify:f,ProjectivePoint:u,Signature:H,utils:F}}class o1 extends Qp{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,ax(t);const n=Cl(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?t.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(t){return af(this),this.iHash.update(t),this}digestInto(t){af(this),of(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const a1=(e,t,r)=>new o1(e,t).update(r).digest();a1.create=(e,t)=>new o1(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function q3(e){return{hash:e,hmac:(t,...r)=>a1(e,t,Jp(...r)),randomBytes:tg}}function V3(e,t){const r=n=>z3({...e,...q3(n)});return Object.freeze({...r(t),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const c1=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),f1=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),W3=BigInt(1),dh=BigInt(2),u1=(e,t)=>(e+t/dh)/t;function K3(e){const t=c1,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,y=wr(l,r,t)*l%t,A=wr(y,r,t)*l%t,v=wr(A,dh,t)*u%t,R=wr(v,i,t)*v%t,O=wr(R,s,t)*R%t,P=wr(O,a,t)*O%t,H=wr(P,c,t)*P%t,F=wr(H,a,t)*O%t,N=wr(F,r,t)*l%t,$=wr(N,o,t)*R%t,q=wr($,n,t)*u%t,G=wr(q,dh,t);if(!ph.eql(ph.sqr(G),e))throw new Error("Cannot find square root");return G}const ph=dg(c1,void 0,void 0,{sqrt:K3}),gh=V3({a:BigInt(0),b:BigInt(7),Fp:ph,n:f1,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=f1,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-W3*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=u1(s*e,t),c=u1(-n*e,t);let u=ir(e-a*r-c*i,t),l=ir(-a*n-c*s,t);const y=u>o,A=l>o;if(y&&(u=t-u),A&&(l=t-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:y,k1:u,k2neg:A,k2:l}}}},Vl);BigInt(0),gh.ProjectivePoint,lf.utils.randomPrivateKey;function l1(e){try{return lf.ExtendedPoint.fromHex(e),!0}catch{return!1}}const h1=(e,t)=>lf.sign(e,t.slice(0,32)),Z3=lf.verify,Mo=e=>ie.Buffer.isBuffer(e)?e:e instanceof Uint8Array?ie.Buffer.from(e.buffer,e.byteOffset,e.byteLength):ie.Buffer.from(e);class G3{constructor(t){Object.assign(this,t)}encode(){return ie.Buffer.from(Tg(Bf,this))}static decode(t){return kg(Bf,this,t)}static decodeUnchecked(t){return Sg(Bf,this,t)}}const Bf=new Map;var d1;const Y3=32,as=32;function X3(e){return e._bn!==void 0}let p1=1;class et extends G3{constructor(t){if(super({}),this._bn=void 0,X3(t))this._bn=t._bn;else{if(typeof t=="string"){const r=Ar.decode(t);if(r.length!=as)throw new Error("Invalid public key input");this._bn=new Eg(r)}else this._bn=new Eg(t);if(this._bn.byteLength()>as)throw new Error("Invalid public key input")}}static unique(){const t=new et(p1);return p1+=1,new et(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Ar.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(ie.Buffer);if(t.length===as)return t;const r=ie.Buffer.alloc(32);return t.copy(r,32-t.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,r,n){const i=ie.Buffer.concat([t.toBuffer(),ie.Buffer.from(r),n.toBuffer()]),s=Vl(i);return new et(s)}static createProgramAddressSync(t,r){let n=ie.Buffer.alloc(0);t.forEach(function(s){if(s.length>Y3)throw new TypeError("Max seed length exceeded");n=ie.Buffer.concat([n,Mo(s)])}),n=ie.Buffer.concat([n,r.toBuffer(),ie.Buffer.from("ProgramDerivedAddress")]);const i=Vl(n);if(l1(i))throw new Error("Invalid seeds, address must fall off the curve");return new et(i)}static async createProgramAddress(t,r){return this.createProgramAddressSync(t,r)}static findProgramAddressSync(t,r){let n=255,i;for(;n!=0;){try{const s=t.concat(ie.Buffer.from([n]));i=this.createProgramAddressSync(s,r)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,r){return this.findProgramAddressSync(t,r)}static isOnCurve(t){const r=new et(t);return l1(r.toBytes())}}d1=et,et.default=new d1("11111111111111111111111111111111"),Bf.set(et,{kind:"struct",fields:[["_bn","u256"]]}),new et("BPFLoader1111111111111111111111111111111111");const No=1280-40-8,yh=127,If=64;class g1 extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(g1.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class y1 extends Error{constructor(t,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(y1.prototype,"name",{value:"TransactionExpiredTimeoutError"});class ja extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(ja.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Rf{constructor(t,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=r}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const r of this.keySegments()){if(t<r.length)return r[t];t-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((s,o)=>{n.set(s.toBase58(),o)});const i=s=>{const o=n.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return t.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const St=(e="publicKey")=>nr(32,e),J3=(e="signature")=>nr(64,e),Po=(e="string")=>{const t=Fe([qe("length"),qe("lengthPadding"),nr(Zs(qe(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t),i=t;return i.decode=(s,o)=>r(s,o).chars.toString(),i.encode=(s,o,a)=>{const c={chars:ie.Buffer.from(s,"utf8")};return n(c,o,a)},i.alloc=s=>qe().span+qe().span+ie.Buffer.from(s,"utf8").length,i},Q3=(e="authorized")=>Fe([St("staker"),St("withdrawer")],e),eA=(e="lockup")=>Fe([In("unixTimestamp"),In("epoch"),St("custodian")],e),tA=(e="voteInit")=>Fe([St("nodePubkey"),St("authorizedVoter"),St("authorizedWithdrawer"),Ut("commission")],e),rA=(e="voteAuthorizeWithSeedArgs")=>Fe([qe("voteAuthorizationType"),St("currentAuthorityDerivedKeyOwnerPubkey"),Po("currentAuthorityDerivedKeySeed"),St("newAuthorized")],e);function Rn(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(n&127)<<r*7,r+=1,!(n&128))break}return t}function Tn(e,t){let r=t;for(;;){let n=r&127;if(r>>=7,r==0){e.push(n);break}else n|=128,e.push(n)}}function sr(e,t){if(!e)throw new Error(t||"Assertion failed")}class Tf{constructor(t,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=r}static compile(t,r){const n=new Map,i=o=>{const a=o.toBase58();let c=n.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,c)),c},s=i(r);s.isSigner=!0,s.isWritable=!0;for(const o of t){i(o.programId).isInvoked=!0;for(const a of o.keys){const c=i(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new Tf(r,n)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];sr(t.length<=256,"Max static account keys length exceeded");const r=t.filter(([,c])=>c.isSigner&&c.isWritable),n=t.filter(([,c])=>c.isSigner&&!c.isWritable),i=t.filter(([,c])=>!c.isSigner&&c.isWritable),s=t.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{sr(r.length>0,"Expected at least one writable signer key");const[c]=r[0];sr(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...r.map(([c])=>new et(c)),...n.map(([c])=>new et(c)),...i.map(([c])=>new et(c)),...s.map(([c])=>new et(c))];return[o,a]}extractTableLookup(t){const[r,n]=this.drainKeysFoundInLookupTable(t.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(t.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:t.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(t,r){const n=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(r(o)){const a=new et(s),c=t.findIndex(u=>u.equals(a));c>=0&&(sr(c<256,"Max lookup table index exceeded"),n.push(c),i.push(a),this.keyMetaMap.delete(s))}return[n,i]}}const w1="Reached end of buffer unexpectedly";function Mi(e){if(e.length===0)throw new Error(w1);return e.shift()}function kn(e,...t){const[r]=t;if(t.length===2?r+(t[1]??0)>e.length:r>=e.length)throw new Error(w1);return e.splice(...t)}class Ni{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(r=>new et(r)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ar.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Rf(this.staticAccountKeys)}static compile(t){const r=Tf.compile(t.instructions,t.payerKey),[n,i]=r.getMessageComponents(),o=new Rf(i).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ar.encode(a.data)}));return new Ni({header:n,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:o})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const r=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const n=t-r,s=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<s}else{const n=r-this.header.numReadonlySignedAccounts;return t<n}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,r)=>!this.isProgramId(r))}serialize(){const t=this.accountKeys.length;let r=[];Tn(r,t);const n=this.instructions.map(y=>{const{accounts:A,programIdIndex:v}=y,R=Array.from(Ar.decode(y.data));let O=[];Tn(O,A.length);let P=[];return Tn(P,R.length),{programIdIndex:v,keyIndicesCount:ie.Buffer.from(O),keyIndices:A,dataLength:ie.Buffer.from(P),data:R}});let i=[];Tn(i,n.length);let s=ie.Buffer.alloc(No);ie.Buffer.from(i).copy(s);let o=i.length;n.forEach(y=>{const v=Fe([Ut("programIdIndex"),nr(y.keyIndicesCount.length,"keyIndicesCount"),en(Ut("keyIndex"),y.keyIndices.length,"keyIndices"),nr(y.dataLength.length,"dataLength"),en(Ut("userdatum"),y.data.length,"data")]).encode(y,s,o);o+=v}),s=s.slice(0,o);const a=Fe([nr(1,"numRequiredSignatures"),nr(1,"numReadonlySignedAccounts"),nr(1,"numReadonlyUnsignedAccounts"),nr(r.length,"keyCount"),en(St("key"),t,"keys"),St("recentBlockhash")]),c={numRequiredSignatures:ie.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:ie.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:ie.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:ie.Buffer.from(r),keys:this.accountKeys.map(y=>Mo(y.toBytes())),recentBlockhash:Ar.decode(this.recentBlockhash)};let u=ie.Buffer.alloc(2048);const l=a.encode(c,u);return s.copy(u,l),u.slice(0,l+s.length)}static from(t){let r=[...t];const n=Mi(r);if(n!==(n&yh))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Mi(r),s=Mi(r),o=Rn(r);let a=[];for(let A=0;A<o;A++){const v=kn(r,0,as);a.push(new et(ie.Buffer.from(v)))}const c=kn(r,0,as),u=Rn(r);let l=[];for(let A=0;A<u;A++){const v=Mi(r),R=Rn(r),O=kn(r,0,R),P=Rn(r),H=kn(r,0,P),F=Ar.encode(ie.Buffer.from(H));l.push({programIdIndex:v,accounts:O,data:F})}const y={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Ar.encode(ie.Buffer.from(c)),accountKeys:a,instructions:l};return new Ni(y)}}class za{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const r of this.addressTableLookups)t+=r.readonlyIndexes.length+r.writableIndexes.length;return t}getAccountKeys(t){let r;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)r=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Rf(this.staticAccountKeys,r)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(t>=n){const i=t-n,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(t>=this.header.numRequiredSignatures){const i=t-r,o=n-r-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=r-this.header.numReadonlySignedAccounts;return t<i}}resolveAddressTableLookups(t){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const i=t.find(s=>s.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const s of n.writableIndexes)if(s<i.state.addresses.length)r.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(const s of n.readonlyIndexes)if(s<i.state.addresses.length)r.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(t){const r=Tf.compile(t.instructions,t.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=t.addressLookupTableAccounts||[];for(const l of s){const y=r.extractTableLookup(l);if(y!==void 0){const[A,{writable:v,readonly:R}]=y;n.push(A),i.writable.push(...v),i.readonly.push(...R)}}const[o,a]=r.getMessageComponents(),u=new Rf(a,i).compileInstructions(t.instructions);return new za({header:o,staticAccountKeys:a,recentBlockhash:t.recentBlockhash,compiledInstructions:u,addressTableLookups:n})}serialize(){const t=Array();Tn(t,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();Tn(n,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();Tn(s,this.addressTableLookups.length);const o=Fe([Ut("prefix"),Fe([Ut("numRequiredSignatures"),Ut("numReadonlySignedAccounts"),Ut("numReadonlyUnsignedAccounts")],"header"),nr(t.length,"staticAccountKeysLength"),en(St(),this.staticAccountKeys.length,"staticAccountKeys"),St("recentBlockhash"),nr(n.length,"instructionsLength"),nr(r.length,"serializedInstructions"),nr(s.length,"addressTableLookupsLength"),nr(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(No),c=128,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ar.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,u)}serializeInstructions(){let t=0;const r=new Uint8Array(No);for(const n of this.compiledInstructions){const i=Array();Tn(i,n.accountKeyIndexes.length);const s=Array();Tn(s,n.data.length);const o=Fe([Ut("programIdIndex"),nr(i.length,"encodedAccountKeyIndexesLength"),en(Ut(),n.accountKeyIndexes.length,"accountKeyIndexes"),nr(s.length,"encodedDataLength"),nr(n.data.length,"data")]);t+=o.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},r,t)}return r.slice(0,t)}serializeAddressTableLookups(){let t=0;const r=new Uint8Array(No);for(const n of this.addressTableLookups){const i=Array();Tn(i,n.writableIndexes.length);const s=Array();Tn(s,n.readonlyIndexes.length);const o=Fe([St("accountKey"),nr(i.length,"encodedWritableIndexesLength"),en(Ut(),n.writableIndexes.length,"writableIndexes"),nr(s.length,"encodedReadonlyIndexesLength"),en(Ut(),n.readonlyIndexes.length,"readonlyIndexes")]);t+=o.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},r,t)}return r.slice(0,t)}static deserialize(t){let r=[...t];const n=Mi(r),i=n&yh;sr(n!==i,"Expected versioned message but received legacy message");const s=i;sr(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:Mi(r),numReadonlySignedAccounts:Mi(r),numReadonlyUnsignedAccounts:Mi(r)},a=[],c=Rn(r);for(let R=0;R<c;R++)a.push(new et(kn(r,0,as)));const u=Ar.encode(kn(r,0,as)),l=Rn(r),y=[];for(let R=0;R<l;R++){const O=Mi(r),P=Rn(r),H=kn(r,0,P),F=Rn(r),N=new Uint8Array(kn(r,0,F));y.push({programIdIndex:O,accountKeyIndexes:H,data:N})}const A=Rn(r),v=[];for(let R=0;R<A;R++){const O=new et(kn(r,0,as)),P=Rn(r),H=kn(r,0,P),F=Rn(r),N=kn(r,0,F);v.push({accountKey:O,writableIndexes:H,readonlyIndexes:N})}return new za({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:y,addressTableLookups:v})}}const m1={deserializeMessageVersion(e){const t=e[0],r=t&yh;return r===t?"legacy":r},deserialize:e=>{const t=m1.deserializeMessageVersion(e);if(t==="legacy")return Ni.from(e);if(t===0)return za.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let cs=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const nA=ie.Buffer.alloc(If).fill(0);class b1{constructor(t){this.keys=void 0,this.programId=void 0,this.data=ie.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:r,isWritable:n})=>({pubkey:t.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class fs{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=t;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=t;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new b1(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,r;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(t=this.recentBlockhash,r=this.instructions),!t)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let O=0;O<r.length;O++)if(r[O].programId===void 0)throw new Error(`Transaction instruction index ${O} has undefined program id`);const i=[],s=[];r.forEach(O=>{O.keys.forEach(H=>{s.push({...H})});const P=O.programId.toString();i.includes(P)||i.push(P)}),i.forEach(O=>{s.push({pubkey:new et(O),isSigner:!1,isWritable:!1})});const o=[];s.forEach(O=>{const P=O.pubkey.toString(),H=o.findIndex(F=>F.pubkey.toString()===P);H>-1?(o[H].isWritable=o[H].isWritable||O.isWritable,o[H].isSigner=o[H].isSigner||O.isSigner):o.push(O)}),o.sort(function(O,P){if(O.isSigner!==P.isSigner)return O.isSigner?-1:1;if(O.isWritable!==P.isWritable)return O.isWritable?-1:1;const H={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return O.pubkey.toBase58().localeCompare(P.pubkey.toBase58(),"en",H)});const a=o.findIndex(O=>O.pubkey.equals(n));if(a>-1){const[O]=o.splice(a,1);O.isSigner=!0,O.isWritable=!0,o.unshift(O)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const O of this.signatures){const P=o.findIndex(H=>H.pubkey.equals(O.publicKey));if(P>-1)o[P].isSigner||(o[P].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${O.publicKey.toString()}`)}let c=0,u=0,l=0;const y=[],A=[];o.forEach(({pubkey:O,isSigner:P,isWritable:H})=>{P?(y.push(O.toString()),c+=1,H||(u+=1)):(A.push(O.toString()),H||(l+=1))});const v=y.concat(A),R=r.map(O=>{const{data:P,programId:H}=O;return{programIdIndex:v.indexOf(H.toString()),accounts:O.keys.map(F=>v.indexOf(F.pubkey.toString())),data:Ar.encode(P)}});return R.forEach(O=>{sr(O.programIdIndex>=0),O.accounts.forEach(P=>sr(P>=0))}),new Ni({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:v,recentBlockhash:t,instructions:R})}_compile(){const t=this.compileMessage(),r=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,s)=>r[s].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const r=new Set;this.signatures=t.filter(n=>{const i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...t){if(t.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of t){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...n)}partialSign(...t){if(t.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of t){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}const i=this._compile();this._partialSign(i,...n)}_partialSign(t,...r){const n=t.serialize();r.forEach(i=>{const s=h1(n,i.secretKey);this._addSignature(i.publicKey,Mo(s))})}addSignature(t,r){this._compile(),this._addSignature(t,r)}_addSignature(t,r){sr(r.length===64);const n=this.signatures.findIndex(i=>t.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=ie.Buffer.from(r)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,r){const n={};for(const{signature:i,publicKey:s}of this.signatures)i===null?r&&(n.missing||=[]).push(s):Z3(i,t,s.toBytes())||(n.invalid||=[]).push(s);return n.invalid||n.missing?n:void 0}serialize(t){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=this.serializeMessage();if(n){const s=this._getMessageSignednessErrors(i,r);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(t){const{signatures:r}=this,n=[];Tn(n,r.length);const i=n.length+r.length*64+t.length,s=ie.Buffer.alloc(i);return sr(r.length<256),ie.Buffer.from(n).copy(s,0),r.forEach(({signature:o},a)=>{o!==null&&(sr(o.length===64,"signature has invalid length"),ie.Buffer.from(o).copy(s,n.length+a*64))}),t.copy(s,n.length+r.length*64),sr(s.length<=No,`Transaction too large: ${s.length} > ${No}`),s}get keys(){return sr(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return sr(this.instructions.length===1),this.instructions[0].programId}get data(){return sr(this.instructions.length===1),this.instructions[0].data}static from(t){let r=[...t];const n=Rn(r);let i=[];for(let s=0;s<n;s++){const o=kn(r,0,If);i.push(Ar.encode(ie.Buffer.from(o)))}return fs.populate(Ni.from(r),i)}static populate(t,r=[]){const n=new fs;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),r.forEach((i,s)=>{const o={signature:i==Ar.encode(nA)?null:Ar.decode(i),publicKey:t.accountKeys[s]};n.signatures.push(o)}),t.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=t.accountKeys[o];return{pubkey:a,isSigner:n.signatures.some(c=>c.publicKey.toString()===a.toString())||t.isAccountSigner(o),isWritable:t.isAccountWritable(o)}});n.instructions.push(new b1({keys:s,programId:t.accountKeys[i.programIdIndex],data:Ar.decode(i.data)}))}),n._message=t,n._json=n.toJSON(),n}}class qa{get version(){return this.message.version}constructor(t,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)sr(r.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{const n=[];for(let i=0;i<t.header.numRequiredSignatures;i++)n.push(new Uint8Array(If));this.signatures=n}this.message=t}serialize(){const t=this.message.serialize(),r=Array();Tn(r,this.signatures.length);const n=Fe([nr(r.length,"encodedSignaturesLength"),en(J3(),this.signatures.length,"signatures"),nr(t.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:t},i);return i.slice(0,s)}static deserialize(t){let r=[...t];const n=[],i=Rn(r);for(let o=0;o<i;o++)n.push(new Uint8Array(kn(r,0,If)));const s=m1.deserialize(new Uint8Array(r));return new qa(s,n)}sign(t){const r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of t){const s=n.findIndex(o=>o.equals(i.publicKey));sr(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=h1(r,i.secretKey)}}addSignature(t,r){sr(r.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(t));sr(i>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}}const iA=1e3/(160/64);new et("SysvarC1ock11111111111111111111111111111111"),new et("SysvarEpochSchedu1e111111111111111111111111"),new et("Sysvar1nstructions1111111111111111111111111"),new et("SysvarRecentB1ockHashes11111111111111111111"),new et("SysvarRent111111111111111111111111111111111"),new et("SysvarRewards111111111111111111111111111111"),new et("SysvarS1otHashes111111111111111111111111111"),new et("SysvarS1otHistory11111111111111111111111111"),new et("SysvarStakeHistory1111111111111111111111111");function Uo(e){return new Promise(t=>setTimeout(t,e))}const sA=Gr("lamportsPerSignature"),v1=Fe([qe("version"),qe("state"),St("authorizedPubkey"),St("nonce"),Fe([sA],"feeCalculator")]);v1.span;class wh{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const r=v1.decode(Mo(t),0);return new wh({authorizedPubkey:new et(r.authorizedPubkey),nonce:new et(r.nonce).toString(),feeCalculator:r.feeCalculator})}}const oA=e=>{const t=e.decode.bind(e),r=e.encode.bind(e);return{decode:t,encode:r}},Fo=(e=>t=>{const r=nr(e,t),{encode:n,decode:i}=oA(r),s=r;return s.decode=(o,a)=>{const c=i(o,a);return NS(ie.Buffer.from(c))},s.encode=(o,a,c)=>{const u=FS(o,e);return n(u,a,c)},s})(8);Object.freeze({Create:{index:0,layout:Fe([qe("instruction"),In("lamports"),In("space"),St("programId")])},Assign:{index:1,layout:Fe([qe("instruction"),St("programId")])},Transfer:{index:2,layout:Fe([qe("instruction"),Fo("lamports")])},CreateWithSeed:{index:3,layout:Fe([qe("instruction"),St("base"),Po("seed"),In("lamports"),In("space"),St("programId")])},AdvanceNonceAccount:{index:4,layout:Fe([qe("instruction")])},WithdrawNonceAccount:{index:5,layout:Fe([qe("instruction"),In("lamports")])},InitializeNonceAccount:{index:6,layout:Fe([qe("instruction"),St("authorized")])},AuthorizeNonceAccount:{index:7,layout:Fe([qe("instruction"),St("authorized")])},Allocate:{index:8,layout:Fe([qe("instruction"),In("space")])},AllocateWithSeed:{index:9,layout:Fe([qe("instruction"),St("base"),Po("seed"),In("space"),St("programId")])},AssignWithSeed:{index:10,layout:Fe([qe("instruction"),St("base"),Po("seed"),St("programId")])},TransferWithSeed:{index:11,layout:Fe([qe("instruction"),Fo("lamports"),Po("seed"),St("programId")])},UpgradeNonceAccount:{index:12,layout:Fe([qe("instruction")])}}),new et("11111111111111111111111111111111"),new et("BPFLoader2111111111111111111111111111111111");function aA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cA=Object.prototype.toString,fA=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};function Va(e,t){var r,n,i,s,o,a,c;if(e===!0)return"true";if(e===!1)return"false";switch(typeof e){case"object":if(e===null)return null;if(e.toJSON&&typeof e.toJSON=="function")return Va(e.toJSON(),t);if(c=cA.call(e),c==="[object Array]"){for(i="[",n=e.length-1,r=0;r<n;r++)i+=Va(e[r],!0)+",";return n>-1&&(i+=Va(e[r],!0)),i+"]"}else if(c==="[object Object]"){for(s=fA(e).sort(),n=s.length,i="",r=0;r<n;)o=s[r],a=Va(e[o],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),r++;return"{"+i+"}"}else return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}var uA=function(e){var t=Va(e,!1);if(t!==void 0)return""+t},_1=aA(uA);const Wa=32;function mh(e){let t=0;for(;e>1;)e/=2,t++;return t}function lA(e){return e===0?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e|=e>>32,e+1)}class hA{constructor(t,r,n,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const r=mh(lA(t+Wa+1))-mh(Wa)-1,n=this.getSlotsInEpoch(r),i=t-(n-Wa);return[r,i]}else{const r=t-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,s=r%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*Wa:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+mh(Wa)):this.slotsPerEpoch}}class E1 extends Error{constructor(t,r){super(t),this.logs=void 0,this.logs=r}}class je extends Error{constructor({code:t,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=t,this.data=n,this.name="SolanaJSONRPCError"}}var dA=globalThis.fetch;class pA extends I3{constructor(t,r,n){const i=s=>{const o=C3(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,t,r,n),this.underlyingSocket=void 0}call(...t){const r=this.underlyingSocket?.readyState;return r===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...t){const r=this.underlyingSocket?.readyState;return r===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}}function gA(e,t){let r;try{r=e.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${e.index}`);return r}const x1=56;class S1{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const r=gA(yA,t),n=t.length-x1;sr(n>=0,"lookup table is invalid"),sr(n%32===0,"lookup table is invalid");const i=n/32,{addresses:s}=Fe([en(St(),i,"addresses")]).decode(t.slice(x1));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new et(r.authority[0]):void 0,addresses:s.map(o=>new et(o))}}}const yA={index:1,layout:Fe([qe("typeIndex"),Fo("deactivationSlot"),Gr("lastExtendedSlot"),Ut("lastExtendedStartIndex"),Ut(),en(St(),Zs(Ut(),-1),"authority")])},wA=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function mA(e){const t=e.match(wA);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[r,n,i,s]=t,o=e.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${n}${c}${s}`}const kr=Fa(sh(et),Se(),e=>new et(e)),A1=oh([Se(),dr("base64")]),bh=Fa(sh(ie.Buffer),A1,e=>ie.Buffer.from(e[0],"base64")),bA=30*1e3;function vA(e){if(/^https?:/.test(e)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}function or(e){let t,r;if(typeof e=="string")t=e;else if(e){const{commitment:n,...i}=e;t=n,r=i}return{commitment:t,config:r}}function B1(e){return mn([me({jsonrpc:dr("2.0"),id:Se(),result:e}),me({jsonrpc:dr("2.0"),id:Se(),error:me({code:Ua(),message:Se(),data:Qe(KS())})})])}const _A=B1(Ua());function bt(e){return Fa(B1(e),_A,t=>"error"in t?t:{...t,result:Be(t.result,e)})}function mr(e){return bt(me({context:me({slot:te()}),value:e}))}function kf(e){return me({context:me({slot:te()}),value:e})}function vh(e,t){return e===0?new za({header:t.header,staticAccountKeys:t.accountKeys.map(r=>new et(r)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:Ar.decode(r.data)})),addressTableLookups:t.addressTableLookups}):new Ni(t)}const EA=me({foundation:te(),foundationTerm:te(),initial:te(),taper:te(),terminal:te()}),xA=bt(Ce(Te(me({epoch:te(),effectiveSlot:te(),amount:te(),postBalance:te(),commission:Qe(Te(te()))})))),SA=Ce(me({slot:te(),prioritizationFee:te()})),AA=me({total:te(),validator:te(),foundation:te(),epoch:te()}),BA=me({epoch:te(),slotIndex:te(),slotsInEpoch:te(),absoluteSlot:te(),blockHeight:Qe(te()),transactionCount:Qe(te())}),IA=me({slotsPerEpoch:te(),leaderScheduleSlotOffset:te(),warmup:bi(),firstNormalEpoch:te(),firstNormalSlot:te()}),RA=Yg(Se(),Ce(te())),Xs=Te(mn([me({}),Se()])),TA=me({err:Xs}),kA=dr("receivedSignature"),CA=me({"solana-core":Se(),"feature-set":Qe(te())}),I1=mr(me({err:Te(mn([me({}),Se()])),logs:Te(Ce(Se())),accounts:Qe(Te(Ce(Te(me({executable:bi(),owner:Se(),lamports:te(),data:Ce(Se()),rentEpoch:Qe(te())}))))),unitsConsumed:Qe(te()),returnData:Qe(Te(me({programId:Se(),data:oh([Se(),dr("base64")])})))})),LA=mr(me({byIdentity:Yg(Se(),Ce(te())),range:me({firstSlot:te(),lastSlot:te()})}));function $A(e,t,r,n,i,s){const o=r||dA;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return n&&(c=async(l,y)=>{const A=await new Promise((v,R)=>{try{n(l,y,(O,P)=>v([O,P]))}catch(O){R(O)}});return await o(...A)}),new v3(async(l,y)=>{const A={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},t||{},O6)};try{let v=5,R,O=500;for(;c?R=await c(e,A):R=await o(e,A),!(R.status!==429||i===!0||(v-=1,v===0));)console.error(`Server responded with ${R.status} ${R.statusText}.  Retrying after ${O}ms delay...`),await Uo(O),O*=2;const P=await R.text();R.ok?y(null,P):y(new Error(`${R.status} ${R.statusText}: ${P}`))}catch(v){v instanceof Error&&y(v)}},{})}function OA(e){return(t,r)=>new Promise((n,i)=>{e.request(t,r,(s,o)=>{if(s){i(s);return}n(o)})})}function MA(e){return t=>new Promise((r,n)=>{t.length===0&&r([]);const i=t.map(s=>e.request(s.methodName,s.args));e.request(i,(s,o)=>{if(s){n(s);return}r(o)})})}const NA=bt(EA),PA=bt(AA),UA=bt(SA),FA=bt(BA),DA=bt(IA),HA=bt(RA),jA=bt(te()),zA=mr(me({total:te(),circulating:te(),nonCirculating:te(),nonCirculatingAccounts:Ce(kr)})),_h=me({amount:Se(),uiAmount:Te(te()),decimals:te(),uiAmountString:Qe(Se())}),qA=mr(Ce(me({address:kr,amount:Se(),uiAmount:Te(te()),decimals:te(),uiAmountString:Qe(Se())}))),VA=mr(Ce(me({pubkey:kr,account:me({executable:bi(),owner:kr,lamports:te(),data:bh,rentEpoch:te()})}))),Eh=me({program:Se(),parsed:Ua(),space:te()}),WA=mr(Ce(me({pubkey:kr,account:me({executable:bi(),owner:kr,lamports:te(),data:Eh,rentEpoch:te()})}))),KA=mr(Ce(me({lamports:te(),address:kr}))),Ka=me({executable:bi(),owner:kr,lamports:te(),data:bh,rentEpoch:te()}),ZA=me({pubkey:kr,account:Ka}),GA=Fa(mn([sh(ie.Buffer),Eh]),mn([A1,Eh]),e=>Array.isArray(e)?Be(e,bh):e),xh=me({executable:bi(),owner:kr,lamports:te(),data:GA,rentEpoch:te()}),YA=me({pubkey:kr,account:xh}),XA=me({state:mn([dr("active"),dr("inactive"),dr("activating"),dr("deactivating")]),active:te(),inactive:te()}),JA=bt(Ce(me({signature:Se(),slot:te(),err:Xs,memo:Te(Se()),blockTime:Qe(Te(te()))}))),QA=bt(Ce(me({signature:Se(),slot:te(),err:Xs,memo:Te(Se()),blockTime:Qe(Te(te()))}))),e6=me({subscription:te(),result:kf(Ka)}),t6=me({pubkey:kr,account:Ka}),r6=me({subscription:te(),result:kf(t6)}),n6=me({parent:te(),slot:te(),root:te()}),i6=me({subscription:te(),result:n6}),s6=mn([me({type:mn([dr("firstShredReceived"),dr("completed"),dr("optimisticConfirmation"),dr("root")]),slot:te(),timestamp:te()}),me({type:dr("createdBank"),parent:te(),slot:te(),timestamp:te()}),me({type:dr("frozen"),slot:te(),timestamp:te(),stats:me({numTransactionEntries:te(),numSuccessfulTransactions:te(),numFailedTransactions:te(),maxTransactionsPerEntry:te()})}),me({type:dr("dead"),slot:te(),timestamp:te(),err:Se()})]),o6=me({subscription:te(),result:s6}),a6=me({subscription:te(),result:kf(mn([TA,kA]))}),c6=me({subscription:te(),result:te()}),f6=me({pubkey:Se(),gossip:Te(Se()),tpu:Te(Se()),rpc:Te(Se()),version:Te(Se())}),R1=me({votePubkey:Se(),nodePubkey:Se(),activatedStake:te(),epochVoteAccount:bi(),epochCredits:Ce(oh([te(),te(),te()])),commission:te(),lastVote:te(),rootSlot:Te(te())}),u6=bt(me({current:Ce(R1),delinquent:Ce(R1)})),l6=mn([dr("processed"),dr("confirmed"),dr("finalized")]),h6=me({slot:te(),confirmations:Te(te()),err:Xs,confirmationStatus:Qe(l6)}),d6=mr(Ce(Te(h6))),p6=bt(te()),T1=me({accountKey:kr,writableIndexes:Ce(te()),readonlyIndexes:Ce(te())}),Sh=me({signatures:Ce(Se()),message:me({accountKeys:Ce(Se()),header:me({numRequiredSignatures:te(),numReadonlySignedAccounts:te(),numReadonlyUnsignedAccounts:te()}),instructions:Ce(me({accounts:Ce(te()),data:Se(),programIdIndex:te()})),recentBlockhash:Se(),addressTableLookups:Qe(Ce(T1))})}),k1=me({pubkey:kr,signer:bi(),writable:bi(),source:Qe(mn([dr("transaction"),dr("lookupTable")]))}),C1=me({accountKeys:Ce(k1),signatures:Ce(Se())}),L1=me({parsed:Ua(),program:Se(),programId:kr}),$1=me({accounts:Ce(kr),data:Se(),programId:kr}),g6=mn([$1,L1]),y6=mn([me({parsed:Ua(),program:Se(),programId:Se()}),me({accounts:Ce(Se()),data:Se(),programId:Se()})]),O1=Fa(g6,y6,e=>"accounts"in e?Be(e,$1):Be(e,L1)),M1=me({signatures:Ce(Se()),message:me({accountKeys:Ce(k1),instructions:Ce(O1),recentBlockhash:Se(),addressTableLookups:Qe(Te(Ce(T1)))})}),Cf=me({accountIndex:te(),mint:Se(),owner:Qe(Se()),uiTokenAmount:_h}),N1=me({writable:Ce(kr),readonly:Ce(kr)}),Lf=me({err:Xs,fee:te(),innerInstructions:Qe(Te(Ce(me({index:te(),instructions:Ce(me({accounts:Ce(te()),data:Se(),programIdIndex:te()}))})))),preBalances:Ce(te()),postBalances:Ce(te()),logMessages:Qe(Te(Ce(Se()))),preTokenBalances:Qe(Te(Ce(Cf))),postTokenBalances:Qe(Te(Ce(Cf))),loadedAddresses:Qe(N1),computeUnitsConsumed:Qe(te())}),Ah=me({err:Xs,fee:te(),innerInstructions:Qe(Te(Ce(me({index:te(),instructions:Ce(O1)})))),preBalances:Ce(te()),postBalances:Ce(te()),logMessages:Qe(Te(Ce(Se()))),preTokenBalances:Qe(Te(Ce(Cf))),postTokenBalances:Qe(Te(Ce(Cf))),loadedAddresses:Qe(N1),computeUnitsConsumed:Qe(te())}),Do=mn([dr(0),dr("legacy")]),Js=me({pubkey:Se(),lamports:te(),postBalance:Te(te()),rewardType:Te(Se()),commission:Qe(Te(te()))}),w6=bt(Te(me({blockhash:Se(),previousBlockhash:Se(),parentSlot:te(),transactions:Ce(me({transaction:Sh,meta:Te(Lf),version:Qe(Do)})),rewards:Qe(Ce(Js)),blockTime:Te(te()),blockHeight:Te(te())}))),m6=bt(Te(me({blockhash:Se(),previousBlockhash:Se(),parentSlot:te(),rewards:Qe(Ce(Js)),blockTime:Te(te()),blockHeight:Te(te())}))),b6=bt(Te(me({blockhash:Se(),previousBlockhash:Se(),parentSlot:te(),transactions:Ce(me({transaction:C1,meta:Te(Lf),version:Qe(Do)})),rewards:Qe(Ce(Js)),blockTime:Te(te()),blockHeight:Te(te())}))),v6=bt(Te(me({blockhash:Se(),previousBlockhash:Se(),parentSlot:te(),transactions:Ce(me({transaction:M1,meta:Te(Ah),version:Qe(Do)})),rewards:Qe(Ce(Js)),blockTime:Te(te()),blockHeight:Te(te())}))),_6=bt(Te(me({blockhash:Se(),previousBlockhash:Se(),parentSlot:te(),transactions:Ce(me({transaction:C1,meta:Te(Ah),version:Qe(Do)})),rewards:Qe(Ce(Js)),blockTime:Te(te()),blockHeight:Te(te())}))),E6=bt(Te(me({blockhash:Se(),previousBlockhash:Se(),parentSlot:te(),rewards:Qe(Ce(Js)),blockTime:Te(te()),blockHeight:Te(te())}))),x6=bt(Te(me({blockhash:Se(),previousBlockhash:Se(),parentSlot:te(),transactions:Ce(me({transaction:Sh,meta:Te(Lf)})),rewards:Qe(Ce(Js)),blockTime:Te(te())}))),P1=bt(Te(me({blockhash:Se(),previousBlockhash:Se(),parentSlot:te(),signatures:Ce(Se()),blockTime:Te(te())}))),Bh=bt(Te(me({slot:te(),meta:Te(Lf),blockTime:Qe(Te(te())),transaction:Sh,version:Qe(Do)}))),$f=bt(Te(me({slot:te(),transaction:M1,meta:Te(Ah),blockTime:Qe(Te(te())),version:Qe(Do)}))),S6=mr(me({blockhash:Se(),feeCalculator:me({lamportsPerSignature:te()})})),A6=mr(me({blockhash:Se(),lastValidBlockHeight:te()})),B6=mr(bi()),I6=me({slot:te(),numTransactions:te(),numSlots:te(),samplePeriodSecs:te()}),R6=bt(Ce(I6)),T6=mr(Te(me({feeCalculator:me({lamportsPerSignature:te()})}))),k6=bt(Se()),C6=bt(Se()),L6=me({err:Xs,logs:Ce(Se()),signature:Se()}),$6=me({result:kf(L6),subscription:te()}),O6={"solana-client":"js/0.0.0-development"};class M6{constructor(t,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:y,config:A}=or(l),v=this._buildArgs([],y,void 0,A),R=_1(v);return u[R]=u[R]??(async()=>{try{const O=await this._rpcRequest("getBlockHeight",v),P=Be(O,bt(te()));if("error"in P)throw new je(P.error,"failed to get block height information");return P.result}finally{delete u[R]}})(),await u[R]}})();let n,i,s,o,a,c;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,s=r.fetch,o=r.fetchMiddleware,a=r.disableRetryOnRateLimit,c=r.httpAgent),this._rpcEndpoint=vA(t),this._rpcWsEndpoint=n||mA(t),this._rpcClient=$A(t,i,s,o,a,c),this._rpcRequest=OA(this._rpcClient),this._rpcBatchRequest=MA(this._rpcClient),this._rpcWebSocket=new pA(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,r){const{commitment:n,config:i}=or(r),s=this._buildArgs([t.toBase58()],n,void 0,i),o=await this._rpcRequest("getBalance",s),a=Be(o,mr(te()));if("error"in a)throw new je(a.error,`failed to get balance for ${t.toBase58()}`);return a.result}async getBalance(t,r){return await this.getBalanceAndContext(t,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+n)})}async getBlockTime(t){const r=await this._rpcRequest("getBlockTime",[t]),n=Be(r,bt(Te(te())));if("error"in n)throw new je(n.error,`failed to get block time for slot ${t}`);return n.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),r=Be(t,bt(te()));if("error"in r)throw new je(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),r=Be(t,jA);if("error"in r)throw new je(r.error,"failed to get first available block");return r.result}async getSupply(t){let r={};typeof t=="string"?r={commitment:t}:t?r={...t,commitment:t&&t.commitment||this.commitment}:r={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[r]),i=Be(n,zA);if("error"in i)throw new je(i.error,"failed to get supply");return i.result}async getTokenSupply(t,r){const n=this._buildArgs([t.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),s=Be(i,mr(_h));if("error"in s)throw new je(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(t,r){const n=this._buildArgs([t.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),s=Be(i,mr(_h));if("error"in s)throw new je(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(t,r,n){const{commitment:i,config:s}=or(n);let o=[t.toBase58()];"mint"in r?o.push({mint:r.mint.toBase58()}):o.push({programId:r.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=Be(c,VA);if("error"in u)throw new je(u.error,`failed to get token accounts owned by account ${t.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(t,r,n){let i=[t.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});const s=this._buildArgs(i,n,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=Be(o,WA);if("error"in a)throw new je(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getLargestAccounts(t){const r={...t,commitment:t&&t.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),s=Be(i,KA);if("error"in s)throw new je(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(t,r){const n=this._buildArgs([t.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),s=Be(i,qA);if("error"in s)throw new je(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(t,r){const{commitment:n,config:i}=or(r),s=this._buildArgs([t.toBase58()],n,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=Be(o,mr(Te(Ka)));if("error"in a)throw new je(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getParsedAccountInfo(t,r){const{commitment:n,config:i}=or(r),s=this._buildArgs([t.toBase58()],n,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=Be(o,mr(Te(xh)));if("error"in a)throw new je(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getAccountInfo(t,r){try{return(await this.getAccountInfoAndContext(t,r)).value}catch(n){throw new Error("failed to get info about account "+t.toBase58()+": "+n)}}async getMultipleParsedAccounts(t,r){const{commitment:n,config:i}=or(r),s=t.map(u=>u.toBase58()),o=this._buildArgs([s],n,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),c=Be(a,mr(Ce(Te(xh))));if("error"in c)throw new je(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfoAndContext(t,r){const{commitment:n,config:i}=or(r),s=t.map(u=>u.toBase58()),o=this._buildArgs([s],n,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),c=Be(a,mr(Ce(Te(Ka))));if("error"in c)throw new je(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfo(t,r){return(await this.getMultipleAccountsInfoAndContext(t,r)).value}async getStakeActivation(t,r,n){const{commitment:i,config:s}=or(r),o=this._buildArgs([t.toBase58()],i,void 0,{...s,epoch:n??s?.epoch}),a=await this._rpcRequest("getStakeActivation",o),c=Be(a,bt(XA));if("error"in c)throw new je(c.error,`failed to get Stake Activation ${t.toBase58()}`);return c.result}async getProgramAccounts(t,r){const{commitment:n,config:i}=or(r),{encoding:s,...o}=i||{},a=this._buildArgs([t.toBase58()],n,s||"base64",o),c=await this._rpcRequest("getProgramAccounts",a),u=Ce(ZA),l=o.withContext===!0?Be(c,mr(u)):Be(c,bt(u));if("error"in l)throw new je(l.error,`failed to get accounts owned by program ${t.toBase58()}`);return l.result}async getParsedProgramAccounts(t,r){const{commitment:n,config:i}=or(r),s=this._buildArgs([t.toBase58()],n,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=Be(o,bt(Ce(YA)));if("error"in a)throw new je(a.error,`failed to get accounts owned by program ${t.toBase58()}`);return a.result}async confirmTransaction(t,r){let n;if(typeof t=="string")n=t;else{const s=t;if(s.abortSignal?.aborted)return Promise.reject(s.abortSignal.reason);n=s.signature}let i;try{i=Ar.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return sr(i.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((r,n)=>{t!=null&&(t.aborted?n(t.reason):t.addEventListener("abort",()=>{n(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:r}){let n,i,s=!1;const o=new Promise((c,u)=>{try{n=this.onSignature(r,(y,A)=>{n=void 0;const v={context:A,value:y};c({__type:cs.PROCESSED,response:v})},t);const l=new Promise(y=>{n==null?y():i=this._onSubscriptionStateChange(n,A=>{A==="subscribed"&&y()})});(async()=>{if(await l,s)return;const y=await this.getSignatureStatus(r);if(s||y==null)return;const{context:A,value:v}=y;if(v!=null)if(v?.err)u(v.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(v.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(v.confirmationStatus==="processed"||v.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,c({__type:cs.PROCESSED,response:{context:A,value:v}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let s=!1;const o=new Promise(y=>{const A=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let v=await A();if(!s){for(;v<=n;)if(await Uo(1e3),s||(v=await A(),s))return;y({__type:cs.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:t,signature:i}),u=this.getCancellationPromise(r);let l;try{const y=await Promise.race([u,c,o]);if(y.__type===cs.PROCESSED)l=y.response;else throw new g1(i)}finally{s=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const c=new Promise(v=>{let R=s,O=null;const P=async()=>{try{const{context:H,value:F}=await this.getNonceAndContext(i,{commitment:t,minContextSlot:n});return O=H.slot,F?.nonce}catch{return R}};(async()=>{if(R=await P(),!a)for(;;){if(s!==R){v({__type:cs.NONCE_INVALID,slotInWhichNonceDidAdvance:O});return}if(await Uo(2e3),a||(R=await P(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:t,signature:o}),y=this.getCancellationPromise(r);let A;try{const v=await Promise.race([y,l,c]);if(v.__type===cs.PROCESSED)A=v.response;else{let R;for(;;){const O=await this.getSignatureStatus(o);if(O==null)break;if(O.context.slot<(v.slotInWhichNonceDidAdvance??n)){await Uo(400);continue}R=O;break}if(R?.value){const O=t||"finalized",{confirmationStatus:P}=R.value;switch(O){case"processed":case"recent":if(P!=="processed"&&P!=="confirmed"&&P!=="finalized")throw new ja(o);break;case"confirmed":case"single":case"singleGossip":if(P!=="confirmed"&&P!=="finalized")throw new ja(o);break;case"finalized":case"max":case"root":if(P!=="finalized")throw new ja(o);break;default:(H=>{})(O)}A={context:R.context,value:{err:R.value.err}}}else throw new ja(o)}}finally{a=!0,u()}return A}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:r}){let n;const i=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>c({__type:cs.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:t,signature:r});let a;try{const c=await Promise.race([o,i]);if(c.__type===cs.PROCESSED)a=c.response;else throw new y1(r,c.timeoutMs/1e3)}finally{clearTimeout(n),s()}return a}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),r=Be(t,bt(Ce(f6)));if("error"in r)throw new je(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(t){const r=this._buildArgs([],t),n=await this._rpcRequest("getVoteAccounts",r),i=Be(n,u6);if("error"in i)throw new je(i.error,"failed to get vote accounts");return i.result}async getSlot(t){const{commitment:r,config:n}=or(t),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlot",i),o=Be(s,bt(te()));if("error"in o)throw new je(o.error,"failed to get slot");return o.result}async getSlotLeader(t){const{commitment:r,config:n}=or(t),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlotLeader",i),o=Be(s,bt(Se()));if("error"in o)throw new je(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(t,r){const n=[t,r],i=await this._rpcRequest("getSlotLeaders",n),s=Be(i,bt(Ce(kr)));if("error"in s)throw new je(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(t,r){const{context:n,value:i}=await this.getSignatureStatuses([t],r);sr(i.length===1);const s=i[0];return{context:n,value:s}}async getSignatureStatuses(t,r){const n=[t];r&&n.push(r);const i=await this._rpcRequest("getSignatureStatuses",n),s=Be(i,d6);if("error"in s)throw new je(s.error,"failed to get signature status");return s.result}async getTransactionCount(t){const{commitment:r,config:n}=or(t),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getTransactionCount",i),o=Be(s,bt(te()));if("error"in o)throw new je(o.error,"failed to get transaction count");return o.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const r=this._buildArgs([],t),n=await this._rpcRequest("getInflationGovernor",r),i=Be(n,NA);if("error"in i)throw new je(i.error,"failed to get inflation");return i.result}async getInflationReward(t,r,n){const{commitment:i,config:s}=or(n),o=this._buildArgs([t.map(u=>u.toBase58())],i,void 0,{...s,epoch:r??s?.epoch}),a=await this._rpcRequest("getInflationReward",o),c=Be(a,xA);if("error"in c)throw new je(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),r=Be(t,PA);if("error"in r)throw new je(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(t){const{commitment:r,config:n}=or(t),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getEpochInfo",i),o=Be(s,FA);if("error"in o)throw new je(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),r=Be(t,DA);if("error"in r)throw new je(r.error,"failed to get epoch schedule");const n=r.result;return new hA(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),r=Be(t,HA);if("error"in r)throw new je(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(t,r){const n=this._buildArgs([t],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),s=Be(i,p6);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(t){const r=this._buildArgs([],t),n=await this._rpcRequest("getRecentBlockhash",r),i=Be(n,S6);if("error"in i)throw new je(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(t){const r=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),n=Be(r,R6);if("error"in n)throw new je(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(t,r){const n=this._buildArgs([t],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),s=Be(i,T6);if("error"in s)throw new je(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(t,r){const n=Mo(t.serialize()).toString("base64"),i=this._buildArgs([n],r),s=await this._rpcRequest("getFeeForMessage",i),o=Be(s,mr(Te(te())));if("error"in o)throw new je(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(t){const r=t?.lockedWritableAccounts?.map(o=>o.toBase58()),n=r?.length?[r]:[],i=await this._rpcRequest("getRecentPrioritizationFees",n),s=Be(i,UA);if("error"in s)throw new je(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(t){const{commitment:r,config:n}=or(t),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getLatestBlockhash",i),o=Be(s,A6);if("error"in o)throw new je(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(t,r){const{commitment:n,config:i}=or(r),s=this._buildArgs([t],n,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=Be(o,B6);if("error"in a)throw new je(a.error,"failed to determine if the blockhash `"+t+"`is valid");return a.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),r=Be(t,bt(CA));if("error"in r)throw new je(r.error,"failed to get version");return r.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),r=Be(t,bt(Se()));if("error"in r)throw new je(r.error,"failed to get genesis hash");return r.result}async getBlock(t,r){const{commitment:n,config:i}=or(r),s=this._buildArgsAtLeastConfirmed([t],n,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{const a=Be(o,b6);if("error"in a)throw a.error;return a.result}case"none":{const a=Be(o,m6);if("error"in a)throw a.error;return a.result}default:{const a=Be(o,w6);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:y})=>({meta:l,transaction:{...u,message:vh(y,u.message)},version:y}))}:null}}}catch(a){throw new je(a,"failed to get confirmed block")}}async getParsedBlock(t,r){const{commitment:n,config:i}=or(r),s=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{const a=Be(o,_6);if("error"in a)throw a.error;return a.result}case"none":{const a=Be(o,E6);if("error"in a)throw a.error;return a.result}default:{const a=Be(o,v6);if("error"in a)throw a.error;return a.result}}}catch(a){throw new je(a,"failed to get block")}}async getBlockProduction(t){let r,n;if(typeof t=="string")n=t;else if(t){const{commitment:a,...c}=t;n=a,r=c}const i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getBlockProduction",i),o=Be(s,LA);if("error"in o)throw new je(o.error,"failed to get block production information");return o.result}async getTransaction(t,r){const{commitment:n,config:i}=or(r),s=this._buildArgsAtLeastConfirmed([t],n,void 0,i),o=await this._rpcRequest("getTransaction",s),a=Be(o,Bh);if("error"in a)throw new je(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:vh(c.version,c.transaction.message)}}}async getParsedTransaction(t,r){const{commitment:n,config:i}=or(r),s=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=Be(o,$f);if("error"in a)throw new je(a.error,"failed to get transaction");return a.result}async getParsedTransactions(t,r){const{commitment:n,config:i}=or(r),s=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=Be(c,$f);if("error"in u)throw new je(u.error,"failed to get transactions");return u.result})}async getTransactions(t,r){const{commitment:n,config:i}=or(r),s=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,void 0,i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=Be(c,Bh);if("error"in u)throw new je(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:vh(l.version,l.transaction.message)}}})}async getConfirmedBlock(t,r){const n=this._buildArgsAtLeastConfirmed([t],r),i=await this._rpcRequest("getConfirmedBlock",n),s=Be(i,x6);if("error"in s)throw new je(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+t+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new Ni(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:fs.populate(c.message,c.signatures)}))}}async getBlocks(t,r,n){const i=this._buildArgsAtLeastConfirmed(r!==void 0?[t,r]:[t],n),s=await this._rpcRequest("getBlocks",i),o=Be(s,bt(Ce(te())));if("error"in o)throw new je(o.error,"failed to get blocks");return o.result}async getBlockSignatures(t,r){const n=this._buildArgsAtLeastConfirmed([t],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=Be(i,P1);if("error"in s)throw new je(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+t+" not found");return o}async getConfirmedBlockSignatures(t,r){const n=this._buildArgsAtLeastConfirmed([t],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",n),s=Be(i,P1);if("error"in s)throw new je(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+t+" not found");return o}async getConfirmedTransaction(t,r){const n=this._buildArgsAtLeastConfirmed([t],r),i=await this._rpcRequest("getConfirmedTransaction",n),s=Be(i,Bh);if("error"in s)throw new je(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new Ni(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:fs.populate(a,c)}}async getParsedConfirmedTransaction(t,r){const n=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",n),s=Be(i,$f);if("error"in s)throw new je(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(t,r){const n=t.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(o=>{const a=Be(o,$f);if("error"in a)throw new je(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(t,r,n){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<s));)try{const c=await this.getConfirmedBlockSignatures(r,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>o));)try{const c=await this.getConfirmedBlockSignatures(n);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(t,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(t,r,n){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,r),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=Be(s,JA);if("error"in o)throw new je(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(t,r,n){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,r),s=await this._rpcRequest("getSignaturesForAddress",i),o=Be(s,QA);if("error"in o)throw new je(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(t,r){const{context:n,value:i}=await this.getAccountInfoAndContext(t,r);let s=null;return i!==null&&(s=new S1({key:t,state:S1.deserialize(i.data)})),{context:n,value:s}}async getNonceAndContext(t,r){const{context:n,value:i}=await this.getAccountInfoAndContext(t,r);let s=null;return i!==null&&(s=wh.fromAccountData(i.data)),{context:n,value:s}}async getNonce(t,r){return await this.getNonceAndContext(t,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+n)})}async requestAirdrop(t,r){const n=await this._rpcRequest("requestAirdrop",[t.toBase58(),r]),i=Be(n,k6);if("error"in i)throw new je(i.error,`airdrop to ${t.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await Uo(100);const n=Date.now()-this._blockhashInfo.lastFetch>=bA;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(n!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await Uo(iA/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:r,config:n}=or(t),i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=Be(s,mr(te()));if("error"in o)throw new je(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(t,r,n){if("message"in t){const O=t.serialize(),P=ie.Buffer.from(O).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");const H=r||{};H.encoding="base64","commitment"in H||(H.commitment=this.commitment);const F=[P,H],N=await this._rpcRequest("simulateTransaction",F),$=Be(N,I1);if("error"in $)throw new Error("failed to simulate transaction: "+$.error.message);return $.result}let i;if(t instanceof fs){let R=t;i=new fs,i.feePayer=R.feePayer,i.instructions=t.instructions,i.nonceInfo=R.nonceInfo,i.signatures=R.signatures}else i=fs.populate(t),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");const s=r;if(i.nonceInfo&&s)i.sign(...s);else{let R=this._disableBlockhashCaching;for(;;){const O=await this._blockhashWithExpiryBlockHeight(R);if(i.lastValidBlockHeight=O.lastValidBlockHeight,i.recentBlockhash=O.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const P=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(P)&&!this._blockhashInfo.transactionSignatures.includes(P)){this._blockhashInfo.simulatedSignatures.push(P);break}else R=!0}}const o=i._compile(),a=o.serialize(),u=i._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(n){const R=(Array.isArray(n)?n:o.nonProgramIds()).map(O=>O.toBase58());l.accounts={encoding:"base64",addresses:R}}s&&(l.sigVerify=!0);const y=[u,l],A=await this._rpcRequest("simulateTransaction",y),v=Be(A,I1);if("error"in v){let R;if("data"in v.error&&(R=v.error.data.logs,R&&Array.isArray(R))){const O=`
    `,P=O+R.join(O);console.error(v.error.message,P)}throw new E1("failed to simulate transaction: "+v.error.message,R)}return v.result}async sendTransaction(t,r,n){if("version"in t){if(r&&Array.isArray(r))throw new Error("Invalid arguments");const o=t.serialize();return await this.sendRawTransaction(o,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");const i=r;if(t.nonceInfo)t.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(t.lastValidBlockHeight=a.lastValidBlockHeight,t.recentBlockhash=a.blockhash,t.sign(...i),!t.signature)throw new Error("!signature");const c=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const s=t.serialize();return await this.sendRawTransaction(s,n)}async sendRawTransaction(t,r){const n=Mo(t).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(t,r){const n={encoding:"base64"},i=r&&r.skipPreflight,s=i===!0?"processed":r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),s&&(n.preflightCommitment=s);const o=[t,n],a=await this._rpcRequest("sendTransaction",o),c=Be(a,C6);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new E1("failed to send transaction: "+c.error.message,u)}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(t,r){const n=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=r,n!==r.state){const i=this._subscriptionStateChangeCallbacksByHash[t];i&&i.forEach(s=>{try{s(r.state)}catch{}})}}_onSubscriptionStateChange(t,r){const n=this._subscriptionHashByClientSubscriptionId[t];if(n==null)return()=>{};const i=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return i.add(r),()=>{i.delete(r),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,r=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(n,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(n,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${o} error for argument`,s,a.message),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,r){const n=this._subscriptionCallbacksByServerSubscriptionId[t];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(s){console.error(s)}})}_wsOnAccountNotification(t){const{result:r,subscription:n}=Be(t,e6);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(t,r){const n=this._nextClientSubscriptionId++,i=_1([t.method,r]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...t,args:r,callbacks:new Set([t.callback]),state:"pending"}:s.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const o=this._subscriptionsByHash[i];sr(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),o.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(t,r,n){const i=this._buildArgs([t.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:r,subscription:n}=Be(t,r6);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(t,r,n,i){const s=this._buildArgs([t.toBase58()],n||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,r,n){const i=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:r,subscription:n}=Be(t,$6);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(t){const{result:r,subscription:n}=Be(t,i6);this._handleServerNotification(n,[r])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:r,subscription:n}=Be(t,o6);this._handleServerNotification(n,[r])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,r){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${r}' events could not be found.`)}_buildArgs(t,r,n,i){const s=r||this._commitment;if(s||n||i){let o={};n&&(o.encoding=n),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),t.push(o)}return t}_buildArgsAtLeastConfirmed(t,r,n,i){const s=r||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,r,n,i)}_wsOnSignatureNotification(t){const{result:r,subscription:n}=Be(t,a6);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(t,r,n){const i=this._buildArgs([t],n||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){r(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(t,r,n){const{commitment:i,...s}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([t],i,void 0,s),a=this._makeSubscription({callback:(c,u)=>{r(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:r,subscription:n}=Be(t,c6);this._handleServerNotification(n,[r])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:Fe([qe("instruction"),Fo("recentSlot"),Ut("bumpSeed")])},FreezeLookupTable:{index:1,layout:Fe([qe("instruction")])},ExtendLookupTable:{index:2,layout:Fe([qe("instruction"),Fo(),en(St(),Zs(qe(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Fe([qe("instruction")])},CloseLookupTable:{index:4,layout:Fe([qe("instruction")])}}),new et("AddressLookupTab1e1111111111111111111111111"),Object.freeze({RequestUnits:{index:0,layout:Fe([Ut("instruction"),qe("units"),qe("additionalFee")])},RequestHeapFrame:{index:1,layout:Fe([Ut("instruction"),qe("bytes")])},SetComputeUnitLimit:{index:2,layout:Fe([Ut("instruction"),qe("units")])},SetComputeUnitPrice:{index:3,layout:Fe([Ut("instruction"),Fo("microLamports")])}}),new et("ComputeBudget111111111111111111111111111111"),Fe([Ut("numSignatures"),Ut("padding"),jn("signatureOffset"),jn("signatureInstructionIndex"),jn("publicKeyOffset"),jn("publicKeyInstructionIndex"),jn("messageDataOffset"),jn("messageDataSize"),jn("messageInstructionIndex")]),new et("Ed25519SigVerify111111111111111111111111111"),gh.utils.isValidPrivateKey,gh.getPublicKey,Fe([Ut("numSignatures"),jn("signatureOffset"),Ut("signatureInstructionIndex"),jn("ethAddressOffset"),Ut("ethAddressInstructionIndex"),jn("messageDataOffset"),jn("messageDataSize"),Ut("messageInstructionIndex"),nr(20,"ethAddress"),nr(64,"signature"),Ut("recoveryId")]),new et("KeccakSecp256k11111111111111111111111111111");var U1;new et("StakeConfig11111111111111111111111111111111");class F1{constructor(t,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=r,this.custodian=n}}U1=F1,F1.default=new U1(0,0,et.default),Object.freeze({Initialize:{index:0,layout:Fe([qe("instruction"),Q3(),eA()])},Authorize:{index:1,layout:Fe([qe("instruction"),St("newAuthorized"),qe("stakeAuthorizationType")])},Delegate:{index:2,layout:Fe([qe("instruction")])},Split:{index:3,layout:Fe([qe("instruction"),In("lamports")])},Withdraw:{index:4,layout:Fe([qe("instruction"),In("lamports")])},Deactivate:{index:5,layout:Fe([qe("instruction")])},Merge:{index:7,layout:Fe([qe("instruction")])},AuthorizeWithSeed:{index:8,layout:Fe([qe("instruction"),St("newAuthorized"),qe("stakeAuthorizationType"),Po("authoritySeed"),St("authorityOwner")])}}),Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),new et("Stake11111111111111111111111111111111111111"),Object.freeze({InitializeAccount:{index:0,layout:Fe([qe("instruction"),tA()])},Authorize:{index:1,layout:Fe([qe("instruction"),St("newAuthorized"),qe("voteAuthorizationType")])},Withdraw:{index:3,layout:Fe([qe("instruction"),In("lamports")])},UpdateValidatorIdentity:{index:4,layout:Fe([qe("instruction")])},AuthorizeWithSeed:{index:10,layout:Fe([qe("instruction"),rA()])}}),Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),new et("Vote111111111111111111111111111111111111111"),new et("Va1idator1nfo111111111111111111111111111111"),me({name:Se(),website:Qe(Se()),details:Qe(Se()),keybaseUsername:Qe(Se())}),new et("Vote111111111111111111111111111111111111111"),Fe([St("nodePubkey"),St("authorizedWithdrawer"),Ut("commission"),Gr(),en(Fe([Gr("slot"),qe("confirmationCount")]),Zs(qe(),-8),"votes"),Ut("rootSlotValid"),Gr("rootSlot"),Gr(),en(Fe([Gr("epoch"),St("authorizedVoter")]),Zs(qe(),-8),"authorizedVoters"),Fe([en(Fe([St("authorizedPubkey"),Gr("epochOfLastAuthorizedSwitch"),Gr("targetEpoch")]),32,"buf"),Gr("idx"),Ut("isEmpty")],"priorVoters"),Gr(),en(Fe([Gr("epoch"),Gr("credits"),Gr("prevCredits")]),Zs(qe(),-8),"epochCredits"),Fe([Gr("slot"),Gr("timestamp")],"lastTimestamp")]);const D1="solana:signAndSendTransaction",N6="solana:signIn",H1="solana:signMessage",j1="solana:signTransaction",P6="standard:connect",U6="standard:disconnect",F6="standard:events";var z1=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},D6=(e,t,r)=>(z1(e,t,"read from private field"),r?r.call(e):t.get(e)),H6=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},j6=(e,t,r,n)=>(z1(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Of;function z6(e){const t=({register:r})=>r(e);try{window.dispatchEvent(new q6(t))}catch(r){console.error(`wallet-standard:register-wallet event could not be dispatched
`,r)}try{window.addEventListener("wallet-standard:app-ready",({detail:r})=>t(r))}catch(r){console.error(`wallet-standard:app-ready event listener could not be added
`,r)}}class q6 extends Event{constructor(t){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),H6(this,Of,void 0),j6(this,Of,t)}get detail(){return D6(this,Of)}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Of=new WeakMap;function V6(e){z6(e.getInstanceWithAdapter())}const W6="solana:mainnet",Ih=[W6];function Rh(e){return Ih.includes(e)}function Mf(e){return"version"in e}var q1=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Ho=(e,t,r)=>(q1(e,t,"read from private field"),r?r.call(e):t.get(e)),jo=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},zo=(e,t,r,n)=>(q1(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Nf,Pf,Uf,Ff,Df,Hf;const K6=Ih,Z6=[D1,j1,H1],V1=class{constructor({address:e,publicKey:t,label:r,icon:n}){jo(this,Nf,void 0),jo(this,Pf,void 0),jo(this,Uf,void 0),jo(this,Ff,void 0),jo(this,Df,void 0),jo(this,Hf,void 0),new.target===V1&&Object.freeze(this),zo(this,Nf,e),zo(this,Pf,t),zo(this,Uf,K6),zo(this,Ff,Z6),zo(this,Df,r),zo(this,Hf,n)}get address(){return Ho(this,Nf)}get publicKey(){return Ho(this,Pf).slice()}get chains(){return Ho(this,Uf).slice()}get features(){return Ho(this,Ff).slice()}get label(){return Ho(this,Df)}get icon(){return Ho(this,Hf)}};let G6=V1;Nf=new WeakMap,Pf=new WeakMap,Uf=new WeakMap,Ff=new WeakMap,Df=new WeakMap,Hf=new WeakMap;const Y6="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTgiIGhlaWdodD0iNjUiIHZpZXdCb3g9IjAgMCA1OCA2NSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTAgOS4zODk0OUwyOC44OTA3IDBWNjUuMDA0MkM4LjI1NDUgNTYuMzM2OSAwIDM5LjcyNDggMCAzMC4zMzUzVjkuMzg5NDlaIiBmaWxsPSIjMDUwMEZGIi8+CjxwYXRoIGQ9Ik01Ny43ODIyIDkuMzg5NDlMMjguODkxNSAwVjY1LjAwNDJDNDkuNTI3NyA1Ni4zMzY5IDU3Ljc4MjIgMzkuNzI0OCA1Ny43ODIyIDMwLjMzNTNWOS4zODk0OVoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl8yMjAxXzY5NDIpIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMjIwMV82OTQyIiB4MT0iNTEuMzYxNSIgeTE9Ii00LjE1MjkzIiB4Mj0iMjkuNTM4NCIgeTI9IjY0LjUxNDciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agb2Zmc2V0PSIwLjAyMTEyIiBzdG9wLWNvbG9yPSIjMDAwMEZGIi8+CjxzdG9wIG9mZnNldD0iMC4wNzYyNDIzIiBzdG9wLWNvbG9yPSIjMDA5NEZGIi8+CjxzdG9wIG9mZnNldD0iMC4xNjMwODkiIHN0b3AtY29sb3I9IiM0OEZGOTEiLz4KPHN0b3Agb2Zmc2V0PSIwLjQyMDA0OSIgc3RvcC1jb2xvcj0iIzAwOTRGRiIvPgo8c3RvcCBvZmZzZXQ9IjAuNjgyODg2IiBzdG9wLWNvbG9yPSIjMDAzOEZGIi8+CjxzdG9wIG9mZnNldD0iMC45MDI0NjUiIHN0b3AtY29sb3I9IiMwNTAwRkYiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K";function X6(e,t){return J6(e,t)}function J6(e,t){if(e===t)return!0;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}var Th=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},nt=(e,t,r)=>(Th(e,t,"read from private field"),r?r.call(e):t.get(e)),Dr=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},kh=(e,t,r,n)=>(Th(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ch=(e,t,r)=>(Th(e,t,"access private method"),r),Qs,Lh,$h,Oh,on,hn,Mh,jf,Nh,Ph,W1,qo,zf,Uh,Fh,Dh,qf,Hh,Vf,jh;const Q6="trust:",K1=class{constructor(e){Dr(this,jf),Dr(this,Ph),Dr(this,Qs,{}),Dr(this,Lh,"1.0.0"),Dr(this,$h,"Trust"),Dr(this,Oh,Y6),Dr(this,on,null),Dr(this,hn,void 0),Dr(this,Mh,(t,r)=>{var n;return(n=nt(this,Qs)[t])!=null&&n.push(r)||(nt(this,Qs)[t]=[r]),()=>Ch(this,Ph,W1).call(this,t,r)}),Dr(this,qo,()=>{var t;const r=(t=nt(this,hn).publicKey)==null?void 0:t.toBase58();if(r){const n=nt(this,hn).publicKey.toBytes(),i=nt(this,on);(!i||i.address!==r||!X6(i.publicKey,n))&&(kh(this,on,new G6({address:r,publicKey:n})),Ch(this,jf,Nh).call(this,"change",{accounts:this.accounts}))}}),Dr(this,zf,()=>{nt(this,on)&&(kh(this,on,null),Ch(this,jf,Nh).call(this,"change",{accounts:this.accounts}))}),Dr(this,Uh,()=>{nt(this,hn).publicKey?nt(this,qo).call(this):nt(this,zf).call(this)}),Dr(this,Fh,async({silent:t}={})=>(nt(this,on)||await nt(this,hn).connect(t?{onlyIfTrusted:!0}:void 0),nt(this,qo).call(this),{accounts:this.accounts})),Dr(this,Dh,async()=>{await nt(this,hn).disconnect()}),Dr(this,qf,async(...t)=>{if(!nt(this,on))throw new Error("not connected");const r=[];if(t.length===1){const{transaction:n,account:i,chain:s,options:o}=t[0],{minContextSlot:a,preflightCommitment:c,skipPreflight:u,maxRetries:l}=o||{};if(i!==nt(this,on))throw new Error("invalid account");if(!Rh(s))throw new Error("invalid chain");const{signature:y}=await nt(this,hn).signAndSendTransaction(qa.deserialize(n),{preflightCommitment:c,minContextSlot:a,maxRetries:l,skipPreflight:u});r.push({signature:Ar.decode(y)})}else if(t.length>1)for(const n of t)r.push(...await nt(this,qf).call(this,n));return r}),Dr(this,Hh,async(...t)=>{if(!nt(this,on))throw new Error("not connected");const r=[];if(t.length===1){const{transaction:n,account:i,chain:s}=t[0];if(i!==nt(this,on))throw new Error("invalid account");if(s&&!Rh(s))throw new Error("invalid chain");const o=await nt(this,hn).signTransaction(qa.deserialize(n)),a=Mf(o)?o.serialize():new Uint8Array(o.serialize({requireAllSignatures:!1,verifySignatures:!1}));r.push({signedTransaction:a})}else if(t.length>1){let n;for(const o of t){if(o.account!==nt(this,on))throw new Error("invalid account");if(o.chain){if(!Rh(o.chain))throw new Error("invalid chain");if(n){if(o.chain!==n)throw new Error("conflicting chain")}else n=o.chain}}const i=t.map(({transaction:o})=>qa.deserialize(o)),s=await nt(this,hn).signAllTransactions(i);r.push(...s.map(o=>({signedTransaction:Mf(o)?o.serialize():new Uint8Array(o.serialize({requireAllSignatures:!1,verifySignatures:!1}))})))}return r}),Dr(this,Vf,async(...t)=>{if(!nt(this,on))throw new Error("not connected");const r=[];if(t.length===1){const{message:n,account:i}=t[0];if(i!==nt(this,on))throw new Error("invalid account");const{signature:s}=await nt(this,hn).signMessage(n);r.push({signedMessage:n,signature:s})}else if(t.length>1)for(const n of t)r.push(...await nt(this,Vf).call(this,n));return r}),Dr(this,jh,async(...t)=>{const r=[];if(t.length>1)for(const n of t)r.push(await nt(this,hn).signIn(n));else return[await nt(this,hn).signIn(t[0])];return r}),new.target===K1&&Object.freeze(this),kh(this,hn,e),e.on("connect",nt(this,qo),this),e.on("disconnect",nt(this,zf),this),e.on("accountChanged",nt(this,Uh),this),nt(this,qo).call(this)}get version(){return nt(this,Lh)}get name(){return nt(this,$h)}get icon(){return nt(this,Oh)}get chains(){return Ih.slice()}get features(){return{[P6]:{version:"1.0.0",connect:nt(this,Fh)},[U6]:{version:"1.0.0",disconnect:nt(this,Dh)},[F6]:{version:"1.0.0",on:nt(this,Mh)},[D1]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:nt(this,qf)},[j1]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:nt(this,Hh)},[H1]:{version:"1.0.0",signMessage:nt(this,Vf)},[N6]:{version:"1.0.0",signIn:nt(this,jh)},[Q6]:{trust:nt(this,hn)}}}get accounts(){return nt(this,on)?[nt(this,on)]:[]}};let eB=K1;Qs=new WeakMap,Lh=new WeakMap,$h=new WeakMap,Oh=new WeakMap,on=new WeakMap,hn=new WeakMap,Mh=new WeakMap,jf=new WeakSet,Nh=function(e,...t){var r;(r=nt(this,Qs)[e])==null||r.forEach(n=>n.apply(null,t))},Ph=new WeakSet,W1=function(e,t){var r;nt(this,Qs)[e]=(r=nt(this,Qs)[e])==null?void 0:r.filter(n=>t!==n)},qo=new WeakMap,zf=new WeakMap,Uh=new WeakMap,Fh=new WeakMap,Dh=new WeakMap,qf=new WeakMap,Hh=new WeakMap,Vf=new WeakMap,jh=new WeakMap;class tB{constructor(t,r=!1){this.useLegacySign=!1,this.provider=t,this.useLegacySign=r}async connect(t){const r=await this.provider.internalRequest({method:"requestAccounts",params:{options:t}});return this.provider.emit("connect"),{publicKey:new et(r[0])}}async signTransaction(t){if(this.useLegacySign)return await this.legacySign(t);const r=JSON.stringify(t);let n="legacy",i;Mf(t)?(n=t.version,i=ie.Buffer.from(t.message.serialize()).toString("base64")):i=ie.Buffer.from(t.serializeMessage()).toString("base64");const s=ie.Buffer.from(t.serialize({requireAllSignatures:!1,verifySignatures:!1})).toString("base64"),o=await this.provider.internalRequest({method:"signRawTransaction",params:{data:r,raw:s,rawMessage:i,version:n}});return this.provider.mapSignedTransaction(t,o)}async legacySign(t){const r=JSON.stringify(t),n=typeof t.version!="number"?"legacy":t.version,i=Ar.encode(n==="legacy"?t.serializeMessage():n===0?t.message.serialize():t.serialize());try{const s=await this.provider.internalRequest({method:"signRawTransaction",params:{data:r,raw:i,version:n}});return this.provider.mapSignedTransaction(t,s)}catch(s){console.log(`<== Error: ${s}`)}}async request(t,r){var n;switch(t.method){case"signTransaction":return this.signTransaction(t.params);case"connect":return this.connect((n=t?.params)==null?void 0:n.options)}return r()}}var zh=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},qh=(e,t,r)=>(zh(e,t,"read from private field"),r?r.call(e):t.get(e)),Wf=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Vh=(e,t,r,n)=>(zh(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Kf=(e,t,r)=>(zh(e,t,"access private method"),r),Zf,Gf,Yf,Vo,Za;const Xf=class extends sf{constructor(e){super(),Wf(this,Vo),Wf(this,Zf,!1),Wf(this,Gf,!0),this.isTrust=!0,this.isTrustWallet=!0,Wf(this,Yf,!1),e&&(typeof e.enableAdapter<"u"&&Vh(this,Gf,e.enableAdapter),typeof e.cluster<"u"&&(this.connection=new M6(e.cluster,"confirmed")),typeof e.disableMobileAdapter<"u"&&Vh(this,Zf,e.disableMobileAdapter),typeof e.useLegacySign<"u"&&Vh(this,Yf,e.useLegacySign),typeof e.isTrust<"u"&&(this.isTrust=e.isTrust,this.isTrustWallet=e.isTrust)),qh(this,Gf)&&V6(this),qh(this,Zf)||(this.mobileAdapter=new tB(this,qh(this,Yf)))}static bufferToHex(e){return"0x"+ie.Buffer.from(e).toString("hex")}static messageToBuffer(e){let t=ie.Buffer.from([]);try{typeof e=="string"?t=ie.Buffer.from(e.replace("0x",""),"hex"):t=ie.Buffer.from(e)}catch(r){console.log(`messageToBuffer error: ${r}`)}return t}getInstanceWithAdapter(){return new eB(this)}async connect(e){const t=await Kf(this,Vo,Za).call(this,{method:"connect",params:{options:e}});return this.publicKey=t.publicKey,t}disconnect(){return new Promise(e=>{this.publicKey=null,this.emit("disconnect"),e()})}async signAndSendTransaction(e,t){const r=await this.signTransaction(e);return{signature:await this.connection.sendRawTransaction(r.serialize(),t)}}signTransaction(e){return Kf(this,Vo,Za).call(this,{method:"signTransaction",params:e})}signAllTransactions(e){return Promise.all(e.map(t=>this.signTransaction(t)))}async signRawTransactionMulti(e){return(await Kf(this,Vo,Za).call(this,{method:"signRawTransactionMulti",params:{transactions:e.map(t=>{const r=JSON.stringify(t);let n="legacy",i;Mf(t)?(n=t.version,i=ie.Buffer.from(t.message.serialize()).toString("base64")):i=ie.Buffer.from(t.serializeMessage()).toString("base64");const s=ie.Buffer.from(t.serialize({requireAllSignatures:!1,verifySignatures:!1})).toString("base64");return{data:r,raw:s,rawMessage:i,version:n}})}})).map((t,r)=>this.mapSignedTransaction(e[r],t))}async signMessage(e){var t;const r=Xf.bufferToHex(e),n=await Kf(this,Vo,Za).call(this,{method:"signMessage",params:{data:r}});return{signature:ie.Buffer.from(Xf.messageToBuffer(n).buffer),publicKey:(t=this.publicKey)==null?void 0:t.toBase58()}}signIn(e){throw new Error("Method not implemented.")}getNetwork(){return Xf.NETWORK}mapSignedTransaction(e,t){return e.addSignature(this.publicKey,Ar.decode(t)),e}request(e){throw new Error("Not implemented")}internalRequest(e){return super.request(e)}};let Z1=Xf;Zf=new WeakMap,Gf=new WeakMap,Yf=new WeakMap,Vo=new WeakSet,Za=function(e){const t=()=>this.internalRequest(e);return this.mobileAdapter?this.mobileAdapter.request(e,t):t()},Z1.NETWORK="solana";var Wo={},us={},Jf={},Qf={},eu={},G1={},Ko={},tu={},Hr={};Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.output=Hr.exists=Hr.hash=Hr.bytes=Hr.bool=Hr.number=void 0;function ru(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}Hr.number=ru;function Y1(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}Hr.bool=Y1;function rB(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Wh(e,...t){if(!rB(e))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}Hr.bytes=Wh;function X1(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ru(e.outputLen),ru(e.blockLen)}Hr.hash=X1;function J1(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}Hr.exists=J1;function Q1(e,t){Wh(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Hr.output=Q1;const nB={number:ru,bool:Y1,bytes:Wh,hash:X1,exists:J1,output:Q1};Hr.default=nB;var Pi={},nu={};Object.defineProperty(nu,"__esModule",{value:!0}),nu.crypto=void 0,nu.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const t=nu,r=z=>new Uint8Array(z.buffer,z.byteOffset,z.byteLength);e.u8=r;const n=z=>new Uint32Array(z.buffer,z.byteOffset,Math.floor(z.byteLength/4));e.u32=n;function i(z){return z instanceof Uint8Array||z!=null&&typeof z=="object"&&z.constructor.name==="Uint8Array"}const s=z=>new DataView(z.buffer,z.byteOffset,z.byteLength);e.createView=s;const o=(z,ee)=>z<<32-ee|z>>>ee;if(e.rotr=o,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!e.isLE)throw new Error("Non little-endian hardware is not supported");const a=Array.from({length:256},(z,ee)=>ee.toString(16).padStart(2,"0"));function c(z){if(!i(z))throw new Error("Uint8Array expected");let ee="";for(let se=0;se<z.length;se++)ee+=a[z[se]];return ee}e.bytesToHex=c;const u={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function l(z){if(z>=u._0&&z<=u._9)return z-u._0;if(z>=u._A&&z<=u._F)return z-(u._A-10);if(z>=u._a&&z<=u._f)return z-(u._a-10)}function y(z){if(typeof z!="string")throw new Error("hex string expected, got "+typeof z);const ee=z.length,se=ee/2;if(ee%2)throw new Error("padded hex string expected, got unpadded hex of length "+ee);const Q=new Uint8Array(se);for(let I=0,g=0;I<se;I++,g+=2){const f=l(z.charCodeAt(g)),h=l(z.charCodeAt(g+1));if(f===void 0||h===void 0){const m=z[g]+z[g+1];throw new Error('hex string expected, got non-hex character "'+m+'" at index '+g)}Q[I]=f*16+h}return Q}e.hexToBytes=y;const A=async()=>{};e.nextTick=A;async function v(z,ee,se){let Q=Date.now();for(let I=0;I<z;I++){se(I);const g=Date.now()-Q;g>=0&&g<ee||(await(0,e.nextTick)(),Q+=g)}}e.asyncLoop=v;function R(z){if(typeof z!="string")throw new Error(`utf8ToBytes expected string, got ${typeof z}`);return new Uint8Array(new TextEncoder().encode(z))}e.utf8ToBytes=R;function O(z){if(typeof z=="string"&&(z=R(z)),!i(z))throw new Error(`expected Uint8Array, got ${typeof z}`);return z}e.toBytes=O;function P(...z){let ee=0;for(let Q=0;Q<z.length;Q++){const I=z[Q];if(!i(I))throw new Error("Uint8Array expected");ee+=I.length}const se=new Uint8Array(ee);for(let Q=0,I=0;Q<z.length;Q++){const g=z[Q];se.set(g,I),I+=g.length}return se}e.concatBytes=P;class H{clone(){return this._cloneInto()}}e.Hash=H;const F={}.toString;function N(z,ee){if(ee!==void 0&&F.call(ee)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(z,ee)}e.checkOpts=N;function $(z){const ee=Q=>z().update(O(Q)).digest(),se=z();return ee.outputLen=se.outputLen,ee.blockLen=se.blockLen,ee.create=()=>z(),ee}e.wrapConstructor=$;function q(z){const ee=(Q,I)=>z(I).update(O(Q)).digest(),se=z({});return ee.outputLen=se.outputLen,ee.blockLen=se.blockLen,ee.create=Q=>z(Q),ee}e.wrapConstructorWithOpts=q;function G(z){const ee=(Q,I)=>z(I).update(O(Q)).digest(),se=z({});return ee.outputLen=se.outputLen,ee.blockLen=se.blockLen,ee.create=Q=>z(Q),ee}e.wrapXOFConstructorWithOpts=G;function Z(z=32){if(t.crypto&&typeof t.crypto.getRandomValues=="function")return t.crypto.getRandomValues(new Uint8Array(z));throw new Error("crypto.getRandomValues must be defined")}e.randomBytes=Z}(Pi),Object.defineProperty(tu,"__esModule",{value:!0}),tu.SHA2=void 0;const Kh=Hr,Ga=Pi;function iB(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+u,a,n)}class sB extends Ga.Hash{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,Ga.createView)(this.buffer)}update(t){(0,Kh.exists)(this);const{view:r,buffer:n,blockLen:i}=this;t=(0,Ga.toBytes)(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=(0,Ga.createView)(t);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,Kh.exists)(this),(0,Kh.output)(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let y=o;y<i;y++)r[y]=0;iB(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=(0,Ga.createView)(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<u;y++)a.setUint32(4*y,l[y],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%r&&t.buffer.set(n),t}}tu.SHA2=sB,Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.sha224=Ko.sha256=void 0;const oB=tu,qn=Pi,aB=(e,t,r)=>e&t^~e&r,cB=(e,t,r)=>e&t^e&r^t&r,fB=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ls=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),hs=new Uint32Array(64);class ey extends oB.SHA2{constructor(){super(64,32,8,!1),this.A=ls[0]|0,this.B=ls[1]|0,this.C=ls[2]|0,this.D=ls[3]|0,this.E=ls[4]|0,this.F=ls[5]|0,this.G=ls[6]|0,this.H=ls[7]|0}get(){const{A:t,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[t,r,n,i,s,o,a,c]}set(t,r,n,i,s,o,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,r){for(let y=0;y<16;y++,r+=4)hs[y]=t.getUint32(r,!1);for(let y=16;y<64;y++){const A=hs[y-15],v=hs[y-2],R=(0,qn.rotr)(A,7)^(0,qn.rotr)(A,18)^A>>>3,O=(0,qn.rotr)(v,17)^(0,qn.rotr)(v,19)^v>>>10;hs[y]=O+hs[y-7]+R+hs[y-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:u,H:l}=this;for(let y=0;y<64;y++){const A=(0,qn.rotr)(a,6)^(0,qn.rotr)(a,11)^(0,qn.rotr)(a,25),v=l+A+aB(a,c,u)+fB[y]+hs[y]|0,O=((0,qn.rotr)(n,2)^(0,qn.rotr)(n,13)^(0,qn.rotr)(n,22))+cB(n,i,s)|0;l=u,u=c,c=a,a=o+v|0,o=s,s=i,i=n,n=v+O|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,i,s,o,a,c,u,l)}roundClean(){hs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class uB extends ey{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}Ko.sha256=(0,qn.wrapConstructor)(()=>new ey),Ko.sha224=(0,qn.wrapConstructor)(()=>new uB);var ht={},st={};Object.defineProperty(st,"__esModule",{value:!0}),st.validateObject=st.createHmacDrbg=st.bitMask=st.bitSet=st.bitGet=st.bitLen=st.utf8ToBytes=st.equalBytes=st.concatBytes=st.ensureBytes=st.numberToVarBytesBE=st.numberToBytesLE=st.numberToBytesBE=st.bytesToNumberLE=st.bytesToNumberBE=st.hexToBytes=st.hexToNumber=st.numberToHexUnpadded=st.bytesToHex=st.isBytes=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ty=BigInt(0),iu=BigInt(1),lB=BigInt(2);function Zo(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}st.isBytes=Zo;const hB=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Zh(e){if(!Zo(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=hB[e[r]];return t}st.bytesToHex=Zh;function ry(e){const t=e.toString(16);return t.length&1?`0${t}`:t}st.numberToHexUnpadded=ry;function Gh(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}st.hexToNumber=Gh;const Ui={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function ny(e){if(e>=Ui._0&&e<=Ui._9)return e-Ui._0;if(e>=Ui._A&&e<=Ui._F)return e-(Ui._A-10);if(e>=Ui._a&&e<=Ui._f)return e-(Ui._a-10)}function su(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=ny(e.charCodeAt(s)),a=ny(e.charCodeAt(s+1));if(o===void 0||a===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}st.hexToBytes=su;function dB(e){return Gh(Zh(e))}st.bytesToNumberBE=dB;function pB(e){if(!Zo(e))throw new Error("Uint8Array expected");return Gh(Zh(Uint8Array.from(e).reverse()))}st.bytesToNumberLE=pB;function iy(e,t){return su(e.toString(16).padStart(t*2,"0"))}st.numberToBytesBE=iy;function gB(e,t){return iy(e,t).reverse()}st.numberToBytesLE=gB;function yB(e){return su(ry(e))}st.numberToVarBytesBE=yB;function wB(e,t,r){let n;if(typeof t=="string")try{n=su(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else if(Zo(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}st.ensureBytes=wB;function sy(...e){let t=0;for(let i=0;i<e.length;i++){const s=e[i];if(!Zo(s))throw new Error("Uint8Array expected");t+=s.length}let r=new Uint8Array(t),n=0;for(let i=0;i<e.length;i++){const s=e[i];r.set(s,n),n+=s.length}return r}st.concatBytes=sy;function mB(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}st.equalBytes=mB;function bB(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}st.utf8ToBytes=bB;function vB(e){let t;for(t=0;e>ty;e>>=iu,t+=1);return t}st.bitLen=vB;function _B(e,t){return e>>BigInt(t)&iu}st.bitGet=_B;const EB=(e,t,r)=>e|(r?iu:ty)<<BigInt(t);st.bitSet=EB;const xB=e=>(lB<<BigInt(e-1))-iu;st.bitMask=xB;const Yh=e=>new Uint8Array(e),oy=e=>Uint8Array.from(e);function SB(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Yh(e),i=Yh(e),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...y)=>r(i,n,...y),c=(y=Yh())=>{i=a(oy([0]),y),n=a(),y.length!==0&&(i=a(oy([1]),y),n=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let y=0;const A=[];for(;y<t;){n=a();const v=n.slice();A.push(v),y+=n.length}return sy(...A)};return(y,A)=>{o(),c(y);let v;for(;!(v=A(u()));)c();return o(),v}}st.createHmacDrbg=SB;const AB={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Zo(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function BB(e,t,r={}){const n=(i,s,o)=>{const a=AB[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const c=e[i];if(!(o&&c===void 0)&&!a(c,e))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(const[i,s]of Object.entries(t))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return e}st.validateObject=BB,Object.defineProperty(ht,"__esModule",{value:!0}),ht.mapHashToField=ht.getMinHashLength=ht.getFieldBytesLength=ht.hashToPrivateScalar=ht.FpSqrtEven=ht.FpSqrtOdd=ht.Field=ht.nLength=ht.FpIsSquare=ht.FpDiv=ht.FpInvertBatch=ht.FpPow=ht.validateField=ht.isNegativeLE=ht.FpSqrt=ht.tonelliShanks=ht.invert=ht.pow2=ht.pow=ht.mod=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Cn=st,jr=BigInt(0),Jt=BigInt(1),ds=BigInt(2),IB=BigInt(3),Xh=BigInt(4),ay=BigInt(5),cy=BigInt(8);BigInt(9),BigInt(16);function Ln(e,t){const r=e%t;return r>=jr?r:t+r}ht.mod=Ln;function fy(e,t,r){if(r<=jr||t<jr)throw new Error("Expected power/modulo > 0");if(r===Jt)return jr;let n=Jt;for(;t>jr;)t&Jt&&(n=n*e%r),e=e*e%r,t>>=Jt;return n}ht.pow=fy;function RB(e,t,r){let n=e;for(;t-- >jr;)n*=n,n%=r;return n}ht.pow2=RB;function ou(e,t){if(e===jr||t<=jr)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Ln(e,t),n=t,i=jr,s=Jt;for(;r!==jr;){const a=n/r,c=n%r,u=i-s*a;n=r,r=c,i=s,s=u}if(n!==Jt)throw new Error("invert: does not exist");return Ln(i,t)}ht.invert=ou;function uy(e){const t=(e-Jt)/ds;let r,n,i;for(r=e-Jt,n=0;r%ds===jr;r/=ds,n++);for(i=ds;i<e&&fy(i,t,e)!==e-Jt;i++);if(n===1){const o=(e+Jt)/Xh;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const s=(r+Jt)/ds;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=n,l=a.pow(a.mul(a.ONE,i),r),y=a.pow(c,s),A=a.pow(c,r);for(;!a.eql(A,a.ONE);){if(a.eql(A,a.ZERO))return a.ZERO;let v=1;for(let O=a.sqr(A);v<u&&!a.eql(O,a.ONE);v++)O=a.sqr(O);const R=a.pow(l,Jt<<BigInt(u-v-1));l=a.sqr(R),y=a.mul(y,R),A=a.mul(A,l),u=v}return y}}ht.tonelliShanks=uy;function ly(e){if(e%Xh===IB){const t=(e+Jt)/Xh;return function(n,i){const s=n.pow(i,t);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(e%cy===ay){const t=(e-ay)/cy;return function(n,i){const s=n.mul(i,ds),o=n.pow(s,t),a=n.mul(i,o),c=n.mul(n.mul(a,ds),o),u=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),i))throw new Error("Cannot find square root");return u}}return uy(e)}ht.FpSqrt=ly;const TB=(e,t)=>(Ln(e,t)&Jt)===Jt;ht.isNegativeLE=TB;const kB=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function CB(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=kB.reduce((n,i)=>(n[i]="function",n),t);return(0,Cn.validateObject)(e,r)}ht.validateField=CB;function hy(e,t,r){if(r<jr)throw new Error("Expected power > 0");if(r===jr)return e.ONE;if(r===Jt)return t;let n=e.ONE,i=t;for(;r>jr;)r&Jt&&(n=e.mul(n,i)),i=e.sqr(i),r>>=Jt;return n}ht.FpPow=hy;function dy(e,t){const r=new Array(t.length),n=t.reduce((s,o,a)=>e.is0(o)?s:(r[a]=s,e.mul(s,o)),e.ONE),i=e.inv(n);return t.reduceRight((s,o,a)=>e.is0(o)?s:(r[a]=e.mul(s,r[a]),e.mul(s,o)),i),r}ht.FpInvertBatch=dy;function LB(e,t,r){return e.mul(t,typeof r=="bigint"?ou(r,e.ORDER):e.inv(r))}ht.FpDiv=LB;function $B(e){const t=(e.ORDER-Jt)/ds;return r=>{const n=e.pow(r,t);return e.eql(n,e.ZERO)||e.eql(n,e.ONE)}}ht.FpIsSquare=$B;function Jh(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}ht.nLength=Jh;function OB(e,t,r=!1,n={}){if(e<=jr)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=Jh(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=ly(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:(0,Cn.bitMask)(i),ZERO:jr,ONE:Jt,create:c=>Ln(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return jr<=c&&c<e},is0:c=>c===jr,isOdd:c=>(c&Jt)===Jt,neg:c=>Ln(-c,e),eql:(c,u)=>c===u,sqr:c=>Ln(c*c,e),add:(c,u)=>Ln(c+u,e),sub:(c,u)=>Ln(c-u,e),mul:(c,u)=>Ln(c*u,e),pow:(c,u)=>hy(a,c,u),div:(c,u)=>Ln(c*ou(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>ou(c,e),sqrt:n.sqrt||(c=>o(a,c)),invertBatch:c=>dy(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>r?(0,Cn.numberToBytesLE)(c,s):(0,Cn.numberToBytesBE)(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return r?(0,Cn.bytesToNumberLE)(c):(0,Cn.bytesToNumberBE)(c)}});return Object.freeze(a)}ht.Field=OB;function MB(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)}ht.FpSqrtOdd=MB;function NB(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r}ht.FpSqrtEven=NB;function PB(e,t,r=!1){e=(0,Cn.ensureBytes)("privateHash",e);const n=e.length,i=Jh(t).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);const s=r?(0,Cn.bytesToNumberLE)(e):(0,Cn.bytesToNumberBE)(e);return Ln(s,t-Jt)+Jt}ht.hashToPrivateScalar=PB;function Qh(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}ht.getFieldBytesLength=Qh;function py(e){const t=Qh(e);return t+Math.ceil(t/2)}ht.getMinHashLength=py;function UB(e,t,r=!1){const n=e.length,i=Qh(t),s=py(t);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const o=r?(0,Cn.bytesToNumberBE)(e):(0,Cn.bytesToNumberLE)(e),a=Ln(o,t-Jt)+Jt;return r?(0,Cn.numberToBytesLE)(a,i):(0,Cn.numberToBytesBE)(a,i)}ht.mapHashToField=UB;var ed={},Go={};Object.defineProperty(Go,"__esModule",{value:!0}),Go.validateBasic=Go.wNAF=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gy=ht,FB=st,DB=BigInt(0),td=BigInt(1);function HB(e,t){const r=(i,s)=>{const o=s.negate();return i?o:s},n=i=>{const s=Math.ceil(t/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,s){let o=e.ZERO,a=i;for(;s>DB;)s&td&&(o=o.add(a)),a=a.double(),s>>=td;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=n(s),c=[];let u=i,l=u;for(let y=0;y<o;y++){l=u,c.push(l);for(let A=1;A<a;A++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(i,s,o){const{windows:a,windowSize:c}=n(i);let u=e.ZERO,l=e.BASE;const y=BigInt(2**i-1),A=2**i,v=BigInt(i);for(let R=0;R<a;R++){const O=R*c;let P=Number(o&y);o>>=v,P>c&&(P-=A,o+=td);const H=O,F=O+Math.abs(P)-1,N=R%2!==0,$=P<0;P===0?l=l.add(r(N,s[H])):u=u.add(r($,s[F]))}return{p:u,f:l}},wNAFCached(i,s,o,a){const c=i._WINDOW_SIZE||1;let u=s.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&s.set(i,a(u))),this.wNAF(c,u,o)}}}Go.wNAF=HB;function jB(e){return(0,gy.validateField)(e.Fp),(0,FB.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,gy.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}Go.validateBasic=jB,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.mapToCurveSimpleSWU=e.SWUFpSqrtRatio=e.weierstrass=e.weierstrassPoints=e.DER=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=ht,r=st,n=st,i=Go;function s(F){const N=(0,i.validateBasic)(F);r.validateObject(N,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:$,Fp:q,a:G}=N;if($){if(!q.eql(G,q.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof $!="object"||typeof $.beta!="bigint"||typeof $.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...N})}const{bytesToNumberBE:o,hexToBytes:a}=r;e.DER={Err:class extends Error{constructor(N=""){super(N)}},_parseInt(F){const{Err:N}=e.DER;if(F.length<2||F[0]!==2)throw new N("Invalid signature integer tag");const $=F[1],q=F.subarray(2,$+2);if(!$||q.length!==$)throw new N("Invalid signature integer: wrong length");if(q[0]&128)throw new N("Invalid signature integer: negative");if(q[0]===0&&!(q[1]&128))throw new N("Invalid signature integer: unnecessary leading zero");return{d:o(q),l:F.subarray($+2)}},toSig(F){const{Err:N}=e.DER,$=typeof F=="string"?a(F):F;if(!r.isBytes($))throw new Error("ui8a expected");let q=$.length;if(q<2||$[0]!=48)throw new N("Invalid signature tag");if($[1]!==q-2)throw new N("Invalid signature: incorrect length");const{d:G,l:Z}=e.DER._parseInt($.subarray(2)),{d:z,l:ee}=e.DER._parseInt(Z);if(ee.length)throw new N("Invalid signature: left bytes after parsing");return{r:G,s:z}},hexFromSig(F){const N=Q=>Number.parseInt(Q[0],16)&8?"00"+Q:Q,$=Q=>{const I=Q.toString(16);return I.length&1?`0${I}`:I},q=N($(F.s)),G=N($(F.r)),Z=q.length/2,z=G.length/2,ee=$(Z),se=$(z);return`30${$(z+Z+4)}02${se}${G}02${ee}${q}`}};const c=BigInt(0),u=BigInt(1),l=BigInt(2),y=BigInt(3),A=BigInt(4);function v(F){const N=s(F),{Fp:$}=N,q=N.toBytes||((m,_,E)=>{const x=_.toAffine();return r.concatBytes(Uint8Array.from([4]),$.toBytes(x.x),$.toBytes(x.y))}),G=N.fromBytes||(m=>{const _=m.subarray(1),E=$.fromBytes(_.subarray(0,$.BYTES)),x=$.fromBytes(_.subarray($.BYTES,2*$.BYTES));return{x:E,y:x}});function Z(m){const{a:_,b:E}=N,x=$.sqr(m),T=$.mul(x,m);return $.add($.add(T,$.mul(m,_)),E)}if(!$.eql($.sqr(N.Gy),Z(N.Gx)))throw new Error("bad generator point: equation left != right");function z(m){return typeof m=="bigint"&&c<m&&m<N.n}function ee(m){if(!z(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function se(m){const{allowedPrivateKeyLengths:_,nByteLength:E,wrapPrivateKey:x,n:T}=N;if(_&&typeof m!="bigint"){if(r.isBytes(m)&&(m=r.bytesToHex(m)),typeof m!="string"||!_.includes(m.length))throw new Error("Invalid key");m=m.padStart(E*2,"0")}let B;try{B=typeof m=="bigint"?m:r.bytesToNumberBE((0,n.ensureBytes)("private key",m,E))}catch{throw new Error(`private key must be ${E} bytes, hex or bigint, not ${typeof m}`)}return x&&(B=t.mod(B,T)),ee(B),B}const Q=new Map;function I(m){if(!(m instanceof g))throw new Error("ProjectivePoint expected")}class g{constructor(_,E,x){if(this.px=_,this.py=E,this.pz=x,_==null||!$.isValid(_))throw new Error("x required");if(E==null||!$.isValid(E))throw new Error("y required");if(x==null||!$.isValid(x))throw new Error("z required")}static fromAffine(_){const{x:E,y:x}=_||{};if(!_||!$.isValid(E)||!$.isValid(x))throw new Error("invalid affine point");if(_ instanceof g)throw new Error("projective point not allowed");const T=B=>$.eql(B,$.ZERO);return T(E)&&T(x)?g.ZERO:new g(E,x,$.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(_){const E=$.invertBatch(_.map(x=>x.pz));return _.map((x,T)=>x.toAffine(E[T])).map(g.fromAffine)}static fromHex(_){const E=g.fromAffine(G((0,n.ensureBytes)("pointHex",_)));return E.assertValidity(),E}static fromPrivateKey(_){return g.BASE.multiply(se(_))}_setWindowSize(_){this._WINDOW_SIZE=_,Q.delete(this)}assertValidity(){if(this.is0()){if(N.allowInfinityPoint&&!$.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:_,y:E}=this.toAffine();if(!$.isValid(_)||!$.isValid(E))throw new Error("bad point: x or y not FE");const x=$.sqr(E),T=Z(_);if(!$.eql(x,T))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:_}=this.toAffine();if($.isOdd)return!$.isOdd(_);throw new Error("Field doesn't support isOdd")}equals(_){I(_);const{px:E,py:x,pz:T}=this,{px:B,py:d,pz:k}=_,W=$.eql($.mul(E,k),$.mul(B,T)),K=$.eql($.mul(x,k),$.mul(d,T));return W&&K}negate(){return new g(this.px,$.neg(this.py),this.pz)}double(){const{a:_,b:E}=N,x=$.mul(E,y),{px:T,py:B,pz:d}=this;let k=$.ZERO,W=$.ZERO,K=$.ZERO,re=$.mul(T,T),xe=$.mul(B,B),be=$.mul(d,d),ge=$.mul(T,B);return ge=$.add(ge,ge),K=$.mul(T,d),K=$.add(K,K),k=$.mul(_,K),W=$.mul(x,be),W=$.add(k,W),k=$.sub(xe,W),W=$.add(xe,W),W=$.mul(k,W),k=$.mul(ge,k),K=$.mul(x,K),be=$.mul(_,be),ge=$.sub(re,be),ge=$.mul(_,ge),ge=$.add(ge,K),K=$.add(re,re),re=$.add(K,re),re=$.add(re,be),re=$.mul(re,ge),W=$.add(W,re),be=$.mul(B,d),be=$.add(be,be),re=$.mul(be,ge),k=$.sub(k,re),K=$.mul(be,xe),K=$.add(K,K),K=$.add(K,K),new g(k,W,K)}add(_){I(_);const{px:E,py:x,pz:T}=this,{px:B,py:d,pz:k}=_;let W=$.ZERO,K=$.ZERO,re=$.ZERO;const xe=N.a,be=$.mul(N.b,y);let ge=$.mul(E,B),tt=$.mul(x,d),Ue=$.mul(T,k),Pe=$.add(E,x),pe=$.add(B,d);Pe=$.mul(Pe,pe),pe=$.add(ge,tt),Pe=$.sub(Pe,pe),pe=$.add(E,T);let we=$.add(B,k);return pe=$.mul(pe,we),we=$.add(ge,Ue),pe=$.sub(pe,we),we=$.add(x,T),W=$.add(d,k),we=$.mul(we,W),W=$.add(tt,Ue),we=$.sub(we,W),re=$.mul(xe,pe),W=$.mul(be,Ue),re=$.add(W,re),W=$.sub(tt,re),re=$.add(tt,re),K=$.mul(W,re),tt=$.add(ge,ge),tt=$.add(tt,ge),Ue=$.mul(xe,Ue),pe=$.mul(be,pe),tt=$.add(tt,Ue),Ue=$.sub(ge,Ue),Ue=$.mul(xe,Ue),pe=$.add(pe,Ue),ge=$.mul(tt,pe),K=$.add(K,ge),ge=$.mul(we,pe),W=$.mul(Pe,W),W=$.sub(W,ge),ge=$.mul(Pe,tt),re=$.mul(we,re),re=$.add(re,ge),new g(W,K,re)}subtract(_){return this.add(_.negate())}is0(){return this.equals(g.ZERO)}wNAF(_){return h.wNAFCached(this,Q,_,E=>{const x=$.invertBatch(E.map(T=>T.pz));return E.map((T,B)=>T.toAffine(x[B])).map(g.fromAffine)})}multiplyUnsafe(_){const E=g.ZERO;if(_===c)return E;if(ee(_),_===u)return this;const{endo:x}=N;if(!x)return h.unsafeLadder(this,_);let{k1neg:T,k1:B,k2neg:d,k2:k}=x.splitScalar(_),W=E,K=E,re=this;for(;B>c||k>c;)B&u&&(W=W.add(re)),k&u&&(K=K.add(re)),re=re.double(),B>>=u,k>>=u;return T&&(W=W.negate()),d&&(K=K.negate()),K=new g($.mul(K.px,x.beta),K.py,K.pz),W.add(K)}multiply(_){ee(_);let E=_,x,T;const{endo:B}=N;if(B){const{k1neg:d,k1:k,k2neg:W,k2:K}=B.splitScalar(E);let{p:re,f:xe}=this.wNAF(k),{p:be,f:ge}=this.wNAF(K);re=h.constTimeNegate(d,re),be=h.constTimeNegate(W,be),be=new g($.mul(be.px,B.beta),be.py,be.pz),x=re.add(be),T=xe.add(ge)}else{const{p:d,f:k}=this.wNAF(E);x=d,T=k}return g.normalizeZ([x,T])[0]}multiplyAndAddUnsafe(_,E,x){const T=g.BASE,B=(k,W)=>W===c||W===u||!k.equals(T)?k.multiplyUnsafe(W):k.multiply(W),d=B(this,E).add(B(_,x));return d.is0()?void 0:d}toAffine(_){const{px:E,py:x,pz:T}=this,B=this.is0();_==null&&(_=B?$.ONE:$.inv(T));const d=$.mul(E,_),k=$.mul(x,_),W=$.mul(T,_);if(B)return{x:$.ZERO,y:$.ZERO};if(!$.eql(W,$.ONE))throw new Error("invZ was invalid");return{x:d,y:k}}isTorsionFree(){const{h:_,isTorsionFree:E}=N;if(_===u)return!0;if(E)return E(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:_,clearCofactor:E}=N;return _===u?this:E?E(g,this):this.multiplyUnsafe(N.h)}toRawBytes(_=!0){return this.assertValidity(),q(g,this,_)}toHex(_=!0){return r.bytesToHex(this.toRawBytes(_))}}g.BASE=new g(N.Gx,N.Gy,$.ONE),g.ZERO=new g($.ZERO,$.ONE,$.ZERO);const f=N.nBitLength,h=(0,i.wNAF)(g,N.endo?Math.ceil(f/2):f);return{CURVE:N,ProjectivePoint:g,normPrivateKeyToScalar:se,weierstrassEquation:Z,isWithinCurveOrder:z}}e.weierstrassPoints=v;function R(F){const N=(0,i.validateBasic)(F);return r.validateObject(N,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...N})}function O(F){const N=R(F),{Fp:$,n:q}=N,G=$.BYTES+1,Z=2*$.BYTES+1;function z(pe){return c<pe&&pe<$.ORDER}function ee(pe){return t.mod(pe,q)}function se(pe){return t.invert(pe,q)}const{ProjectivePoint:Q,normPrivateKeyToScalar:I,weierstrassEquation:g,isWithinCurveOrder:f}=v({...N,toBytes(pe,we,ke){const vt=we.toAffine(),He=$.toBytes(vt.x),it=r.concatBytes;return ke?it(Uint8Array.from([we.hasEvenY()?2:3]),He):it(Uint8Array.from([4]),He,$.toBytes(vt.y))},fromBytes(pe){const we=pe.length,ke=pe[0],vt=pe.subarray(1);if(we===G&&(ke===2||ke===3)){const He=r.bytesToNumberBE(vt);if(!z(He))throw new Error("Point is not on curve");const it=g(He);let Ht=$.sqrt(it);const ut=(Ht&u)===u;return(ke&1)===1!==ut&&(Ht=$.neg(Ht)),{x:He,y:Ht}}else if(we===Z&&ke===4){const He=$.fromBytes(vt.subarray(0,$.BYTES)),it=$.fromBytes(vt.subarray($.BYTES,2*$.BYTES));return{x:He,y:it}}else throw new Error(`Point of length ${we} was invalid. Expected ${G} compressed bytes or ${Z} uncompressed bytes`)}}),h=pe=>r.bytesToHex(r.numberToBytesBE(pe,N.nByteLength));function m(pe){const we=q>>u;return pe>we}function _(pe){return m(pe)?ee(-pe):pe}const E=(pe,we,ke)=>r.bytesToNumberBE(pe.slice(we,ke));class x{constructor(we,ke,vt){this.r=we,this.s=ke,this.recovery=vt,this.assertValidity()}static fromCompact(we){const ke=N.nByteLength;return we=(0,n.ensureBytes)("compactSignature",we,ke*2),new x(E(we,0,ke),E(we,ke,2*ke))}static fromDER(we){const{r:ke,s:vt}=e.DER.toSig((0,n.ensureBytes)("DER",we));return new x(ke,vt)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(we){return new x(this.r,this.s,we)}recoverPublicKey(we){const{r:ke,s:vt,recovery:He}=this,it=K((0,n.ensureBytes)("msgHash",we));if(He==null||![0,1,2,3].includes(He))throw new Error("recovery id invalid");const Ht=He===2||He===3?ke+N.n:ke;if(Ht>=$.ORDER)throw new Error("recovery id 2 or 3 invalid");const ut=He&1?"03":"02",pt=Q.fromHex(ut+h(Ht)),Wt=se(Ht),xt=ee(-it*Wt),At=ee(vt*Wt),Xt=Q.BASE.multiplyAndAddUnsafe(pt,xt,At);if(!Xt)throw new Error("point at infinify");return Xt.assertValidity(),Xt}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new x(this.r,ee(-this.s),this.recovery):this}toDERRawBytes(){return r.hexToBytes(this.toDERHex())}toDERHex(){return e.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return r.hexToBytes(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const T={isValidPrivateKey(pe){try{return I(pe),!0}catch{return!1}},normPrivateKeyToScalar:I,randomPrivateKey:()=>{const pe=t.getMinHashLength(N.n);return t.mapHashToField(N.randomBytes(pe),N.n)},precompute(pe=8,we=Q.BASE){return we._setWindowSize(pe),we.multiply(BigInt(3)),we}};function B(pe,we=!0){return Q.fromPrivateKey(pe).toRawBytes(we)}function d(pe){const we=r.isBytes(pe),ke=typeof pe=="string",vt=(we||ke)&&pe.length;return we?vt===G||vt===Z:ke?vt===2*G||vt===2*Z:pe instanceof Q}function k(pe,we,ke=!0){if(d(pe))throw new Error("first arg must be private key");if(!d(we))throw new Error("second arg must be public key");return Q.fromHex(we).multiply(I(pe)).toRawBytes(ke)}const W=N.bits2int||function(pe){const we=r.bytesToNumberBE(pe),ke=pe.length*8-N.nBitLength;return ke>0?we>>BigInt(ke):we},K=N.bits2int_modN||function(pe){return ee(W(pe))},re=r.bitMask(N.nBitLength);function xe(pe){if(typeof pe!="bigint")throw new Error("bigint expected");if(!(c<=pe&&pe<re))throw new Error(`bigint expected < 2^${N.nBitLength}`);return r.numberToBytesBE(pe,N.nByteLength)}function be(pe,we,ke=ge){if(["recovered","canonical"].some(C=>C in ke))throw new Error("sign() legacy options not supported");const{hash:vt,randomBytes:He}=N;let{lowS:it,prehash:Ht,extraEntropy:ut}=ke;it==null&&(it=!0),pe=(0,n.ensureBytes)("msgHash",pe),Ht&&(pe=(0,n.ensureBytes)("prehashed msgHash",vt(pe)));const pt=K(pe),Wt=I(we),xt=[xe(Wt),xe(pt)];if(ut!=null){const C=ut===!0?He($.BYTES):ut;xt.push((0,n.ensureBytes)("extraEntropy",C))}const At=r.concatBytes(...xt),Xt=pt;function Tt(C){const w=W(C);if(!f(w))return;const b=se(w),D=Q.BASE.multiply(w).toAffine(),V=ee(D.x);if(V===c)return;const X=ee(b*ee(Xt+V*Wt));if(X===c)return;let ae=(D.x===V?0:2)|Number(D.y&u),Ze=X;return it&&m(X)&&(Ze=_(X),ae^=1),new x(V,Ze,ae)}return{seed:At,k2sig:Tt}}const ge={lowS:N.lowS,prehash:!1},tt={lowS:N.lowS,prehash:!1};function Ue(pe,we,ke=ge){const{seed:vt,k2sig:He}=be(pe,we,ke),it=N;return r.createHmacDrbg(it.hash.outputLen,it.nByteLength,it.hmac)(vt,He)}Q.BASE._setWindowSize(8);function Pe(pe,we,ke,vt=tt){const He=pe;if(we=(0,n.ensureBytes)("msgHash",we),ke=(0,n.ensureBytes)("publicKey",ke),"strict"in vt)throw new Error("options.strict was renamed to lowS");const{lowS:it,prehash:Ht}=vt;let ut,pt;try{if(typeof He=="string"||r.isBytes(He))try{ut=x.fromDER(He)}catch(D){if(!(D instanceof e.DER.Err))throw D;ut=x.fromCompact(He)}else if(typeof He=="object"&&typeof He.r=="bigint"&&typeof He.s=="bigint"){const{r:D,s:V}=He;ut=new x(D,V)}else throw new Error("PARSE");pt=Q.fromHex(ke)}catch(D){if(D.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(it&&ut.hasHighS())return!1;Ht&&(we=N.hash(we));const{r:Wt,s:xt}=ut,At=K(we),Xt=se(xt),Tt=ee(At*Xt),C=ee(Wt*Xt),w=Q.BASE.multiplyAndAddUnsafe(pt,Tt,C)?.toAffine();return w?ee(w.x)===Wt:!1}return{CURVE:N,getPublicKey:B,getSharedSecret:k,sign:Ue,verify:Pe,ProjectivePoint:Q,Signature:x,utils:T}}e.weierstrass=O;function P(F,N){const $=F.ORDER;let q=c;for(let m=$-u;m%l===c;m/=l)q+=u;const G=q,Z=l<<G-u-u,z=Z*l,ee=($-u)/z,se=(ee-u)/l,Q=z-u,I=Z,g=F.pow(N,ee),f=F.pow(N,(ee+u)/l);let h=(m,_)=>{let E=g,x=F.pow(_,Q),T=F.sqr(x);T=F.mul(T,_);let B=F.mul(m,T);B=F.pow(B,se),B=F.mul(B,x),x=F.mul(B,_),T=F.mul(B,m);let d=F.mul(T,x);B=F.pow(d,I);let k=F.eql(B,F.ONE);x=F.mul(T,f),B=F.mul(d,E),T=F.cmov(x,T,k),d=F.cmov(B,d,k);for(let W=G;W>u;W--){let K=W-l;K=l<<K-u;let re=F.pow(d,K);const xe=F.eql(re,F.ONE);x=F.mul(T,E),E=F.mul(E,E),re=F.mul(d,E),T=F.cmov(x,T,xe),d=F.cmov(re,d,xe)}return{isValid:k,value:T}};if(F.ORDER%A===y){const m=(F.ORDER-y)/A,_=F.sqrt(F.neg(N));h=(E,x)=>{let T=F.sqr(x);const B=F.mul(E,x);T=F.mul(T,B);let d=F.pow(T,m);d=F.mul(d,B);const k=F.mul(d,_),W=F.mul(F.sqr(d),x),K=F.eql(W,E);let re=F.cmov(k,d,K);return{isValid:K,value:re}}}return h}e.SWUFpSqrtRatio=P;function H(F,N){if(t.validateField(F),!F.isValid(N.A)||!F.isValid(N.B)||!F.isValid(N.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const $=P(F,N.Z);if(!F.isOdd)throw new Error("Fp.isOdd is not implemented!");return q=>{let G,Z,z,ee,se,Q,I,g;G=F.sqr(q),G=F.mul(G,N.Z),Z=F.sqr(G),Z=F.add(Z,G),z=F.add(Z,F.ONE),z=F.mul(z,N.B),ee=F.cmov(N.Z,F.neg(Z),!F.eql(Z,F.ZERO)),ee=F.mul(ee,N.A),Z=F.sqr(z),Q=F.sqr(ee),se=F.mul(Q,N.A),Z=F.add(Z,se),Z=F.mul(Z,z),Q=F.mul(Q,ee),se=F.mul(Q,N.B),Z=F.add(Z,se),I=F.mul(G,z);const{isValid:f,value:h}=$(Z,Q);g=F.mul(G,q),g=F.mul(g,h),I=F.cmov(I,z,f),g=F.cmov(g,h,f);const m=F.isOdd(q)===F.isOdd(g);return g=F.cmov(F.neg(g),g,m),I=F.div(I,ee),{x:I,y:g}}}e.mapToCurveSimpleSWU=H}(ed);var Vn={};Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.createHasher=Vn.isogenyMap=Vn.hash_to_field=Vn.expand_message_xof=Vn.expand_message_xmd=void 0;const zB=ht,$n=st;function qB(e){if((0,$n.isBytes)(e))return e;if(typeof e=="string")return(0,$n.utf8ToBytes)(e);throw new Error("DST must be Uint8Array or string")}const VB=$n.bytesToNumberBE;function ps(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=e&255,e>>>=8;return new Uint8Array(r)}function WB(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function Ya(e){if(!(0,$n.isBytes)(e))throw new Error("Uint8Array expected")}function rd(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function yy(e,t,r,n){Ya(e),Ya(t),rd(r),t.length>255&&(t=n((0,$n.concatBytes)((0,$n.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:s}=n,o=Math.ceil(r/i);if(o>255)throw new Error("Invalid xmd length");const a=(0,$n.concatBytes)(t,ps(t.length,1)),c=ps(0,s),u=ps(r,2),l=new Array(o),y=n((0,$n.concatBytes)(c,e,u,ps(0,1),a));l[0]=n((0,$n.concatBytes)(y,ps(1,1),a));for(let v=1;v<=o;v++){const R=[WB(y,l[v-1]),ps(v+1,1),a];l[v]=n((0,$n.concatBytes)(...R))}return(0,$n.concatBytes)(...l).slice(0,r)}Vn.expand_message_xmd=yy;function wy(e,t,r,n,i){if(Ya(e),Ya(t),rd(r),t.length>255){const s=Math.ceil(2*n/8);t=i.create({dkLen:s}).update((0,$n.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(ps(r,2)).update(t).update(ps(t.length,1)).digest()}Vn.expand_message_xof=wy;function nd(e,t,r){(0,$n.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:n,k:i,m:s,hash:o,expand:a,DST:c}=r;Ya(e),rd(t);const u=qB(c),l=n.toString(2).length,y=Math.ceil((l+i)/8),A=t*s*y;let v;if(a==="xmd")v=yy(e,u,A,o);else if(a==="xof")v=wy(e,u,A,i,o);else if(a==="_internal_pass")v=e;else throw new Error('expand must be "xmd" or "xof"');const R=new Array(t);for(let O=0;O<t;O++){const P=new Array(s);for(let H=0;H<s;H++){const F=y*(H+O*s),N=v.subarray(F,F+y);P[H]=(0,zB.mod)(VB(N),n)}R[O]=P}return R}Vn.hash_to_field=nd;function KB(e,t){const r=t.map(n=>Array.from(n).reverse());return(n,i)=>{const[s,o,a,c]=r.map(u=>u.reduce((l,y)=>e.add(e.mul(l,n),y)));return n=e.div(s,o),i=e.mul(i,e.div(a,c)),{x:n,y:i}}}Vn.isogenyMap=KB;function ZB(e,t,r){if(typeof t!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){const s=nd(n,2,{...r,DST:r.DST,...i}),o=e.fromAffine(t(s[0])),a=e.fromAffine(t(s[1])),c=o.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(n,i){const s=nd(n,1,{...r,DST:r.encodeDST,...i}),o=e.fromAffine(t(s[0])).clearCofactor();return o.assertValidity(),o}}}Vn.createHasher=ZB;var Yo={},my={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=e.HMAC=void 0;const t=Hr,r=Pi;class n extends r.Hash{constructor(o,a){super(),this.finished=!1,this.destroyed=!1,(0,t.hash)(o);const c=(0,r.toBytes)(a);if(this.iHash=o.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const u=this.blockLen,l=new Uint8Array(u);l.set(c.length>u?o.create().update(c).digest():c);for(let y=0;y<l.length;y++)l[y]^=54;this.iHash.update(l),this.oHash=o.create();for(let y=0;y<l.length;y++)l[y]^=106;this.oHash.update(l),l.fill(0)}update(o){return(0,t.exists)(this),this.iHash.update(o),this}digestInto(o){(0,t.exists)(this),(0,t.bytes)(o,this.outputLen),this.finished=!0,this.iHash.digestInto(o),this.oHash.update(o),this.oHash.digestInto(o),this.destroy()}digest(){const o=new Uint8Array(this.oHash.outputLen);return this.digestInto(o),o}_cloneInto(o){o||(o=Object.create(Object.getPrototypeOf(this),{}));const{oHash:a,iHash:c,finished:u,destroyed:l,blockLen:y,outputLen:A}=this;return o=o,o.finished=u,o.destroyed=l,o.blockLen=y,o.outputLen=A,o.oHash=a._cloneInto(o.oHash),o.iHash=c._cloneInto(o.iHash),o}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.HMAC=n;const i=(s,o,a)=>new n(s,o).update(a).digest();e.hmac=i,e.hmac.create=(s,o)=>new n(s,o)})(my),Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.createCurve=Yo.getHash=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const GB=my,by=Pi,YB=ed;function vy(e){return{hash:e,hmac:(t,...r)=>(0,GB.hmac)(e,t,(0,by.concatBytes)(...r)),randomBytes:by.randomBytes}}Yo.getHash=vy;function XB(e,t){const r=n=>(0,YB.weierstrass)({...e,...vy(n)});return Object.freeze({...r(t),create:r})}Yo.createCurve=XB,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.encodeToCurve=e.hashToCurve=e.schnorr=e.secp256k1=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=Ko,r=Pi,n=ht,i=ed,s=st,o=Vn,a=Yo,c=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),u=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),l=BigInt(1),y=BigInt(2),A=(x,T)=>(x+T/y)/T;function v(x){const T=c,B=BigInt(3),d=BigInt(6),k=BigInt(11),W=BigInt(22),K=BigInt(23),re=BigInt(44),xe=BigInt(88),be=x*x*x%T,ge=be*be*x%T,tt=(0,n.pow2)(ge,B,T)*ge%T,Ue=(0,n.pow2)(tt,B,T)*ge%T,Pe=(0,n.pow2)(Ue,y,T)*be%T,pe=(0,n.pow2)(Pe,k,T)*Pe%T,we=(0,n.pow2)(pe,W,T)*pe%T,ke=(0,n.pow2)(we,re,T)*we%T,vt=(0,n.pow2)(ke,xe,T)*ke%T,He=(0,n.pow2)(vt,re,T)*we%T,it=(0,n.pow2)(He,B,T)*ge%T,Ht=(0,n.pow2)(it,K,T)*pe%T,ut=(0,n.pow2)(Ht,d,T)*be%T,pt=(0,n.pow2)(ut,y,T);if(!R.eql(R.sqr(pt),x))throw new Error("Cannot find square root");return pt}const R=(0,n.Field)(c,void 0,void 0,{sqrt:v});e.secp256k1=(0,a.createCurve)({a:BigInt(0),b:BigInt(7),Fp:R,n:u,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:x=>{const T=u,B=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),d=-l*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),k=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),W=B,K=BigInt("0x100000000000000000000000000000000"),re=A(W*x,T),xe=A(-d*x,T);let be=(0,n.mod)(x-re*B-xe*k,T),ge=(0,n.mod)(-re*d-xe*W,T);const tt=be>K,Ue=ge>K;if(tt&&(be=T-be),Ue&&(ge=T-ge),be>K||ge>K)throw new Error("splitScalar: Endomorphism failed, k="+x);return{k1neg:tt,k1:be,k2neg:Ue,k2:ge}}}},t.sha256);const O=BigInt(0),P=x=>typeof x=="bigint"&&O<x&&x<c,H=x=>typeof x=="bigint"&&O<x&&x<u,F={};function N(x,...T){let B=F[x];if(B===void 0){const d=(0,t.sha256)(Uint8Array.from(x,k=>k.charCodeAt(0)));B=(0,s.concatBytes)(d,d),F[x]=B}return(0,t.sha256)((0,s.concatBytes)(B,...T))}const $=x=>x.toRawBytes(!0).slice(1),q=x=>(0,s.numberToBytesBE)(x,32),G=x=>(0,n.mod)(x,c),Z=x=>(0,n.mod)(x,u),z=e.secp256k1.ProjectivePoint,ee=(x,T,B)=>z.BASE.multiplyAndAddUnsafe(x,T,B);function se(x){let T=e.secp256k1.utils.normPrivateKeyToScalar(x),B=z.fromPrivateKey(T);return{scalar:B.hasEvenY()?T:Z(-T),bytes:$(B)}}function Q(x){if(!P(x))throw new Error("bad x: need 0 < x < p");const T=G(x*x),B=G(T*x+BigInt(7));let d=v(B);d%y!==O&&(d=G(-d));const k=new z(x,d,l);return k.assertValidity(),k}function I(...x){return Z((0,s.bytesToNumberBE)(N("BIP0340/challenge",...x)))}function g(x){return se(x).bytes}function f(x,T,B=(0,r.randomBytes)(32)){const d=(0,s.ensureBytes)("message",x),{bytes:k,scalar:W}=se(T),K=(0,s.ensureBytes)("auxRand",B,32),re=q(W^(0,s.bytesToNumberBE)(N("BIP0340/aux",K))),xe=N("BIP0340/nonce",re,k,d),be=Z((0,s.bytesToNumberBE)(xe));if(be===O)throw new Error("sign failed: k is zero");const{bytes:ge,scalar:tt}=se(be),Ue=I(ge,k,d),Pe=new Uint8Array(64);if(Pe.set(ge,0),Pe.set(q(Z(tt+Ue*W)),32),!h(Pe,d,k))throw new Error("sign: Invalid signature produced");return Pe}function h(x,T,B){const d=(0,s.ensureBytes)("signature",x,64),k=(0,s.ensureBytes)("message",T),W=(0,s.ensureBytes)("publicKey",B,32);try{const K=Q((0,s.bytesToNumberBE)(W)),re=(0,s.bytesToNumberBE)(d.subarray(0,32));if(!P(re))return!1;const xe=(0,s.bytesToNumberBE)(d.subarray(32,64));if(!H(xe))return!1;const be=I(q(re),$(K),k),ge=ee(K,xe,Z(-be));return!(!ge||!ge.hasEvenY()||ge.toAffine().x!==re)}catch{return!1}}e.schnorr=(()=>({getPublicKey:g,sign:f,verify:h,utils:{randomPrivateKey:e.secp256k1.utils.randomPrivateKey,lift_x:Q,pointToBytes:$,numberToBytesBE:s.numberToBytesBE,bytesToNumberBE:s.bytesToNumberBE,taggedHash:N,mod:n.mod}}))();const m=(()=>(0,o.isogenyMap)(R,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(x=>x.map(T=>BigInt(T)))))(),_=(()=>(0,i.mapToCurveSimpleSWU)(R,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:R.create(BigInt("-11"))}))(),E=(()=>(0,o.createHasher)(e.secp256k1.ProjectivePoint,x=>{const{x:T,y:B}=_(R.create(x[0]));return m(T,B)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:R.ORDER,m:1,k:128,expand:"xmd",hash:t.sha256}))();e.hashToCurve=(()=>E.hashToCurve)(),e.encodeToCurve=(()=>E.encodeToCurve)()}(G1),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.secp256k1=void 0;var t=G1;Object.defineProperty(e,"secp256k1",{enumerable:!0,get:function(){return t.secp256k1}})}(eu),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MAX_WITHDRAWALS_PER_PAYLOAD=e.RLP_EMPTY_STRING=e.KECCAK256_RLP=e.KECCAK256_RLP_S=e.KECCAK256_RLP_ARRAY=e.KECCAK256_RLP_ARRAY_S=e.KECCAK256_NULL=e.KECCAK256_NULL_S=e.TWO_POW256=e.SECP256K1_ORDER_DIV_2=e.SECP256K1_ORDER=e.MAX_INTEGER_BIGINT=e.MAX_INTEGER=e.MAX_UINT64=void 0;const t=ie,r=eu;e.MAX_UINT64=BigInt("0xffffffffffffffff"),e.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),e.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),e.SECP256K1_ORDER=r.secp256k1.CURVE.n,e.SECP256K1_ORDER_DIV_2=r.secp256k1.CURVE.n/BigInt(2),e.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.KECCAK256_NULL=t.Buffer.from(e.KECCAK256_NULL_S,"hex"),e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.KECCAK256_RLP_ARRAY=t.Buffer.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.KECCAK256_RLP=t.Buffer.from(e.KECCAK256_RLP_S,"hex"),e.RLP_EMPTY_STRING=t.Buffer.from([128]),e.MAX_WITHDRAWALS_PER_PAYLOAD=16}(Qf);var au={};Object.defineProperty(au,"__esModule",{value:!0}),au.GWEI_TO_WEI=void 0,au.GWEI_TO_WEI=BigInt(1e9);var id={},vi={};Object.defineProperty(vi,"__esModule",{value:!0}),vi.RLP=vi.utils=vi.decode=vi.encode=void 0;function sd(e){if(Array.isArray(e)){const r=[];let n=0;for(let i=0;i<e.length;i++){const s=sd(e[i]);r.push(s),n+=s.length}return ad(Ey(n,192),...r)}const t=Ry(e);return t.length===1&&t[0]<128?t:ad(Ey(t.length,128),t)}vi.encode=sd;function Xo(e,t,r){if(r>e.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,r)}function _y(e){if(e[0]===0)throw new Error("invalid RLP: extra zeros");return Ay(Sy(e))}function Ey(e,t){if(e<56)return Uint8Array.from([e+t]);const r=cd(e),n=r.length/2,i=cd(t+55+n);return Uint8Array.from(cu(i+r))}function xy(e,t=!1){if(typeof e>"u"||e===null||e.length===0)return Uint8Array.from([]);const r=Ry(e),n=od(r);if(t)return n;if(n.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return n.data}vi.decode=xy;function od(e){let t,r,n,i,s;const o=[],a=e[0];if(a<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(a<=183){if(t=a-127,a===128?n=Uint8Array.from([]):n=Xo(e,1,t),t===2&&n[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:n,remainder:e.slice(t)}}else if(a<=191){if(r=a-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(t=_y(Xo(e,1,r)),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return n=Xo(e,r,t+r),{data:n,remainder:e.slice(t+r)}}else if(a<=247){for(t=a-191,i=Xo(e,1,t);i.length;)s=od(i),o.push(s.data),i=s.remainder;return{data:o,remainder:e.slice(t)}}else{if(r=a-246,t=_y(Xo(e,1,r)),t<56)throw new Error("invalid RLP: encoded list too short");const c=r+t;if(c>e.length)throw new Error("invalid RLP: total length is larger than the data");for(i=Xo(e,r,c);i.length;)s=od(i),o.push(s.data),i=s.remainder;return{data:o,remainder:e.slice(c)}}}const JB=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Sy(e){let t="";for(let r=0;r<e.length;r++)t+=JB[e[r]];return t}function Ay(e){const t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t}function cu(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=r*2;t[r]=Ay(e.slice(n,n+2))}return t}function ad(...e){if(e.length===1)return e[0];const t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const s=e[n];r.set(s,i),i+=s.length}return r}function By(e){return new TextEncoder().encode(e)}function cd(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");const t=e.toString(16);return t.length%2?`0${t}`:t}function QB(e){return e.length%2?`0${e}`:e}function Iy(e){return e.length>=2&&e[0]==="0"&&e[1]==="x"}function eI(e){return typeof e!="string"?e:Iy(e)?e.slice(2):e}function Ry(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")return Iy(e)?cu(QB(eI(e))):By(e);if(typeof e=="number"||typeof e=="bigint")return e?cu(cd(e)):Uint8Array.from([]);if(e==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof e)}vi.utils={bytesToHex:Sy,concatBytes:ad,hexToBytes:cu,utf8ToBytes:By},vi.RLP={encode:sd,decode:xy};var Wn={},Qt={},ot={};Object.defineProperty(ot,"__esModule",{value:!0}),ot.add5L=ot.add5H=ot.add4H=ot.add4L=ot.add3H=ot.add3L=ot.add=ot.rotlBL=ot.rotlBH=ot.rotlSL=ot.rotlSH=ot.rotr32L=ot.rotr32H=ot.rotrBL=ot.rotrBH=ot.rotrSL=ot.rotrSH=ot.shrSL=ot.shrSH=ot.toBig=ot.split=ot.fromBig=void 0;const fu=BigInt(2**32-1),fd=BigInt(32);function ud(e,t=!1){return t?{h:Number(e&fu),l:Number(e>>fd&fu)}:{h:Number(e>>fd&fu)|0,l:Number(e&fu)|0}}ot.fromBig=ud;function Ty(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=ud(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}ot.split=Ty;const ky=(e,t)=>BigInt(e>>>0)<<fd|BigInt(t>>>0);ot.toBig=ky;const Cy=(e,t,r)=>e>>>r;ot.shrSH=Cy;const Ly=(e,t,r)=>e<<32-r|t>>>r;ot.shrSL=Ly;const $y=(e,t,r)=>e>>>r|t<<32-r;ot.rotrSH=$y;const Oy=(e,t,r)=>e<<32-r|t>>>r;ot.rotrSL=Oy;const My=(e,t,r)=>e<<64-r|t>>>r-32;ot.rotrBH=My;const Ny=(e,t,r)=>e>>>r-32|t<<64-r;ot.rotrBL=Ny;const Py=(e,t)=>t;ot.rotr32H=Py;const Uy=(e,t)=>e;ot.rotr32L=Uy;const Fy=(e,t,r)=>e<<r|t>>>32-r;ot.rotlSH=Fy;const Dy=(e,t,r)=>t<<r|e>>>32-r;ot.rotlSL=Dy;const Hy=(e,t,r)=>t<<r-32|e>>>64-r;ot.rotlBH=Hy;const jy=(e,t,r)=>e<<r-32|t>>>64-r;ot.rotlBL=jy;function zy(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}ot.add=zy;const qy=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);ot.add3L=qy;const Vy=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;ot.add3H=Vy;const Wy=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);ot.add4L=Wy;const Ky=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;ot.add4H=Ky;const Zy=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);ot.add5L=Zy;const Gy=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0;ot.add5H=Gy;const tI={fromBig:ud,split:Ty,toBig:ky,shrSH:Cy,shrSL:Ly,rotrSH:$y,rotrSL:Oy,rotrBH:My,rotrBL:Ny,rotr32H:Py,rotr32L:Uy,rotlSH:Fy,rotlSL:Dy,rotlBH:Hy,rotlBL:jy,add:zy,add3L:qy,add3H:Vy,add4L:Wy,add4H:Ky,add5H:Gy,add5L:Zy};ot.default=tI,Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.shake256=Qt.shake128=Qt.keccak_512=Qt.keccak_384=Qt.keccak_256=Qt.keccak_224=Qt.sha3_512=Qt.sha3_384=Qt.sha3_256=Qt.sha3_224=Qt.Keccak=Qt.keccakP=void 0;const Jo=Hr,Xa=ot,Ja=Pi,[Yy,Xy,Jy]=[[],[],[]],rI=BigInt(0),Qa=BigInt(1),nI=BigInt(2),iI=BigInt(7),sI=BigInt(256),oI=BigInt(113);for(let e=0,t=Qa,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],Yy.push(2*(5*n+r)),Xy.push((e+1)*(e+2)/2%64);let i=rI;for(let s=0;s<7;s++)t=(t<<Qa^(t>>iI)*oI)%sI,t&nI&&(i^=Qa<<(Qa<<BigInt(s))-Qa);Jy.push(i)}const[aI,cI]=(0,Xa.split)(Jy,!0),Qy=(e,t,r)=>r>32?(0,Xa.rotlBH)(e,t,r):(0,Xa.rotlSH)(e,t,r),ew=(e,t,r)=>r>32?(0,Xa.rotlBL)(e,t,r):(0,Xa.rotlSL)(e,t,r);function tw(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let o=0;o<10;o++)r[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=r[c],l=r[c+1],y=Qy(u,l,1)^r[a],A=ew(u,l,1)^r[a+1];for(let v=0;v<50;v+=10)e[o+v]^=y,e[o+v+1]^=A}let i=e[2],s=e[3];for(let o=0;o<24;o++){const a=Xy[o],c=Qy(i,s,a),u=ew(i,s,a),l=Yy[o];i=e[l],s=e[l+1],e[l]=c,e[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=aI[n],e[1]^=cI[n]}r.fill(0)}Qt.keccakP=tw;class ec extends Ja.Hash{constructor(t,r,n,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,Jo.number)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Ja.u32)(this.state)}keccak(){tw(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){(0,Jo.exists)(this);const{blockLen:r,state:n}=this;t=(0,Ja.toBytes)(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=t[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,r&128&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){(0,Jo.exists)(this,!1),(0,Jo.bytes)(t),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=t.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);t.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,Jo.number)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,Jo.output)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new ec(r,n,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=n,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}}Qt.Keccak=ec;const gs=(e,t,r)=>(0,Ja.wrapConstructor)(()=>new ec(t,e,r));Qt.sha3_224=gs(6,144,224/8),Qt.sha3_256=gs(6,136,256/8),Qt.sha3_384=gs(6,104,384/8),Qt.sha3_512=gs(6,72,512/8),Qt.keccak_224=gs(1,144,224/8),Qt.keccak_256=gs(1,136,256/8),Qt.keccak_384=gs(1,104,384/8),Qt.keccak_512=gs(1,72,512/8);const rw=(e,t,r)=>(0,Ja.wrapXOFConstructorWithOpts)((n={})=>new ec(t,e,n.dkLen===void 0?r:n.dkLen,!0));Qt.shake128=rw(31,168,128/8),Qt.shake256=rw(31,136,256/8);function ld(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var uu={exports:{}};(function(e,t){var r=ft&&ft.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=t.wrapHash=t.equalsBytes=t.hexToBytes=t.bytesToUtf8=t.utf8ToBytes=t.createView=t.concatBytes=t.toHex=t.bytesToHex=t.assertBytes=t.assertBool=void 0;const n=r(Hr),i=Pi,s=n.default.bool;t.assertBool=s;const o=n.default.bytes;t.assertBytes=o;var a=Pi;Object.defineProperty(t,"bytesToHex",{enumerable:!0,get:function(){return a.bytesToHex}}),Object.defineProperty(t,"toHex",{enumerable:!0,get:function(){return a.bytesToHex}}),Object.defineProperty(t,"concatBytes",{enumerable:!0,get:function(){return a.concatBytes}}),Object.defineProperty(t,"createView",{enumerable:!0,get:function(){return a.createView}}),Object.defineProperty(t,"utf8ToBytes",{enumerable:!0,get:function(){return a.utf8ToBytes}});function c(A){if(!(A instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof A}`);return new TextDecoder().decode(A)}t.bytesToUtf8=c;function u(A){const v=A.startsWith("0x")?A.substring(2):A;return(0,i.hexToBytes)(v)}t.hexToBytes=u;function l(A,v){if(A.length!==v.length)return!1;for(let R=0;R<A.length;R++)if(A[R]!==v[R])return!1;return!0}t.equalsBytes=l;function y(A){return v=>(n.default.bytes(v),A(v))}t.wrapHash=y,t.crypto=(()=>{const A=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,v=typeof ld=="function"&&ld.bind(e);return{node:v&&!A?v("crypto"):void 0,web:A}})()})(uu,uu.exports),Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.keccak512=Wn.keccak384=Wn.keccak256=Wn.keccak224=void 0;const tc=Qt,lu=uu.exports;Wn.keccak224=(0,lu.wrapHash)(tc.keccak_224),Wn.keccak256=(()=>{const e=(0,lu.wrapHash)(tc.keccak_256);return e.create=tc.keccak_256.create,e})(),Wn.keccak384=(0,lu.wrapHash)(tc.keccak_384),Wn.keccak512=(0,lu.wrapHash)(tc.keccak_512);var eo={},Kn={},er={};Object.defineProperty(er,"__esModule",{value:!0}),er.isHexString=er.getKeys=er.fromAscii=er.fromUtf8=er.toAscii=er.arrayContainsArray=er.getBinarySize=er.padToEven=er.stripHexPrefix=er.isHexPrefixed=void 0;function nw(e){if(typeof e!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof e}`);return e[0]==="0"&&e[1]==="x"}er.isHexPrefixed=nw;const fI=e=>{if(typeof e!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof e}`);return nw(e)?e.slice(2):e};er.stripHexPrefix=fI;function iw(e){let t=e;if(typeof t!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof t}`);return t.length%2&&(t=`0${t}`),t}er.padToEven=iw;function uI(e){if(typeof e!="string")throw new Error(`[getBinarySize] method requires input type 'string', received ${typeof e}`);return ie.Buffer.byteLength(e,"utf8")}er.getBinarySize=uI;function lI(e,t,r){if(Array.isArray(e)!==!0)throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof e}'`);if(Array.isArray(t)!==!0)throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof t}'`);return t[r===!0?"some":"every"](n=>e.indexOf(n)>=0)}er.arrayContainsArray=lI;function hI(e){let t="",r=0;const n=e.length;for(e.substring(0,2)==="0x"&&(r=2);r<n;r+=2){const i=parseInt(e.substr(r,2),16);t+=String.fromCharCode(i)}return t}er.toAscii=hI;function dI(e){const t=ie.Buffer.from(e,"utf8");return`0x${iw(t.toString("hex")).replace(/^0+|0+$/g,"")}`}er.fromUtf8=dI;function pI(e){let t="";for(let r=0;r<e.length;r++){const i=e.charCodeAt(r).toString(16);t+=i.length<2?`0${i}`:i}return`0x${t}`}er.fromAscii=pI;function gI(e,t,r){if(!Array.isArray(e))throw new Error(`[getKeys] method expects input 'params' to be an array, got ${typeof e}`);if(typeof t!="string")throw new Error(`[getKeys] method expects input 'key' to be type 'string', got ${typeof e}`);const n=[];for(let i=0;i<e.length;i++){let s=e[i][t];if(r===!0&&!s)s="";else if(typeof s!="string")throw new Error(`invalid abi - expected type 'string', received ${typeof s}`);n.push(s)}return n}er.getKeys=gI;function yI(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||typeof t<"u"&&t>0&&e.length!==2+2*t)}er.isHexString=yI,Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.assertIsString=Kn.assertIsArray=Kn.assertIsBuffer=Kn.assertIsHexString=void 0;const wI=er,mI=function(e){if(!(0,wI.isHexString)(e)){const t=`This method only supports 0x-prefixed hex strings but input was: ${e}`;throw new Error(t)}};Kn.assertIsHexString=mI;const bI=function(e){if(!ie.Buffer.isBuffer(e)){const t=`This method only supports Buffer but input was: ${e}`;throw new Error(t)}};Kn.assertIsBuffer=bI;const vI=function(e){if(!Array.isArray(e)){const t=`This method only supports number arrays but input was: ${e}`;throw new Error(t)}};Kn.assertIsArray=vI;const _I=function(e){if(typeof e!="string"){const t=`This method only supports strings but input was: ${e}`;throw new Error(t)}};Kn.assertIsString=_I,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.intToUnpaddedBuffer=e.bigIntToUnpaddedBuffer=e.bigIntToHex=e.bufArrToArr=e.arrToBufArr=e.validateNoLeadingZeroes=e.baToJSON=e.toUtf8=e.short=e.addHexPrefix=e.toUnsigned=e.fromSigned=e.bufferToInt=e.bigIntToBuffer=e.bufferToBigInt=e.bufferToHex=e.toBuffer=e.unpadHexString=e.unpadArray=e.unpadBuffer=e.setLengthRight=e.setLengthLeft=e.zeros=e.intToBuffer=e.intToHex=void 0;const t=Kn,r=er,n=function(f){if(!Number.isSafeInteger(f)||f<0)throw new Error(`Received an invalid integer type: ${f}`);return`0x${f.toString(16)}`};e.intToHex=n;const i=function(f){const h=(0,e.intToHex)(f);return ie.Buffer.from((0,r.padToEven)(h.slice(2)),"hex")};e.intToBuffer=i;const s=function(f){return ie.Buffer.allocUnsafe(f).fill(0)};e.zeros=s;const o=function(f,h,m){const _=(0,e.zeros)(h);return m?f.length<h?(f.copy(_),_):f.slice(0,h):f.length<h?(f.copy(_,h-f.length),_):f.slice(-h)},a=function(f,h){return(0,t.assertIsBuffer)(f),o(f,h,!1)};e.setLengthLeft=a;const c=function(f,h){return(0,t.assertIsBuffer)(f),o(f,h,!0)};e.setLengthRight=c;const u=function(f){let h=f[0];for(;f.length>0&&h.toString()==="0";)f=f.slice(1),h=f[0];return f},l=function(f){return(0,t.assertIsBuffer)(f),u(f)};e.unpadBuffer=l;const y=function(f){return(0,t.assertIsArray)(f),u(f)};e.unpadArray=y;const A=function(f){return(0,t.assertIsHexString)(f),f=(0,r.stripHexPrefix)(f),"0x"+u(f)};e.unpadHexString=A;const v=function(f){if(f==null)return ie.Buffer.allocUnsafe(0);if(ie.Buffer.isBuffer(f)||Array.isArray(f)||f instanceof Uint8Array)return ie.Buffer.from(f);if(typeof f=="string"){if(!(0,r.isHexString)(f))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${f}`);return ie.Buffer.from((0,r.padToEven)((0,r.stripHexPrefix)(f)),"hex")}if(typeof f=="number")return(0,e.intToBuffer)(f);if(typeof f=="bigint"){if(f<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${f}`);let h=f.toString(16);return h.length%2&&(h="0"+h),ie.Buffer.from(h,"hex")}if(f.toArray)return ie.Buffer.from(f.toArray());if(f.toBuffer)return ie.Buffer.from(f.toBuffer());throw new Error("invalid type")};e.toBuffer=v;const R=function(f){return f=(0,e.toBuffer)(f),"0x"+f.toString("hex")};e.bufferToHex=R;function O(f){const h=(0,e.bufferToHex)(f);return BigInt(h==="0x"?0:h)}e.bufferToBigInt=O;function P(f){return(0,e.toBuffer)("0x"+f.toString(16))}e.bigIntToBuffer=P;const H=function(f){const h=Number(O(f));if(!Number.isSafeInteger(h))throw new Error("Number exceeds 53 bits");return h};e.bufferToInt=H;const F=function(f){return BigInt.asIntN(256,O(f))};e.fromSigned=F;const N=function(f){return P(BigInt.asUintN(256,f))};e.toUnsigned=N;const $=function(f){return typeof f!="string"||(0,r.isHexPrefixed)(f)?f:"0x"+f};e.addHexPrefix=$;function q(f,h=50){const m=ie.Buffer.isBuffer(f)?f.toString("hex"):f;return m.length<=h?m:m.slice(0,h)+"\u2026"}e.short=q;const G=function(f){const h=/^(00)+|(00)+$/g;if(f=(0,r.stripHexPrefix)(f),f.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return ie.Buffer.from(f.replace(h,""),"hex").toString("utf8")};e.toUtf8=G;const Z=function(f){if(ie.Buffer.isBuffer(f))return`0x${f.toString("hex")}`;if(f instanceof Array){const h=[];for(let m=0;m<f.length;m++)h.push((0,e.baToJSON)(f[m]));return h}};e.baToJSON=Z;const z=function(f){for(const[h,m]of Object.entries(f))if(m!==void 0&&m.length>0&&m[0]===0)throw new Error(`${h} cannot have leading zeroes, received: ${m.toString("hex")}`)};e.validateNoLeadingZeroes=z;function ee(f){return Array.isArray(f)?f.map(h=>ee(h)):ie.Buffer.from(f)}e.arrToBufArr=ee;function se(f){return Array.isArray(f)?f.map(h=>se(h)):Uint8Array.from(f??[])}e.bufArrToArr=se;const Q=f=>"0x"+f.toString(16);e.bigIntToHex=Q;function I(f){return(0,e.unpadBuffer)(P(f))}e.bigIntToUnpaddedBuffer=I;function g(f){return(0,e.unpadBuffer)((0,e.intToBuffer)(f))}e.intToUnpaddedBuffer=g}(eo),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.accountBodyToRLP=e.accountBodyToSlim=e.accountBodyFromSlim=e.isZeroAddress=e.zeroAddress=e.importPublic=e.privateToAddress=e.privateToPublic=e.publicToAddress=e.pubToAddress=e.isValidPublic=e.isValidPrivate=e.generateAddress2=e.generateAddress=e.isValidChecksumAddress=e.toChecksumAddress=e.isValidAddress=e.Account=void 0;const t=vi,r=Wn,n=eu,i=uu.exports,s=eo,o=Qf,a=Kn,c=er,u=BigInt(0);class l{constructor(g=u,f=u,h=o.KECCAK256_RLP,m=o.KECCAK256_NULL){this.nonce=g,this.balance=f,this.storageRoot=h,this.codeHash=m,this._validate()}static fromAccountData(g){const{nonce:f,balance:h,storageRoot:m,codeHash:_}=g;return new l(f!==void 0?(0,s.bufferToBigInt)((0,s.toBuffer)(f)):void 0,h!==void 0?(0,s.bufferToBigInt)((0,s.toBuffer)(h)):void 0,m!==void 0?(0,s.toBuffer)(m):void 0,_!==void 0?(0,s.toBuffer)(_):void 0)}static fromRlpSerializedAccount(g){const f=(0,s.arrToBufArr)(t.RLP.decode(Uint8Array.from(g)));if(!Array.isArray(f))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(f)}static fromValuesArray(g){const[f,h,m,_]=g;return new l((0,s.bufferToBigInt)(f),(0,s.bufferToBigInt)(h),m,_)}_validate(){if(this.nonce<u)throw new Error("nonce must be greater than zero");if(this.balance<u)throw new Error("balance must be greater than zero");if(this.storageRoot.length!==32)throw new Error("storageRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")}raw(){return[(0,s.bigIntToUnpaddedBuffer)(this.nonce),(0,s.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return ie.Buffer.from(t.RLP.encode((0,s.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(o.KECCAK256_NULL)}isEmpty(){return this.balance===u&&this.nonce===u&&this.codeHash.equals(o.KECCAK256_NULL)}}e.Account=l;const y=function(I){try{(0,a.assertIsString)(I)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(I)};e.isValidAddress=y;const A=function(I,g){(0,a.assertIsHexString)(I);const f=(0,c.stripHexPrefix)(I).toLowerCase();let h="";g!==void 0&&(h=(0,s.bufferToBigInt)((0,s.toBuffer)(g)).toString()+"0x");const m=ie.Buffer.from(h+f,"utf8"),_=(0,i.bytesToHex)((0,r.keccak256)(m));let E="0x";for(let x=0;x<f.length;x++)parseInt(_[x],16)>=8?E+=f[x].toUpperCase():E+=f[x];return E};e.toChecksumAddress=A;const v=function(I,g){return(0,e.isValidAddress)(I)&&(0,e.toChecksumAddress)(I,g)===I};e.isValidChecksumAddress=v;const R=function(I,g){return(0,a.assertIsBuffer)(I),(0,a.assertIsBuffer)(g),(0,s.bufferToBigInt)(g)===BigInt(0)?ie.Buffer.from((0,r.keccak256)(t.RLP.encode((0,s.bufArrToArr)([I,null])))).slice(-20):ie.Buffer.from((0,r.keccak256)(t.RLP.encode((0,s.bufArrToArr)([I,g])))).slice(-20)};e.generateAddress=R;const O=function(I,g,f){if((0,a.assertIsBuffer)(I),(0,a.assertIsBuffer)(g),(0,a.assertIsBuffer)(f),I.length!==20)throw new Error("Expected from to be of length 20");if(g.length!==32)throw new Error("Expected salt to be of length 32");const h=(0,r.keccak256)(ie.Buffer.concat([ie.Buffer.from("ff","hex"),I,g,(0,r.keccak256)(f)]));return(0,s.toBuffer)(h).slice(-20)};e.generateAddress2=O;const P=function(I){return n.secp256k1.utils.isValidPrivateKey(I)};e.isValidPrivate=P;const H=function(I,g=!1){if((0,a.assertIsBuffer)(I),I.length===64)try{return n.secp256k1.ProjectivePoint.fromHex(ie.Buffer.concat([ie.Buffer.from([4]),I])),!0}catch{return!1}if(!g)return!1;try{return n.secp256k1.ProjectivePoint.fromHex(I),!0}catch{return!1}};e.isValidPublic=H;const F=function(I,g=!1){if((0,a.assertIsBuffer)(I),g&&I.length!==64&&(I=ie.Buffer.from(n.secp256k1.ProjectivePoint.fromHex(I).toRawBytes(!1).slice(1))),I.length!==64)throw new Error("Expected pubKey to be of length 64");return ie.Buffer.from((0,r.keccak256)(I)).slice(-20)};e.pubToAddress=F,e.publicToAddress=e.pubToAddress;const N=function(I){return(0,a.assertIsBuffer)(I),ie.Buffer.from(n.secp256k1.ProjectivePoint.fromPrivateKey(I).toRawBytes(!1).slice(1))};e.privateToPublic=N;const $=function(I){return(0,e.publicToAddress)((0,e.privateToPublic)(I))};e.privateToAddress=$;const q=function(I){return(0,a.assertIsBuffer)(I),I.length!==64&&(I=ie.Buffer.from(n.secp256k1.ProjectivePoint.fromHex(I).toRawBytes(!1).slice(1))),I};e.importPublic=q;const G=function(){const g=(0,s.zeros)(20);return(0,s.bufferToHex)(g)};e.zeroAddress=G;const Z=function(I){try{(0,a.assertIsString)(I)}catch{return!1}return(0,e.zeroAddress)()===I};e.isZeroAddress=Z;function z(I){const[g,f,h,m]=I;return[g,f,(0,s.arrToBufArr)(h).length===0?o.KECCAK256_RLP:h,(0,s.arrToBufArr)(m).length===0?o.KECCAK256_NULL:m]}e.accountBodyFromSlim=z;const ee=new Uint8Array(0);function se(I){const[g,f,h,m]=I;return[g,f,(0,s.arrToBufArr)(h).equals(o.KECCAK256_RLP)?ee:h,(0,s.arrToBufArr)(m).equals(o.KECCAK256_NULL)?ee:m]}e.accountBodyToSlim=se;function Q(I,g=!0){const f=g?z(I):I;return(0,s.arrToBufArr)(t.RLP.encode(f))}e.accountBodyToRLP=Q}(id);var rc={};Object.defineProperty(rc,"__esModule",{value:!0}),rc.Address=void 0;const nc=id,hu=eo;class Fi{constructor(t){if(t.length!==20)throw new Error("Invalid address length");this.buf=t}static zero(){return new Fi((0,hu.zeros)(20))}static fromString(t){if(!(0,nc.isValidAddress)(t))throw new Error("Invalid address");return new Fi((0,hu.toBuffer)(t))}static fromPublicKey(t){if(!ie.Buffer.isBuffer(t))throw new Error("Public key should be Buffer");const r=(0,nc.pubToAddress)(t);return new Fi(r)}static fromPrivateKey(t){if(!ie.Buffer.isBuffer(t))throw new Error("Private key should be Buffer");const r=(0,nc.privateToAddress)(t);return new Fi(r)}static generate(t,r){if(typeof r!="bigint")throw new Error("Expected nonce to be a bigint");return new Fi((0,nc.generateAddress)(t.buf,(0,hu.bigIntToBuffer)(r)))}static generate2(t,r,n){if(!ie.Buffer.isBuffer(r))throw new Error("Expected salt to be a Buffer");if(!ie.Buffer.isBuffer(n))throw new Error("Expected initCode to be a Buffer");return new Fi((0,nc.generateAddress2)(t.buf,r,n))}equals(t){return this.buf.equals(t.buf)}isZero(){return this.equals(Fi.zero())}isPrecompileOrSystemAddress(){const t=(0,hu.bufferToBigInt)(this.buf),r=BigInt(0),n=BigInt("0xffff");return t>=r&&t<=n}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return ie.Buffer.from(this.buf)}}rc.Address=Fi;var du={},hd={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toType=e.TypeOutput=void 0;const t=eo,r=er;var n;(function(s){s[s.Number=0]="Number",s[s.BigInt=1]="BigInt",s[s.Buffer=2]="Buffer",s[s.PrefixedHexString=3]="PrefixedHexString"})(n=e.TypeOutput||(e.TypeOutput={}));function i(s,o){if(s===null)return null;if(s===void 0)return;if(typeof s=="string"&&!(0,r.isHexString)(s))throw new Error(`A string must be provided with a 0x-prefix, given: ${s}`);if(typeof s=="number"&&!Number.isSafeInteger(s))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const a=(0,t.toBuffer)(s);switch(o){case n.Buffer:return a;case n.BigInt:return(0,t.bufferToBigInt)(a);case n.Number:{const c=(0,t.bufferToBigInt)(a);if(c>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(c)}case n.PrefixedHexString:return(0,t.bufferToHex)(a);default:throw new Error("unknown outputType")}}e.toType=i})(hd),Object.defineProperty(du,"__esModule",{value:!0}),du.Withdrawal=void 0;const sw=rc,dd=eo,br=hd;class ic{constructor(t,r,n,i){this.index=t,this.validatorIndex=r,this.address=n,this.amount=i}static fromWithdrawalData(t){const{index:r,validatorIndex:n,address:i,amount:s}=t,o=(0,br.toType)(r,br.TypeOutput.BigInt),a=(0,br.toType)(n,br.TypeOutput.BigInt),c=new sw.Address((0,br.toType)(i,br.TypeOutput.Buffer)),u=(0,br.toType)(s,br.TypeOutput.BigInt);return new ic(o,a,c,u)}static fromValuesArray(t){if(t.length!==4)throw Error(`Invalid withdrawalArray length expected=4 actual=${t.length}`);const[r,n,i,s]=t;return ic.fromWithdrawalData({index:r,validatorIndex:n,address:i,amount:s})}static toBufferArray(t){const{index:r,validatorIndex:n,address:i,amount:s}=t,o=(0,br.toType)(r,br.TypeOutput.BigInt)===BigInt(0)?ie.Buffer.alloc(0):(0,br.toType)(r,br.TypeOutput.Buffer),a=(0,br.toType)(n,br.TypeOutput.BigInt)===BigInt(0)?ie.Buffer.alloc(0):(0,br.toType)(n,br.TypeOutput.Buffer);let c;i instanceof sw.Address?c=i.buf:c=(0,br.toType)(i,br.TypeOutput.Buffer);const u=(0,br.toType)(s,br.TypeOutput.BigInt)===BigInt(0)?ie.Buffer.alloc(0):(0,br.toType)(s,br.TypeOutput.Buffer);return[o,a,c,u]}raw(){return ic.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,dd.bigIntToHex)(this.index),validatorIndex:(0,dd.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,dd.bigIntToHex)(this.amount)}}}du.Withdrawal=ic;var an={};Object.defineProperty(an,"__esModule",{value:!0}),an.hashPersonalMessage=an.isValidSignature=an.fromRpcSig=an.toCompactSig=an.toRpcSig=an.ecrecover=an.ecsign=void 0;const EI=Wn,ow=eu,bn=eo,pd=Qf,xI=Kn;function SI(e,t,r){const n=ow.secp256k1.sign(e,t),i=n.toCompactRawBytes(),s=ie.Buffer.from(i.slice(0,32)),o=ie.Buffer.from(i.slice(32,64)),a=r===void 0?BigInt(n.recovery+27):BigInt(n.recovery+35)+BigInt(r)*BigInt(2);return{r:s,s:o,v:a}}an.ecsign=SI;function pu(e,t){return e===BigInt(0)||e===BigInt(1)?e:t===void 0?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}function gu(e){return e===BigInt(0)||e===BigInt(1)}const AI=function(e,t,r,n,i){const s=ie.Buffer.concat([(0,bn.setLengthLeft)(r,32),(0,bn.setLengthLeft)(n,32)],64),o=pu(t,i);if(!gu(o))throw new Error("Invalid signature v value");const c=ow.secp256k1.Signature.fromCompact(s).addRecoveryBit(Number(o)).recoverPublicKey(e);return ie.Buffer.from(c.toRawBytes(!1).slice(1))};an.ecrecover=AI;const BI=function(e,t,r,n){const i=pu(e,n);if(!gu(i))throw new Error("Invalid signature v value");return(0,bn.bufferToHex)(ie.Buffer.concat([(0,bn.setLengthLeft)(t,32),(0,bn.setLengthLeft)(r,32),(0,bn.toBuffer)(e)]))};an.toRpcSig=BI;const II=function(e,t,r,n){const i=pu(e,n);if(!gu(i))throw new Error("Invalid signature v value");let s=r;return(e>BigInt(28)&&e%BigInt(2)===BigInt(1)||e===BigInt(1)||e===BigInt(28))&&(s=ie.Buffer.from(r),s[0]|=128),(0,bn.bufferToHex)(ie.Buffer.concat([(0,bn.setLengthLeft)(t,32),(0,bn.setLengthLeft)(s,32)]))};an.toCompactSig=II;const RI=function(e){const t=(0,bn.toBuffer)(e);let r,n,i;if(t.length>=65)r=t.slice(0,32),n=t.slice(32,64),i=(0,bn.bufferToBigInt)(t.slice(64));else if(t.length===64)r=t.slice(0,32),n=t.slice(32,64),i=BigInt((0,bn.bufferToInt)(t.slice(32,33))>>7),n[0]&=127;else throw new Error("Invalid signature length");return i<27&&(i=i+BigInt(27)),{v:i,r,s:n}};an.fromRpcSig=RI;const TI=function(e,t,r,n=!0,i){if(t.length!==32||r.length!==32||!gu(pu(e,i)))return!1;const s=(0,bn.bufferToBigInt)(t),o=(0,bn.bufferToBigInt)(r);return!(s===BigInt(0)||s>=pd.SECP256K1_ORDER||o===BigInt(0)||o>=pd.SECP256K1_ORDER||n&&o>=pd.SECP256K1_ORDER_DIV_2)};an.isValidSignature=TI;const kI=function(e){(0,xI.assertIsBuffer)(e);const t=ie.Buffer.from(`Ethereum Signed Message:
${e.length}`,"utf-8");return ie.Buffer.from((0,EI.keccak256)(ie.Buffer.concat([t,e])))};an.hashPersonalMessage=kI;var aw={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.compactBytesToNibbles=e.bytesToNibbles=e.nibblesToCompactBytes=e.nibblesToBytes=e.hasTerminator=void 0;const t=o=>o.length>0&&o[o.length-1]===16;e.hasTerminator=t;const r=(o,a)=>{for(let c=0,u=0;u<o.length;c+=1,u+=2)a[c]=o[u]<<4|o[u+1]};e.nibblesToBytes=r;const n=o=>{let a=0;(0,e.hasTerminator)(o)&&(a=1,o=o.subarray(0,o.length-1));const c=new Uint8Array(o.length/2+1);return c[0]=a<<5,(o.length&1)===1&&(c[0]|=16,c[0]|=o[0],o=o.subarray(1)),(0,e.nibblesToBytes)(o,c.subarray(1)),c};e.nibblesToCompactBytes=n;const i=o=>{const a=o.length*2+1,c=new Uint8Array(a);for(let u=0;u<o.length;u++){const l=o[u];c[u*2]=l/16,c[u*2+1]=l%16}return c[a-1]=16,c};e.bytesToNibbles=i;const s=o=>{if(o.length===0)return o;let a=(0,e.bytesToNibbles)(o);a[0]<2&&(a=a.subarray(0,a.length-1));const c=2-(a[0]&1);return a.subarray(c)};e.compactBytesToNibbles=s})(aw);var yu={};Object.defineProperty(yu,"__esModule",{value:!0}),yu.AsyncEventEmitter=void 0;const CI=Dn.exports;async function LI(e,t,r){let n;for await(const i of t)try{i.length<2?i.call(e,r):await new Promise((s,o)=>{i.call(e,r,a=>{a?o(a):s()})})}catch(s){n=s}if(n)throw n}class $I extends CI.EventEmitter{emit(t,...r){let[n,i]=r;const s=this;let o=s._events[t]??[];return i===void 0&&typeof n=="function"&&(i=n,n=void 0),(t==="newListener"||t==="removeListener")&&(n={event:n,fn:i},i=void 0),o=Array.isArray(o)?o:[o],LI(s,o.slice(),n).then(i).catch(i),s.listenerCount(t)>0}once(t,r){const n=this;let i;if(typeof r!="function")throw new TypeError("listener must be a function");return r.length>=2?i=function(s,o){n.removeListener(t,i),r(s,o)}:i=function(s){n.removeListener(t,i),r(s,i)},n.on(t,i),n}first(t,r){let n=this._events[t]??[];if(typeof r!="function")throw new TypeError("listener must be a function");return Array.isArray(n)||(this._events[t]=n=[n]),n.unshift(r),this}before(t,r,n){return this.beforeOrAfter(t,r,n)}after(t,r,n){return this.beforeOrAfter(t,r,n,"after")}beforeOrAfter(t,r,n,i){let s=this._events[t]??[],o,a;const c=i==="after"?1:0;if(typeof n!="function")throw new TypeError("listener must be a function");if(typeof r!="function")throw new TypeError("target must be a function");for(Array.isArray(s)||(this._events[t]=s=[s]),a=s.length,o=s.length;o--;)if(s[o]===r){a=o+c;break}return s.splice(a,0,n),this}on(t,r){return super.on(t,r)}addListener(t,r){return super.addListener(t,r)}prependListener(t,r){return super.prependListener(t,r)}prependOnceListener(t,r){return super.prependOnceListener(t,r)}removeAllListeners(t){return super.removeAllListeners(t)}removeListener(t,r){return super.removeListener(t,r)}eventNames(){return super.eventNames()}listeners(t){return super.listeners(t)}listenerCount(t){return super.listenerCount(t)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(t){return super.setMaxListeners(t)}}yu.AsyncEventEmitter=$I;var wu={};Object.defineProperty(wu,"__esModule",{value:!0}),wu.Lock=void 0;class OI{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(t=>this.promiseResolverQueue.push(t))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(this.permits===1&&this.promiseResolverQueue.length>0){this.permits-=1;const t=this.promiseResolverQueue.shift();t&&t(!0)}}}wu.Lock=OI;var Qo={},to={},pr=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},_i=[],Zn=[],MI=typeof Uint8Array<"u"?Uint8Array:Array,gd=!1;function cw(){gd=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)_i[t]=e[t],Zn[e.charCodeAt(t)]=t;Zn["-".charCodeAt(0)]=62,Zn["_".charCodeAt(0)]=63}function NI(e){gd||cw();var t,r,n,i,s,o,a=e.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s=e[a-2]==="="?2:e[a-1]==="="?1:0,o=new MI(a*3/4-s),n=s>0?a-4:a;var c=0;for(t=0,r=0;t<n;t+=4,r+=3)i=Zn[e.charCodeAt(t)]<<18|Zn[e.charCodeAt(t+1)]<<12|Zn[e.charCodeAt(t+2)]<<6|Zn[e.charCodeAt(t+3)],o[c++]=i>>16&255,o[c++]=i>>8&255,o[c++]=i&255;return s===2?(i=Zn[e.charCodeAt(t)]<<2|Zn[e.charCodeAt(t+1)]>>4,o[c++]=i&255):s===1&&(i=Zn[e.charCodeAt(t)]<<10|Zn[e.charCodeAt(t+1)]<<4|Zn[e.charCodeAt(t+2)]>>2,o[c++]=i>>8&255,o[c++]=i&255),o}function PI(e){return _i[e>>18&63]+_i[e>>12&63]+_i[e>>6&63]+_i[e&63]}function UI(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16)+(e[s+1]<<8)+e[s+2],i.push(PI(n));return i.join("")}function fw(e){gd||cw();for(var t,r=e.length,n=r%3,i="",s=[],o=16383,a=0,c=r-n;a<c;a+=o)s.push(UI(e,a,a+o>c?c:a+o));return n===1?(t=e[r-1],i+=_i[t>>2],i+=_i[t<<4&63],i+="=="):n===2&&(t=(e[r-2]<<8)+e[r-1],i+=_i[t>>10],i+=_i[t>>4&63],i+=_i[t<<2&63],i+="="),s.push(i),s.join("")}function mu(e,t,r,n,i){var s,o,a=i*8-n-1,c=(1<<a)-1,u=c>>1,l=-7,y=r?i-1:0,A=r?-1:1,v=e[t+y];for(y+=A,s=v&(1<<-l)-1,v>>=-l,l+=a;l>0;s=s*256+e[t+y],y+=A,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=o*256+e[t+y],y+=A,l-=8);if(s===0)s=1-u;else{if(s===c)return o?NaN:(v?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-u}return(v?-1:1)*o*Math.pow(2,s-n)}function uw(e,t,r,n,i,s){var o,a,c,u=s*8-i-1,l=(1<<u)-1,y=l>>1,A=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:s-1,R=n?1:-1,O=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+y>=1?t+=A/c:t+=A*Math.pow(2,1-y),t*c>=2&&(o++,c/=2),o+y>=l?(a=0,o=l):o+y>=1?(a=(t*c-1)*Math.pow(2,i),o=o+y):(a=t*Math.pow(2,y-1)*Math.pow(2,i),o=0));i>=8;e[r+v]=a&255,v+=R,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;e[r+v]=o&255,v+=R,o/=256,u-=8);e[r+v-R]|=O*128}var FI={}.toString,lw=Array.isArray||function(e){return FI.call(e)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var DI=50;le.TYPED_ARRAY_SUPPORT=pr.TYPED_ARRAY_SUPPORT!==void 0?pr.TYPED_ARRAY_SUPPORT:!0,bu();function bu(){return le.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Di(e,t){if(bu()<t)throw new RangeError("Invalid typed array length");return le.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=le.prototype):(e===null&&(e=new le(t)),e.length=t),e}function le(e,t,r){if(!le.TYPED_ARRAY_SUPPORT&&!(this instanceof le))return new le(e,t,r);if(typeof e=="number"){if(typeof t=="string")throw new Error("If encoding is specified then the first argument must be a string");return yd(this,e)}return hw(this,e,t,r)}le.poolSize=8192,le._augment=function(e){return e.__proto__=le.prototype,e};function hw(e,t,r,n){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer?zI(e,t,r,n):typeof t=="string"?jI(e,t,r):qI(e,t)}le.from=function(e,t,r){return hw(null,e,t,r)},le.TYPED_ARRAY_SUPPORT&&(le.prototype.__proto__=Uint8Array.prototype,le.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&le[Symbol.species]);function dw(e){if(typeof e!="number")throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function HI(e,t,r,n){return dw(t),t<=0?Di(e,t):r!==void 0?typeof n=="string"?Di(e,t).fill(r,n):Di(e,t).fill(r):Di(e,t)}le.alloc=function(e,t,r){return HI(null,e,t,r)};function yd(e,t){if(dw(t),e=Di(e,t<0?0:md(t)|0),!le.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}le.allocUnsafe=function(e){return yd(null,e)},le.allocUnsafeSlow=function(e){return yd(null,e)};function jI(e,t,r){if((typeof r!="string"||r==="")&&(r="utf8"),!le.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=pw(t,r)|0;e=Di(e,n);var i=e.write(t,r);return i!==n&&(e=e.slice(0,i)),e}function wd(e,t){var r=t.length<0?0:md(t.length)|0;e=Di(e,r);for(var n=0;n<r;n+=1)e[n]=t[n]&255;return e}function zI(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return r===void 0&&n===void 0?t=new Uint8Array(t):n===void 0?t=new Uint8Array(t,r):t=new Uint8Array(t,r,n),le.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=le.prototype):e=wd(e,t),e}function qI(e,t){if(Ei(t)){var r=md(t.length)|0;return e=Di(e,r),e.length===0||t.copy(e,0,0,r),e}if(t){if(typeof ArrayBuffer<"u"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||f8(t.length)?Di(e,0):wd(e,t);if(t.type==="Buffer"&&lw(t.data))return wd(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function md(e){if(e>=bu())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+bu().toString(16)+" bytes");return e|0}le.isBuffer=u8;function Ei(e){return!!(e!=null&&e._isBuffer)}le.compare=function(t,r){if(!Ei(t)||!Ei(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var n=t.length,i=r.length,s=0,o=Math.min(n,i);s<o;++s)if(t[s]!==r[s]){n=t[s],i=r[s];break}return n<i?-1:i<n?1:0},le.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},le.concat=function(t,r){if(!lw(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return le.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<t.length;++n)r+=t[n].length;var i=le.allocUnsafe(r),s=0;for(n=0;n<t.length;++n){var o=t[n];if(!Ei(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,s),s+=o.length}return i};function pw(e,t){if(Ei(e))return e.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;typeof e!="string"&&(e=""+e);var r=e.length;if(r===0)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return Eu(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return xw(e).length;default:if(n)return Eu(e).length;t=(""+t).toLowerCase(),n=!0}}le.byteLength=pw;function VI(e,t,r){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return t8(this,t,r);case"utf8":case"utf-8":return mw(this,t,r);case"ascii":return QI(this,t,r);case"latin1":case"binary":return e8(this,t,r);case"base64":return XI(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r8(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}le.prototype._isBuffer=!0;function ro(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}le.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)ro(this,r,r+1);return this},le.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)ro(this,r,r+3),ro(this,r+1,r+2);return this},le.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)ro(this,r,r+7),ro(this,r+1,r+6),ro(this,r+2,r+5),ro(this,r+3,r+4);return this},le.prototype.toString=function(){var t=this.length|0;return t===0?"":arguments.length===0?mw(this,0,t):VI.apply(this,arguments)},le.prototype.equals=function(t){if(!Ei(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:le.compare(this,t)===0},le.prototype.inspect=function(){var t="",r=DI;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},le.prototype.compare=function(t,r,n,i,s){if(!Ei(t))throw new TypeError("Argument must be a Buffer");if(r===void 0&&(r=0),n===void 0&&(n=t?t.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),r<0||n>t.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&r>=n)return 0;if(i>=s)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,s>>>=0,this===t)return 0;for(var o=s-i,a=n-r,c=Math.min(o,a),u=this.slice(i,s),l=t.slice(r,n),y=0;y<c;++y)if(u[y]!==l[y]){o=u[y],a=l[y];break}return o<a?-1:a<o?1:0};function gw(e,t,r,n,i){if(e.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof t=="string"&&(t=le.from(t,n)),Ei(t))return t.length===0?-1:yw(e,t,r,n,i);if(typeof t=="number")return t=t&255,le.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):yw(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function yw(e,t,r,n,i){var s=1,o=e.length,a=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;s=2,o/=2,a/=2,r/=2}function c(v,R){return s===1?v[R]:v.readUInt16BE(R*s)}var u;if(i){var l=-1;for(u=r;u<o;u++)if(c(e,u)===c(t,l===-1?0:u-l)){if(l===-1&&(l=u),u-l+1===a)return l*s}else l!==-1&&(u-=u-l),l=-1}else for(r+a>o&&(r=o-a),u=r;u>=0;u--){for(var y=!0,A=0;A<a;A++)if(c(e,u+A)!==c(t,A)){y=!1;break}if(y)return u}return-1}le.prototype.includes=function(t,r,n){return this.indexOf(t,r,n)!==-1},le.prototype.indexOf=function(t,r,n){return gw(this,t,r,n,!0)},le.prototype.lastIndexOf=function(t,r,n){return gw(this,t,r,n,!1)};function WI(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var s=t.length;if(s%2!==0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(t.substr(o*2,2),16);if(isNaN(a))return o;e[r+o]=a}return o}function KI(e,t,r,n){return xu(Eu(t,e.length-r),e,r,n)}function ww(e,t,r,n){return xu(a8(t),e,r,n)}function ZI(e,t,r,n){return ww(e,t,r,n)}function GI(e,t,r,n){return xu(xw(t),e,r,n)}function YI(e,t,r,n){return xu(c8(t,e.length-r),e,r,n)}le.prototype.write=function(t,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-r;if((n===void 0||n>s)&&(n=s),t.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return WI(this,t,r,n);case"utf8":case"utf-8":return KI(this,t,r,n);case"ascii":return ww(this,t,r,n);case"latin1":case"binary":return ZI(this,t,r,n);case"base64":return GI(this,t,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return YI(this,t,r,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},le.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function XI(e,t,r){return t===0&&r===e.length?fw(e):fw(e.slice(t,r))}function mw(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var s=e[i],o=null,a=s>239?4:s>223?3:s>191?2:1;if(i+a<=r){var c,u,l,y;switch(a){case 1:s<128&&(o=s);break;case 2:c=e[i+1],(c&192)===128&&(y=(s&31)<<6|c&63,y>127&&(o=y));break;case 3:c=e[i+1],u=e[i+2],(c&192)===128&&(u&192)===128&&(y=(s&15)<<12|(c&63)<<6|u&63,y>2047&&(y<55296||y>57343)&&(o=y));break;case 4:c=e[i+1],u=e[i+2],l=e[i+3],(c&192)===128&&(u&192)===128&&(l&192)===128&&(y=(s&15)<<18|(c&63)<<12|(u&63)<<6|l&63,y>65535&&y<1114112&&(o=y))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=a}return JI(n)}var bw=4096;function JI(e){var t=e.length;if(t<=bw)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=bw));return r}function QI(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]&127);return n}function e8(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function t8(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=t;s<r;++s)i+=o8(e[s]);return i}function r8(e,t,r){for(var n=e.slice(t,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}le.prototype.slice=function(t,r){var n=this.length;t=~~t,r=r===void 0?n:~~r,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<t&&(r=t);var i;if(le.TYPED_ARRAY_SUPPORT)i=this.subarray(t,r),i.__proto__=le.prototype;else{var s=r-t;i=new le(s,void 0);for(var o=0;o<s;++o)i[o]=this[o+t]}return i};function zr(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}le.prototype.readUIntLE=function(t,r,n){t=t|0,r=r|0,n||zr(t,r,this.length);for(var i=this[t],s=1,o=0;++o<r&&(s*=256);)i+=this[t+o]*s;return i},le.prototype.readUIntBE=function(t,r,n){t=t|0,r=r|0,n||zr(t,r,this.length);for(var i=this[t+--r],s=1;r>0&&(s*=256);)i+=this[t+--r]*s;return i},le.prototype.readUInt8=function(t,r){return r||zr(t,1,this.length),this[t]},le.prototype.readUInt16LE=function(t,r){return r||zr(t,2,this.length),this[t]|this[t+1]<<8},le.prototype.readUInt16BE=function(t,r){return r||zr(t,2,this.length),this[t]<<8|this[t+1]},le.prototype.readUInt32LE=function(t,r){return r||zr(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216},le.prototype.readUInt32BE=function(t,r){return r||zr(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])},le.prototype.readIntLE=function(t,r,n){t=t|0,r=r|0,n||zr(t,r,this.length);for(var i=this[t],s=1,o=0;++o<r&&(s*=256);)i+=this[t+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*r)),i},le.prototype.readIntBE=function(t,r,n){t=t|0,r=r|0,n||zr(t,r,this.length);for(var i=r,s=1,o=this[t+--i];i>0&&(s*=256);)o+=this[t+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*r)),o},le.prototype.readInt8=function(t,r){return r||zr(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]},le.prototype.readInt16LE=function(t,r){r||zr(t,2,this.length);var n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n},le.prototype.readInt16BE=function(t,r){r||zr(t,2,this.length);var n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n},le.prototype.readInt32LE=function(t,r){return r||zr(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},le.prototype.readInt32BE=function(t,r){return r||zr(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},le.prototype.readFloatLE=function(t,r){return r||zr(t,4,this.length),mu(this,t,!0,23,4)},le.prototype.readFloatBE=function(t,r){return r||zr(t,4,this.length),mu(this,t,!1,23,4)},le.prototype.readDoubleLE=function(t,r){return r||zr(t,8,this.length),mu(this,t,!0,52,8)},le.prototype.readDoubleBE=function(t,r){return r||zr(t,8,this.length),mu(this,t,!1,52,8)};function vn(e,t,r,n,i,s){if(!Ei(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}le.prototype.writeUIntLE=function(t,r,n,i){if(t=+t,r=r|0,n=n|0,!i){var s=Math.pow(2,8*n)-1;vn(this,t,r,n,s,0)}var o=1,a=0;for(this[r]=t&255;++a<n&&(o*=256);)this[r+a]=t/o&255;return r+n},le.prototype.writeUIntBE=function(t,r,n,i){if(t=+t,r=r|0,n=n|0,!i){var s=Math.pow(2,8*n)-1;vn(this,t,r,n,s,0)}var o=n-1,a=1;for(this[r+o]=t&255;--o>=0&&(a*=256);)this[r+o]=t/a&255;return r+n},le.prototype.writeUInt8=function(t,r,n){return t=+t,r=r|0,n||vn(this,t,r,1,255,0),le.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=t&255,r+1};function vu(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,s=Math.min(e.length-r,2);i<s;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}le.prototype.writeUInt16LE=function(t,r,n){return t=+t,r=r|0,n||vn(this,t,r,2,65535,0),le.TYPED_ARRAY_SUPPORT?(this[r]=t&255,this[r+1]=t>>>8):vu(this,t,r,!0),r+2},le.prototype.writeUInt16BE=function(t,r,n){return t=+t,r=r|0,n||vn(this,t,r,2,65535,0),le.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=t&255):vu(this,t,r,!1),r+2};function _u(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,s=Math.min(e.length-r,4);i<s;++i)e[r+i]=t>>>(n?i:3-i)*8&255}le.prototype.writeUInt32LE=function(t,r,n){return t=+t,r=r|0,n||vn(this,t,r,4,4294967295,0),le.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=t&255):_u(this,t,r,!0),r+4},le.prototype.writeUInt32BE=function(t,r,n){return t=+t,r=r|0,n||vn(this,t,r,4,4294967295,0),le.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255):_u(this,t,r,!1),r+4},le.prototype.writeIntLE=function(t,r,n,i){if(t=+t,r=r|0,!i){var s=Math.pow(2,8*n-1);vn(this,t,r,n,s-1,-s)}var o=0,a=1,c=0;for(this[r]=t&255;++o<n&&(a*=256);)t<0&&c===0&&this[r+o-1]!==0&&(c=1),this[r+o]=(t/a>>0)-c&255;return r+n},le.prototype.writeIntBE=function(t,r,n,i){if(t=+t,r=r|0,!i){var s=Math.pow(2,8*n-1);vn(this,t,r,n,s-1,-s)}var o=n-1,a=1,c=0;for(this[r+o]=t&255;--o>=0&&(a*=256);)t<0&&c===0&&this[r+o+1]!==0&&(c=1),this[r+o]=(t/a>>0)-c&255;return r+n},le.prototype.writeInt8=function(t,r,n){return t=+t,r=r|0,n||vn(this,t,r,1,127,-128),le.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=t&255,r+1},le.prototype.writeInt16LE=function(t,r,n){return t=+t,r=r|0,n||vn(this,t,r,2,32767,-32768),le.TYPED_ARRAY_SUPPORT?(this[r]=t&255,this[r+1]=t>>>8):vu(this,t,r,!0),r+2},le.prototype.writeInt16BE=function(t,r,n){return t=+t,r=r|0,n||vn(this,t,r,2,32767,-32768),le.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=t&255):vu(this,t,r,!1),r+2},le.prototype.writeInt32LE=function(t,r,n){return t=+t,r=r|0,n||vn(this,t,r,4,2147483647,-2147483648),le.TYPED_ARRAY_SUPPORT?(this[r]=t&255,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):_u(this,t,r,!0),r+4},le.prototype.writeInt32BE=function(t,r,n){return t=+t,r=r|0,n||vn(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),le.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255):_u(this,t,r,!1),r+4};function vw(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function _w(e,t,r,n,i){return i||vw(e,t,r,4),uw(e,t,r,n,23,4),r+4}le.prototype.writeFloatLE=function(t,r,n){return _w(this,t,r,!0,n)},le.prototype.writeFloatBE=function(t,r,n){return _w(this,t,r,!1,n)};function Ew(e,t,r,n,i){return i||vw(e,t,r,8),uw(e,t,r,n,52,8),r+8}le.prototype.writeDoubleLE=function(t,r,n){return Ew(this,t,r,!0,n)},le.prototype.writeDoubleBE=function(t,r,n){return Ew(this,t,r,!1,n)},le.prototype.copy=function(t,r,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),r>=t.length&&(r=t.length),r||(r=0),i>0&&i<n&&(i=n),i===n||t.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-r<i-n&&(i=t.length-r+n);var s=i-n,o;if(this===t&&n<r&&r<i)for(o=s-1;o>=0;--o)t[o+r]=this[o+n];else if(s<1e3||!le.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)t[o+r]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+s),r);return s},le.prototype.fill=function(t,r,n,i){if(typeof t=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),t.length===1){var s=t.charCodeAt(0);s<256&&(t=s)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!le.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof t=="number"&&(t=t&255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);var o;if(typeof t=="number")for(o=r;o<n;++o)this[o]=t;else{var a=Ei(t)?t:Eu(new le(t,i).toString()),c=a.length;for(o=0;o<n-r;++o)this[o+r]=a[o%c]}return this};var n8=/[^+\/0-9A-Za-z-_]/g;function i8(e){if(e=s8(e).replace(n8,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function s8(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function o8(e){return e<16?"0"+e.toString(16):e.toString(16)}function Eu(e,t){t=t||1/0;for(var r,n=e.length,i=null,s=[],o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function a8(e){for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r)&255);return t}function c8(e,t){for(var r,n,i,s=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}function xw(e){return NI(i8(e))}function xu(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function f8(e){return e!==e}function u8(e){return e!=null&&(!!e._isBuffer||Sw(e)||l8(e))}function Sw(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function l8(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&Sw(e.slice(0,0))}function Aw(){throw new Error("setTimeout has not been defined")}function Bw(){throw new Error("clearTimeout has not been defined")}var ys=Aw,ws=Bw;typeof pr.setTimeout=="function"&&(ys=setTimeout),typeof pr.clearTimeout=="function"&&(ws=clearTimeout);function Iw(e){if(ys===setTimeout)return setTimeout(e,0);if((ys===Aw||!ys)&&setTimeout)return ys=setTimeout,setTimeout(e,0);try{return ys(e,0)}catch{try{return ys.call(null,e,0)}catch{return ys.call(this,e,0)}}}function h8(e){if(ws===clearTimeout)return clearTimeout(e);if((ws===Bw||!ws)&&clearTimeout)return ws=clearTimeout,clearTimeout(e);try{return ws(e)}catch{try{return ws.call(null,e)}catch{return ws.call(this,e)}}}var Hi=[],ea=!1,no,Su=-1;function d8(){!ea||!no||(ea=!1,no.length?Hi=no.concat(Hi):Su=-1,Hi.length&&Rw())}function Rw(){if(!ea){var e=Iw(d8);ea=!0;for(var t=Hi.length;t;){for(no=Hi,Hi=[];++Su<t;)no&&no[Su].run();Su=-1,t=Hi.length}no=null,ea=!1,h8(e)}}function On(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Hi.push(new Tw(e,t)),Hi.length===1&&!ea&&Iw(Rw)}function Tw(e,t){this.fun=e,this.array=t}Tw.prototype.run=function(){this.fun.apply(null,this.array)};var p8="browser",g8="browser",y8=!0,w8={},m8=[],b8="",v8={},_8={},E8={};function io(){}var x8=io,S8=io,A8=io,B8=io,I8=io,R8=io,T8=io;function k8(e){throw new Error("process.binding is not supported")}function C8(){return"/"}function L8(e){throw new Error("process.chdir is not supported")}function $8(){return 0}var ta=pr.performance||{},O8=ta.now||ta.mozNow||ta.msNow||ta.oNow||ta.webkitNow||function(){return new Date().getTime()};function M8(e){var t=O8.call(ta)*.001,r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r=r-e[0],n=n-e[1],n<0&&(r--,n+=1e9)),[r,n]}var N8=new Date;function P8(){var e=new Date,t=e-N8;return t/1e3}var _n={nextTick:On,title:p8,browser:y8,env:w8,argv:m8,version:b8,versions:v8,on:x8,addListener:S8,once:A8,off:B8,removeListener:I8,removeAllListeners:R8,emit:T8,binding:k8,cwd:C8,chdir:L8,umask:$8,hrtime:M8,platform:g8,release:_8,config:E8,uptime:P8},bd=oc(pr.fetch)&&oc(pr.ReadableStream),sc;function U8(){if(typeof sc<"u")return sc;try{new pr.Blob([new ArrayBuffer(1)]),sc=!0}catch{sc=!1}return sc}var so;function vd(e){so||(so=new pr.XMLHttpRequest,so.open("GET",pr.location.host?"/":"https://example.com"));try{return so.responseType=e,so.responseType===e}catch{return!1}}var _d=typeof pr.ArrayBuffer<"u",F8=_d&&oc(pr.ArrayBuffer.prototype.slice),D8=_d&&vd("arraybuffer"),H8=!bd&&F8&&vd("ms-stream"),j8=!bd&&_d&&vd("moz-chunked-arraybuffer"),kw=oc(so.overrideMimeType),z8=oc(pr.VBArray);function oc(e){return typeof e=="function"}so=null;var Ed;typeof Object.create=="function"?Ed=function(t,r){t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:Ed=function(t,r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t};var qr=Ed,Cw=Object.getOwnPropertyDescriptors||function(t){for(var r=Object.keys(t),n={},i=0;i<r.length;i++)n[r[i]]=Object.getOwnPropertyDescriptor(t,r[i]);return n},q8=/%[sdj%]/g;function Au(e){if(!ms(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(xi(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,i=n.length,s=String(e).replace(q8,function(a){if(a==="%%")return"%";if(r>=i)return a;switch(a){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return a}}),o=n[r];r<i;o=n[++r])ji(o)||!zi(o)?s+=" "+o:s+=" "+xi(o);return s}function Bu(e,t){if(Si(pr.process))return function(){return Bu(e,t).apply(this,arguments)};if(_n.noDeprecation===!0)return e;var r=!1;function n(){if(!r){if(_n.throwDeprecation)throw new Error(t);_n.traceDeprecation?console.trace(t):console.error(t),r=!0}return e.apply(this,arguments)}return n}var Iu={},xd;function Sd(e){if(Si(xd)&&(xd=_n.env.NODE_DEBUG||""),e=e.toUpperCase(),!Iu[e])if(new RegExp("\\b"+e+"\\b","i").test(xd)){var t=0;Iu[e]=function(){var r=Au.apply(null,arguments);console.error("%s %d: %s",e,t,r)}}else Iu[e]=function(){};return Iu[e]}function xi(e,t){var r={seen:[],stylize:W8};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),Tu(t)?r.showHidden=t:t&&Ld(r,t),Si(r.showHidden)&&(r.showHidden=!1),Si(r.depth)&&(r.depth=2),Si(r.colors)&&(r.colors=!1),Si(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=V8),Ru(r,e,r.depth)}xi.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},xi.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function V8(e,t){var r=xi.styles[t];return r?"\x1B["+xi.colors[r][0]+"m"+e+"\x1B["+xi.colors[r][1]+"m":e}function W8(e,t){return e}function K8(e){var t={};return e.forEach(function(r,n){t[r]=!0}),t}function Ru(e,t,r){if(e.customInspect&&t&&fc(t.inspect)&&t.inspect!==xi&&!(t.constructor&&t.constructor.prototype===t)){var n=t.inspect(r,e);return ms(n)||(n=Ru(e,n,r)),n}var i=Z8(e,t);if(i)return i;var s=Object.keys(t),o=K8(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),cc(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return Ad(t);if(s.length===0){if(fc(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(ac(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(ku(t))return e.stylize(Date.prototype.toString.call(t),"date");if(cc(t))return Ad(t)}var c="",u=!1,l=["{","}"];if(Id(t)&&(u=!0,l=["[","]"]),fc(t)){var y=t.name?": "+t.name:"";c=" [Function"+y+"]"}if(ac(t)&&(c=" "+RegExp.prototype.toString.call(t)),ku(t)&&(c=" "+Date.prototype.toUTCString.call(t)),cc(t)&&(c=" "+Ad(t)),s.length===0&&(!u||t.length==0))return l[0]+c+l[1];if(r<0)return ac(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var A;return u?A=G8(e,t,r,o,s):A=s.map(function(v){return Bd(e,t,r,o,v,u)}),e.seen.pop(),Y8(A,c,l)}function Z8(e,t){if(Si(t))return e.stylize("undefined","undefined");if(ms(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(Td(t))return e.stylize(""+t,"number");if(Tu(t))return e.stylize(""+t,"boolean");if(ji(t))return e.stylize("null","null")}function Ad(e){return"["+Error.prototype.toString.call(e)+"]"}function G8(e,t,r,n,i){for(var s=[],o=0,a=t.length;o<a;++o)Nw(t,String(o))?s.push(Bd(e,t,r,n,String(o),!0)):s.push("");return i.forEach(function(c){c.match(/^\d+$/)||s.push(Bd(e,t,r,n,c,!0))}),s}function Bd(e,t,r,n,i,s){var o,a,c;if(c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},c.get?c.set?a=e.stylize("[Getter/Setter]","special"):a=e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),Nw(n,i)||(o="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(ji(r)?a=Ru(e,c.value,null):a=Ru(e,c.value,r-1),a.indexOf(`
`)>-1&&(s?a=a.split(`
`).map(function(u){return"  "+u}).join(`
`).substr(2):a=`
`+a.split(`
`).map(function(u){return"   "+u}).join(`
`))):a=e.stylize("[Circular]","special")),Si(o)){if(s&&i.match(/^\d+$/))return a;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+a}function Y8(e,t,r){var n=e.reduce(function(i,s){return s.indexOf(`
`)>=0,i+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?r[0]+(t===""?"":t+`
 `)+" "+e.join(`,
  `)+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function Id(e){return Array.isArray(e)}function Tu(e){return typeof e=="boolean"}function ji(e){return e===null}function Rd(e){return e==null}function Td(e){return typeof e=="number"}function ms(e){return typeof e=="string"}function Lw(e){return typeof e=="symbol"}function Si(e){return e===void 0}function ac(e){return zi(e)&&kd(e)==="[object RegExp]"}function zi(e){return typeof e=="object"&&e!==null}function ku(e){return zi(e)&&kd(e)==="[object Date]"}function cc(e){return zi(e)&&(kd(e)==="[object Error]"||e instanceof Error)}function fc(e){return typeof e=="function"}function $w(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e>"u"}function Ow(e){return le.isBuffer(e)}function kd(e){return Object.prototype.toString.call(e)}function Cd(e){return e<10?"0"+e.toString(10):e.toString(10)}var X8=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function J8(){var e=new Date,t=[Cd(e.getHours()),Cd(e.getMinutes()),Cd(e.getSeconds())].join(":");return[e.getDate(),X8[e.getMonth()],t].join(" ")}function Mw(){console.log("%s - %s",J8(),Au.apply(null,arguments))}function Ld(e,t){if(!t||!zi(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function Nw(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var oo=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function $d(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(oo&&e[oo]){var t=e[oo];if(typeof t!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,oo,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var r,n,i=new Promise(function(a,c){r=a,n=c}),s=[],o=0;o<arguments.length;o++)s.push(arguments[o]);s.push(function(a,c){a?n(a):r(c)});try{e.apply(this,s)}catch(a){n(a)}return i}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),oo&&Object.defineProperty(t,oo,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,Cw(e))}$d.custom=oo;function Q8(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}function Pw(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');function t(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var s=this,o=function(){return i.apply(s,arguments)};e.apply(this,r).then(function(a){_n.nextTick(o.bind(null,null,a))},function(a){_n.nextTick(Q8.bind(null,a,o))})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,Cw(e)),t}var eR={inherits:qr,_extend:Ld,log:Mw,isBuffer:Ow,isPrimitive:$w,isFunction:fc,isError:cc,isDate:ku,isObject:zi,isRegExp:ac,isUndefined:Si,isSymbol:Lw,isString:ms,isNumber:Td,isNullOrUndefined:Rd,isNull:ji,isBoolean:Tu,isArray:Id,inspect:xi,deprecate:Bu,format:Au,debuglog:Sd,promisify:$d,callbackify:Pw},tR=Object.freeze({__proto__:null,format:Au,deprecate:Bu,debuglog:Sd,inspect:xi,isArray:Id,isBoolean:Tu,isNull:ji,isNullOrUndefined:Rd,isNumber:Td,isString:ms,isSymbol:Lw,isUndefined:Si,isRegExp:ac,isObject:zi,isDate:ku,isError:cc,isFunction:fc,isPrimitive:$w,isBuffer:Ow,log:Mw,inherits:qr,_extend:Ld,promisify:$d,callbackify:Pw,default:eR});function ao(){this.head=null,this.tail=null,this.length=0}ao.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},ao.prototype.unshift=function(e){var t={data:e,next:this.head};this.length===0&&(this.tail=t),this.head=t,++this.length},ao.prototype.shift=function(){if(this.length!==0){var e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},ao.prototype.clear=function(){this.head=this.tail=null,this.length=0},ao.prototype.join=function(e){if(this.length===0)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},ao.prototype.concat=function(e){if(this.length===0)return ie.Buffer.alloc(0);if(this.length===1)return this.head.data;for(var t=ie.Buffer.allocUnsafe(e>>>0),r=this.head,n=0;r;)r.data.copy(t,n),n+=r.data.length,r=r.next;return t};var Od=hf.exports.Buffer,Uw=Od.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function rR(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function nR(e){var t=rR(e);if(typeof t!="string"&&(Od.isEncoding===Uw||!Uw(e)))throw new Error("Unknown encoding: "+e);return t||e}var Fw=uc;function uc(e){this.encoding=nR(e);var t;switch(this.encoding){case"utf16le":this.text=fR,this.end=uR,t=4;break;case"utf8":this.fillLast=oR,t=4;break;case"base64":this.text=lR,this.end=hR,t=3;break;default:this.write=dR,this.end=pR;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Od.allocUnsafe(t)}uc.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},uc.prototype.end=cR,uc.prototype.text=aR,uc.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function Md(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function iR(e,t,r){var n=t.length-1;if(n<r)return 0;var i=Md(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=Md(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=Md(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function sR(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function oR(e){var t=this.lastTotal-this.lastNeed,r=sR(this,e);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function aR(e,t){var r=iR(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function cR(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function fR(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function uR(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function lR(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function hR(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function dR(e){return e.toString(this.encoding)}function pR(e){return e&&e.length?this.write(e):""}ar.ReadableState=Dw;var Vt=Sd("stream");qr(ar,Dn.exports);function gR(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function yR(e,t){return e.listeners(t).length}function Dw(e,t){e=e||{},this.objectMode=!!e.objectMode,t instanceof Gn&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new ao,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(this.decoder=new Fw(e.encoding),this.encoding=e.encoding)}function ar(e){if(!(this instanceof ar))return new ar(e);this._readableState=new Dw(e,this),this.readable=!0,e&&typeof e.read=="function"&&(this._read=e.read),Dn.exports.call(this)}ar.prototype.push=function(e,t){var r=this._readableState;return!r.objectMode&&typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=le.from(e,t),t="")),Hw(this,r,e,t,!1)},ar.prototype.unshift=function(e){var t=this._readableState;return Hw(this,t,e,"",!0)},ar.prototype.isPaused=function(){return this._readableState.flowing===!1};function Hw(e,t,r,n,i){var s=bR(t,r);if(s)e.emit("error",s);else if(r===null)t.reading=!1,vR(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var o=new Error("stream.push() after EOF");e.emit("error",o)}else if(t.endEmitted&&i){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else{var c;t.decoder&&!i&&!n&&(r=t.decoder.write(r),c=!t.objectMode&&r.length===0),i||(t.reading=!1),c||(t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&Cu(e))),_R(e,t)}else i||(t.reading=!1);return wR(t)}function wR(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}ar.prototype.setEncoding=function(e){return this._readableState.decoder=new Fw(e),this._readableState.encoding=e,this};var jw=8388608;function mR(e){return e>=jw?e=jw:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function zw(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=mR(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}ar.prototype.read=function(e){Vt("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return Vt("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?Pd(this):Cu(this),null;if(e=zw(e,t),e===0&&t.ended)return t.length===0&&Pd(this),null;var n=t.needReadable;Vt("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,Vt("length less than watermark",n)),t.ended||t.reading?(n=!1,Vt("reading or ended",n)):n&&(Vt("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=zw(r,t)));var i;return e>0?i=Vw(e,t):i=null,i===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Pd(this)),i!==null&&this.emit("data",i),i};function bR(e,t){var r=null;return!le.isBuffer(t)&&typeof t!="string"&&t!==null&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function vR(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,Cu(e)}}function Cu(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(Vt("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?On(qw,e):qw(e))}function qw(e){Vt("emit readable"),e.emit("readable"),Nd(e)}function _R(e,t){t.readingMore||(t.readingMore=!0,On(ER,e,t))}function ER(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(Vt("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}ar.prototype._read=function(e){this.emit("error",new Error("not implemented"))},ar.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,Vt("pipe count=%d opts=%j",n.pipesCount,t);var i=!t||t.end!==!1,s=i?a:l;n.endEmitted?On(s):r.once("end",s),e.on("unpipe",o);function o(H){Vt("onunpipe"),H===r&&l()}function a(){Vt("onend"),e.end()}var c=xR(r);e.on("drain",c);var u=!1;function l(){Vt("cleanup"),e.removeListener("close",R),e.removeListener("finish",O),e.removeListener("drain",c),e.removeListener("error",v),e.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",l),r.removeListener("data",A),u=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&c()}var y=!1;r.on("data",A);function A(H){Vt("ondata"),y=!1;var F=e.write(H);F===!1&&!y&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&Ww(n.pipes,e)!==-1)&&!u&&(Vt("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,y=!0),r.pause())}function v(H){Vt("onerror",H),P(),e.removeListener("error",v),yR(e,"error")===0&&e.emit("error",H)}gR(e,"error",v);function R(){e.removeListener("finish",O),P()}e.once("close",R);function O(){Vt("onfinish"),e.removeListener("close",R),P()}e.once("finish",O);function P(){Vt("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(Vt("pipe resume"),r.resume()),e};function xR(e){return function(){var t=e._readableState;Vt("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&e.listeners("data").length&&(t.flowing=!0,Nd(e))}}ar.prototype.unpipe=function(e){var t=this._readableState;if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var s=Ww(t.pipes,e);return s===-1?this:(t.pipes.splice(s,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},ar.prototype.on=function(e,t){var r=Dn.exports.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&Cu(this):On(SR,this))}return r},ar.prototype.addListener=ar.prototype.on;function SR(e){Vt("readable nexttick read 0"),e.read(0)}ar.prototype.resume=function(){var e=this._readableState;return e.flowing||(Vt("resume"),e.flowing=!0,AR(this,e)),this};function AR(e,t){t.resumeScheduled||(t.resumeScheduled=!0,On(BR,e,t))}function BR(e,t){t.reading||(Vt("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),Nd(e),t.flowing&&!t.reading&&e.read(0)}ar.prototype.pause=function(){return Vt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Vt("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Nd(e){var t=e._readableState;for(Vt("flow",t.flowing);t.flowing&&e.read()!==null;);}ar.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;e.on("end",function(){if(Vt("wrapped end"),t.decoder&&!t.ended){var o=t.decoder.end();o&&o.length&&n.push(o)}n.push(null)}),e.on("data",function(o){if(Vt("wrapped data"),t.decoder&&(o=t.decoder.write(o)),!(t.objectMode&&o==null)&&!(!t.objectMode&&(!o||!o.length))){var a=n.push(o);a||(r=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(o){return function(){return e[o].apply(e,arguments)}}(i));var s=["error","close","destroy","pause","resume"];return CR(s,function(o){e.on(o,n.emit.bind(n,o))}),n._read=function(o){Vt("wrapped _read",o),r&&(r=!1,e.resume())},n},ar._fromList=Vw;function Vw(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=IR(e,t.buffer,t.decoder),r}function IR(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?RR(e,t):TR(e,t),n}function RR(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var s=r.data,o=e>s.length?s.length:e;if(o===s.length?i+=s:i+=s.slice(0,e),e-=o,e===0){o===s.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=s.slice(o));break}++n}return t.length-=n,i}function TR(e,t){var r=le.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var s=n.data,o=e>s.length?s.length:e;if(s.copy(r,r.length-e,0,o),e-=o,e===0){o===s.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=s.slice(o));break}++i}return t.length-=i,r}function Pd(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,On(kR,t,e))}function kR(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function CR(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}function Ww(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}Lr.WritableState=Ud,qr(Lr,Dn.exports.EventEmitter);function LR(){}function $R(e,t,r){this.chunk=e,this.encoding=t,this.callback=r,this.next=null}function Ud(e,t){Object.defineProperty(this,"buffer",{get:Bu(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),e=e||{},this.objectMode=!!e.objectMode,t instanceof Gn&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=e.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(s){DR(t,s)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Jw(this)}Ud.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};function Lr(e){if(!(this instanceof Lr)&&!(this instanceof Gn))return new Lr(e);this._writableState=new Ud(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev)),Dn.exports.EventEmitter.call(this)}Lr.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function OR(e,t){var r=new Error("write after end");e.emit("error",r),On(t,r)}function MR(e,t,r,n){var i=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):!ie.Buffer.isBuffer(r)&&typeof r!="string"&&r!==void 0&&!t.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),On(n,s),i=!1),i}Lr.prototype.write=function(e,t,r){var n=this._writableState,i=!1;return typeof t=="function"&&(r=t,t=null),ie.Buffer.isBuffer(e)?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=LR),n.ended?OR(this,r):MR(this,n,e,r)&&(n.pendingcb++,i=PR(this,n,e,t,r)),i},Lr.prototype.cork=function(){var e=this._writableState;e.corked++},Lr.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&Zw(this,e))},Lr.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this};function NR(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=ie.Buffer.from(t,r)),t}function PR(e,t,r,n,i){r=NR(t,r,n),ie.Buffer.isBuffer(r)&&(n="buffer");var s=t.objectMode?1:r.length;t.length+=s;var o=t.length<t.highWaterMark;if(o||(t.needDrain=!0),t.writing||t.corked){var a=t.lastBufferedRequest;t.lastBufferedRequest=new $R(r,n,i),a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else Fd(e,t,!1,s,r,n,i);return o}function Fd(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function UR(e,t,r,n,i){--t.pendingcb,r?On(i,n):i(n),e._writableState.errorEmitted=!0,e.emit("error",n)}function FR(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function DR(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(FR(r),t)UR(e,r,n,t,i);else{var s=Gw(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Zw(e,r),n?On(Kw,e,r,s,i):Kw(e,r,s,i)}}function Kw(e,t,r,n){r||HR(e,t),t.pendingcb--,n(),Xw(e,t)}function HR(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function Zw(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var o=0;r;)i[o]=r,r=r.next,o+=1;Fd(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new Jw(t)}else{for(;r;){var a=r.chunk,c=r.encoding,u=r.callback,l=t.objectMode?1:a.length;if(Fd(e,t,!1,l,a,c,u),r=r.next,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}Lr.prototype._write=function(e,t,r){r(new Error("not implemented"))},Lr.prototype._writev=null,Lr.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&jR(this,n,r)};function Gw(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function Yw(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function Xw(e,t){var r=Gw(t);return r&&(t.pendingcb===0?(Yw(e,t),t.finished=!0,e.emit("finish")):Yw(e,t)),r}function jR(e,t,r){t.ending=!0,Xw(e,t),r&&(t.finished?On(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function Jw(e){var t=this;this.next=null,this.entry=null,this.finish=function(r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}qr(Gn,ar);for(var Qw=Object.keys(Lr.prototype),Dd=0;Dd<Qw.length;Dd++){var Hd=Qw[Dd];Gn.prototype[Hd]||(Gn.prototype[Hd]=Lr.prototype[Hd])}function Gn(e){if(!(this instanceof Gn))return new Gn(e);ar.call(this,e),Lr.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",zR)}function zR(){this.allowHalfOpen||this._writableState.ended||On(qR,this)}function qR(e){e.end()}qr(Yn,Gn);function VR(e){this.afterTransform=function(t,r){return WR(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function WR(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,r!=null&&e.push(r),i(t);var s=e._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&e._read(s.highWaterMark)}function Yn(e){if(!(this instanceof Yn))return new Yn(e);Gn.call(this,e),this._transformState=new VR(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(r){em(t,r)}):em(t)})}Yn.prototype.push=function(e,t){return this._transformState.needTransform=!1,Gn.prototype.push.call(this,e,t)},Yn.prototype._transform=function(e,t,r){throw new Error("Not implemented")},Yn.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Yn.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};function em(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=e._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}qr(lc,Yn);function lc(e){if(!(this instanceof lc))return new lc(e);Yn.call(this,e)}lc.prototype._transform=function(e,t,r){r(null,e)},qr(qi,Dn.exports),qi.Readable=ar,qi.Writable=Lr,qi.Duplex=Gn,qi.Transform=Yn,qi.PassThrough=lc,qi.Stream=qi;function qi(){Dn.exports.call(this)}qi.prototype.pipe=function(e,t){var r=this;function n(l){e.writable&&e.write(l)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}e.on("drain",i),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",o),r.on("close",a));var s=!1;function o(){s||(s=!0,e.end())}function a(){s||(s=!0,typeof e.destroy=="function"&&e.destroy())}function c(l){if(u(),Dn.exports.listenerCount(this,"error")===0)throw l}r.on("error",c),e.on("error",c);function u(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e};var co={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4};function Lu(e,t,r){var n=this;ar.call(n),n._mode=r,n.headers={},n.rawHeaders=[],n.trailers={},n.rawTrailers=[],n.on("end",function(){_n.nextTick(function(){n.emit("close")})});var i;if(r==="fetch"){n._fetchResponse=t,n.url=t.url,n.statusCode=t.status,n.statusMessage=t.statusText;for(var s,o,a=t.headers[Symbol.iterator]();s=(o=a.next()).value,!o.done;)n.headers[s[0].toLowerCase()]=s[1],n.rawHeaders.push(s[0],s[1]);var c=t.body.getReader();i=function(){c.read().then(function(A){if(!n._destroyed){if(A.done){n.push(null);return}n.push(new le(A.value)),i()}})},i()}else{n._xhr=e,n._pos=0,n.url=e.responseURL,n.statusCode=e.status,n.statusMessage=e.statusText;var u=e.getAllResponseHeaders().split(/\r?\n/);if(u.forEach(function(A){var v=A.match(/^([^:]+):\s*(.*)/);if(v){var R=v[1].toLowerCase();R==="set-cookie"?(n.headers[R]===void 0&&(n.headers[R]=[]),n.headers[R].push(v[2])):n.headers[R]!==void 0?n.headers[R]+=", "+v[2]:n.headers[R]=v[2],n.rawHeaders.push(v[1],v[2])}}),n._charset="x-user-defined",!kw){var l=n.rawHeaders["mime-type"];if(l){var y=l.match(/;\s*charset=([^;])(;|$)/);y&&(n._charset=y[1].toLowerCase())}n._charset||(n._charset="utf-8")}}}qr(Lu,ar),Lu.prototype._read=function(){},Lu.prototype._onXHRProgress=function(){var e=this,t=e._xhr,r=null;switch(e._mode){case"text:vbarray":if(t.readyState!==co.DONE)break;try{r=new pr.VBArray(t.responseBody).toArray()}catch{}if(r!==null){e.push(new le(r));break}case"text":try{r=t.responseText}catch{e._mode="text:vbarray";break}if(r.length>e._pos){var n=r.substr(e._pos);if(e._charset==="x-user-defined"){for(var i=new le(n.length),s=0;s<n.length;s++)i[s]=n.charCodeAt(s)&255;e.push(i)}else e.push(n,e._charset);e._pos=r.length}break;case"arraybuffer":if(t.readyState!==co.DONE||!t.response)break;r=t.response,e.push(new le(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=t.response,t.readyState!==co.LOADING||!r)break;e.push(new le(new Uint8Array(r)));break;case"ms-stream":if(r=t.response,t.readyState!==co.LOADING)break;var o=new pr.MSStreamReader;o.onprogress=function(){o.result.byteLength>e._pos&&(e.push(new le(new Uint8Array(o.result.slice(e._pos)))),e._pos=o.result.byteLength)},o.onload=function(){e.push(null)},o.readAsArrayBuffer(r);break}e._xhr.readyState===co.DONE&&e._mode!=="ms-stream"&&e.push(null)};function KR(e){if(e instanceof Uint8Array){if(e.byteOffset===0&&e.byteLength===e.buffer.byteLength)return e.buffer;if(typeof e.buffer.slice=="function")return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(ie.isBuffer(e)){for(var t=new Uint8Array(e.length),r=e.length,n=0;n<r;n++)t[n]=e[n];return t.buffer}else throw new Error("Argument must be a Buffer")}function ZR(e,t){return bd&&t?"fetch":j8?"moz-chunked-arraybuffer":H8?"ms-stream":D8&&e?"arraybuffer":z8&&e?"text:vbarray":"text"}function Xr(e){var t=this;Lr.call(t),t._opts=e,t._body=[],t._headers={},e.auth&&t.setHeader("Authorization","Basic "+new le(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(i){t.setHeader(i,e.headers[i])});var r,n=!0;if(e.mode==="disable-fetch")n=!1,r=!0;else if(e.mode==="prefer-streaming")r=!1;else if(e.mode==="allow-wrong-content-type")r=!kw;else if(!e.mode||e.mode==="default"||e.mode==="prefer-fast")r=!0;else throw new Error("Invalid value for opts.mode");t._mode=ZR(r,n),t.on("finish",function(){t._onFinish()})}qr(Xr,Lr);var GR=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];Xr.prototype.setHeader=function(e,t){var r=this,n=e.toLowerCase();GR.indexOf(n)===-1&&(r._headers[n]={name:e,value:t})},Xr.prototype.getHeader=function(e){var t=this;return t._headers[e.toLowerCase()].value},Xr.prototype.removeHeader=function(e){var t=this;delete t._headers[e.toLowerCase()]},Xr.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts,r=e._headers,n;if((t.method==="POST"||t.method==="PUT"||t.method==="PATCH")&&(U8()?n=new pr.Blob(e._body.map(function(o){return KR(o)}),{type:(r["content-type"]||{}).value||""}):n=le.concat(e._body).toString()),e._mode==="fetch"){var i=Object.keys(r).map(function(o){return[r[o].name,r[o].value]});pr.fetch(e._opts.url,{method:e._opts.method,headers:i,body:n,mode:"cors",credentials:t.withCredentials?"include":"same-origin"}).then(function(o){e._fetchResponse=o,e._connect()},function(o){e.emit("error",o)})}else{var s=e._xhr=new pr.XMLHttpRequest;try{s.open(e._opts.method,e._opts.url,!0)}catch(o){_n.nextTick(function(){e.emit("error",o)});return}"responseType"in s&&(s.responseType=e._mode.split(":")[0]),"withCredentials"in s&&(s.withCredentials=!!t.withCredentials),e._mode==="text"&&"overrideMimeType"in s&&s.overrideMimeType("text/plain; charset=x-user-defined"),Object.keys(r).forEach(function(o){s.setRequestHeader(r[o].name,r[o].value)}),e._response=null,s.onreadystatechange=function(){switch(s.readyState){case co.LOADING:case co.DONE:e._onXHRProgress();break}},e._mode==="moz-chunked-arraybuffer"&&(s.onprogress=function(){e._onXHRProgress()}),s.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{s.send(n)}catch(o){_n.nextTick(function(){e.emit("error",o)});return}}}};function YR(e){try{var t=e.status;return t!==null&&t!==0}catch{return!1}}Xr.prototype._onXHRProgress=function(){var e=this;!YR(e._xhr)||e._destroyed||(e._response||e._connect(),e._response._onXHRProgress())},Xr.prototype._connect=function(){var e=this;e._destroyed||(e._response=new Lu(e._xhr,e._fetchResponse,e._mode),e.emit("response",e._response))},Xr.prototype._write=function(e,t,r){var n=this;n._body.push(e),r()},Xr.prototype.abort=Xr.prototype.destroy=function(){var e=this;e._destroyed=!0,e._response&&(e._response._destroyed=!0),e._xhr&&e._xhr.abort()},Xr.prototype.end=function(e,t,r){var n=this;typeof e=="function"&&(r=e,e=void 0),Lr.prototype.end.call(n,e,t,r)},Xr.prototype.flushHeaders=function(){},Xr.prototype.setTimeout=function(){},Xr.prototype.setNoDelay=function(){},Xr.prototype.setSocketKeepAlive=function(){};const jd=2147483647,hc=36,tm=1,zd=26,XR=38,JR=700,QR=72,eT=128,tT="-",rT=/[^\0-\x7F]/,nT=/[\x2E\u3002\uFF0E\uFF61]/g,iT={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},qd=hc-tm,ra=Math.floor,Vd=String.fromCharCode;function rm(e){throw new RangeError(iT[e])}function sT(e,t){const r=[];let n=e.length;for(;n--;)r[n]=t(e[n]);return r}function oT(e,t){const r=e.split("@");let n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(nT,".");const i=e.split("."),s=sT(i,t).join(".");return n+s}function aT(e){const t=[];let r=0;const n=e.length;for(;r<n;){const i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){const s=e.charCodeAt(r++);(s&64512)==56320?t.push(((i&1023)<<10)+(s&1023)+65536):(t.push(i),r--)}else t.push(i)}return t}const nm=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},cT=function(e,t,r){let n=0;for(e=r?ra(e/JR):e>>1,e+=ra(e/t);e>qd*zd>>1;n+=hc)e=ra(e/qd);return ra(n+(qd+1)*e/(e+XR))},fT=function(e){const t=[];e=aT(e);const r=e.length;let n=eT,i=0,s=QR;for(const c of e)c<128&&t.push(Vd(c));const o=t.length;let a=o;for(o&&t.push(tT);a<r;){let c=jd;for(const l of e)l>=n&&l<c&&(c=l);const u=a+1;c-n>ra((jd-i)/u)&&rm("overflow"),i+=(c-n)*u,n=c;for(const l of e)if(l<n&&++i>jd&&rm("overflow"),l===n){let y=i;for(let A=hc;;A+=hc){const v=A<=s?tm:A>=s+zd?zd:A-s;if(y<v)break;const R=y-v,O=hc-v;t.push(Vd(nm(v+R%O,0))),y=ra(R/O)}t.push(Vd(nm(y,0))),s=cT(i,u,a===o),i=0,++a}++i,++n}return t.join("")},uT=function(e){return oT(e,function(t){return rT.test(t)?"xn--"+fT(t):t})};function lT(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var im=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function dc(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}function hT(e,t,r,n){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?sm(dT(e),function(i){var s=encodeURIComponent(dc(i))+r;return im(e[i])?sm(e[i],function(o){return s+encodeURIComponent(dc(o))}).join(t):s+encodeURIComponent(dc(e[i]))}).join(t):n?encodeURIComponent(dc(n))+r+encodeURIComponent(dc(e)):""}function sm(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var dT=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t};function om(e,t,r,n){t=t||"&",r=r||"=";var i={};if(typeof e!="string"||e.length===0)return i;var s=/\+/g;e=e.split(t);var o=1e3;n&&typeof n.maxKeys=="number"&&(o=n.maxKeys);var a=e.length;o>0&&a>o&&(a=o);for(var c=0;c<a;++c){var u=e[c].replace(s,"%20"),l=u.indexOf(r),y,A,v,R;l>=0?(y=u.substr(0,l),A=u.substr(l+1)):(y=u,A=""),v=decodeURIComponent(y),R=decodeURIComponent(A),lT(i,v)?im(i[v])?i[v].push(R):i[v]=[i[v],R]:i[v]=R}return i}const am=pr.URL,cm=pr.URLSearchParams;var pT={parse:fo,resolve:gm,resolveObject:ym,fileURLToPath:dm,format:pm,Url:Mn,URL:am,URLSearchParams:cm};function Mn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var gT=/^([a-z0-9.+-]+:)/i,yT=/:[0-9]*$/,wT=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,mT=["<",">",'"',"`"," ","\r",`
`,"	"],bT=["{","}","|","\\","^","`"].concat(mT),Wd=["'"].concat(bT),fm=["%","/","?",";","#"].concat(Wd),um=["/","?","#"],vT=255,lm=/^[+a-z0-9A-Z_-]{0,63}$/,_T=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ET={javascript:!0,"javascript:":!0},Kd={javascript:!0,"javascript:":!0},na={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function fo(e,t,r){if(e&&zi(e)&&e instanceof Mn)return e;var n=new Mn;return n.parse(e,t,r),n}Mn.prototype.parse=function(e,t,r){return hm(this,e,t,r)};function hm(e,t,r,n){if(!ms(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),s=i!==-1&&i<t.indexOf("#")?"?":"#",o=t.split(s),a=/\\/g;o[0]=o[0].replace(a,"/"),t=o.join(s);var c=t;if(c=c.trim(),!n&&t.split("#").length===1){var u=wT.exec(c);if(u)return e.path=c,e.href=c,e.pathname=u[1],u[2]?(e.search=u[2],r?e.query=om(e.search.substr(1)):e.query=e.search.substr(1)):r&&(e.search="",e.query={}),e}var l=gT.exec(c);if(l){l=l[0];var y=l.toLowerCase();e.protocol=y,c=c.substr(l.length)}if(n||l||c.match(/^\/\/[^@\/]+@[^@\/]+/)){var A=c.substr(0,2)==="//";A&&!(l&&Kd[l])&&(c=c.substr(2),e.slashes=!0)}var v,R,O,P;if(!Kd[l]&&(A||l&&!na[l])){var H=-1;for(v=0;v<um.length;v++)R=c.indexOf(um[v]),R!==-1&&(H===-1||R<H)&&(H=R);var F,N;for(H===-1?N=c.lastIndexOf("@"):N=c.lastIndexOf("@",H),N!==-1&&(F=c.slice(0,N),c=c.slice(N+1),e.auth=decodeURIComponent(F)),H=-1,v=0;v<fm.length;v++)R=c.indexOf(fm[v]),R!==-1&&(H===-1||R<H)&&(H=R);H===-1&&(H=c.length),e.host=c.slice(0,H),c=c.slice(H),wm(e),e.hostname=e.hostname||"";var $=e.hostname[0]==="["&&e.hostname[e.hostname.length-1]==="]";if(!$){var q=e.hostname.split(/\./);for(v=0,O=q.length;v<O;v++){var G=q[v];if(G&&!G.match(lm)){for(var Z="",z=0,ee=G.length;z<ee;z++)G.charCodeAt(z)>127?Z+="x":Z+=G[z];if(!Z.match(lm)){var se=q.slice(0,v),Q=q.slice(v+1),I=G.match(_T);I&&(se.push(I[1]),Q.unshift(I[2])),Q.length&&(c="/"+Q.join(".")+c),e.hostname=se.join(".");break}}}}e.hostname.length>vT?e.hostname="":e.hostname=e.hostname.toLowerCase(),$||(e.hostname=uT(e.hostname)),P=e.port?":"+e.port:"";var g=e.hostname||"";e.host=g+P,e.href+=e.host,$&&(e.hostname=e.hostname.substr(1,e.hostname.length-2),c[0]!=="/"&&(c="/"+c))}if(!ET[y])for(v=0,O=Wd.length;v<O;v++){var f=Wd[v];if(c.indexOf(f)!==-1){var h=encodeURIComponent(f);h===f&&(h=escape(f)),c=c.split(f).join(h)}}var m=c.indexOf("#");m!==-1&&(e.hash=c.substr(m),c=c.slice(0,m));var _=c.indexOf("?");if(_!==-1?(e.search=c.substr(_),e.query=c.substr(_+1),r&&(e.query=om(e.query)),c=c.slice(0,_)):r&&(e.search="",e.query={}),c&&(e.pathname=c),na[y]&&e.hostname&&!e.pathname&&(e.pathname="/"),e.pathname||e.search){P=e.pathname||"";var E=e.search||"";e.path=P+E}return e.href=Zd(e),e}function dm(e){if(typeof e=="string")e=new Mn().parse(e);else if(!(e instanceof Mn))throw new TypeError('The "path" argument must be of type string or an instance of URL. Received type '+typeof e+String(e));if(e.protocol!=="file:")throw new TypeError("The URL must be of scheme file");return xT(e)}function xT(e){const t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){const n=t.codePointAt(r+2)|32;if(t[r+1]==="2"&&n===102)throw new TypeError("must not include encoded / characters")}return decodeURIComponent(t)}function pm(e){return ms(e)&&(e=hm({},e)),Zd(e)}function Zd(e){var t=e.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var r=e.protocol||"",n=e.pathname||"",i=e.hash||"",s=!1,o="";e.host?s=t+e.host:e.hostname&&(s=t+(e.hostname.indexOf(":")===-1?e.hostname:"["+this.hostname+"]"),e.port&&(s+=":"+e.port)),e.query&&zi(e.query)&&Object.keys(e.query).length&&(o=hT(e.query));var a=e.search||o&&"?"+o||"";return r&&r.substr(-1)!==":"&&(r+=":"),e.slashes||(!r||na[r])&&s!==!1?(s="//"+(s||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):s||(s=""),i&&i.charAt(0)!=="#"&&(i="#"+i),a&&a.charAt(0)!=="?"&&(a="?"+a),n=n.replace(/[?#]/g,function(c){return encodeURIComponent(c)}),a=a.replace("#","%23"),r+s+n+a+i}Mn.prototype.format=function(){return Zd(this)};function gm(e,t){return fo(e,!1,!0).resolve(t)}Mn.prototype.resolve=function(e){return this.resolveObject(fo(e,!1,!0)).format()};function ym(e,t){return e?fo(e,!1,!0).resolveObject(t):t}Mn.prototype.resolveObject=function(e){if(ms(e)){var t=new Mn;t.parse(e,!1,!0),e=t}for(var r=new Mn,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),a=0;a<o.length;a++){var c=o[a];c!=="protocol"&&(r[c]=e[c])}return na[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}var u;if(e.protocol&&e.protocol!==r.protocol){if(!na[e.protocol]){for(var l=Object.keys(e),y=0;y<l.length;y++){var A=l[y];r[A]=e[A]}return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!Kd[e.protocol]){for(u=(e.pathname||"").split("/");u.length&&!(e.host=u.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),u[0]!==""&&u.unshift(""),u.length<2&&u.unshift(""),r.pathname=u.join("/")}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var v=r.pathname||"",R=r.search||"";r.path=v+R}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var O=r.pathname&&r.pathname.charAt(0)==="/",P=e.host||e.pathname&&e.pathname.charAt(0)==="/",H=P||O||r.host&&e.pathname,F=H,N=r.pathname&&r.pathname.split("/")||[],$=r.protocol&&!na[r.protocol];u=e.pathname&&e.pathname.split("/")||[],$&&(r.hostname="",r.port=null,r.host&&(N[0]===""?N[0]=r.host:N.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(u[0]===""?u[0]=e.host:u.unshift(e.host)),e.host=null),H=H&&(u[0]===""||N[0]===""));var q;if(P)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,N=u;else if(u.length)N||(N=[]),N.pop(),N=N.concat(u),r.search=e.search,r.query=e.query;else if(!Rd(e.search))return $&&(r.hostname=r.host=N.shift(),q=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1,q&&(r.auth=q.shift(),r.host=r.hostname=q.shift())),r.search=e.search,r.query=e.query,(!ji(r.pathname)||!ji(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!N.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var G=N.slice(-1)[0],Z=(r.host||e.host||N.length>1)&&(G==="."||G==="..")||G==="",z=0,ee=N.length;ee>=0;ee--)G=N[ee],G==="."?N.splice(ee,1):G===".."?(N.splice(ee,1),z++):z&&(N.splice(ee,1),z--);if(!H&&!F)for(;z--;z)N.unshift("..");H&&N[0]!==""&&(!N[0]||N[0].charAt(0)!=="/")&&N.unshift(""),Z&&N.join("/").substr(-1)!=="/"&&N.push("");var se=N[0]===""||N[0]&&N[0].charAt(0)==="/";return $&&(r.hostname=r.host=se?"":N.length?N.shift():"",q=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1,q&&(r.auth=q.shift(),r.host=r.hostname=q.shift())),H=H||r.host&&N.length,H&&!se&&N.unshift(""),N.length?r.pathname=N.join("/"):(r.pathname=null,r.path=null),(!ji(r.pathname)||!ji(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},Mn.prototype.parseHost=function(){return wm(this)};function wm(e){var t=e.host,r=yT.exec(t);r&&(r=r[0],r!==":"&&(e.port=r.substr(1)),t=t.substr(0,t.length-r.length)),t&&(e.hostname=t)}var ST=Object.freeze({__proto__:null,parse:fo,resolve:gm,resolveObject:ym,fileURLToPath:dm,format:pm,URL:am,URLSearchParams:cm,default:pT,Url:Mn});function Gd(e,t){typeof e=="string"&&(e=fo(e));var r=pr.location.protocol.search(/^https?:$/)===-1?"http:":"",n=e.protocol||r,i=e.hostname||e.host,s=e.port,o=e.path||"/";i&&i.indexOf(":")!==-1&&(i="["+i+"]"),e.url=(i?n+"//"+i:"")+(s?":"+s:"")+o,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var a=new Xr(e);return t&&a.on("response",t),a}function mm(e,t){var r=Gd(e,t);return r.end(),r}function Yd(){}Yd.defaultMaxSockets=4;var bm=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],vm={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},AT={request:Gd,get:mm,Agent:Yd,METHODS:bm,STATUS_CODES:vm},BT=Object.freeze({__proto__:null,request:Gd,get:mm,Agent:Yd,METHODS:bm,STATUS_CODES:vm,default:AT}),IT=Un(BT);function Xd(e,t){typeof e=="string"&&(e=fo(e));var r=pr.location.protocol.search(/^https?:$/)===-1?"http:":"",n=e.protocol||r,i=e.hostname||e.host,s=e.port,o=e.path||"/";i&&i.indexOf(":")!==-1&&(i="["+i+"]"),e.url=(i?n+"//"+i:"")+(s?":"+s:"")+o,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var a=new Xr(e);return t&&a.on("response",t),a}function _m(e,t){var r=Xd(e,t);return r.end(),r}function Jd(){}Jd.defaultMaxSockets=4;var Em=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],xm={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},RT={request:Xd,get:_m,Agent:Jd,METHODS:Em,STATUS_CODES:xm},TT=Object.freeze({__proto__:null,request:Xd,get:_m,Agent:Jd,METHODS:Em,STATUS_CODES:xm,default:RT}),kT=Un(TT),Sm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function CT(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function Vi(e,t,r,n,i){if(t.subarray&&e.subarray){e.set(t.subarray(r,r+n),i);return}for(var s=0;s<n;s++)e[i+s]=t[r+s]}var $u=Uint8Array,Xn=Uint16Array,Ou=Int32Array,LT=4,Am=0,Bm=1,$T=2;function ia(e){for(var t=e.length;--t>=0;)e[t]=0}var OT=0,Im=1,MT=2,NT=3,PT=258,Qd=29,pc=256,gc=pc+1+Qd,sa=30,e0=19,Rm=2*gc+1,uo=15,t0=16,UT=7,r0=256,Tm=16,km=17,Cm=18,n0=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Mu=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],FT=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Lm=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],DT=512,Wi=new Array((gc+2)*2);ia(Wi);var yc=new Array(sa*2);ia(yc);var wc=new Array(DT);ia(wc);var mc=new Array(PT-NT+1);ia(mc);var i0=new Array(Qd);ia(i0);var Nu=new Array(sa);ia(Nu);function s0(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}var $m,Om,Mm;function o0(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function Nm(e){return e<256?wc[e]:wc[256+(e>>>7)]}function bc(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}function En(e,t,r){e.bi_valid>t0-r?(e.bi_buf|=t<<e.bi_valid&65535,bc(e,e.bi_buf),e.bi_buf=t>>t0-e.bi_valid,e.bi_valid+=r-t0):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function Ai(e,t,r){En(e,r[t*2],r[t*2+1])}function Pm(e,t){var r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1}function HT(e){e.bi_valid===16?(bc(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function jT(e,t){var r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,c=t.stat_desc.max_length,u,l,y,A,v,R,O=0;for(A=0;A<=uo;A++)e.bl_count[A]=0;for(r[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<Rm;u++)l=e.heap[u],A=r[r[l*2+1]*2+1]+1,A>c&&(A=c,O++),r[l*2+1]=A,!(l>n)&&(e.bl_count[A]++,v=0,l>=a&&(v=o[l-a]),R=r[l*2],e.opt_len+=R*(A+v),s&&(e.static_len+=R*(i[l*2+1]+v)));if(O!==0){do{for(A=c-1;e.bl_count[A]===0;)A--;e.bl_count[A]--,e.bl_count[A+1]+=2,e.bl_count[c]--,O-=2}while(O>0);for(A=c;A!==0;A--)for(l=e.bl_count[A];l!==0;)y=e.heap[--u],!(y>n)&&(r[y*2+1]!==A&&(e.opt_len+=(A-r[y*2+1])*r[y*2],r[y*2+1]=A),l--)}}function Um(e,t,r){var n=new Array(uo+1),i=0,s,o;for(s=1;s<=uo;s++)n[s]=i=i+r[s-1]<<1;for(o=0;o<=t;o++){var a=e[o*2+1];a!==0&&(e[o*2]=Pm(n[a]++,a))}}function zT(){var e,t,r,n,i,s=new Array(uo+1);for(r=0,n=0;n<Qd-1;n++)for(i0[n]=r,e=0;e<1<<n0[n];e++)mc[r++]=n;for(mc[r-1]=n,i=0,n=0;n<16;n++)for(Nu[n]=i,e=0;e<1<<Mu[n];e++)wc[i++]=n;for(i>>=7;n<sa;n++)for(Nu[n]=i<<7,e=0;e<1<<Mu[n]-7;e++)wc[256+i++]=n;for(t=0;t<=uo;t++)s[t]=0;for(e=0;e<=143;)Wi[e*2+1]=8,e++,s[8]++;for(;e<=255;)Wi[e*2+1]=9,e++,s[9]++;for(;e<=279;)Wi[e*2+1]=7,e++,s[7]++;for(;e<=287;)Wi[e*2+1]=8,e++,s[8]++;for(Um(Wi,gc+1,s),e=0;e<sa;e++)yc[e*2+1]=5,yc[e*2]=Pm(e,5);$m=new s0(Wi,n0,pc+1,gc,uo),Om=new s0(yc,Mu,0,sa,uo),Mm=new s0(new Array(0),FT,0,e0,UT)}function Fm(e){var t;for(t=0;t<gc;t++)e.dyn_ltree[t*2]=0;for(t=0;t<sa;t++)e.dyn_dtree[t*2]=0;for(t=0;t<e0;t++)e.bl_tree[t*2]=0;e.dyn_ltree[r0*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Dm(e){e.bi_valid>8?bc(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function qT(e,t,r,n){Dm(e),n&&(bc(e,r),bc(e,~r)),Vi(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}function Hm(e,t,r,n){var i=t*2,s=r*2;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]}function a0(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&Hm(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!Hm(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function jm(e,t,r){var n,i,s=0,o,a;if(e.last_lit!==0)do n=e.pending_buf[e.d_buf+s*2]<<8|e.pending_buf[e.d_buf+s*2+1],i=e.pending_buf[e.l_buf+s],s++,n===0?Ai(e,i,t):(o=mc[i],Ai(e,o+pc+1,t),a=n0[o],a!==0&&(i-=i0[o],En(e,i,a)),n--,o=Nm(n),Ai(e,o,r),a=Mu[o],a!==0&&(n-=Nu[o],En(e,n,a)));while(s<e.last_lit);Ai(e,r0,t)}function c0(e,t){var r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems,o,a,c=-1,u;for(e.heap_len=0,e.heap_max=Rm,o=0;o<s;o++)r[o*2]!==0?(e.heap[++e.heap_len]=c=o,e.depth[o]=0):r[o*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,r[u*2]=1,e.depth[u]=0,e.opt_len--,i&&(e.static_len-=n[u*2+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)a0(e,r,o);u=s;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],a0(e,r,1),a=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=a,r[u*2]=r[o*2]+r[a*2],e.depth[u]=(e.depth[o]>=e.depth[a]?e.depth[o]:e.depth[a])+1,r[o*2+1]=r[a*2+1]=u,e.heap[1]=u++,a0(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],jT(e,t),Um(r,c,e.bl_count)}function zm(e,t,r){var n,i=-1,s,o=t[0*2+1],a=0,c=7,u=4;for(o===0&&(c=138,u=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)s=o,o=t[(n+1)*2+1],!(++a<c&&s===o)&&(a<u?e.bl_tree[s*2]+=a:s!==0?(s!==i&&e.bl_tree[s*2]++,e.bl_tree[Tm*2]++):a<=10?e.bl_tree[km*2]++:e.bl_tree[Cm*2]++,a=0,i=s,o===0?(c=138,u=3):s===o?(c=6,u=3):(c=7,u=4))}function qm(e,t,r){var n,i=-1,s,o=t[0*2+1],a=0,c=7,u=4;for(o===0&&(c=138,u=3),n=0;n<=r;n++)if(s=o,o=t[(n+1)*2+1],!(++a<c&&s===o)){if(a<u)do Ai(e,s,e.bl_tree);while(--a!==0);else s!==0?(s!==i&&(Ai(e,s,e.bl_tree),a--),Ai(e,Tm,e.bl_tree),En(e,a-3,2)):a<=10?(Ai(e,km,e.bl_tree),En(e,a-3,3)):(Ai(e,Cm,e.bl_tree),En(e,a-11,7));a=0,i=s,o===0?(c=138,u=3):s===o?(c=6,u=3):(c=7,u=4)}}function VT(e){var t;for(zm(e,e.dyn_ltree,e.l_desc.max_code),zm(e,e.dyn_dtree,e.d_desc.max_code),c0(e,e.bl_desc),t=e0-1;t>=3&&e.bl_tree[Lm[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}function WT(e,t,r,n){var i;for(En(e,t-257,5),En(e,r-1,5),En(e,n-4,4),i=0;i<n;i++)En(e,e.bl_tree[Lm[i]*2+1],3);qm(e,e.dyn_ltree,t-1),qm(e,e.dyn_dtree,r-1)}function KT(e){var t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return Am;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Bm;for(r=32;r<pc;r++)if(e.dyn_ltree[r*2]!==0)return Bm;return Am}var Vm=!1;function ZT(e){Vm||(zT(),Vm=!0),e.l_desc=new o0(e.dyn_ltree,$m),e.d_desc=new o0(e.dyn_dtree,Om),e.bl_desc=new o0(e.bl_tree,Mm),e.bi_buf=0,e.bi_valid=0,Fm(e)}function Wm(e,t,r,n){En(e,(OT<<1)+(n?1:0),3),qT(e,t,r,!0)}function GT(e){En(e,Im<<1,3),Ai(e,r0,Wi),HT(e)}function YT(e,t,r,n){var i,s,o=0;e.level>0?(e.strm.data_type===$T&&(e.strm.data_type=KT(e)),c0(e,e.l_desc),c0(e,e.d_desc),o=VT(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=r+5,r+4<=i&&t!==-1?Wm(e,t,r,n):e.strategy===LT||s===i?(En(e,(Im<<1)+(n?1:0),3),jm(e,Wi,yc)):(En(e,(MT<<1)+(n?1:0),3),WT(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),jm(e,e.dyn_ltree,e.dyn_dtree)),Fm(e),n&&Dm(e)}function bs(e,t,r){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=r&255,e.last_lit++,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(mc[r]+pc+1)*2]++,e.dyn_dtree[Nm(t)*2]++),e.last_lit===e.lit_bufsize-1}function f0(e,t,r,n){for(var i=e&65535|0,s=e>>>16&65535|0,o=0;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+t[n++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0}function XT(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t}var JT=XT();function Vr(e,t,r,n){var i=JT,s=n+r;e^=-1;for(var o=n;o<s;o++)e=e>>>8^i[(e^t[o])&255];return e^-1}var lo=0,QT=1,e4=3,vs=4,Km=5,_s=0,Zm=1,Es=-2,t4=-3,u0=-5,r4=-1,n4=1,Pu=2,i4=3,s4=4,o4=2,l0=8,a4=9,c4=29,f4=256,h0=f4+1+c4,u4=30,l4=19,h4=2*h0+1,d4=15,Ft=3,xs=258,si=xs+Ft+1,p4=32,d0=42,p0=69,Uu=73,Fu=91,Du=103,ho=113,vc=666,$r=1,_c=2,po=3,oa=4,g4=3;function Ss(e,t){return e.msg=Sm[t],t}function Gm(e){return(e<<1)-(e>4?9:0)}function go(e){for(var t=e.length;--t>=0;)e[t]=0}function As(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(Vi(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))}function Jr(e,t){YT(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,As(e.strm)}function Pt(e,t){e.pending_buf[e.pending++]=t}function Ec(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}function y4(e,t,r,n){var i=e.avail_in;return i>n&&(i=n),i===0?0:(e.avail_in-=i,Vi(t,e.input,e.next_in,i,r),e.state.wrap===1?e.adler=f0(e.adler,t,i,r):e.state.wrap===2&&(e.adler=Vr(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)}function Ym(e,t){var r=e.max_chain_length,n=e.strstart,i,s,o=e.prev_length,a=e.nice_match,c=e.strstart>e.w_size-si?e.strstart-(e.w_size-si):0,u=e.window,l=e.w_mask,y=e.prev,A=e.strstart+xs,v=u[n+o-1],R=u[n+o];e.prev_length>=e.good_match&&(r>>=2),a>e.lookahead&&(a=e.lookahead);do if(i=t,!(u[i+o]!==R||u[i+o-1]!==v||u[i]!==u[n]||u[++i]!==u[n+1])){n+=2,i++;do;while(u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&n<A);if(s=xs-(A-n),n=A-xs,s>o){if(e.match_start=t,o=s,s>=a)break;v=u[n+o-1],R=u[n+o]}}while((t=y[t&l])>c&&--r!==0);return o<=e.lookahead?o:e.lookahead}function xc(e){var t=e.w_size,r,n,i,s,o;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-si)){Vi(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=e.hash_size,r=n;do i=e.head[--r],e.head[r]=i>=t?i-t:0;while(--n);n=t,r=n;do i=e.prev[--r],e.prev[r]=i>=t?i-t:0;while(--n);s+=t}if(e.strm.avail_in===0)break;if(n=y4(e.strm,e.window,e.strstart+e.lookahead,s),e.lookahead+=n,e.lookahead+e.insert>=Ft)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+Ft-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<Ft)););}while(e.lookahead<si&&e.strm.avail_in!==0)}function w4(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(xc(e),e.lookahead===0&&t===lo)return $r;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((e.strstart===0||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,Jr(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-si&&(Jr(e,!1),e.strm.avail_out===0))return $r}return e.insert=0,t===vs?(Jr(e,!0),e.strm.avail_out===0?po:oa):(e.strstart>e.block_start&&(Jr(e,!1),e.strm.avail_out===0),$r)}function g0(e,t){for(var r,n;;){if(e.lookahead<si){if(xc(e),e.lookahead<si&&t===lo)return $r;if(e.lookahead===0)break}if(r=0,e.lookahead>=Ft&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Ft-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-si&&(e.match_length=Ym(e,r)),e.match_length>=Ft)if(n=bs(e,e.strstart-e.match_start,e.match_length-Ft),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Ft){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Ft-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=bs(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Jr(e,!1),e.strm.avail_out===0))return $r}return e.insert=e.strstart<Ft-1?e.strstart:Ft-1,t===vs?(Jr(e,!0),e.strm.avail_out===0?po:oa):e.last_lit&&(Jr(e,!1),e.strm.avail_out===0)?$r:_c}function aa(e,t){for(var r,n,i;;){if(e.lookahead<si){if(xc(e),e.lookahead<si&&t===lo)return $r;if(e.lookahead===0)break}if(r=0,e.lookahead>=Ft&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Ft-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Ft-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-si&&(e.match_length=Ym(e,r),e.match_length<=5&&(e.strategy===n4||e.match_length===Ft&&e.strstart-e.match_start>4096)&&(e.match_length=Ft-1)),e.prev_length>=Ft&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-Ft,n=bs(e,e.strstart-1-e.prev_match,e.prev_length-Ft),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Ft-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Ft-1,e.strstart++,n&&(Jr(e,!1),e.strm.avail_out===0))return $r}else if(e.match_available){if(n=bs(e,0,e.window[e.strstart-1]),n&&Jr(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return $r}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=bs(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Ft-1?e.strstart:Ft-1,t===vs?(Jr(e,!0),e.strm.avail_out===0?po:oa):e.last_lit&&(Jr(e,!1),e.strm.avail_out===0)?$r:_c}function m4(e,t){for(var r,n,i,s,o=e.window;;){if(e.lookahead<=xs){if(xc(e),e.lookahead<=xs&&t===lo)return $r;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Ft&&e.strstart>0&&(i=e.strstart-1,n=o[i],n===o[++i]&&n===o[++i]&&n===o[++i])){s=e.strstart+xs;do;while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<s);e.match_length=xs-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Ft?(r=bs(e,1,e.match_length-Ft),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=bs(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Jr(e,!1),e.strm.avail_out===0))return $r}return e.insert=0,t===vs?(Jr(e,!0),e.strm.avail_out===0?po:oa):e.last_lit&&(Jr(e,!1),e.strm.avail_out===0)?$r:_c}function b4(e,t){for(var r;;){if(e.lookahead===0&&(xc(e),e.lookahead===0)){if(t===lo)return $r;break}if(e.match_length=0,r=bs(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Jr(e,!1),e.strm.avail_out===0))return $r}return e.insert=0,t===vs?(Jr(e,!0),e.strm.avail_out===0?po:oa):e.last_lit&&(Jr(e,!1),e.strm.avail_out===0)?$r:_c}function Bi(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}var ca;ca=[new Bi(0,0,0,0,w4),new Bi(4,4,8,4,g0),new Bi(4,5,16,8,g0),new Bi(4,6,32,32,g0),new Bi(4,4,16,16,aa),new Bi(8,16,32,32,aa),new Bi(8,16,128,128,aa),new Bi(8,32,128,256,aa),new Bi(32,128,258,1024,aa),new Bi(32,258,258,4096,aa)];function v4(e){e.window_size=2*e.w_size,go(e.head),e.max_lazy_match=ca[e.level].max_lazy,e.good_match=ca[e.level].good_length,e.nice_match=ca[e.level].nice_length,e.max_chain_length=ca[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Ft-1,e.match_available=0,e.ins_h=0}function _4(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=l0,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Xn(h4*2),this.dyn_dtree=new Xn((2*u4+1)*2),this.bl_tree=new Xn((2*l4+1)*2),go(this.dyn_ltree),go(this.dyn_dtree),go(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Xn(d4+1),this.heap=new Xn(2*h0+1),go(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Xn(2*h0+1),go(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function E4(e){var t;return!e||!e.state?Ss(e,Es):(e.total_in=e.total_out=0,e.data_type=o4,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?d0:ho,e.adler=t.wrap===2?0:1,t.last_flush=lo,ZT(t),_s)}function Xm(e){var t=E4(e);return t===_s&&v4(e.state),t}function x4(e,t,r,n,i,s){if(!e)return Es;var o=1;if(t===r4&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>a4||r!==l0||n<8||n>15||t<0||t>9||s<0||s>s4)return Ss(e,Es);n===8&&(n=9);var a=new _4;return e.state=a,a.strm=e,a.wrap=o,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Ft-1)/Ft),a.window=new $u(a.w_size*2),a.head=new Xn(a.hash_size),a.prev=new Xn(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new $u(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=(1+2)*a.lit_bufsize,a.level=t,a.strategy=s,a.method=r,Xm(e)}function S4(e,t){var r,n,i,s;if(!e||!e.state||t>Km||t<0)return e?Ss(e,Es):Es;if(n=e.state,!e.output||!e.input&&e.avail_in!==0||n.status===vc&&t!==vs)return Ss(e,e.avail_out===0?u0:Es);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===d0)if(n.wrap===2)e.adler=0,Pt(n,31),Pt(n,139),Pt(n,8),n.gzhead?(Pt(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Pt(n,n.gzhead.time&255),Pt(n,n.gzhead.time>>8&255),Pt(n,n.gzhead.time>>16&255),Pt(n,n.gzhead.time>>24&255),Pt(n,n.level===9?2:n.strategy>=Pu||n.level<2?4:0),Pt(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Pt(n,n.gzhead.extra.length&255),Pt(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Vr(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=p0):(Pt(n,0),Pt(n,0),Pt(n,0),Pt(n,0),Pt(n,0),Pt(n,n.level===9?2:n.strategy>=Pu||n.level<2?4:0),Pt(n,g4),n.status=ho);else{var o=l0+(n.w_bits-8<<4)<<8,a=-1;n.strategy>=Pu||n.level<2?a=0:n.level<6?a=1:n.level===6?a=2:a=3,o|=a<<6,n.strstart!==0&&(o|=p4),o+=31-o%31,n.status=ho,Ec(n,o),n.strstart!==0&&(Ec(n,e.adler>>>16),Ec(n,e.adler&65535)),e.adler=1}if(n.status===p0)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(n.gzhead.extra.length&65535)&&!(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=Vr(e.adler,n.pending_buf,n.pending-i,i)),As(e),i=n.pending,n.pending===n.pending_buf_size));)Pt(n,n.gzhead.extra[n.gzindex]&255),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(e.adler=Vr(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=Uu)}else n.status=Uu;if(n.status===Uu)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=Vr(e.adler,n.pending_buf,n.pending-i,i)),As(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,Pt(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=Vr(e.adler,n.pending_buf,n.pending-i,i)),s===0&&(n.gzindex=0,n.status=Fu)}else n.status=Fu;if(n.status===Fu)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=Vr(e.adler,n.pending_buf,n.pending-i,i)),As(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,Pt(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=Vr(e.adler,n.pending_buf,n.pending-i,i)),s===0&&(n.status=Du)}else n.status=Du;if(n.status===Du&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&As(e),n.pending+2<=n.pending_buf_size&&(Pt(n,e.adler&255),Pt(n,e.adler>>8&255),e.adler=0,n.status=ho)):n.status=ho),n.pending!==0){if(As(e),e.avail_out===0)return n.last_flush=-1,_s}else if(e.avail_in===0&&Gm(t)<=Gm(r)&&t!==vs)return Ss(e,u0);if(n.status===vc&&e.avail_in!==0)return Ss(e,u0);if(e.avail_in!==0||n.lookahead!==0||t!==lo&&n.status!==vc){var c=n.strategy===Pu?b4(n,t):n.strategy===i4?m4(n,t):ca[n.level].func(n,t);if((c===po||c===oa)&&(n.status=vc),c===$r||c===po)return e.avail_out===0&&(n.last_flush=-1),_s;if(c===_c&&(t===QT?GT(n):t!==Km&&(Wm(n,0,0,!1),t===e4&&(go(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),As(e),e.avail_out===0))return n.last_flush=-1,_s}return t!==vs?_s:n.wrap<=0?Zm:(n.wrap===2?(Pt(n,e.adler&255),Pt(n,e.adler>>8&255),Pt(n,e.adler>>16&255),Pt(n,e.adler>>24&255),Pt(n,e.total_in&255),Pt(n,e.total_in>>8&255),Pt(n,e.total_in>>16&255),Pt(n,e.total_in>>24&255)):(Ec(n,e.adler>>>16),Ec(n,e.adler&65535)),As(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?_s:Zm)}function A4(e){var t;return!e||!e.state?Es:(t=e.state.status,t!==d0&&t!==p0&&t!==Uu&&t!==Fu&&t!==Du&&t!==ho&&t!==vc?Ss(e,Es):(e.state=null,t===ho?Ss(e,t4):_s))}var Hu=30,B4=12;function I4(e,t){var r,n,i,s,o,a,c,u,l,y,A,v,R,O,P,H,F,N,$,q,G,Z,z,ee,se;r=e.state,n=e.next_in,ee=e.input,i=n+(e.avail_in-5),s=e.next_out,se=e.output,o=s-(t-e.avail_out),a=s+(e.avail_out-257),c=r.dmax,u=r.wsize,l=r.whave,y=r.wnext,A=r.window,v=r.hold,R=r.bits,O=r.lencode,P=r.distcode,H=(1<<r.lenbits)-1,F=(1<<r.distbits)-1;e:do{R<15&&(v+=ee[n++]<<R,R+=8,v+=ee[n++]<<R,R+=8),N=O[v&H];t:for(;;){if($=N>>>24,v>>>=$,R-=$,$=N>>>16&255,$===0)se[s++]=N&65535;else if($&16){q=N&65535,$&=15,$&&(R<$&&(v+=ee[n++]<<R,R+=8),q+=v&(1<<$)-1,v>>>=$,R-=$),R<15&&(v+=ee[n++]<<R,R+=8,v+=ee[n++]<<R,R+=8),N=P[v&F];r:for(;;){if($=N>>>24,v>>>=$,R-=$,$=N>>>16&255,$&16){if(G=N&65535,$&=15,R<$&&(v+=ee[n++]<<R,R+=8,R<$&&(v+=ee[n++]<<R,R+=8)),G+=v&(1<<$)-1,G>c){e.msg="invalid distance too far back",r.mode=Hu;break e}if(v>>>=$,R-=$,$=s-o,G>$){if($=G-$,$>l&&r.sane){e.msg="invalid distance too far back",r.mode=Hu;break e}if(Z=0,z=A,y===0){if(Z+=u-$,$<q){q-=$;do se[s++]=A[Z++];while(--$);Z=s-G,z=se}}else if(y<$){if(Z+=u+y-$,$-=y,$<q){q-=$;do se[s++]=A[Z++];while(--$);if(Z=0,y<q){$=y,q-=$;do se[s++]=A[Z++];while(--$);Z=s-G,z=se}}}else if(Z+=y-$,$<q){q-=$;do se[s++]=A[Z++];while(--$);Z=s-G,z=se}for(;q>2;)se[s++]=z[Z++],se[s++]=z[Z++],se[s++]=z[Z++],q-=3;q&&(se[s++]=z[Z++],q>1&&(se[s++]=z[Z++]))}else{Z=s-G;do se[s++]=se[Z++],se[s++]=se[Z++],se[s++]=se[Z++],q-=3;while(q>2);q&&(se[s++]=se[Z++],q>1&&(se[s++]=se[Z++]))}}else if($&64){e.msg="invalid distance code",r.mode=Hu;break e}else{N=P[(N&65535)+(v&(1<<$)-1)];continue r}break}}else if($&64)if($&32){r.mode=B4;break e}else{e.msg="invalid literal/length code",r.mode=Hu;break e}else{N=O[(N&65535)+(v&(1<<$)-1)];continue t}break}}while(n<i&&s<a);q=R>>3,n-=q,R-=q<<3,v&=(1<<R)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<a?257+(a-s):257-(s-a),r.hold=v,r.bits=R}var fa=15,Jm=852,Qm=592,eb=0,y0=1,tb=2,R4=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],T4=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],k4=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],C4=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function Sc(e,t,r,n,i,s,o,a){var c=a.bits,u=0,l=0,y=0,A=0,v=0,R=0,O=0,P=0,H=0,F=0,N,$,q,G,Z,z=null,ee=0,se,Q=new Xn(fa+1),I=new Xn(fa+1),g=null,f=0,h,m,_;for(u=0;u<=fa;u++)Q[u]=0;for(l=0;l<n;l++)Q[t[r+l]]++;for(v=c,A=fa;A>=1&&Q[A]===0;A--);if(v>A&&(v=A),A===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(y=1;y<A&&Q[y]===0;y++);for(v<y&&(v=y),P=1,u=1;u<=fa;u++)if(P<<=1,P-=Q[u],P<0)return-1;if(P>0&&(e===eb||A!==1))return-1;for(I[1]=0,u=1;u<fa;u++)I[u+1]=I[u]+Q[u];for(l=0;l<n;l++)t[r+l]!==0&&(o[I[t[r+l]]++]=l);if(e===eb?(z=g=o,se=19):e===y0?(z=R4,ee-=257,g=T4,f-=257,se=256):(z=k4,g=C4,se=-1),F=0,l=0,u=y,Z=s,R=v,O=0,q=-1,H=1<<v,G=H-1,e===y0&&H>Jm||e===tb&&H>Qm)return 1;for(;;){h=u-O,o[l]<se?(m=0,_=o[l]):o[l]>se?(m=g[f+o[l]],_=z[ee+o[l]]):(m=32+64,_=0),N=1<<u-O,$=1<<R,y=$;do $-=N,i[Z+(F>>O)+$]=h<<24|m<<16|_|0;while($!==0);for(N=1<<u-1;F&N;)N>>=1;if(N!==0?(F&=N-1,F+=N):F=0,l++,--Q[u]===0){if(u===A)break;u=t[r+o[l]]}if(u>v&&(F&G)!==q){for(O===0&&(O=v),Z+=y,R=u-O,P=1<<R;R+O<A&&(P-=Q[R+O],!(P<=0));)R++,P<<=1;if(H+=1<<R,e===y0&&H>Jm||e===tb&&H>Qm)return 1;q=F&G,i[q]=v<<24|R<<16|Z-s|0}}return F!==0&&(i[Z+F]=u-O<<24|64<<16|0),a.bits=v,0}var L4=0,rb=1,nb=2,ib=4,$4=5,ju=6,Ac=0,O4=1,M4=2,Bs=-2,N4=-3,P4=-4,U4=-5,sb=8,ob=1,ab=2,cb=3,fb=4,ub=5,lb=6,hb=7,db=8,pb=9,gb=10,yb=11,Ki=12,w0=13,wb=14,m0=15,mb=16,bb=17,vb=18,_b=19,zu=20,qu=21,Eb=22,xb=23,Sb=24,Ab=25,Bb=26,b0=27,Ib=28,Rb=29,cr=30,F4=31,D4=32,H4=852,j4=592;function Tb(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function z4(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Xn(320),this.work=new Xn(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function q4(e){var t;return!e||!e.state?Bs:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=ob,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Ou(H4),t.distcode=t.distdyn=new Ou(j4),t.sane=1,t.back=-1,Ac)}function kb(e){var t;return!e||!e.state?Bs:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,q4(e))}function V4(e,t){var r,n;return!e||!e.state||(n=e.state,t<0?(r=0,t=-t):(r=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?Bs:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,kb(e))}function W4(e,t){var r,n;return e?(n=new z4,e.state=n,n.window=null,r=V4(e,t),r!==Ac&&(e.state=null),r):Bs}var Cb=!0,v0,_0;function K4(e){if(Cb){var t;for(v0=new Ou(512),_0=new Ou(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Sc(rb,e.lens,0,288,v0,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Sc(nb,e.lens,0,32,_0,0,e.work,{bits:5}),Cb=!1}e.lencode=v0,e.lenbits=9,e.distcode=_0,e.distbits=5}function Z4(e,t,r,n){var i,s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new $u(s.wsize)),n>=s.wsize?(Vi(s.window,t,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),Vi(s.window,t,r-n,i,s.wnext),n-=i,n?(Vi(s.window,t,r-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}function G4(e,t){var r,n,i,s,o,a,c,u,l,y,A,v,R,O,P=0,H,F,N,$,q,G,Z,z,ee=new $u(4),se,Q,I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return Bs;r=e.state,r.mode===Ki&&(r.mode=w0),o=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,n=e.input,a=e.avail_in,u=r.hold,l=r.bits,y=a,A=c,z=Ac;e:for(;;)switch(r.mode){case ob:if(r.wrap===0){r.mode=w0;break}for(;l<16;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if(r.wrap&2&&u===35615){r.check=0,ee[0]=u&255,ee[1]=u>>>8&255,r.check=Vr(r.check,ee,2,0),u=0,l=0,r.mode=ab;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=cr;break}if((u&15)!==sb){e.msg="unknown compression method",r.mode=cr;break}if(u>>>=4,l-=4,Z=(u&15)+8,r.wbits===0)r.wbits=Z;else if(Z>r.wbits){e.msg="invalid window size",r.mode=cr;break}r.dmax=1<<Z,e.adler=r.check=1,r.mode=u&512?gb:Ki,u=0,l=0;break;case ab:for(;l<16;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if(r.flags=u,(r.flags&255)!==sb){e.msg="unknown compression method",r.mode=cr;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=cr;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&(ee[0]=u&255,ee[1]=u>>>8&255,r.check=Vr(r.check,ee,2,0)),u=0,l=0,r.mode=cb;case cb:for(;l<32;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}r.head&&(r.head.time=u),r.flags&512&&(ee[0]=u&255,ee[1]=u>>>8&255,ee[2]=u>>>16&255,ee[3]=u>>>24&255,r.check=Vr(r.check,ee,4,0)),u=0,l=0,r.mode=fb;case fb:for(;l<16;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&(ee[0]=u&255,ee[1]=u>>>8&255,r.check=Vr(r.check,ee,2,0)),u=0,l=0,r.mode=ub;case ub:if(r.flags&1024){for(;l<16;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&(ee[0]=u&255,ee[1]=u>>>8&255,r.check=Vr(r.check,ee,2,0)),u=0,l=0}else r.head&&(r.head.extra=null);r.mode=lb;case lb:if(r.flags&1024&&(v=r.length,v>a&&(v=a),v&&(r.head&&(Z=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),Vi(r.head.extra,n,s,v,Z)),r.flags&512&&(r.check=Vr(r.check,n,v,s)),a-=v,s+=v,r.length-=v),r.length))break e;r.length=0,r.mode=hb;case hb:if(r.flags&2048){if(a===0)break e;v=0;do Z=n[s+v++],r.head&&Z&&r.length<65536&&(r.head.name+=String.fromCharCode(Z));while(Z&&v<a);if(r.flags&512&&(r.check=Vr(r.check,n,v,s)),a-=v,s+=v,Z)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=db;case db:if(r.flags&4096){if(a===0)break e;v=0;do Z=n[s+v++],r.head&&Z&&r.length<65536&&(r.head.comment+=String.fromCharCode(Z));while(Z&&v<a);if(r.flags&512&&(r.check=Vr(r.check,n,v,s)),a-=v,s+=v,Z)break e}else r.head&&(r.head.comment=null);r.mode=pb;case pb:if(r.flags&512){for(;l<16;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if(u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=cr;break}u=0,l=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Ki;break;case gb:for(;l<32;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}e.adler=r.check=Tb(u),u=0,l=0,r.mode=yb;case yb:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=a,r.hold=u,r.bits=l,M4;e.adler=r.check=1,r.mode=Ki;case Ki:if(t===$4||t===ju)break e;case w0:if(r.last){u>>>=l&7,l-=l&7,r.mode=b0;break}for(;l<3;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}switch(r.last=u&1,u>>>=1,l-=1,u&3){case 0:r.mode=wb;break;case 1:if(K4(r),r.mode=zu,t===ju){u>>>=2,l-=2;break e}break;case 2:r.mode=bb;break;case 3:e.msg="invalid block type",r.mode=cr}u>>>=2,l-=2;break;case wb:for(u>>>=l&7,l-=l&7;l<32;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=cr;break}if(r.length=u&65535,u=0,l=0,r.mode=m0,t===ju)break e;case m0:r.mode=mb;case mb:if(v=r.length,v){if(v>a&&(v=a),v>c&&(v=c),v===0)break e;Vi(i,n,s,v,o),a-=v,s+=v,c-=v,o+=v,r.length-=v;break}r.mode=Ki;break;case bb:for(;l<14;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if(r.nlen=(u&31)+257,u>>>=5,l-=5,r.ndist=(u&31)+1,u>>>=5,l-=5,r.ncode=(u&15)+4,u>>>=4,l-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=cr;break}r.have=0,r.mode=vb;case vb:for(;r.have<r.ncode;){for(;l<3;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}r.lens[I[r.have++]]=u&7,u>>>=3,l-=3}for(;r.have<19;)r.lens[I[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,se={bits:r.lenbits},z=Sc(L4,r.lens,0,19,r.lencode,0,r.work,se),r.lenbits=se.bits,z){e.msg="invalid code lengths set",r.mode=cr;break}r.have=0,r.mode=_b;case _b:for(;r.have<r.nlen+r.ndist;){for(;P=r.lencode[u&(1<<r.lenbits)-1],H=P>>>24,F=P>>>16&255,N=P&65535,!(H<=l);){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if(N<16)u>>>=H,l-=H,r.lens[r.have++]=N;else{if(N===16){for(Q=H+2;l<Q;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if(u>>>=H,l-=H,r.have===0){e.msg="invalid bit length repeat",r.mode=cr;break}Z=r.lens[r.have-1],v=3+(u&3),u>>>=2,l-=2}else if(N===17){for(Q=H+3;l<Q;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}u>>>=H,l-=H,Z=0,v=3+(u&7),u>>>=3,l-=3}else{for(Q=H+7;l<Q;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}u>>>=H,l-=H,Z=0,v=11+(u&127),u>>>=7,l-=7}if(r.have+v>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=cr;break}for(;v--;)r.lens[r.have++]=Z}}if(r.mode===cr)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=cr;break}if(r.lenbits=9,se={bits:r.lenbits},z=Sc(rb,r.lens,0,r.nlen,r.lencode,0,r.work,se),r.lenbits=se.bits,z){e.msg="invalid literal/lengths set",r.mode=cr;break}if(r.distbits=6,r.distcode=r.distdyn,se={bits:r.distbits},z=Sc(nb,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,se),r.distbits=se.bits,z){e.msg="invalid distances set",r.mode=cr;break}if(r.mode=zu,t===ju)break e;case zu:r.mode=qu;case qu:if(a>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=a,r.hold=u,r.bits=l,I4(e,A),o=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,n=e.input,a=e.avail_in,u=r.hold,l=r.bits,r.mode===Ki&&(r.back=-1);break}for(r.back=0;P=r.lencode[u&(1<<r.lenbits)-1],H=P>>>24,F=P>>>16&255,N=P&65535,!(H<=l);){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if(F&&!(F&240)){for($=H,q=F,G=N;P=r.lencode[G+((u&(1<<$+q)-1)>>$)],H=P>>>24,F=P>>>16&255,N=P&65535,!($+H<=l);){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}u>>>=$,l-=$,r.back+=$}if(u>>>=H,l-=H,r.back+=H,r.length=N,F===0){r.mode=Bb;break}if(F&32){r.back=-1,r.mode=Ki;break}if(F&64){e.msg="invalid literal/length code",r.mode=cr;break}r.extra=F&15,r.mode=Eb;case Eb:if(r.extra){for(Q=r.extra;l<Q;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=xb;case xb:for(;P=r.distcode[u&(1<<r.distbits)-1],H=P>>>24,F=P>>>16&255,N=P&65535,!(H<=l);){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if(!(F&240)){for($=H,q=F,G=N;P=r.distcode[G+((u&(1<<$+q)-1)>>$)],H=P>>>24,F=P>>>16&255,N=P&65535,!($+H<=l);){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}u>>>=$,l-=$,r.back+=$}if(u>>>=H,l-=H,r.back+=H,F&64){e.msg="invalid distance code",r.mode=cr;break}r.offset=N,r.extra=F&15,r.mode=Sb;case Sb:if(r.extra){for(Q=r.extra;l<Q;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=cr;break}r.mode=Ab;case Ab:if(c===0)break e;if(v=A-c,r.offset>v){if(v=r.offset-v,v>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=cr;break}v>r.wnext?(v-=r.wnext,R=r.wsize-v):R=r.wnext-v,v>r.length&&(v=r.length),O=r.window}else O=i,R=o-r.offset,v=r.length;v>c&&(v=c),c-=v,r.length-=v;do i[o++]=O[R++];while(--v);r.length===0&&(r.mode=qu);break;case Bb:if(c===0)break e;i[o++]=r.length,c--,r.mode=qu;break;case b0:if(r.wrap){for(;l<32;){if(a===0)break e;a--,u|=n[s++]<<l,l+=8}if(A-=c,e.total_out+=A,r.total+=A,A&&(e.adler=r.check=r.flags?Vr(r.check,i,A,o-A):f0(r.check,i,A,o-A)),A=c,(r.flags?u:Tb(u))!==r.check){e.msg="incorrect data check",r.mode=cr;break}u=0,l=0}r.mode=Ib;case Ib:if(r.wrap&&r.flags){for(;l<32;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if(u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=cr;break}u=0,l=0}r.mode=Rb;case Rb:z=O4;break e;case cr:z=N4;break e;case F4:return P4;case D4:default:return Bs}return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=a,r.hold=u,r.bits=l,(r.wsize||A!==e.avail_out&&r.mode<cr&&(r.mode<b0||t!==ib))&&Z4(e,e.output,e.next_out,A-e.avail_out),y-=e.avail_in,A-=e.avail_out,e.total_in+=y,e.total_out+=A,r.total+=A,r.wrap&&A&&(e.adler=r.check=r.flags?Vr(r.check,i,A,e.next_out-A):f0(r.check,i,A,e.next_out-A)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Ki?128:0)+(r.mode===zu||r.mode===m0?256:0),(y===0&&A===0||t===ib)&&z===Ac&&(z=U4),z}function Y4(e){if(!e||!e.state)return Bs;var t=e.state;return t.window&&(t.window=null),e.state=null,Ac}var E0=0,ua=1,Vu=2,Bc=3,Wu=4,la=5,Ic=6,Rc=7,Lb=0,$b=1,Ob=2,Mb=3,x0=4,Nb=5,X4=6,Ku=0,Pb=1,Ub=2,J4=-1,Q4=-2,e5=-3,Fb=-5,t5=0,r5=1,n5=9,i5=-1,s5=1,o5=2,a5=3,c5=4,f5=0,u5=0,l5=1,h5=2,Db=8;function oi(e){if(e<ua||e>Rc)throw new TypeError("Bad argument");this.mode=e,this.init_done=!1,this.write_in_progress=!1,this.pending_close=!1,this.windowBits=0,this.level=0,this.memLevel=0,this.strategy=0,this.dictionary=null}oi.prototype.init=function(e,t,r,n,i){this.windowBits=e,this.level=t,this.memLevel=r,this.strategy=n,(this.mode===Bc||this.mode===Wu)&&(this.windowBits+=16),this.mode===Rc&&(this.windowBits+=32),(this.mode===la||this.mode===Ic)&&(this.windowBits=-this.windowBits),this.strm=new CT;var s;switch(this.mode){case ua:case Bc:case la:s=x4(this.strm,this.level,Db,this.windowBits,this.memLevel,this.strategy);break;case Vu:case Wu:case Ic:case Rc:s=W4(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}if(s!==Ku){this._error(s);return}this.write_in_progress=!1,this.init_done=!0},oi.prototype.params=function(){throw new Error("deflateParams Not supported")},oi.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(this.mode===E0)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")},oi.prototype.write=function(e,t,r,n,i,s,o){this._writeCheck(),this.write_in_progress=!0;var a=this;return _n.nextTick(function(){a.write_in_progress=!1;var c=a._write(e,t,r,n,i,s,o);a.callback(c[0],c[1]),a.pending_close&&a.close()}),this};function d5(e,t){for(var r=0;r<e.length;r++)this[t+r]=e[r]}oi.prototype.writeSync=function(e,t,r,n,i,s,o){return this._writeCheck(),this._write(e,t,r,n,i,s,o)},oi.prototype._write=function(e,t,r,n,i,s,o){if(this.write_in_progress=!0,e!==Lb&&e!==$b&&e!==Ob&&e!==Mb&&e!==x0&&e!==Nb)throw new Error("Invalid flush value");t==null&&(t=new le(0),n=0,r=0),i._set?i.set=i._set:i.set=d5;var a=this.strm;a.avail_in=n,a.input=t,a.next_in=r,a.avail_out=o,a.output=i,a.next_out=s;var c;switch(this.mode){case ua:case Bc:case la:c=S4(a,e);break;case Rc:case Vu:case Wu:case Ic:c=G4(a,e);break;default:throw new Error("Unknown mode "+this.mode)}return this._checkError(c,a,e)||this._error(c),this.write_in_progress=!1,[a.avail_in,a.avail_out]},oi.prototype._checkError=function(e,t,r){switch(e){case Ku:case Fb:if(t.avail_out!==0&&r===x0)return!1;break;case Pb:break;case Ub:return!1;default:return!1}return!0},oi.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,this.mode===ua||this.mode===Bc||this.mode===la?A4(this.strm):Y4(this.strm),this.mode=E0};var Zu;oi.prototype.reset=function(){switch(this.mode){case ua:case la:Zu=Xm(this.strm);break;case Vu:case Ic:Zu=kb(this.strm);break}Zu!==Ku&&this._error(Zu)},oi.prototype._error=function(e){this.onerror(Sm[e]+": "+this.strm.msg,e),this.write_in_progress=!1,this.pending_close&&this.close()};var Hb=Object.freeze({__proto__:null,NONE:E0,DEFLATE:ua,INFLATE:Vu,GZIP:Bc,GUNZIP:Wu,DEFLATERAW:la,INFLATERAW:Ic,UNZIP:Rc,Z_NO_FLUSH:Lb,Z_PARTIAL_FLUSH:$b,Z_SYNC_FLUSH:Ob,Z_FULL_FLUSH:Mb,Z_FINISH:x0,Z_BLOCK:Nb,Z_TREES:X4,Z_OK:Ku,Z_STREAM_END:Pb,Z_NEED_DICT:Ub,Z_ERRNO:J4,Z_STREAM_ERROR:Q4,Z_DATA_ERROR:e5,Z_BUF_ERROR:Fb,Z_NO_COMPRESSION:t5,Z_BEST_SPEED:r5,Z_BEST_COMPRESSION:n5,Z_DEFAULT_COMPRESSION:i5,Z_FILTERED:s5,Z_HUFFMAN_ONLY:o5,Z_RLE:a5,Z_FIXED:c5,Z_DEFAULT_STRATEGY:f5,Z_BINARY:u5,Z_TEXT:l5,Z_UNKNOWN:h5,Z_DEFLATED:Db,Zlib:oi});function p5(e,t){if(!e)throw new Error(t)}var Oe={};Object.keys(Hb).forEach(function(e){Oe[e]=Hb[e]}),Oe.Z_MIN_WINDOWBITS=8,Oe.Z_MAX_WINDOWBITS=15,Oe.Z_DEFAULT_WINDOWBITS=15,Oe.Z_MIN_CHUNK=64,Oe.Z_MAX_CHUNK=1/0,Oe.Z_DEFAULT_CHUNK=16*1024,Oe.Z_MIN_MEMLEVEL=1,Oe.Z_MAX_MEMLEVEL=9,Oe.Z_DEFAULT_MEMLEVEL=8,Oe.Z_MIN_LEVEL=-1,Oe.Z_MAX_LEVEL=9,Oe.Z_DEFAULT_LEVEL=Oe.Z_DEFAULT_COMPRESSION;var ha={Z_OK:Oe.Z_OK,Z_STREAM_END:Oe.Z_STREAM_END,Z_NEED_DICT:Oe.Z_NEED_DICT,Z_ERRNO:Oe.Z_ERRNO,Z_STREAM_ERROR:Oe.Z_STREAM_ERROR,Z_DATA_ERROR:Oe.Z_DATA_ERROR,Z_MEM_ERROR:Oe.Z_MEM_ERROR,Z_BUF_ERROR:Oe.Z_BUF_ERROR,Z_VERSION_ERROR:Oe.Z_VERSION_ERROR};Object.keys(ha).forEach(function(e){ha[ha[e]]=e});function jb(e){return new Is(e)}function zb(e){return new Rs(e)}function qb(e){return new Cs(e)}function Vb(e){return new Ls(e)}function Wb(e){return new Ts(e)}function Kb(e){return new ks(e)}function Zb(e){return new $s(e)}function Gb(e,t,r){return typeof t=="function"&&(r=t,t={}),yo(new Is(t),e,r)}function Yb(e,t){return wo(new Is(t),e)}function Xb(e,t,r){return typeof t=="function"&&(r=t,t={}),yo(new Ts(t),e,r)}function Jb(e,t){return wo(new Ts(t),e)}function Qb(e,t,r){return typeof t=="function"&&(r=t,t={}),yo(new Cs(t),e,r)}function ev(e,t){return wo(new Cs(t),e)}function tv(e,t,r){return typeof t=="function"&&(r=t,t={}),yo(new $s(t),e,r)}function rv(e,t){return wo(new $s(t),e)}function nv(e,t,r){return typeof t=="function"&&(r=t,t={}),yo(new Rs(t),e,r)}function iv(e,t){return wo(new Rs(t),e)}function sv(e,t,r){return typeof t=="function"&&(r=t,t={}),yo(new ks(t),e,r)}function ov(e,t){return wo(new ks(t),e)}function av(e,t,r){return typeof t=="function"&&(r=t,t={}),yo(new Ls(t),e,r)}function cv(e,t){return wo(new Ls(t),e)}function yo(e,t,r){var n=[],i=0;e.on("error",o),e.on("end",a),e.end(t),s();function s(){for(var c;(c=e.read())!==null;)n.push(c),i+=c.length;e.once("readable",s)}function o(c){e.removeListener("end",a),e.removeListener("readable",s),r(c)}function a(){var c=le.concat(n,i);n=[],r(null,c),e.close()}}function wo(e,t){if(typeof t=="string"&&(t=new le(t)),!le.isBuffer(t))throw new TypeError("Not a string or buffer");var r=Oe.Z_FINISH;return e._processChunk(t,r)}function Is(e){if(!(this instanceof Is))return new Is(e);fr.call(this,e,Oe.DEFLATE)}function Rs(e){if(!(this instanceof Rs))return new Rs(e);fr.call(this,e,Oe.INFLATE)}function Ts(e){if(!(this instanceof Ts))return new Ts(e);fr.call(this,e,Oe.GZIP)}function ks(e){if(!(this instanceof ks))return new ks(e);fr.call(this,e,Oe.GUNZIP)}function Cs(e){if(!(this instanceof Cs))return new Cs(e);fr.call(this,e,Oe.DEFLATERAW)}function Ls(e){if(!(this instanceof Ls))return new Ls(e);fr.call(this,e,Oe.INFLATERAW)}function $s(e){if(!(this instanceof $s))return new $s(e);fr.call(this,e,Oe.UNZIP)}function fr(e,t){if(this._opts=e=e||{},this._chunkSize=e.chunkSize||Oe.Z_DEFAULT_CHUNK,Yn.call(this,e),e.flush&&e.flush!==Oe.Z_NO_FLUSH&&e.flush!==Oe.Z_PARTIAL_FLUSH&&e.flush!==Oe.Z_SYNC_FLUSH&&e.flush!==Oe.Z_FULL_FLUSH&&e.flush!==Oe.Z_FINISH&&e.flush!==Oe.Z_BLOCK)throw new Error("Invalid flush flag: "+e.flush);if(this._flushFlag=e.flush||Oe.Z_NO_FLUSH,e.chunkSize&&(e.chunkSize<Oe.Z_MIN_CHUNK||e.chunkSize>Oe.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<Oe.Z_MIN_WINDOWBITS||e.windowBits>Oe.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<Oe.Z_MIN_LEVEL||e.level>Oe.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<Oe.Z_MIN_MEMLEVEL||e.memLevel>Oe.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=Oe.Z_FILTERED&&e.strategy!=Oe.Z_HUFFMAN_ONLY&&e.strategy!=Oe.Z_RLE&&e.strategy!=Oe.Z_FIXED&&e.strategy!=Oe.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!le.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._binding=new Oe.Zlib(t);var r=this;this._hadError=!1,this._binding.onerror=function(s,o){r._binding=null,r._hadError=!0;var a=new Error(s);a.errno=o,a.code=ha[o],r.emit("error",a)};var n=Oe.Z_DEFAULT_COMPRESSION;typeof e.level=="number"&&(n=e.level);var i=Oe.Z_DEFAULT_STRATEGY;typeof e.strategy=="number"&&(i=e.strategy),this._binding.init(e.windowBits||Oe.Z_DEFAULT_WINDOWBITS,n,e.memLevel||Oe.Z_DEFAULT_MEMLEVEL,i,e.dictionary),this._buffer=new le(this._chunkSize),this._offset=0,this._closed=!1,this._level=n,this._strategy=i,this.once("end",this.close)}qr(fr,Yn),fr.prototype.params=function(e,t,r){if(e<Oe.Z_MIN_LEVEL||e>Oe.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+e);if(t!=Oe.Z_FILTERED&&t!=Oe.Z_HUFFMAN_ONLY&&t!=Oe.Z_RLE&&t!=Oe.Z_FIXED&&t!=Oe.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+t);if(this._level!==e||this._strategy!==t){var n=this;this.flush(Oe.Z_SYNC_FLUSH,function(){n._binding.params(e,t),n._hadError||(n._level=e,n._strategy=t,r&&r())})}else _n.nextTick(r)},fr.prototype.reset=function(){return this._binding.reset()},fr.prototype._flush=function(e){this._transform(new le(0),"",e)},fr.prototype.flush=function(e,t){var r=this._writableState;if((typeof e=="function"||e===void 0&&!t)&&(t=e,e=Oe.Z_FULL_FLUSH),r.ended)t&&_n.nextTick(t);else if(r.ending)t&&this.once("end",t);else if(r.needDrain){var n=this;this.once("drain",function(){n.flush(t)})}else this._flushFlag=e,this.write(new le(0),"",t)},fr.prototype.close=function(e){if(e&&_n.nextTick(e),!this._closed){this._closed=!0,this._binding.close();var t=this;_n.nextTick(function(){t.emit("close")})}},fr.prototype._transform=function(e,t,r){var n,i=this._writableState,s=i.ending||i.ended,o=s&&(!e||i.length===e.length);if(!e===null&&!le.isBuffer(e))return r(new Error("invalid input"));o?n=Oe.Z_FINISH:(n=this._flushFlag,e.length>=i.length&&(this._flushFlag=this._opts.flush||Oe.Z_NO_FLUSH)),this._processChunk(e,n,r)},fr.prototype._processChunk=function(e,t,r){var n=e&&e.length,i=this._chunkSize-this._offset,s=0,o=this,a=typeof r=="function";if(!a){var c=[],u=0,l;this.on("error",function(O){l=O});do var y=this._binding.writeSync(t,e,s,n,this._buffer,this._offset,i);while(!this._hadError&&R(y[0],y[1]));if(this._hadError)throw l;var A=le.concat(c,u);return this.close(),A}var v=this._binding.write(t,e,s,n,this._buffer,this._offset,i);v.buffer=e,v.callback=R;function R(O,P){if(!o._hadError){var H=i-P;if(p5(H>=0,"have should not go down"),H>0){var F=o._buffer.slice(o._offset,o._offset+H);o._offset+=H,a?o.push(F):(c.push(F),u+=F.length)}if((P===0||o._offset>=o._chunkSize)&&(i=o._chunkSize,o._offset=0,o._buffer=new le(o._chunkSize)),P===0){if(s+=n-O,n=O,!a)return!0;var N=o._binding.write(t,e,s,n,o._buffer,o._offset,o._chunkSize);N.callback=R,N.buffer=e;return}if(!a)return!1;r()}}},qr(Is,fr),qr(Rs,fr),qr(Ts,fr),qr(ks,fr),qr(Cs,fr),qr(Ls,fr),qr($s,fr);var g5={codes:ha,createDeflate:jb,createInflate:zb,createDeflateRaw:qb,createInflateRaw:Vb,createGzip:Wb,createGunzip:Kb,createUnzip:Zb,deflate:Gb,deflateSync:Yb,gzip:Xb,gzipSync:Jb,deflateRaw:Qb,deflateRawSync:ev,unzip:tv,unzipSync:rv,inflate:nv,inflateSync:iv,gunzip:sv,gunzipSync:ov,inflateRaw:av,inflateRawSync:cv,Deflate:Is,Inflate:Rs,Gzip:Ts,Gunzip:ks,DeflateRaw:Cs,InflateRaw:Ls,Unzip:$s,Zlib:fr},y5=Object.freeze({__proto__:null,codes:ha,createDeflate:jb,createInflate:zb,createDeflateRaw:qb,createInflateRaw:Vb,createGzip:Wb,createGunzip:Kb,createUnzip:Zb,deflate:Gb,deflateSync:Yb,gzip:Xb,gzipSync:Jb,deflateRaw:Qb,deflateRawSync:ev,unzip:tv,unzipSync:rv,inflate:nv,inflateSync:iv,gunzip:sv,gunzipSync:ov,inflateRaw:av,inflateRawSync:cv,Deflate:Is,Inflate:Rs,Gzip:Ts,Gunzip:ks,DeflateRaw:Cs,InflateRaw:Ls,Unzip:$s,Zlib:fr,default:g5}),w5=Un(y5),m5=Un(tR),b5=Un(ST);Object.defineProperty(to,"__esModule",{value:!0}),to.InvalidStatusCodeError=to.InvalidCertError=void 0;const fv=Object.freeze({redirect:!0,expectStatusCode:200,headers:{},full:!1,keepAlive:!0,cors:!1,referrer:!1,sslAllowSelfSigned:!1,_redirectCount:0});class S0 extends Error{constructor(t,r){super(t),this.fingerprint256=r}}to.InvalidCertError=S0;class A0 extends Error{constructor(t){super(`Request Failed. Status Code: ${t}`),this.statusCode=t}}to.InvalidStatusCodeError=A0;function uv(e,t){if(!t||t==="text"||t==="json")try{let r=new TextDecoder("utf8",{fatal:!0}).decode(e);if(t==="text")return r;try{return JSON.parse(r)}catch(n){if(t==="json")throw n;return r}}catch(r){if(t==="text"||t==="json")throw r}return e}let lv={};function B0(e,t){let r={...fv,...t};const n=IT,i=kT,s=w5,{promisify:o}=m5,{resolve:a}=b5,c=!!/^https/.test(e);let u={method:r.method||"GET",headers:{"Accept-Encoding":"gzip, deflate, br"}};const l=A=>A.replace(/:| /g,"").toLowerCase();if(r.keepAlive){const A={keepAlive:!0,keepAliveMsecs:3e4,maxFreeSockets:1024,maxCachedSessions:1024},v=[c,c&&r.sslPinnedCertificates?.map(R=>l(R)).sort()].join();u.agent=lv[v]||(lv[v]=new(c?i:n).Agent(A))}r.type==="json"&&(u.headers["Content-Type"]="application/json"),r.data&&(r.method||(u.method="POST"),u.body=r.type==="json"?JSON.stringify(r.data):r.data),u.headers={...u.headers,...r.headers},r.sslAllowSelfSigned&&(u.rejectUnauthorized=!1);const y=async A=>{const v=A.statusCode;if(r.redirect&&300<=v&&v<400&&A.headers.location){if(r._redirectCount==10)throw new Error("Request failed. Too much redirects.");return r._redirectCount+=1,await B0(a(e,A.headers.location),r)}if(r.expectStatusCode&&v!==r.expectStatusCode)throw A.resume(),new A0(v);let R=[];for await(const F of A)R.push(F);let O=ie.Buffer.concat(R);const P=A.headers["content-encoding"];P==="br"&&(O=await o(s.brotliDecompress)(O)),(P==="gzip"||P==="deflate")&&(O=await o(s.unzip)(O));const H=uv(O,r.type);return r.full?{headers:A.headers,status:v,body:H}:H};return new Promise((A,v)=>{const R=async F=>{if(F&&F.code==="DEPTH_ZERO_SELF_SIGNED_CERT")try{await B0(e,{...r,sslAllowSelfSigned:!0,sslPinnedCertificates:[]})}catch(N){N&&N.fingerprint256&&(F=new S0(`Self-signed SSL certificate: ${N.fingerprint256}`,N.fingerprint256))}v(F)},O=(c?i:n).request(e,u,F=>{F.on("error",R),(async()=>{try{A(await y(F))}catch(N){v(N)}})()});O.on("error",R);const P=r.sslPinnedCertificates?.map(F=>l(F)),H=F=>{const N=l(F.getPeerCertificate()?.fingerprint256||"");if(!(!N&&F.isSessionReused())&&!P.includes(N))return O.emit("error",new S0(`Invalid SSL certificate: ${N} Expected: ${P}`,N)),O.abort()};r.sslPinnedCertificates&&O.on("socket",F=>{F.listeners("secureConnect").map($=>($.name||"").replace("bound ","")).includes("mfetchSecureConnect")||F.on("secureConnect",H.bind(null,F))}),r.keepAlive&&O.setNoDelay(!0),u.body&&O.write(u.body),O.end()})}const v5=new Set(["Accept","Accept-Language","Content-Language","Content-Type"].map(e=>e.toLowerCase())),_5=new Set(["Accept-Charset","Accept-Encoding","Access-Control-Request-Headers","Access-Control-Request-Method","Connection","Content-Length","Cookie","Cookie2","Date","DNT","Expect","Host","Keep-Alive","Origin","Referer","TE","Trailer","Transfer-Encoding","Upgrade","Via"].map(e=>e.toLowerCase()));async function E5(e,t){let r={...fv,...t};const n=new Headers;r.type==="json"&&n.set("Content-Type","application/json");let i=new URL(e);if(i.username){const c=btoa(`${i.username}:${i.password}`);n.set("Authorization",`Basic ${c}`),i.username="",i.password=""}e=""+i;for(let c in r.headers){const u=c.toLowerCase();(v5.has(u)||r.cors&&!_5.has(u))&&n.set(c,r.headers[c])}let s={headers:n,redirect:r.redirect?"follow":"manual"};r.referrer||(s.referrerPolicy="no-referrer"),r.cors&&(s.mode="cors"),r.data&&(r.method||(s.method="POST"),s.body=r.type==="json"?JSON.stringify(r.data):r.data);const o=await fetch(e,s);if(r.expectStatusCode&&o.status!==r.expectStatusCode)throw new A0(o.status);const a=uv(new Uint8Array(await o.arrayBuffer()),r.type);return r.full?{headers:Object.fromEntries(o.headers.entries()),status:o.status,body:a}:a}const x5=!!(typeof process=="object"&&process.versions&&process.versions.node&&process.versions.v8);function S5(e,t){return(x5?B0:E5)(e,t)}to.default=S5,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.getProvider=Qo.fetchFromProvider=void 0;const A5=to,B5=async(e,t)=>(await(0,A5.default)(e,{headers:{"content-type":"application/json"},type:"json",data:{method:t.method,params:t.params,jsonrpc:"2.0",id:1}})).result;Qo.fetchFromProvider=B5;const I5=e=>{if(typeof e=="string")return e;if(e?.connection?.url!==void 0)return e.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")};Qo.getProvider=I5,function(e){var t=ft&&ft.__createBinding||(Object.create?function(i,s,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(s,o);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(i,a,c)}:function(i,s,o,a){a===void 0&&(a=o),i[a]=s[o]}),r=ft&&ft.__exportStar||function(i,s){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&t(s,i,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.toAscii=e.stripHexPrefix=e.padToEven=e.isHexString=e.isHexPrefixed=e.getKeys=e.getBinarySize=e.fromUtf8=e.fromAscii=e.arrayContainsArray=void 0,r(Qf,e),r(au,e),r(id,e),r(rc,e),r(du,e),r(an,e),r(eo,e),r(hd,e),r(aw,e),r(yu,e);var n=er;Object.defineProperty(e,"arrayContainsArray",{enumerable:!0,get:function(){return n.arrayContainsArray}}),Object.defineProperty(e,"fromAscii",{enumerable:!0,get:function(){return n.fromAscii}}),Object.defineProperty(e,"fromUtf8",{enumerable:!0,get:function(){return n.fromUtf8}}),Object.defineProperty(e,"getBinarySize",{enumerable:!0,get:function(){return n.getBinarySize}}),Object.defineProperty(e,"getKeys",{enumerable:!0,get:function(){return n.getKeys}}),Object.defineProperty(e,"isHexPrefixed",{enumerable:!0,get:function(){return n.isHexPrefixed}}),Object.defineProperty(e,"isHexString",{enumerable:!0,get:function(){return n.isHexString}}),Object.defineProperty(e,"padToEven",{enumerable:!0,get:function(){return n.padToEven}}),Object.defineProperty(e,"stripHexPrefix",{enumerable:!0,get:function(){return n.stripHexPrefix}}),Object.defineProperty(e,"toAscii",{enumerable:!0,get:function(){return n.toAscii}}),r(wu,e),r(Qo,e)}(Jf);var Qr={},oe={},da={},Rt={},Jn={},Os={},dn={};Object.defineProperty(dn,"__esModule",{value:!0});function R5(e,t){return e??t()}function T5(e){return Array.isArray(e)&&e.length>0}function k5(e){return e==null}function C5(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}var L5=(e,t)=>Object.hasOwnProperty.call(e,t);function $5(e){return Object.getOwnPropertyNames(e)}var hv=(e=>(e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date",e))(hv||{}),dv=/"|\\|\n|\r|\t/gu;function O5(e){if(typeof e!="object"||e===null)return!1;try{let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch{return!1}}function pv(e){return e.charCodeAt(0)<=127}function M5(e){return e.split("").reduce((r,n)=>pv(n)?r+1:r+2,0)+R5(e.match(dv),()=>[]).length}function N5(e){return e.toString().length}dn.isNonEmptyArray=T5,dn.isNullOrUndefined=k5,dn.isObject=C5,dn.hasProperty=L5,dn.getKnownPropertyNames=$5,dn.JsonSize=hv,dn.ESCAPE_CHARACTERS_REGEXP=dv,dn.isPlainObject=O5,dn.isASCII=pv,dn.calculateStringSize=M5,dn.calculateNumberSize=N5;class I0 extends Error{constructor(t,{cause:r}={}){super(t),this.name=I0.name,r&&(this.cause=r),this.message=t}}var P5=Object.freeze({__proto__:null,ErrorWithCause:I0}),U5=Un(P5);const F5=(e,t)=>{if(!e||!t||!(e instanceof Error)||!(t.prototype instanceof Error)&&t!==Error)return;const r=new Set;let n=e;for(;n&&!r.has(n);){if(r.add(n),n instanceof t)return n;n=Gu(n)}},Gu=e=>{if(!(!e||typeof e!="object"||!("cause"in e)))if(typeof e.cause=="function"){const t=e.cause();return t instanceof Error?t:void 0}else return e.cause instanceof Error?e.cause:void 0},gv=(e,t)=>{if(!(e instanceof Error))return"";const r=e.stack||"";if(t.has(e))return r+`
causes have become circular...`;const n=Gu(e);return n?(t.add(e),r+`
caused by: `+gv(n,t)):r},D5=e=>gv(e,new Set),yv=(e,t,r)=>{if(!(e instanceof Error))return"";const n=r?"":e.message||"";if(t.has(e))return n+": ...";const i=Gu(e);if(i){t.add(e);const s="cause"in e&&typeof e.cause=="function";return n+(s?"":": ")+yv(i,t,s)}else return n};var H5=Object.freeze({__proto__:null,findCauseByReference:F5,getErrorCause:Gu,stackWithCauses:D5,messageWithCauses:e=>yv(e,new Set)}),j5=Un(H5);const{ErrorWithCause:z5}=U5,{findCauseByReference:q5,getErrorCause:V5,messageWithCauses:W5,stackWithCauses:K5}=j5;var Z5={ErrorWithCause:z5,findCauseByReference:q5,getErrorCause:V5,stackWithCauses:K5,messageWithCauses:W5};Object.defineProperty(Os,"__esModule",{value:!0});var wv=dn,G5=Z5;function Y5(e){return e instanceof Error||wv.isObject.call(void 0,e)&&e.constructor.name==="Error"}function mv(e){return typeof e=="object"&&e!==null&&"code"in e}function bv(e){return typeof e=="object"&&e!==null&&"message"in e}function X5(e){return typeof e=="object"&&e!==null&&"stack"in e}function J5(e){return bv(e)&&typeof e.message=="string"?e.message:wv.isNullOrUndefined.call(void 0,e)?"":String(e)}function Q5(e,t){if(Y5(e)){let r;return Error.length===2?r=new Error(t,{cause:e}):r=new G5.ErrorWithCause(t,{cause:e}),mv(e)&&(r.code=e.code),r}return t.length>0?new Error(`${String(e)}: ${t}`):new Error(String(e))}Os.isErrorWithCode=mv,Os.isErrorWithMessage=bv,Os.isErrorWithStack=X5,Os.getErrorMessage=J5,Os.wrapError=Q5;class vv extends TypeError{constructor(t,r){let n;const{message:i,explanation:s,...o}=t,{path:a}=t,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...r()])}}function ek(e){return Qn(e)&&typeof e[Symbol.iterator]=="function"}function Qn(e){return typeof e=="object"&&e!=null}function _v(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Or(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function tk(e){const{done:t,value:r}=e.next();return t?void 0:r}function rk(e,t,r,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:s}=t,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Or(n)}\``}=e;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...e,message:c}}function*R0(e,t,r,n){ek(e)||(e=[e]);for(const i of e){const s=rk(i,t,r,n);s&&(yield s)}}function*T0(e,t,r={}){const{path:n=[],branch:i=[e],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(e=t.coercer(e,a),o&&t.type!=="type"&&Qn(t.schema)&&Qn(e)&&!Array.isArray(e)))for(const u in e)t.schema[u]===void 0&&delete e[u];let c="valid";for(const u of t.validator(e,a))u.explanation=r.message,c="not_valid",yield[u,void 0];for(let[u,l,y]of t.entries(e,a)){const A=T0(l,y,{path:u===void 0?n:[...n,u],branch:u===void 0?i:[...i,l],coerce:s,mask:o,message:r.message});for(const v of A)v[0]?(c=v[0].refinement!=null?"not_refined":"not_valid",yield[v[0],void 0]):s&&(l=v[1],u===void 0?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):Qn(e)&&(l!==void 0||u in e)&&(e[u]=l))}if(c!=="not_valid")for(const u of t.refiner(e,a))u.explanation=r.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,e])}class Br{constructor(t){const{type:r,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=t;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const l=i(c,u);return R0(l,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const l=s(c,u);return R0(l,u,this,c)}:this.refiner=()=>[]}assert(t,r){return Ev(t,this,r)}create(t,r){return xv(t,this,r)}is(t){return k0(t,this)}mask(t,r){return Sv(t,this,r)}validate(t,r={}){return pa(t,this,r)}}function Ev(e,t,r){const n=pa(e,t,{message:r});if(n[0])throw n[0]}function xv(e,t,r){const n=pa(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function Sv(e,t,r){const n=pa(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function k0(e,t){return!pa(e,t)[0]}function pa(e,t,r={}){const n=T0(e,t,r),i=tk(n);return i[0]?[new vv(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function nk(...e){const t=e[0].type==="type",r=e.map(i=>i.schema),n=Object.assign({},...r);return t?kc(n):Tc(n)}function xn(e,t){return new Br({type:e,schema:null,validator:t})}function ik(e,t){return new Br({...e,refiner:(r,n)=>r===void 0||e.refiner(r,n),validator(r,n){return r===void 0?!0:(t(r,n),e.validator(r,n))}})}function sk(e){return new Br({type:"dynamic",schema:null,*entries(t,r){yield*e(t,r).entries(t,r)},validator(t,r){return e(t,r).validator(t,r)},coercer(t,r){return e(t,r).coercer(t,r)},refiner(t,r){return e(t,r).refiner(t,r)}})}function ok(e){let t;return new Br({type:"lazy",schema:null,*entries(r,n){t??(t=e()),yield*t.entries(r,n)},validator(r,n){return t??(t=e()),t.validator(r,n)},coercer(r,n){return t??(t=e()),t.coercer(r,n)},refiner(r,n){return t??(t=e()),t.refiner(r,n)}})}function ak(e,t){const{schema:r}=e,n={...r};for(const i of t)delete n[i];switch(e.type){case"type":return kc(n);default:return Tc(n)}}function ck(e){const t=e instanceof Br,r=t?{...e.schema}:{...e};for(const n in r)r[n]=Av(r[n]);return t&&e.type==="type"?kc(r):Tc(r)}function fk(e,t){const{schema:r}=e,n={};for(const i of t)n[i]=r[i];switch(e.type){case"type":return kc(n);default:return Tc(n)}}function uk(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),xn(e,t)}function lk(){return xn("any",()=>!0)}function hk(e){return new Br({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Or(t)}`}})}function dk(){return xn("bigint",e=>typeof e=="bigint")}function pk(){return xn("boolean",e=>typeof e=="boolean")}function gk(){return xn("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${Or(e)}`)}function yk(e){const t={},r=e.map(n=>Or(n)).join();for(const n of e)t[n]=n;return new Br({type:"enums",schema:t,validator(n){return e.includes(n)||`Expected one of \`${r}\`, but received: ${Or(n)}`}})}function wk(){return xn("func",e=>typeof e=="function"||`Expected a function, but received: ${Or(e)}`)}function mk(e){return xn("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${Or(t)}`)}function bk(){return xn("integer",e=>typeof e=="number"&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${Or(e)}`)}function vk(e){return new Br({type:"intersection",schema:null,*entries(t,r){for(const n of e)yield*n.entries(t,r)},*validator(t,r){for(const n of e)yield*n.validator(t,r)},*refiner(t,r){for(const n of e)yield*n.refiner(t,r)}})}function _k(e){const t=Or(e),r=typeof e;return new Br({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?e:null,validator(n){return n===e||`Expected the literal \`${t}\`, but received: ${Or(n)}`}})}function Ek(e,t){return new Br({type:"map",schema:null,*entries(r){if(e&&t&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,e],yield[n,i,t]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${Or(r)}`}})}function C0(){return xn("never",()=>!1)}function xk(e){return new Br({...e,validator:(t,r)=>t===null||e.validator(t,r),refiner:(t,r)=>t===null||e.refiner(t,r)})}function Sk(){return xn("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${Or(e)}`)}function Tc(e){const t=e?Object.keys(e):[],r=C0();return new Br({type:"object",schema:e||null,*entries(n){if(e&&Qn(n)){const i=new Set(Object.keys(n));for(const s of t)i.delete(s),yield[s,n[s],e[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return Qn(n)||`Expected an object, but received: ${Or(n)}`},coercer(n){return Qn(n)?{...n}:n}})}function Av(e){return new Br({...e,validator:(t,r)=>t===void 0||e.validator(t,r),refiner:(t,r)=>t===void 0||e.refiner(t,r)})}function Ak(e,t){return new Br({type:"record",schema:null,*entries(r){if(Qn(r))for(const n in r){const i=r[n];yield[n,n,e],yield[n,i,t]}},validator(r){return Qn(r)||`Expected an object, but received: ${Or(r)}`}})}function Bk(){return xn("regexp",e=>e instanceof RegExp)}function Ik(e){return new Br({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const r of t)yield[r,r,e]},coercer(t){return t instanceof Set?new Set(t):t},validator(t){return t instanceof Set||`Expected a \`Set\` object, but received: ${Or(t)}`}})}function Bv(){return xn("string",e=>typeof e=="string"||`Expected a string, but received: ${Or(e)}`)}function Rk(e){const t=C0();return new Br({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${Or(r)}`}})}function kc(e){const t=Object.keys(e);return new Br({type:"type",schema:e,*entries(r){if(Qn(r))for(const n of t)yield[n,r[n],e[n]]},validator(r){return Qn(r)||`Expected an object, but received: ${Or(r)}`},coercer(r){return Qn(r)?{...r}:r}})}function Tk(e){const t=e.map(r=>r.type).join(" | ");return new Br({type:"union",schema:null,coercer(r){for(const n of e){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of e){const[...o]=T0(r,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Or(r)}`,...i]}})}function Iv(){return xn("unknown",()=>!0)}function L0(e,t,r){return new Br({...e,coercer:(n,i)=>k0(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}function kk(e,t,r={}){return L0(e,Iv(),n=>{const i=typeof t=="function"?t():t;if(n===void 0)return i;if(!r.strict&&_v(n)&&_v(i)){const s={...n};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return n})}function Ck(e){return L0(e,Bv(),t=>t.trim())}function Lk(e){return mo(e,"empty",t=>{const r=Rv(t);return r===0||`Expected an empty ${e.type} but received one with a size of \`${r}\``})}function Rv(e){return e instanceof Map||e instanceof Set?e.size:e.length}function $k(e,t,r={}){const{exclusive:n}=r;return mo(e,"max",i=>n?i<t:i<=t||`Expected a ${e.type} less than ${n?"":"or equal to "}${t} but received \`${i}\``)}function Ok(e,t,r={}){const{exclusive:n}=r;return mo(e,"min",i=>n?i>t:i>=t||`Expected a ${e.type} greater than ${n?"":"or equal to "}${t} but received \`${i}\``)}function Mk(e){return mo(e,"nonempty",t=>Rv(t)>0||`Expected a nonempty ${e.type} but received an empty one`)}function Nk(e,t){return mo(e,"pattern",r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`)}function Pk(e,t,r=t){const n=`Expected a ${e.type}`,i=t===r?`of \`${t}\``:`between \`${t}\` and \`${r}\``;return mo(e,"size",s=>{if(typeof s=="number"||s instanceof Date)return t<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return t<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return t<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}})}function mo(e,t,r){return new Br({...e,*refiner(n,i){yield*e.refiner(n,i);const s=r(n,i),o=R0(s,i,e,n);for(const a of o)yield{...a,refinement:t}}})}var Uk=Object.freeze({__proto__:null,Struct:Br,StructError:vv,any:lk,array:hk,assert:Ev,assign:nk,bigint:dk,boolean:pk,coerce:L0,create:xv,date:gk,defaulted:kk,define:xn,deprecated:ik,dynamic:sk,empty:Lk,enums:yk,func:wk,instance:mk,integer:bk,intersection:vk,is:k0,lazy:ok,literal:_k,map:Ek,mask:Sv,max:$k,min:Ok,never:C0,nonempty:Mk,nullable:xk,number:Sk,object:Tc,omit:ak,optional:Av,partial:ck,pattern:Nk,pick:fk,record:Ak,refine:mo,regexp:Bk,set:Ik,size:Pk,string:Bv,struct:uk,trimmed:Ck,tuple:Rk,type:kc,union:Tk,unknown:Iv,validate:pa}),Ms=Un(Uk);Object.defineProperty(Jn,"__esModule",{value:!0});function Fk(e){let t,r=e[0],n=1;for(;n<e.length;){const i=e[n],s=e[n+1];if(n+=2,(i==="optionalAccess"||i==="optionalCall")&&r==null)return;i==="access"||i==="optionalAccess"?(t=r,r=s(r)):(i==="call"||i==="optionalCall")&&(r=s((...o)=>r.call(t,...o)),t=void 0)}return r}var Dk=Os,Hk=Ms;function jk(e){return typeof Fk([e,"optionalAccess",t=>t.prototype,"optionalAccess",t=>t.constructor,"optionalAccess",t=>t.name])=="string"}function zk(e){return Dk.getErrorMessage.call(void 0,e).replace(/\.$/u,"")}function Tv(e,t){return jk(e)?new e({message:t}):e({message:t})}var $0=class extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}};function qk(e,t="Assertion failed.",r=$0){if(!e)throw t instanceof Error?t:Tv(r,t)}function Vk(e,t,r="Assertion failed",n=$0){try{Hk.assert.call(void 0,e,t)}catch(i){throw Tv(n,`${r}: ${zk(i)}.`)}}function Wk(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}Jn.AssertionError=$0,Jn.assert=qk,Jn.assertStruct=Vk,Jn.assertExhaustive=Wk;var tr={},Wr={};Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.output=Wr.exists=Wr.hash=Wr.bytes=Wr.bool=Wr.number=Wr.isBytes=void 0;function Yu(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}Wr.number=Yu;function kv(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}Wr.bool=kv;function Cv(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}Wr.isBytes=Cv;function O0(e,...t){if(!Cv(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}Wr.bytes=O0;function Lv(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Yu(e.outputLen),Yu(e.blockLen)}Wr.hash=Lv;function $v(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}Wr.exists=$v;function Ov(e,t){O0(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Wr.output=Ov;const Kk={number:Yu,bool:kv,bytes:O0,hash:Lv,exists:$v,output:Ov};Wr.default=Kk;var at={};Object.defineProperty(at,"__esModule",{value:!0}),at.add5L=at.add5H=at.add4H=at.add4L=at.add3H=at.add3L=at.add=at.rotlBL=at.rotlBH=at.rotlSL=at.rotlSH=at.rotr32L=at.rotr32H=at.rotrBL=at.rotrBH=at.rotrSL=at.rotrSH=at.shrSL=at.shrSH=at.toBig=at.split=at.fromBig=void 0;const Xu=BigInt(2**32-1),M0=BigInt(32);function N0(e,t=!1){return t?{h:Number(e&Xu),l:Number(e>>M0&Xu)}:{h:Number(e>>M0&Xu)|0,l:Number(e&Xu)|0}}at.fromBig=N0;function Mv(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=N0(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}at.split=Mv;const Nv=(e,t)=>BigInt(e>>>0)<<M0|BigInt(t>>>0);at.toBig=Nv;const Pv=(e,t,r)=>e>>>r;at.shrSH=Pv;const Uv=(e,t,r)=>e<<32-r|t>>>r;at.shrSL=Uv;const Fv=(e,t,r)=>e>>>r|t<<32-r;at.rotrSH=Fv;const Dv=(e,t,r)=>e<<32-r|t>>>r;at.rotrSL=Dv;const Hv=(e,t,r)=>e<<64-r|t>>>r-32;at.rotrBH=Hv;const jv=(e,t,r)=>e>>>r-32|t<<64-r;at.rotrBL=jv;const zv=(e,t)=>t;at.rotr32H=zv;const qv=(e,t)=>e;at.rotr32L=qv;const Vv=(e,t,r)=>e<<r|t>>>32-r;at.rotlSH=Vv;const Wv=(e,t,r)=>t<<r|e>>>32-r;at.rotlSL=Wv;const Kv=(e,t,r)=>t<<r-32|e>>>64-r;at.rotlBH=Kv;const Zv=(e,t,r)=>e<<r-32|t>>>64-r;at.rotlBL=Zv;function Gv(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}at.add=Gv;const Yv=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);at.add3L=Yv;const Xv=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;at.add3H=Xv;const Jv=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);at.add4L=Jv;const Qv=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;at.add4H=Qv;const e_=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);at.add5L=e_;const t_=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0;at.add5H=t_;const Zk={fromBig:N0,split:Mv,toBig:Nv,shrSH:Pv,shrSL:Uv,rotrSH:Fv,rotrSL:Dv,rotrBH:Hv,rotrBL:jv,rotr32H:zv,rotr32L:qv,rotlSH:Vv,rotlSL:Wv,rotlBH:Kv,rotlBL:Zv,add:Gv,add3L:Yv,add3H:Xv,add4L:Jv,add4H:Qv,add5H:t_,add5L:e_};at.default=Zk;var r_={},Ju={};Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.crypto=void 0,Ju.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.byteSwap32=e.byteSwapIfBE=e.byteSwap=e.isLE=e.rotl=e.rotr=e.createView=e.u32=e.u8=e.isBytes=void 0;const t=Ju,r=Wr;function n(I){return I instanceof Uint8Array||I!=null&&typeof I=="object"&&I.constructor.name==="Uint8Array"}e.isBytes=n;const i=I=>new Uint8Array(I.buffer,I.byteOffset,I.byteLength);e.u8=i;const s=I=>new Uint32Array(I.buffer,I.byteOffset,Math.floor(I.byteLength/4));e.u32=s;const o=I=>new DataView(I.buffer,I.byteOffset,I.byteLength);e.createView=o;const a=(I,g)=>I<<32-g|I>>>g;e.rotr=a;const c=(I,g)=>I<<g|I>>>32-g>>>0;e.rotl=c,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const u=I=>I<<24&4278190080|I<<8&16711680|I>>>8&65280|I>>>24&255;e.byteSwap=u,e.byteSwapIfBE=e.isLE?I=>I:I=>(0,e.byteSwap)(I);function l(I){for(let g=0;g<I.length;g++)I[g]=(0,e.byteSwap)(I[g])}e.byteSwap32=l;const y=Array.from({length:256},(I,g)=>g.toString(16).padStart(2,"0"));function A(I){(0,r.bytes)(I);let g="";for(let f=0;f<I.length;f++)g+=y[I[f]];return g}e.bytesToHex=A;const v={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function R(I){if(I>=v._0&&I<=v._9)return I-v._0;if(I>=v._A&&I<=v._F)return I-(v._A-10);if(I>=v._a&&I<=v._f)return I-(v._a-10)}function O(I){if(typeof I!="string")throw new Error("hex string expected, got "+typeof I);const g=I.length,f=g/2;if(g%2)throw new Error("padded hex string expected, got unpadded hex of length "+g);const h=new Uint8Array(f);for(let m=0,_=0;m<f;m++,_+=2){const E=R(I.charCodeAt(_)),x=R(I.charCodeAt(_+1));if(E===void 0||x===void 0){const T=I[_]+I[_+1];throw new Error('hex string expected, got non-hex character "'+T+'" at index '+_)}h[m]=E*16+x}return h}e.hexToBytes=O;const P=async()=>{};e.nextTick=P;async function H(I,g,f){let h=Date.now();for(let m=0;m<I;m++){f(m);const _=Date.now()-h;_>=0&&_<g||(await(0,e.nextTick)(),h+=_)}}e.asyncLoop=H;function F(I){if(typeof I!="string")throw new Error(`utf8ToBytes expected string, got ${typeof I}`);return new Uint8Array(new TextEncoder().encode(I))}e.utf8ToBytes=F;function N(I){return typeof I=="string"&&(I=F(I)),(0,r.bytes)(I),I}e.toBytes=N;function $(...I){let g=0;for(let h=0;h<I.length;h++){const m=I[h];(0,r.bytes)(m),g+=m.length}const f=new Uint8Array(g);for(let h=0,m=0;h<I.length;h++){const _=I[h];f.set(_,m),m+=_.length}return f}e.concatBytes=$;class q{clone(){return this._cloneInto()}}e.Hash=q;const G={}.toString;function Z(I,g){if(g!==void 0&&G.call(g)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(I,g)}e.checkOpts=Z;function z(I){const g=h=>I().update(N(h)).digest(),f=I();return g.outputLen=f.outputLen,g.blockLen=f.blockLen,g.create=()=>I(),g}e.wrapConstructor=z;function ee(I){const g=(h,m)=>I(m).update(N(h)).digest(),f=I({});return g.outputLen=f.outputLen,g.blockLen=f.blockLen,g.create=h=>I(h),g}e.wrapConstructorWithOpts=ee;function se(I){const g=(h,m)=>I(m).update(N(h)).digest(),f=I({});return g.outputLen=f.outputLen,g.blockLen=f.blockLen,g.create=h=>I(h),g}e.wrapXOFConstructorWithOpts=se;function Q(I=32){if(t.crypto&&typeof t.crypto.getRandomValues=="function")return t.crypto.getRandomValues(new Uint8Array(I));throw new Error("crypto.getRandomValues must be defined")}e.randomBytes=Q}(r_),Object.defineProperty(tr,"__esModule",{value:!0}),tr.shake256=tr.shake128=tr.keccak_512=tr.keccak_384=tr.keccak_256=tr.keccak_224=tr.sha3_512=tr.sha3_384=tr.sha3_256=tr.sha3_224=tr.Keccak=tr.keccakP=void 0;const ga=Wr,Cc=at,Zi=r_,n_=[],i_=[],s_=[],Gk=BigInt(0),Lc=BigInt(1),Yk=BigInt(2),Xk=BigInt(7),Jk=BigInt(256),Qk=BigInt(113);for(let e=0,t=Lc,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],n_.push(2*(5*n+r)),i_.push((e+1)*(e+2)/2%64);let i=Gk;for(let s=0;s<7;s++)t=(t<<Lc^(t>>Xk)*Qk)%Jk,t&Yk&&(i^=Lc<<(Lc<<BigInt(s))-Lc);s_.push(i)}const[eC,tC]=(0,Cc.split)(s_,!0),o_=(e,t,r)=>r>32?(0,Cc.rotlBH)(e,t,r):(0,Cc.rotlSH)(e,t,r),a_=(e,t,r)=>r>32?(0,Cc.rotlBL)(e,t,r):(0,Cc.rotlSL)(e,t,r);function c_(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let o=0;o<10;o++)r[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=r[c],l=r[c+1],y=o_(u,l,1)^r[a],A=a_(u,l,1)^r[a+1];for(let v=0;v<50;v+=10)e[o+v]^=y,e[o+v+1]^=A}let i=e[2],s=e[3];for(let o=0;o<24;o++){const a=i_[o],c=o_(i,s,a),u=a_(i,s,a),l=n_[o];i=e[l],s=e[l+1],e[l]=c,e[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=eC[n],e[1]^=tC[n]}r.fill(0)}tr.keccakP=c_;class $c extends Zi.Hash{constructor(t,r,n,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,ga.number)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Zi.u32)(this.state)}keccak(){Zi.isLE||(0,Zi.byteSwap32)(this.state32),c_(this.state32,this.rounds),Zi.isLE||(0,Zi.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(t){(0,ga.exists)(this);const{blockLen:r,state:n}=this;t=(0,Zi.toBytes)(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=t[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,r&128&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){(0,ga.exists)(this,!1),(0,ga.bytes)(t),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=t.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);t.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,ga.number)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,ga.output)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new $c(r,n,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=n,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}}tr.Keccak=$c;const Ns=(e,t,r)=>(0,Zi.wrapConstructor)(()=>new $c(t,e,r));tr.sha3_224=Ns(6,144,224/8),tr.sha3_256=Ns(6,136,256/8),tr.sha3_384=Ns(6,104,384/8),tr.sha3_512=Ns(6,72,512/8),tr.keccak_224=Ns(1,144,224/8),tr.keccak_256=Ns(1,136,256/8),tr.keccak_384=Ns(1,104,384/8),tr.keccak_512=Ns(1,72,512/8);const f_=(e,t,r)=>(0,Zi.wrapXOFConstructorWithOpts)((n={})=>new $c(t,e,n.dkLen===void 0?r:n.dkLen,!0));tr.shake128=f_(31,168,128/8),tr.shake256=f_(31,136,256/8);var P0={};(function(e){/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.bytes=e.stringToBytes=e.str=e.bytesToString=e.hex=e.utf8=e.bech32m=e.bech32=e.base58check=e.createBase58check=e.base58xmr=e.base58xrp=e.base58flickr=e.base58=e.base64urlnopad=e.base64url=e.base64nopad=e.base64=e.base32crockford=e.base32hex=e.base32=e.base16=e.utils=e.assertNumber=void 0;function t(I){if(!Number.isSafeInteger(I))throw new Error(`Wrong integer: ${I}`)}e.assertNumber=t;function r(I){return I instanceof Uint8Array||I!=null&&typeof I=="object"&&I.constructor.name==="Uint8Array"}function n(...I){const g=_=>_,f=(_,E)=>x=>_(E(x)),h=I.map(_=>_.encode).reduceRight(f,g),m=I.map(_=>_.decode).reduce(f,g);return{encode:h,decode:m}}function i(I){return{encode:g=>{if(!Array.isArray(g)||g.length&&typeof g[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return g.map(f=>{if(t(f),f<0||f>=I.length)throw new Error(`Digit index outside alphabet: ${f} (alphabet: ${I.length})`);return I[f]})},decode:g=>{if(!Array.isArray(g)||g.length&&typeof g[0]!="string")throw new Error("alphabet.decode input should be array of strings");return g.map(f=>{if(typeof f!="string")throw new Error(`alphabet.decode: not string element=${f}`);const h=I.indexOf(f);if(h===-1)throw new Error(`Unknown letter: "${f}". Allowed: ${I}`);return h})}}}function s(I=""){if(typeof I!="string")throw new Error("join separator should be string");return{encode:g=>{if(!Array.isArray(g)||g.length&&typeof g[0]!="string")throw new Error("join.encode input should be array of strings");for(let f of g)if(typeof f!="string")throw new Error(`join.encode: non-string input=${f}`);return g.join(I)},decode:g=>{if(typeof g!="string")throw new Error("join.decode input should be string");return g.split(I)}}}function o(I,g="="){if(t(I),typeof g!="string")throw new Error("padding chr should be string");return{encode(f){if(!Array.isArray(f)||f.length&&typeof f[0]!="string")throw new Error("padding.encode input should be array of strings");for(let h of f)if(typeof h!="string")throw new Error(`padding.encode: non-string input=${h}`);for(;f.length*I%8;)f.push(g);return f},decode(f){if(!Array.isArray(f)||f.length&&typeof f[0]!="string")throw new Error("padding.encode input should be array of strings");for(let m of f)if(typeof m!="string")throw new Error(`padding.decode: non-string input=${m}`);let h=f.length;if(h*I%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;h>0&&f[h-1]===g;h--)if(!((h-1)*I%8))throw new Error("Invalid padding: string has too much padding");return f.slice(0,h)}}}function a(I){if(typeof I!="function")throw new Error("normalize fn should be function");return{encode:g=>g,decode:g=>I(g)}}function c(I,g,f){if(g<2)throw new Error(`convertRadix: wrong from=${g}, base cannot be less than 2`);if(f<2)throw new Error(`convertRadix: wrong to=${f}, base cannot be less than 2`);if(!Array.isArray(I))throw new Error("convertRadix: data should be array");if(!I.length)return[];let h=0;const m=[],_=Array.from(I);for(_.forEach(E=>{if(t(E),E<0||E>=g)throw new Error(`Wrong integer: ${E}`)});;){let E=0,x=!0;for(let T=h;T<_.length;T++){const B=_[T],d=g*E+B;if(!Number.isSafeInteger(d)||g*E/g!==E||d-B!==g*E)throw new Error("convertRadix: carry overflow");E=d%f;const k=Math.floor(d/f);if(_[T]=k,!Number.isSafeInteger(k)||k*f+E!==d)throw new Error("convertRadix: carry overflow");if(x)k?x=!1:h=T;else continue}if(m.push(E),x)break}for(let E=0;E<I.length-1&&I[E]===0;E++)m.push(0);return m.reverse()}const u=(I,g)=>g?u(g,I%g):I,l=(I,g)=>I+(g-u(I,g));function y(I,g,f,h){if(!Array.isArray(I))throw new Error("convertRadix2: data should be array");if(g<=0||g>32)throw new Error(`convertRadix2: wrong from=${g}`);if(f<=0||f>32)throw new Error(`convertRadix2: wrong to=${f}`);if(l(g,f)>32)throw new Error(`convertRadix2: carry overflow from=${g} to=${f} carryBits=${l(g,f)}`);let m=0,_=0;const E=2**f-1,x=[];for(const T of I){if(t(T),T>=2**g)throw new Error(`convertRadix2: invalid data word=${T} from=${g}`);if(m=m<<g|T,_+g>32)throw new Error(`convertRadix2: carry overflow pos=${_} from=${g}`);for(_+=g;_>=f;_-=f)x.push((m>>_-f&E)>>>0);m&=2**_-1}if(m=m<<f-_&E,!h&&_>=g)throw new Error("Excess padding");if(!h&&m)throw new Error(`Non-zero padding: ${m}`);return h&&_>0&&x.push(m>>>0),x}function A(I){return t(I),{encode:g=>{if(!r(g))throw new Error("radix.encode input should be Uint8Array");return c(Array.from(g),2**8,I)},decode:g=>{if(!Array.isArray(g)||g.length&&typeof g[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(c(g,I,2**8))}}}function v(I,g=!1){if(t(I),I<=0||I>32)throw new Error("radix2: bits should be in (0..32]");if(l(8,I)>32||l(I,8)>32)throw new Error("radix2: carry overflow");return{encode:f=>{if(!r(f))throw new Error("radix2.encode input should be Uint8Array");return y(Array.from(f),8,I,!g)},decode:f=>{if(!Array.isArray(f)||f.length&&typeof f[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(y(f,I,8,g))}}}function R(I){if(typeof I!="function")throw new Error("unsafeWrapper fn should be function");return function(...g){try{return I.apply(null,g)}catch{}}}function O(I,g){if(t(I),typeof g!="function")throw new Error("checksum fn should be function");return{encode(f){if(!r(f))throw new Error("checksum.encode: input should be Uint8Array");const h=g(f).slice(0,I),m=new Uint8Array(f.length+I);return m.set(f),m.set(h,f.length),m},decode(f){if(!r(f))throw new Error("checksum.decode: input should be Uint8Array");const h=f.slice(0,-I),m=g(h).slice(0,I),_=f.slice(-I);for(let E=0;E<I;E++)if(m[E]!==_[E])throw new Error("Invalid checksum");return h}}}e.utils={alphabet:i,chain:n,checksum:O,convertRadix:c,convertRadix2:y,radix:A,radix2:v,join:s,padding:o},e.base16=n(v(4),i("0123456789ABCDEF"),s("")),e.base32=n(v(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),o(5),s("")),e.base32hex=n(v(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),o(5),s("")),e.base32crockford=n(v(5),i("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),s(""),a(I=>I.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),e.base64=n(v(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o(6),s("")),e.base64nopad=n(v(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),s("")),e.base64url=n(v(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),o(6),s("")),e.base64urlnopad=n(v(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),s(""));const P=I=>n(A(58),i(I),s(""));e.base58=P("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),e.base58flickr=P("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),e.base58xrp=P("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const H=[0,2,3,5,6,7,9,10,11];e.base58xmr={encode(I){let g="";for(let f=0;f<I.length;f+=8){const h=I.subarray(f,f+8);g+=e.base58.encode(h).padStart(H[h.length],"1")}return g},decode(I){let g=[];for(let f=0;f<I.length;f+=11){const h=I.slice(f,f+11),m=H.indexOf(h.length),_=e.base58.decode(h);for(let E=0;E<_.length-m;E++)if(_[E]!==0)throw new Error("base58xmr: wrong padding");g=g.concat(Array.from(_.slice(_.length-m)))}return Uint8Array.from(g)}};const F=I=>n(O(4,g=>I(I(g))),e.base58);e.createBase58check=F,e.base58check=e.createBase58check;const N=n(i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),s("")),$=[996825010,642813549,513874426,1027748829,705979059];function q(I){const g=I>>25;let f=(I&33554431)<<5;for(let h=0;h<$.length;h++)(g>>h&1)===1&&(f^=$[h]);return f}function G(I,g,f=1){const h=I.length;let m=1;for(let _=0;_<h;_++){const E=I.charCodeAt(_);if(E<33||E>126)throw new Error(`Invalid prefix (${I})`);m=q(m)^E>>5}m=q(m);for(let _=0;_<h;_++)m=q(m)^I.charCodeAt(_)&31;for(let _ of g)m=q(m)^_;for(let _=0;_<6;_++)m=q(m);return m^=f,N.encode(y([m%2**30],30,5,!1))}function Z(I){const g=I==="bech32"?1:734539939,f=v(5),h=f.decode,m=f.encode,_=R(h);function E(d,k,W=90){if(typeof d!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof d}`);if(!Array.isArray(k)||k.length&&typeof k[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof k}`);if(d.length===0)throw new TypeError(`Invalid prefix length ${d.length}`);const K=d.length+7+k.length;if(W!==!1&&K>W)throw new TypeError(`Length ${K} exceeds limit ${W}`);const re=d.toLowerCase(),xe=G(re,k,g);return`${re}1${N.encode(k)}${xe}`}function x(d,k=90){if(typeof d!="string")throw new Error(`bech32.decode input should be string, not ${typeof d}`);if(d.length<8||k!==!1&&d.length>k)throw new TypeError(`Wrong string length: ${d.length} (${d}). Expected (8..${k})`);const W=d.toLowerCase();if(d!==W&&d!==d.toUpperCase())throw new Error("String must be lowercase or uppercase");const K=W.lastIndexOf("1");if(K===0||K===-1)throw new Error('Letter "1" must be present between prefix and data only');const re=W.slice(0,K),xe=W.slice(K+1);if(xe.length<6)throw new Error("Data must be at least 6 characters long");const be=N.decode(xe).slice(0,-6),ge=G(re,be,g);if(!xe.endsWith(ge))throw new Error(`Invalid checksum in ${d}: expected "${ge}"`);return{prefix:re,words:be}}const T=R(x);function B(d){const{prefix:k,words:W}=x(d,!1);return{prefix:k,words:W,bytes:h(W)}}return{encode:E,decode:x,decodeToBytes:B,decodeUnsafe:T,fromWords:h,fromWordsUnsafe:_,toWords:m}}e.bech32=Z("bech32"),e.bech32m=Z("bech32m"),e.utf8={encode:I=>new TextDecoder().decode(I),decode:I=>new TextEncoder().encode(I)},e.hex=n(v(4),i("0123456789abcdef"),s(""),a(I=>{if(typeof I!="string"||I.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof I} with length ${I.length}`);return I.toLowerCase()}));const z={utf8:e.utf8,hex:e.hex,base16:e.base16,base32:e.base32,base64:e.base64,base64url:e.base64url,base58:e.base58,base58xmr:e.base58xmr},ee="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",se=(I,g)=>{if(typeof I!="string"||!z.hasOwnProperty(I))throw new TypeError(ee);if(!r(g))throw new TypeError("bytesToString() expects Uint8Array");return z[I].encode(g)};e.bytesToString=se,e.str=e.bytesToString;const Q=(I,g)=>{if(!z.hasOwnProperty(I))throw new TypeError(ee);if(typeof g!="string")throw new TypeError("stringToBytes() expects string");return z[I].decode(g)};e.stringToBytes=Q,e.bytes=e.stringToBytes})(P0),Object.defineProperty(Rt,"__esModule",{value:!0});function rC(e){let t,r=e[0],n=1;for(;n<e.length;){const i=e[n],s=e[n+1];if(n+=2,(i==="optionalAccess"||i==="optionalCall")&&r==null)return;i==="access"||i==="optionalAccess"?(t=r,r=s(r)):(i==="call"||i==="optionalCall")&&(r=s((...o)=>r.call(t,...o)),t=void 0)}return r}var Kr=Jn,nC=tr,pn=Ms,u_=P0,l_=48,h_=58,d_=87;function iC(){const e=[];return()=>{if(e.length===0)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}var sC=iC();function U0(e){return e instanceof Uint8Array}function bo(e){Kr.assert.call(void 0,U0(e),"Value must be a Uint8Array.")}function F0(e){if(bo(e),e.length===0)return"0x";const t=sC(),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return I_(r.join(""))}function p_(e){bo(e);const t=F0(e);return BigInt(t)}function oC(e){bo(e);let t=BigInt(0);for(const r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(e.length*8,t)}function aC(e){bo(e);const t=p_(e);return Kr.assert.call(void 0,t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)}function cC(e){return bo(e),new TextDecoder().decode(e)}function fC(e){return bo(e),u_.base64.encode(e)}function Qu(e){if(rC([e,"optionalAccess",i=>i.toLowerCase,"optionalCall",i=>i()])==="0x")return new Uint8Array;S_(e);const t=el(e).toLowerCase(),r=t.length%2===0?t:`0${t}`,n=new Uint8Array(r.length/2);for(let i=0;i<n.length;i++){const s=r.charCodeAt(i*2),o=r.charCodeAt(i*2+1),a=s-(s<h_?l_:d_),c=o-(o<h_?l_:d_);n[i]=a*16+c}return n}function g_(e){Kr.assert.call(void 0,typeof e=="bigint","Value must be a bigint."),Kr.assert.call(void 0,e>=BigInt(0),"Value must be a non-negative bigint.");const t=e.toString(16);return Qu(t)}function uC(e,t){Kr.assert.call(void 0,t>0);const r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(t*8+-1))}function lC(e,t){Kr.assert.call(void 0,typeof e=="bigint","Value must be a bigint."),Kr.assert.call(void 0,typeof t=="number","Byte length must be a number."),Kr.assert.call(void 0,t>0,"Byte length must be greater than 0."),Kr.assert.call(void 0,uC(e,t),"Byte length is too small to represent the given value.");let r=e;const n=new Uint8Array(t);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}function y_(e){Kr.assert.call(void 0,typeof e=="number","Value must be a number."),Kr.assert.call(void 0,e>=0,"Value must be a non-negative number."),Kr.assert.call(void 0,Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");const t=e.toString(16);return Qu(t)}function w_(e){return Kr.assert.call(void 0,typeof e=="string","Value must be a string."),new TextEncoder().encode(e)}function hC(e){return Kr.assert.call(void 0,typeof e=="string","Value must be a string."),u_.base64.decode(e)}function m_(e){if(typeof e=="bigint")return g_(e);if(typeof e=="number")return y_(e);if(typeof e=="string")return e.startsWith("0x")?Qu(e):w_(e);if(U0(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}function dC(e){const t=new Array(e.length);let r=0;for(let i=0;i<e.length;i++){const s=m_(e[i]);t[i]=s,r+=s.length}const n=new Uint8Array(r);for(let i=0,s=0;i<t.length;i++)n.set(t[i],s),s+=t[i].length;return n}function pC(e){if(typeof ie.Buffer<"u"&&e instanceof ie.Buffer){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}var b_=pn.pattern.call(void 0,pn.string.call(void 0),/^(?:0x)?[0-9a-f]+$/iu),v_=pn.pattern.call(void 0,pn.string.call(void 0),/^0x[0-9a-f]+$/iu),__=pn.pattern.call(void 0,pn.string.call(void 0),/^0x[0-9a-f]{40}$/u),D0=pn.pattern.call(void 0,pn.string.call(void 0),/^0x[0-9a-fA-F]{40}$/u);function E_(e){return pn.is.call(void 0,e,b_)}function x_(e){return pn.is.call(void 0,e,v_)}function S_(e){Kr.assert.call(void 0,E_(e),"Value must be a hexadecimal string.")}function gC(e){Kr.assert.call(void 0,x_(e),'Value must be a hexadecimal string, starting with "0x".')}function yC(e){return pn.is.call(void 0,e,__)||B_(e)}function A_(e){Kr.assert.call(void 0,pn.is.call(void 0,e,D0),"Invalid hex address.");const t=el(e.toLowerCase()),r=el(F0(nC.keccak_256.call(void 0,t)));return`0x${t.split("").map((n,i)=>{const s=r[i];return Kr.assert.call(void 0,pn.is.call(void 0,s,pn.string.call(void 0)),"Hash shorter than address."),parseInt(s,16)>7?n.toUpperCase():n}).join("")}`}function B_(e){return pn.is.call(void 0,e,D0)?A_(e)===e:!1}function I_(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`}function el(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}Rt.HexStruct=b_,Rt.StrictHexStruct=v_,Rt.HexAddressStruct=__,Rt.HexChecksumAddressStruct=D0,Rt.isHexString=E_,Rt.isStrictHexString=x_,Rt.assertIsHexString=S_,Rt.assertIsStrictHexString=gC,Rt.isValidHexAddress=yC,Rt.getChecksumAddress=A_,Rt.isValidChecksumAddress=B_,Rt.add0x=I_,Rt.remove0x=el,Rt.isBytes=U0,Rt.assertIsBytes=bo,Rt.bytesToHex=F0,Rt.bytesToBigInt=p_,Rt.bytesToSignedBigInt=oC,Rt.bytesToNumber=aC,Rt.bytesToString=cC,Rt.bytesToBase64=fC,Rt.hexToBytes=Qu,Rt.bigIntToBytes=g_,Rt.signedBigIntToBytes=lC,Rt.numberToBytes=y_,Rt.stringToBytes=w_,Rt.base64ToBytes=hC,Rt.valueToBytes=m_,Rt.concatBytes=dC,Rt.createDataView=pC,Object.defineProperty(da,"__esModule",{value:!0});var Oc=Rt,ya=Jn,wC=e=>(ya.assert.call(void 0,typeof e=="number","Value must be a number."),ya.assert.call(void 0,e>=0,"Value must be a non-negative number."),ya.assert.call(void 0,Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),Oc.add0x.call(void 0,e.toString(16))),mC=e=>(ya.assert.call(void 0,typeof e=="bigint","Value must be a bigint."),ya.assert.call(void 0,e>=0,"Value must be a non-negative bigint."),Oc.add0x.call(void 0,e.toString(16))),bC=e=>{Oc.assertIsHexString.call(void 0,e);const t=parseInt(e,16);return ya.assert.call(void 0,Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t},vC=e=>(Oc.assertIsHexString.call(void 0,e),BigInt(Oc.add0x.call(void 0,e)));da.numberToHex=wC,da.bigIntToHex=mC,da.hexToNumber=bC,da.hexToBigInt=vC;var H0={};Object.defineProperty(H0,"__esModule",{value:!0});function _C({suppressUnhandledRejection:e=!1}={}){let t,r;const n=new Promise((i,s)=>{t=i,r=s});return e&&n.catch(i=>{}),{promise:n,resolve:t,reject:r}}H0.createDeferredPromise=_C;var Mc={};Object.defineProperty(Mc,"__esModule",{value:!0});var R_=(e=>(e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year",e))(R_||{}),EC=e=>Number.isInteger(e)&&e>=0,T_=(e,t)=>{if(!EC(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};function xC(e,t){return T_(e,"count"),e*t}function SC(e){return T_(e,"timestamp"),Date.now()-e}Mc.Duration=R_,Mc.inMilliseconds=xC,Mc.timeSince=SC;var ai={},vo={exports:{}};const AC="2.0.0",k_=256,BC=Number.MAX_SAFE_INTEGER||9007199254740991,IC=16,RC=k_-6;var tl={MAX_LENGTH:k_,MAX_SAFE_COMPONENT_LENGTH:IC,MAX_SAFE_BUILD_LENGTH:RC,MAX_SAFE_INTEGER:BC,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:AC,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},rl=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=tl,s=rl;t=e.exports={};const o=t.re=[],a=t.safeRe=[],c=t.src=[],u=t.t={};let l=0;const y="[a-zA-Z0-9-]",A=[["\\s",1],["\\d",i],[y,n]],v=O=>{for(const[P,H]of A)O=O.split(`${P}*`).join(`${P}{0,${H}}`).split(`${P}+`).join(`${P}{1,${H}}`);return O},R=(O,P,H)=>{const F=v(P),N=l++;s(O,N,P),u[O]=N,c[N]=P,o[N]=new RegExp(P,H?"g":void 0),a[N]=new RegExp(F,H?"g":void 0)};R("NUMERICIDENTIFIER","0|[1-9]\\d*"),R("NUMERICIDENTIFIERLOOSE","\\d+"),R("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${y}*`),R("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),R("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),R("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),R("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),R("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),R("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),R("BUILDIDENTIFIER",`${y}+`),R("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),R("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),R("FULL",`^${c[u.FULLPLAIN]}$`),R("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),R("LOOSE",`^${c[u.LOOSEPLAIN]}$`),R("GTLT","((?:<|>)?=?)"),R("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),R("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),R("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),R("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),R("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),R("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),R("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),R("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),R("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?(?:${c[u.BUILD]})?(?:$|[^\\d])`),R("COERCERTL",c[u.COERCE],!0),R("COERCERTLFULL",c[u.COERCEFULL],!0),R("LONETILDE","(?:~>?)"),R("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",R("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),R("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),R("LONECARET","(?:\\^)"),R("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",R("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),R("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),R("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),R("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),R("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",R("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),R("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),R("STAR","(<|>)?=?\\s*\\*"),R("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),R("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(vo,vo.exports);const TC=Object.freeze({loose:!0}),kC=Object.freeze({});var j0=e=>e?typeof e!="object"?TC:e:kC;const C_=/^[0-9]+$/,L_=(e,t)=>{const r=C_.test(e),n=C_.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1};var $_={compareIdentifiers:L_,rcompareIdentifiers:(e,t)=>L_(t,e)};const nl=rl,{MAX_LENGTH:O_,MAX_SAFE_INTEGER:il}=tl,{safeRe:M_,t:N_}=vo.exports,CC=j0,{compareIdentifiers:wa}=$_;class ci{constructor(t,r){if(r=CC(r),t instanceof ci){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>O_)throw new TypeError(`version is longer than ${O_} characters`);nl("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?M_[N_.LOOSE]:M_[N_.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>il||this.major<0)throw new TypeError("Invalid major version");if(this.minor>il||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>il||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<il)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(nl("SemVer.compare",this.version,this.options,t),!(t instanceof ci)){if(typeof t=="string"&&t===this.version)return 0;t=new ci(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof ci||(t=new ci(t,this.options)),wa(this.major,t.major)||wa(this.minor,t.minor)||wa(this.patch,t.patch)}comparePre(t){if(t instanceof ci||(t=new ci(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=t.prerelease[r];if(nl("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return wa(n,i)}while(++r)}compareBuild(t){t instanceof ci||(t=new ci(t,this.options));let r=0;do{const n=this.build[r],i=t.build[r];if(nl("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return wa(n,i)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),wa(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}var gn=ci;const P_=gn;var ma=(e,t,r=!1)=>{if(e instanceof P_)return e;try{return new P_(e,t)}catch(n){if(!r)return null;throw n}};const LC=ma;var $C=(e,t)=>{const r=LC(e,t);return r?r.version:null};const OC=ma;var MC=(e,t)=>{const r=OC(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};const U_=gn;var NC=(e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new U_(e instanceof U_?e.version:e,r).inc(t,n,i).version}catch{return null}};const F_=ma;var PC=(e,t)=>{const r=F_(e,null,!0),n=F_(t,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const l=c?"pre":"";return r.major!==n.major?l+"major":r.minor!==n.minor?l+"minor":r.patch!==n.patch?l+"patch":"prerelease"};const UC=gn;var FC=(e,t)=>new UC(e,t).major;const DC=gn;var HC=(e,t)=>new DC(e,t).minor;const jC=gn;var zC=(e,t)=>new jC(e,t).patch;const qC=ma;var VC=(e,t)=>{const r=qC(e,t);return r&&r.prerelease.length?r.prerelease:null};const D_=gn;var fi=(e,t,r)=>new D_(e,r).compare(new D_(t,r));const WC=fi;var KC=(e,t,r)=>WC(t,e,r);const ZC=fi;var GC=(e,t)=>ZC(e,t,!0);const H_=gn;var z0=(e,t,r)=>{const n=new H_(e,r),i=new H_(t,r);return n.compare(i)||n.compareBuild(i)};const YC=z0;var XC=(e,t)=>e.sort((r,n)=>YC(r,n,t));const JC=z0;var QC=(e,t)=>e.sort((r,n)=>JC(n,r,t));const eL=fi;var sl=(e,t,r)=>eL(e,t,r)>0;const tL=fi;var q0=(e,t,r)=>tL(e,t,r)<0;const rL=fi;var j_=(e,t,r)=>rL(e,t,r)===0;const nL=fi;var z_=(e,t,r)=>nL(e,t,r)!==0;const iL=fi;var V0=(e,t,r)=>iL(e,t,r)>=0;const sL=fi;var W0=(e,t,r)=>sL(e,t,r)<=0;const oL=j_,aL=z_,cL=sl,fL=V0,uL=q0,lL=W0;var q_=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return oL(e,r,n);case"!=":return aL(e,r,n);case">":return cL(e,r,n);case">=":return fL(e,r,n);case"<":return uL(e,r,n);case"<=":return lL(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};const hL=gn,dL=ma,{safeRe:ol,t:al}=vo.exports;var pL=(e,t)=>{if(e instanceof hL)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?ol[al.COERCEFULL]:ol[al.COERCE]);else{const c=t.includePrerelease?ol[al.COERCERTLFULL]:ol[al.COERCERTL];let u;for(;(u=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),c.lastIndex=u.index+u[1].length+u[2].length;c.lastIndex=-1}if(r===null)return null;const n=r[2],i=r[3]||"0",s=r[4]||"0",o=t.includePrerelease&&r[5]?`-${r[5]}`:"",a=t.includePrerelease&&r[6]?`+${r[6]}`:"";return dL(`${n}.${i}.${s}${o}${a}`,t)},K0,V_;function gL(){if(V_)return K0;V_=1;class e{constructor(){this.max=1e3,this.map=new Map}get(r){const n=this.map.get(r);if(n!==void 0)return this.map.delete(r),this.map.set(r,n),n}delete(r){return this.map.delete(r)}set(r,n){if(!this.delete(r)&&n!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(r,n)}return this}}return K0=e,K0}var Z0,W_;function ui(){if(W_)return Z0;W_=1;class e{constructor(f,h){if(h=n(h),f instanceof e)return f.loose===!!h.loose&&f.includePrerelease===!!h.includePrerelease?f:new e(f.raw,h);if(f instanceof i)return this.raw=f.value,this.set=[[f]],this.format(),this;if(this.options=h,this.loose=!!h.loose,this.includePrerelease=!!h.includePrerelease,this.raw=f.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(m=>this.parseRange(m.trim())).filter(m=>m.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const m=this.set[0];if(this.set=this.set.filter(_=>!R(_[0])),this.set.length===0)this.set=[m];else if(this.set.length>1){for(const _ of this.set)if(_.length===1&&O(_[0])){this.set=[_];break}}}this.format()}format(){return this.range=this.set.map(f=>f.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(f){const m=((this.options.includePrerelease&&A)|(this.options.loose&&v))+":"+f,_=r.get(m);if(_)return _;const E=this.options.loose,x=E?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];f=f.replace(x,Q(this.options.includePrerelease)),s("hyphen replace",f),f=f.replace(a[c.COMPARATORTRIM],u),s("comparator trim",f),f=f.replace(a[c.TILDETRIM],l),s("tilde trim",f),f=f.replace(a[c.CARETTRIM],y),s("caret trim",f);let T=f.split(" ").map(W=>H(W,this.options)).join(" ").split(/\s+/).map(W=>se(W,this.options));E&&(T=T.filter(W=>(s("loose invalid filter",W,this.options),!!W.match(a[c.COMPARATORLOOSE])))),s("range list",T);const B=new Map,d=T.map(W=>new i(W,this.options));for(const W of d){if(R(W))return[W];B.set(W.value,W)}B.size>1&&B.has("")&&B.delete("");const k=[...B.values()];return r.set(m,k),k}intersects(f,h){if(!(f instanceof e))throw new TypeError("a Range is required");return this.set.some(m=>P(m,h)&&f.set.some(_=>P(_,h)&&m.every(E=>_.every(x=>E.intersects(x,h)))))}test(f){if(!f)return!1;if(typeof f=="string")try{f=new o(f,this.options)}catch{return!1}for(let h=0;h<this.set.length;h++)if(I(this.set[h],f,this.options))return!0;return!1}}Z0=e;const t=gL(),r=new t,n=j0,i=cl(),s=rl,o=gn,{safeRe:a,t:c,comparatorTrimReplace:u,tildeTrimReplace:l,caretTrimReplace:y}=vo.exports,{FLAG_INCLUDE_PRERELEASE:A,FLAG_LOOSE:v}=tl,R=g=>g.value==="<0.0.0-0",O=g=>g.value==="",P=(g,f)=>{let h=!0;const m=g.slice();let _=m.pop();for(;h&&m.length;)h=m.every(E=>_.intersects(E,f)),_=m.pop();return h},H=(g,f)=>(s("comp",g,f),g=q(g,f),s("caret",g),g=N(g,f),s("tildes",g),g=Z(g,f),s("xrange",g),g=ee(g,f),s("stars",g),g),F=g=>!g||g.toLowerCase()==="x"||g==="*",N=(g,f)=>g.trim().split(/\s+/).map(h=>$(h,f)).join(" "),$=(g,f)=>{const h=f.loose?a[c.TILDELOOSE]:a[c.TILDE];return g.replace(h,(m,_,E,x,T)=>{s("tilde",g,m,_,E,x,T);let B;return F(_)?B="":F(E)?B=`>=${_}.0.0 <${+_+1}.0.0-0`:F(x)?B=`>=${_}.${E}.0 <${_}.${+E+1}.0-0`:T?(s("replaceTilde pr",T),B=`>=${_}.${E}.${x}-${T} <${_}.${+E+1}.0-0`):B=`>=${_}.${E}.${x} <${_}.${+E+1}.0-0`,s("tilde return",B),B})},q=(g,f)=>g.trim().split(/\s+/).map(h=>G(h,f)).join(" "),G=(g,f)=>{s("caret",g,f);const h=f.loose?a[c.CARETLOOSE]:a[c.CARET],m=f.includePrerelease?"-0":"";return g.replace(h,(_,E,x,T,B)=>{s("caret",g,_,E,x,T,B);let d;return F(E)?d="":F(x)?d=`>=${E}.0.0${m} <${+E+1}.0.0-0`:F(T)?E==="0"?d=`>=${E}.${x}.0${m} <${E}.${+x+1}.0-0`:d=`>=${E}.${x}.0${m} <${+E+1}.0.0-0`:B?(s("replaceCaret pr",B),E==="0"?x==="0"?d=`>=${E}.${x}.${T}-${B} <${E}.${x}.${+T+1}-0`:d=`>=${E}.${x}.${T}-${B} <${E}.${+x+1}.0-0`:d=`>=${E}.${x}.${T}-${B} <${+E+1}.0.0-0`):(s("no pr"),E==="0"?x==="0"?d=`>=${E}.${x}.${T}${m} <${E}.${x}.${+T+1}-0`:d=`>=${E}.${x}.${T}${m} <${E}.${+x+1}.0-0`:d=`>=${E}.${x}.${T} <${+E+1}.0.0-0`),s("caret return",d),d})},Z=(g,f)=>(s("replaceXRanges",g,f),g.split(/\s+/).map(h=>z(h,f)).join(" ")),z=(g,f)=>{g=g.trim();const h=f.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return g.replace(h,(m,_,E,x,T,B)=>{s("xRange",g,m,_,E,x,T,B);const d=F(E),k=d||F(x),W=k||F(T),K=W;return _==="="&&K&&(_=""),B=f.includePrerelease?"-0":"",d?_===">"||_==="<"?m="<0.0.0-0":m="*":_&&K?(k&&(x=0),T=0,_===">"?(_=">=",k?(E=+E+1,x=0,T=0):(x=+x+1,T=0)):_==="<="&&(_="<",k?E=+E+1:x=+x+1),_==="<"&&(B="-0"),m=`${_+E}.${x}.${T}${B}`):k?m=`>=${E}.0.0${B} <${+E+1}.0.0-0`:W&&(m=`>=${E}.${x}.0${B} <${E}.${+x+1}.0-0`),s("xRange return",m),m})},ee=(g,f)=>(s("replaceStars",g,f),g.trim().replace(a[c.STAR],"")),se=(g,f)=>(s("replaceGTE0",g,f),g.trim().replace(a[f.includePrerelease?c.GTE0PRE:c.GTE0],"")),Q=g=>(f,h,m,_,E,x,T,B,d,k,W,K)=>(F(m)?h="":F(_)?h=`>=${m}.0.0${g?"-0":""}`:F(E)?h=`>=${m}.${_}.0${g?"-0":""}`:x?h=`>=${h}`:h=`>=${h}${g?"-0":""}`,F(d)?B="":F(k)?B=`<${+d+1}.0.0-0`:F(W)?B=`<${d}.${+k+1}.0-0`:K?B=`<=${d}.${k}.${W}-${K}`:g?B=`<${d}.${k}.${+W+1}-0`:B=`<=${B}`,`${h} ${B}`.trim()),I=(g,f,h)=>{for(let m=0;m<g.length;m++)if(!g[m].test(f))return!1;if(f.prerelease.length&&!h.includePrerelease){for(let m=0;m<g.length;m++)if(s(g[m].semver),g[m].semver!==i.ANY&&g[m].semver.prerelease.length>0){const _=g[m].semver;if(_.major===f.major&&_.minor===f.minor&&_.patch===f.patch)return!0}return!1}return!0};return Z0}var G0,K_;function cl(){if(K_)return G0;K_=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(l,y){if(y=r(y),l instanceof t){if(l.loose===!!y.loose)return l;l=l.value}l=l.trim().split(/\s+/).join(" "),o("comparator",l,y),this.options=y,this.loose=!!y.loose,this.parse(l),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(l){const y=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],A=l.match(y);if(!A)throw new TypeError(`Invalid comparator: ${l}`);this.operator=A[1]!==void 0?A[1]:"",this.operator==="="&&(this.operator=""),A[2]?this.semver=new a(A[2],this.options.loose):this.semver=e}toString(){return this.value}test(l){if(o("Comparator.test",l,this.options.loose),this.semver===e||l===e)return!0;if(typeof l=="string")try{l=new a(l,this.options)}catch{return!1}return s(l,this.operator,this.semver,this.options)}intersects(l,y){if(!(l instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(l.value,y).test(this.value):l.operator===""?l.value===""?!0:new c(this.value,y).test(l.semver):(y=r(y),y.includePrerelease&&(this.value==="<0.0.0-0"||l.value==="<0.0.0-0")||!y.includePrerelease&&(this.value.startsWith("<0.0.0")||l.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&l.operator.startsWith(">")||this.operator.startsWith("<")&&l.operator.startsWith("<")||this.semver.version===l.semver.version&&this.operator.includes("=")&&l.operator.includes("=")||s(this.semver,"<",l.semver,y)&&this.operator.startsWith(">")&&l.operator.startsWith("<")||s(this.semver,">",l.semver,y)&&this.operator.startsWith("<")&&l.operator.startsWith(">")))}}G0=t;const r=j0,{safeRe:n,t:i}=vo.exports,s=q_,o=rl,a=gn,c=ui();return G0}const yL=ui();var fl=(e,t,r)=>{try{t=new yL(t,r)}catch{return!1}return t.test(e)};const wL=ui();var mL=(e,t)=>new wL(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));const bL=gn,vL=ui();var _L=(e,t,r)=>{let n=null,i=null,s=null;try{s=new vL(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new bL(n,r))}),n};const EL=gn,xL=ui();var SL=(e,t,r)=>{let n=null,i=null,s=null;try{s=new xL(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new EL(n,r))}),n};const Y0=gn,AL=ui(),Z_=sl;var BL=(e,t)=>{e=new AL(e,t);let r=new Y0("0.0.0");if(e.test(r)||(r=new Y0("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const i=e.set[n];let s=null;i.forEach(o=>{const a=new Y0(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||Z_(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||Z_(r,s))&&(r=s)}return r&&e.test(r)?r:null};const IL=ui();var RL=(e,t)=>{try{return new IL(e,t).range||"*"}catch{return null}};const TL=gn,G_=cl(),{ANY:kL}=G_,CL=ui(),LL=fl,Y_=sl,X_=q0,$L=W0,OL=V0;var X0=(e,t,r,n)=>{e=new TL(e,n),t=new CL(t,n);let i,s,o,a,c;switch(r){case">":i=Y_,s=$L,o=X_,a=">",c=">=";break;case"<":i=X_,s=OL,o=Y_,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(LL(e,t,n))return!1;for(let u=0;u<t.set.length;++u){const l=t.set[u];let y=null,A=null;if(l.forEach(v=>{v.semver===kL&&(v=new G_(">=0.0.0")),y=y||v,A=A||v,i(v.semver,y.semver,n)?y=v:o(v.semver,A.semver,n)&&(A=v)}),y.operator===a||y.operator===c||(!A.operator||A.operator===a)&&s(e,A.semver))return!1;if(A.operator===c&&o(e,A.semver))return!1}return!0};const ML=X0;var NL=(e,t,r)=>ML(e,t,">",r);const PL=X0;var UL=(e,t,r)=>PL(e,t,"<",r);const J_=ui();var FL=(e,t,r)=>(e=new J_(e,r),t=new J_(t,r),e.intersects(t,r));const DL=fl,HL=fi;var jL=(e,t,r)=>{const n=[];let i=null,s=null;const o=e.sort((l,y)=>HL(l,y,r));for(const l of o)DL(l,t,r)?(s=l,i||(i=l)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[l,y]of n)l===y?a.push(l):!y&&l===o[0]?a.push("*"):y?l===o[0]?a.push(`<=${y}`):a.push(`${l} - ${y}`):a.push(`>=${l}`);const c=a.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return c.length<u.length?c:t};const Q_=ui(),J0=cl(),{ANY:Q0}=J0,Nc=fl,ep=fi,zL=(e,t,r={})=>{if(e===t)return!0;e=new Q_(e,r),t=new Q_(t,r);let n=!1;e:for(const i of e.set){for(const s of t.set){const o=VL(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},qL=[new J0(">=0.0.0-0")],e2=[new J0(">=0.0.0")],VL=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Q0){if(t.length===1&&t[0].semver===Q0)return!0;r.includePrerelease?e=qL:e=e2}if(t.length===1&&t[0].semver===Q0){if(r.includePrerelease)return!0;t=e2}const n=new Set;let i,s;for(const v of e)v.operator===">"||v.operator===">="?i=t2(i,v,r):v.operator==="<"||v.operator==="<="?s=r2(s,v,r):n.add(v.semver);if(n.size>1)return null;let o;if(i&&s){if(o=ep(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const v of n){if(i&&!Nc(v,String(i),r)||s&&!Nc(v,String(s),r))return null;for(const R of t)if(!Nc(v,String(R),r))return!1;return!0}let a,c,u,l,y=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,A=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;y&&y.prerelease.length===1&&s.operator==="<"&&y.prerelease[0]===0&&(y=!1);for(const v of t){if(l=l||v.operator===">"||v.operator===">=",u=u||v.operator==="<"||v.operator==="<=",i){if(A&&v.semver.prerelease&&v.semver.prerelease.length&&v.semver.major===A.major&&v.semver.minor===A.minor&&v.semver.patch===A.patch&&(A=!1),v.operator===">"||v.operator===">="){if(a=t2(i,v,r),a===v&&a!==i)return!1}else if(i.operator===">="&&!Nc(i.semver,String(v),r))return!1}if(s){if(y&&v.semver.prerelease&&v.semver.prerelease.length&&v.semver.major===y.major&&v.semver.minor===y.minor&&v.semver.patch===y.patch&&(y=!1),v.operator==="<"||v.operator==="<="){if(c=r2(s,v,r),c===v&&c!==s)return!1}else if(s.operator==="<="&&!Nc(s.semver,String(v),r))return!1}if(!v.operator&&(s||i)&&o!==0)return!1}return!(i&&u&&!s&&o!==0||s&&l&&!i&&o!==0||A||y)},t2=(e,t,r)=>{if(!e)return t;const n=ep(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},r2=(e,t,r)=>{if(!e)return t;const n=ep(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var WL=zL;const tp=vo.exports,n2=tl,KL=gn,i2=$_,ZL=ma,GL=$C,YL=MC,XL=NC,JL=PC,QL=FC,e$=HC,t$=zC,r$=VC,n$=fi,i$=KC,s$=GC,o$=z0,a$=XC,c$=QC,f$=sl,u$=q0,l$=j_,h$=z_,d$=V0,p$=W0,g$=q_,y$=pL,w$=cl(),m$=ui();var b$={parse:ZL,valid:GL,clean:YL,inc:XL,diff:JL,major:QL,minor:e$,patch:t$,prerelease:r$,compare:n$,rcompare:i$,compareLoose:s$,compareBuild:o$,sort:a$,rsort:c$,gt:f$,lt:u$,eq:l$,neq:h$,gte:d$,lte:p$,cmp:g$,coerce:y$,Comparator:w$,Range:m$,satisfies:fl,toComparators:mL,maxSatisfying:_L,minSatisfying:SL,minVersion:BL,validRange:RL,outside:X0,gtr:NL,ltr:UL,intersects:FL,simplifyRange:jL,subset:WL,SemVer:KL,re:tp.re,src:tp.src,tokens:tp.t,SEMVER_SPEC_VERSION:n2.SEMVER_SPEC_VERSION,RELEASE_TYPES:n2.RELEASE_TYPES,compareIdentifiers:i2.compareIdentifiers,rcompareIdentifiers:i2.rcompareIdentifiers};Object.defineProperty(ai,"__esModule",{value:!0});var s2=Jn,Pc=b$,ba=Ms,rp=ba.refine.call(void 0,ba.string.call(void 0),"Version",e=>Pc.valid.call(void 0,e)===null?`Expected SemVer version, got "${e}"`:!0),np=ba.refine.call(void 0,ba.string.call(void 0),"Version range",e=>Pc.validRange.call(void 0,e)===null?`Expected SemVer range, got "${e}"`:!0);function v$(e){return ba.is.call(void 0,e,rp)}function _$(e){return ba.is.call(void 0,e,np)}function E$(e){s2.assertStruct.call(void 0,e,rp)}function x$(e){s2.assertStruct.call(void 0,e,np)}function S$(e,t){return Pc.gt.call(void 0,e,t)}function A$(e,t){return Pc.gtr.call(void 0,e,t)}function B$(e,t){return Pc.satisfies.call(void 0,e,t,{includePrerelease:!0})}ai.VersionStruct=rp,ai.VersionRangeStruct=np,ai.isValidSemVerVersion=v$,ai.isValidSemVerRange=_$,ai.assertIsSemVerVersion=E$,ai.assertIsSemVerRange=x$,ai.gtVersion=S$,ai.gtRange=A$,ai.satisfiesVersionRange=B$;var It={};Object.defineProperty(It,"__esModule",{value:!0});var Gi=Jn,I$=dn,dt=Ms,va=e=>dt.object.call(void 0,e);function o2({path:e,branch:t}){const r=e[e.length-1];return I$.hasProperty.call(void 0,t[t.length-2],r)}function Uc(e){return new dt.Struct({...e,type:`optional ${e.type}`,validator:(t,r)=>!o2(r)||e.validator(t,r),refiner:(t,r)=>!o2(r)||e.refiner(t,r)})}var R$=()=>dt.define.call(void 0,"finite number",e=>dt.is.call(void 0,e,dt.number.call(void 0))&&Number.isFinite(e)),Fc=dt.union.call(void 0,[dt.literal.call(void 0,null),dt.boolean.call(void 0),R$(),dt.string.call(void 0),dt.array.call(void 0,dt.lazy.call(void 0,()=>Fc)),dt.record.call(void 0,dt.string.call(void 0),dt.lazy.call(void 0,()=>Fc))]),_o=dt.coerce.call(void 0,Fc,dt.any.call(void 0),e=>(Gi.assertStruct.call(void 0,e,Fc),JSON.parse(JSON.stringify(e,(t,r)=>{if(!(t==="__proto__"||t==="constructor"))return r}))));function T$(e){try{return a2(e),!0}catch{return!1}}function a2(e){return dt.create.call(void 0,e,_o)}function k$(e){Gi.assertStruct.call(void 0,e,_o,"Invalid JSON value");const t=JSON.stringify(e);return new TextEncoder().encode(t).byteLength}var c2="2.0",_a=dt.literal.call(void 0,c2),Dc=dt.nullable.call(void 0,dt.union.call(void 0,[dt.number.call(void 0),dt.string.call(void 0)])),Hc=va({code:dt.integer.call(void 0),message:dt.string.call(void 0),data:Uc(_o),stack:Uc(dt.string.call(void 0))}),ip=dt.union.call(void 0,[dt.record.call(void 0,dt.string.call(void 0),_o),dt.array.call(void 0,_o)]),sp=va({id:Dc,jsonrpc:_a,method:dt.string.call(void 0),params:Uc(ip)}),op=va({jsonrpc:_a,method:dt.string.call(void 0),params:Uc(ip)});function C$(e){return dt.is.call(void 0,e,op)}function L$(e,t){Gi.assertStruct.call(void 0,e,op,"Invalid JSON-RPC notification",t)}function $$(e){return dt.is.call(void 0,e,sp)}function O$(e,t){Gi.assertStruct.call(void 0,e,sp,"Invalid JSON-RPC request",t)}var ap=dt.object.call(void 0,{id:Dc,jsonrpc:_a,result:dt.optional.call(void 0,dt.unknown.call(void 0)),error:dt.optional.call(void 0,Hc)}),ul=va({id:Dc,jsonrpc:_a,result:_o}),ll=va({id:Dc,jsonrpc:_a,error:Hc}),cp=dt.union.call(void 0,[ul,ll]);function M$(e){return dt.is.call(void 0,e,ap)}function N$(e,t){Gi.assertStruct.call(void 0,e,ap,"Invalid pending JSON-RPC response",t)}function P$(e){return dt.is.call(void 0,e,cp)}function U$(e,t){Gi.assertStruct.call(void 0,e,cp,"Invalid JSON-RPC response",t)}function F$(e){return dt.is.call(void 0,e,ul)}function D$(e,t){Gi.assertStruct.call(void 0,e,ul,"Invalid JSON-RPC success response",t)}function H$(e){return dt.is.call(void 0,e,ll)}function j$(e,t){Gi.assertStruct.call(void 0,e,ll,"Invalid JSON-RPC failure response",t)}function z$(e){return dt.is.call(void 0,e,Hc)}function q$(e,t){Gi.assertStruct.call(void 0,e,Hc,"Invalid JSON-RPC error",t)}function V$(e){const{permitEmptyString:t,permitFractions:r,permitNull:n}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return s=>!!(typeof s=="number"&&(r||Number.isInteger(s))||typeof s=="string"&&(t||s.length>0)||n&&s===null)}It.object=va,It.exactOptional=Uc,It.UnsafeJsonStruct=Fc,It.JsonStruct=_o,It.isValidJson=T$,It.getSafeJson=a2,It.getJsonSize=k$,It.jsonrpc2=c2,It.JsonRpcVersionStruct=_a,It.JsonRpcIdStruct=Dc,It.JsonRpcErrorStruct=Hc,It.JsonRpcParamsStruct=ip,It.JsonRpcRequestStruct=sp,It.JsonRpcNotificationStruct=op,It.isJsonRpcNotification=C$,It.assertIsJsonRpcNotification=L$,It.isJsonRpcRequest=$$,It.assertIsJsonRpcRequest=O$,It.PendingJsonRpcResponseStruct=ap,It.JsonRpcSuccessStruct=ul,It.JsonRpcFailureStruct=ll,It.JsonRpcResponseStruct=cp,It.isPendingJsonRpcResponse=M$,It.assertIsPendingJsonRpcResponse=N$,It.isJsonRpcResponse=P$,It.assertIsJsonRpcResponse=U$,It.isJsonRpcSuccess=F$,It.assertIsJsonRpcSuccess=D$,It.isJsonRpcFailure=H$,It.assertIsJsonRpcFailure=j$,It.isJsonRpcError=z$,It.assertIsJsonRpcError=q$,It.getJsonRpcIdValidator=V$;var hl={},fp={exports:{}},up,f2;function W$(){if(f2)return up;f2=1;var e=1e3,t=e*60,r=t*60,n=r*24,i=n*7,s=n*365.25;up=function(l,y){y=y||{};var A=typeof l;if(A==="string"&&l.length>0)return o(l);if(A==="number"&&isFinite(l))return y.long?c(l):a(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))};function o(l){if(l=String(l),!(l.length>100)){var y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(y){var A=parseFloat(y[1]),v=(y[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return A*s;case"weeks":case"week":case"w":return A*i;case"days":case"day":case"d":return A*n;case"hours":case"hour":case"hrs":case"hr":case"h":return A*r;case"minutes":case"minute":case"mins":case"min":case"m":return A*t;case"seconds":case"second":case"secs":case"sec":case"s":return A*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}function a(l){var y=Math.abs(l);return y>=n?Math.round(l/n)+"d":y>=r?Math.round(l/r)+"h":y>=t?Math.round(l/t)+"m":y>=e?Math.round(l/e)+"s":l+"ms"}function c(l){var y=Math.abs(l);return y>=n?u(l,y,n,"day"):y>=r?u(l,y,r,"hour"):y>=t?u(l,y,t,"minute"):y>=e?u(l,y,e,"second"):l+" ms"}function u(l,y,A,v){var R=y>=A*1.5;return Math.round(l/A)+" "+v+(R?"s":"")}return up}function K$(e){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=o,r.humanize=W$(),r.destroy=u,Object.keys(e).forEach(l=>{r[l]=e[l]}),r.names=[],r.skips=[],r.formatters={};function t(l){let y=0;for(let A=0;A<l.length;A++)y=(y<<5)-y+l.charCodeAt(A),y|=0;return r.colors[Math.abs(y)%r.colors.length]}r.selectColor=t;function r(l){let y,A=null,v,R;function O(...P){if(!O.enabled)return;const H=O,F=Number(new Date),N=F-(y||F);H.diff=N,H.prev=y,H.curr=F,y=F,P[0]=r.coerce(P[0]),typeof P[0]!="string"&&P.unshift("%O");let $=0;P[0]=P[0].replace(/%([a-zA-Z%])/g,(G,Z)=>{if(G==="%%")return"%";$++;const z=r.formatters[Z];if(typeof z=="function"){const ee=P[$];G=z.call(H,ee),P.splice($,1),$--}return G}),r.formatArgs.call(H,P),(H.log||r.log).apply(H,P)}return O.namespace=l,O.useColors=r.useColors(),O.color=r.selectColor(l),O.extend=n,O.destroy=r.destroy,Object.defineProperty(O,"enabled",{enumerable:!0,configurable:!1,get:()=>A!==null?A:(v!==r.namespaces&&(v=r.namespaces,R=r.enabled(l)),R),set:P=>{A=P}}),typeof r.init=="function"&&r.init(O),O}function n(l,y){const A=r(this.namespace+(typeof y>"u"?":":y)+l);return A.log=this.log,A}function i(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let y;const A=(typeof l=="string"?l:"").split(/[\s,]+/),v=A.length;for(y=0;y<v;y++)A[y]&&(l=A[y].replace(/\*/g,".*?"),l[0]==="-"?r.skips.push(new RegExp("^"+l.slice(1)+"$")):r.names.push(new RegExp("^"+l+"$")))}function s(){const l=[...r.names.map(a),...r.skips.map(a).map(y=>"-"+y)].join(",");return r.enable(""),l}function o(l){if(l[l.length-1]==="*")return!0;let y,A;for(y=0,A=r.skips.length;y<A;y++)if(r.skips[y].test(l))return!1;for(y=0,A=r.names.length;y<A;y++)if(r.names[y].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var Z$=K$;(function(e,t){t.formatArgs=n,t.save=i,t.load=s,t.useColors=r,t.storage=o(),t.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let l=0,y=0;c[0].replace(/%[a-zA-Z%]/g,A=>{A!=="%%"&&(l++,A==="%c"&&(y=l))}),c.splice(y,0,u)}t.log=console.debug||console.log||(()=>{});function i(c){try{c?t.storage.setItem("debug",c):t.storage.removeItem("debug")}catch{}}function s(){let c;try{c=t.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=process.env.DEBUG),c}function o(){try{return localStorage}catch{}}e.exports=Z$(t);const{formatters:a}=e.exports;a.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(fp,fp.exports),Object.defineProperty(hl,"__esModule",{value:!0});function G$(e){return e&&e.__esModule?e:{default:e}}var Y$=fp.exports,X$=G$(Y$),J$=X$.default.call(void 0,"metamask");function Q$(e){return J$.extend(e)}function eO(e,t){return e.extend(t)}hl.createProjectLogger=Q$,hl.createModuleLogger=eO;var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});function u2(e){let t,r=e[0],n=1;for(;n<e.length;){const i=e[n],s=e[n+1];if(n+=2,(i==="optionalAccess"||i==="optionalCall")&&r==null)return;i==="access"||i==="optionalAccess"?(t=r,r=s(r)):(i==="call"||i==="optionalCall")&&(r=s((...o)=>r.call(t,...o)),t=void 0)}return r}var yn=Ms,lp=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,hp=/^[-a-z0-9]{3,8}$/u,dp=/^[-_a-zA-Z0-9]{1,32}$/u,pp=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,l2=/^[-.%a-zA-Z0-9]{1,128}$/u,h2=yn.pattern.call(void 0,yn.string.call(void 0),lp),d2=yn.pattern.call(void 0,yn.string.call(void 0),hp),p2=yn.pattern.call(void 0,yn.string.call(void 0),dp),g2=yn.pattern.call(void 0,yn.string.call(void 0),pp),y2=yn.pattern.call(void 0,yn.string.call(void 0),l2),w2=(e=>(e.Eip155="eip155",e))(w2||{});function tO(e){return yn.is.call(void 0,e,h2)}function m2(e){return yn.is.call(void 0,e,d2)}function b2(e){return yn.is.call(void 0,e,p2)}function rO(e){return yn.is.call(void 0,e,g2)}function nO(e){return yn.is.call(void 0,e,y2)}function iO(e){const t=lp.exec(e);if(!u2([t,"optionalAccess",r=>r.groups]))throw new Error("Invalid CAIP chain ID.");return{namespace:t.groups.namespace,reference:t.groups.reference}}function sO(e){const t=pp.exec(e);if(!u2([t,"optionalAccess",r=>r.groups]))throw new Error("Invalid CAIP account ID.");return{address:t.groups.accountAddress,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}}function oO(e,t){if(!m2(e))throw new Error(`Invalid "namespace", must match: ${hp.toString()}`);if(!b2(t))throw new Error(`Invalid "reference", must match: ${dp.toString()}`);return`${e}:${t}`}Ir.CAIP_CHAIN_ID_REGEX=lp,Ir.CAIP_NAMESPACE_REGEX=hp,Ir.CAIP_REFERENCE_REGEX=dp,Ir.CAIP_ACCOUNT_ID_REGEX=pp,Ir.CAIP_ACCOUNT_ADDRESS_REGEX=l2,Ir.CaipChainIdStruct=h2,Ir.CaipNamespaceStruct=d2,Ir.CaipReferenceStruct=p2,Ir.CaipAccountIdStruct=g2,Ir.CaipAccountAddressStruct=y2,Ir.KnownCaipNamespace=w2,Ir.isCaipChainId=tO,Ir.isCaipNamespace=m2,Ir.isCaipReference=b2,Ir.isCaipAccountId=rO,Ir.isCaipAccountAddress=nO,Ir.parseCaipChainId=iO,Ir.parseCaipAccountId=sO,Ir.toCaipChainId=oO;var gp={},dl={};Object.defineProperty(dl,"__esModule",{value:!0});function v2(e,t){return e??t()}var aO=Jn,cO=Ms,fO=(e,t={})=>{const r=v2(t.paddingRequired,()=>!1),n=v2(t.characterSet,()=>"base64");let i;n==="base64"?i=String.raw`[A-Za-z0-9+\/]`:(aO.assert.call(void 0,n==="base64url"),i=String.raw`[-_A-Za-z0-9]`);let s;return r?s=new RegExp(`^(?:${i}{4})*(?:${i}{3}=|${i}{2}==)?$`,"u"):s=new RegExp(`^(?:${i}{4})*(?:${i}{2,3}|${i}{3}=|${i}{2}==)?$`,"u"),cO.pattern.call(void 0,e,s)};dl.base64=fO,Object.defineProperty(gp,"__esModule",{value:!0});var uO=dl,_2=Ms,lO=_2.size.call(void 0,uO.base64.call(void 0,_2.string.call(void 0),{paddingRequired:!0}),44,44);gp.ChecksumStruct=lO;var Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});var xa=Rt,hO=Jn,gr=Ms,E2=gr.union.call(void 0,[gr.number.call(void 0),gr.bigint.call(void 0),gr.string.call(void 0),xa.StrictHexStruct]),dO=gr.coerce.call(void 0,gr.number.call(void 0),E2,Number),pO=gr.coerce.call(void 0,gr.bigint.call(void 0),E2,BigInt);gr.union.call(void 0,[xa.StrictHexStruct,gr.instance.call(void 0,Uint8Array)]);var gO=gr.coerce.call(void 0,gr.instance.call(void 0,Uint8Array),gr.union.call(void 0,[xa.StrictHexStruct]),xa.hexToBytes),yO=gr.coerce.call(void 0,xa.StrictHexStruct,gr.instance.call(void 0,Uint8Array),xa.bytesToHex);function wO(e){try{const t=gr.create.call(void 0,e,dO);return hO.assert.call(void 0,Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){throw t instanceof gr.StructError?new Error(`Expected a number-like value, got "${e}".`):t}}function mO(e){try{return gr.create.call(void 0,e,pO)}catch(t){throw t instanceof gr.StructError?new Error(`Expected a number-like value, got "${String(t.value)}".`):t}}function bO(e){if(typeof e=="string"&&e.toLowerCase()==="0x")return new Uint8Array;try{return gr.create.call(void 0,e,gO)}catch(t){throw t instanceof gr.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}function vO(e){if(e instanceof Uint8Array&&e.length===0||typeof e=="string"&&e.toLowerCase()==="0x")return"0x";try{return gr.create.call(void 0,e,yO)}catch(t){throw t instanceof gr.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}Ea.createNumber=wO,Ea.createBigInt=mO,Ea.createBytes=bO,Ea.createHex=vO;var pl={},jc={};Object.defineProperty(jc,"__esModule",{value:!0});var x2=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},_O=(e,t,r)=>(x2(e,t,"read from private field"),r?r.call(e):t.get(e)),EO=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},xO=(e,t,r,n)=>(x2(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);jc.__privateGet=_O,jc.__privateAdd=EO,jc.__privateSet=xO,Object.defineProperty(pl,"__esModule",{value:!0});var Mr=jc,li,yp=class{constructor(e){Mr.__privateAdd.call(void 0,this,li,void 0),Mr.__privateSet.call(void 0,this,li,new Map(e)),Object.freeze(this)}get size(){return Mr.__privateGet.call(void 0,this,li).size}[Symbol.iterator](){return Mr.__privateGet.call(void 0,this,li)[Symbol.iterator]()}entries(){return Mr.__privateGet.call(void 0,this,li).entries()}forEach(e,t){return Mr.__privateGet.call(void 0,this,li).forEach((r,n,i)=>e.call(t,r,n,this))}get(e){return Mr.__privateGet.call(void 0,this,li).get(e)}has(e){return Mr.__privateGet.call(void 0,this,li).has(e)}keys(){return Mr.__privateGet.call(void 0,this,li).keys()}values(){return Mr.__privateGet.call(void 0,this,li).values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,t])=>`${String(e)} => ${String(t)}`).join(", ")} `:""}}`}};li=new WeakMap;var Ii,wp=class{constructor(e){Mr.__privateAdd.call(void 0,this,Ii,void 0),Mr.__privateSet.call(void 0,this,Ii,new Set(e)),Object.freeze(this)}get size(){return Mr.__privateGet.call(void 0,this,Ii).size}[Symbol.iterator](){return Mr.__privateGet.call(void 0,this,Ii)[Symbol.iterator]()}entries(){return Mr.__privateGet.call(void 0,this,Ii).entries()}forEach(e,t){return Mr.__privateGet.call(void 0,this,Ii).forEach((r,n,i)=>e.call(t,r,n,this))}has(e){return Mr.__privateGet.call(void 0,this,Ii).has(e)}keys(){return Mr.__privateGet.call(void 0,this,Ii).keys()}values(){return Mr.__privateGet.call(void 0,this,Ii).values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}};Ii=new WeakMap,Object.freeze(yp),Object.freeze(yp.prototype),Object.freeze(wp),Object.freeze(wp.prototype),pl.FrozenMap=yp,pl.FrozenSet=wp,Object.defineProperty(oe,"__esModule",{value:!0});var gl=da,SO=H0,mp=Mc,Yi=ai,$t=It,S2=hl,Nr=Ir,AO=gp,BO=dl,yl=Ea,Dt=Rt,wl=Jn,zc=Os,hi=dn,A2=pl;oe.AssertionError=wl.AssertionError,oe.CAIP_ACCOUNT_ADDRESS_REGEX=Nr.CAIP_ACCOUNT_ADDRESS_REGEX,oe.CAIP_ACCOUNT_ID_REGEX=Nr.CAIP_ACCOUNT_ID_REGEX,oe.CAIP_CHAIN_ID_REGEX=Nr.CAIP_CHAIN_ID_REGEX,oe.CAIP_NAMESPACE_REGEX=Nr.CAIP_NAMESPACE_REGEX,oe.CAIP_REFERENCE_REGEX=Nr.CAIP_REFERENCE_REGEX,oe.CaipAccountAddressStruct=Nr.CaipAccountAddressStruct,oe.CaipAccountIdStruct=Nr.CaipAccountIdStruct,oe.CaipChainIdStruct=Nr.CaipChainIdStruct,oe.CaipNamespaceStruct=Nr.CaipNamespaceStruct,oe.CaipReferenceStruct=Nr.CaipReferenceStruct,oe.ChecksumStruct=AO.ChecksumStruct,oe.Duration=mp.Duration,oe.ESCAPE_CHARACTERS_REGEXP=hi.ESCAPE_CHARACTERS_REGEXP,oe.FrozenMap=A2.FrozenMap,oe.FrozenSet=A2.FrozenSet,oe.HexAddressStruct=Dt.HexAddressStruct,oe.HexChecksumAddressStruct=Dt.HexChecksumAddressStruct,oe.HexStruct=Dt.HexStruct,oe.JsonRpcErrorStruct=$t.JsonRpcErrorStruct,oe.JsonRpcFailureStruct=$t.JsonRpcFailureStruct,oe.JsonRpcIdStruct=$t.JsonRpcIdStruct,oe.JsonRpcNotificationStruct=$t.JsonRpcNotificationStruct,oe.JsonRpcParamsStruct=$t.JsonRpcParamsStruct,oe.JsonRpcRequestStruct=$t.JsonRpcRequestStruct,oe.JsonRpcResponseStruct=$t.JsonRpcResponseStruct,oe.JsonRpcSuccessStruct=$t.JsonRpcSuccessStruct,oe.JsonRpcVersionStruct=$t.JsonRpcVersionStruct,oe.JsonSize=hi.JsonSize,oe.JsonStruct=$t.JsonStruct,oe.KnownCaipNamespace=Nr.KnownCaipNamespace,oe.PendingJsonRpcResponseStruct=$t.PendingJsonRpcResponseStruct,oe.StrictHexStruct=Dt.StrictHexStruct,oe.UnsafeJsonStruct=$t.UnsafeJsonStruct,oe.VersionRangeStruct=Yi.VersionRangeStruct,oe.VersionStruct=Yi.VersionStruct,oe.add0x=Dt.add0x,oe.assert=wl.assert,oe.assertExhaustive=wl.assertExhaustive,oe.assertIsBytes=Dt.assertIsBytes,oe.assertIsHexString=Dt.assertIsHexString,oe.assertIsJsonRpcError=$t.assertIsJsonRpcError,oe.assertIsJsonRpcFailure=$t.assertIsJsonRpcFailure,oe.assertIsJsonRpcNotification=$t.assertIsJsonRpcNotification,oe.assertIsJsonRpcRequest=$t.assertIsJsonRpcRequest,oe.assertIsJsonRpcResponse=$t.assertIsJsonRpcResponse,oe.assertIsJsonRpcSuccess=$t.assertIsJsonRpcSuccess,oe.assertIsPendingJsonRpcResponse=$t.assertIsPendingJsonRpcResponse,oe.assertIsSemVerRange=Yi.assertIsSemVerRange,oe.assertIsSemVerVersion=Yi.assertIsSemVerVersion,oe.assertIsStrictHexString=Dt.assertIsStrictHexString,oe.assertStruct=wl.assertStruct,oe.base64=BO.base64,oe.base64ToBytes=Dt.base64ToBytes,oe.bigIntToBytes=Dt.bigIntToBytes,oe.bigIntToHex=gl.bigIntToHex,oe.bytesToBase64=Dt.bytesToBase64,oe.bytesToBigInt=Dt.bytesToBigInt,oe.bytesToHex=Dt.bytesToHex,oe.bytesToNumber=Dt.bytesToNumber,oe.bytesToSignedBigInt=Dt.bytesToSignedBigInt,oe.bytesToString=Dt.bytesToString,oe.calculateNumberSize=hi.calculateNumberSize,oe.calculateStringSize=hi.calculateStringSize,oe.concatBytes=Dt.concatBytes,oe.createBigInt=yl.createBigInt,oe.createBytes=yl.createBytes,oe.createDataView=Dt.createDataView,oe.createDeferredPromise=SO.createDeferredPromise,oe.createHex=yl.createHex,oe.createModuleLogger=S2.createModuleLogger,oe.createNumber=yl.createNumber,oe.createProjectLogger=S2.createProjectLogger,oe.exactOptional=$t.exactOptional,oe.getChecksumAddress=Dt.getChecksumAddress,oe.getErrorMessage=zc.getErrorMessage,oe.getJsonRpcIdValidator=$t.getJsonRpcIdValidator,oe.getJsonSize=$t.getJsonSize,oe.getKnownPropertyNames=hi.getKnownPropertyNames,oe.getSafeJson=$t.getSafeJson,oe.gtRange=Yi.gtRange,oe.gtVersion=Yi.gtVersion,oe.hasProperty=hi.hasProperty,oe.hexToBigInt=gl.hexToBigInt,oe.hexToBytes=Dt.hexToBytes,oe.hexToNumber=gl.hexToNumber,oe.inMilliseconds=mp.inMilliseconds,oe.isASCII=hi.isASCII,oe.isBytes=Dt.isBytes,oe.isCaipAccountAddress=Nr.isCaipAccountAddress,oe.isCaipAccountId=Nr.isCaipAccountId,oe.isCaipChainId=Nr.isCaipChainId,oe.isCaipNamespace=Nr.isCaipNamespace,oe.isCaipReference=Nr.isCaipReference,oe.isErrorWithCode=zc.isErrorWithCode,oe.isErrorWithMessage=zc.isErrorWithMessage,oe.isErrorWithStack=zc.isErrorWithStack,oe.isHexString=Dt.isHexString,oe.isJsonRpcError=$t.isJsonRpcError,oe.isJsonRpcFailure=$t.isJsonRpcFailure,oe.isJsonRpcNotification=$t.isJsonRpcNotification,oe.isJsonRpcRequest=$t.isJsonRpcRequest,oe.isJsonRpcResponse=$t.isJsonRpcResponse,oe.isJsonRpcSuccess=$t.isJsonRpcSuccess,oe.isNonEmptyArray=hi.isNonEmptyArray,oe.isNullOrUndefined=hi.isNullOrUndefined,oe.isObject=hi.isObject,oe.isPendingJsonRpcResponse=$t.isPendingJsonRpcResponse,oe.isPlainObject=hi.isPlainObject,oe.isStrictHexString=Dt.isStrictHexString,oe.isValidChecksumAddress=Dt.isValidChecksumAddress,oe.isValidHexAddress=Dt.isValidHexAddress,oe.isValidJson=$t.isValidJson,oe.isValidSemVerRange=Yi.isValidSemVerRange,oe.isValidSemVerVersion=Yi.isValidSemVerVersion,oe.jsonrpc2=$t.jsonrpc2,oe.numberToBytes=Dt.numberToBytes,oe.numberToHex=gl.numberToHex,oe.object=$t.object,oe.parseCaipAccountId=Nr.parseCaipAccountId,oe.parseCaipChainId=Nr.parseCaipChainId,oe.remove0x=Dt.remove0x,oe.satisfiesVersionRange=Yi.satisfiesVersionRange,oe.signedBigIntToBytes=Dt.signedBigIntToBytes,oe.stringToBytes=Dt.stringToBytes,oe.timeSince=mp.timeSince,oe.toCaipChainId=Nr.toCaipChainId,oe.valueToBytes=Dt.valueToBytes,oe.wrapError=zc.wrapError,Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.normalize=Qr.recoverPublicKey=Qr.concatSig=Qr.legacyToBuffer=Qr.isNullish=Qr.padWithZeroes=void 0;const Xi=Jf,Sa=oe;function bp(e,t){if(e!==""&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(t<0)throw new Error(`Expected a non-negative integer target length. Received: ${t}`);return String.prototype.padStart.call(e,t,"0")}Qr.padWithZeroes=bp;function B2(e){return e==null}Qr.isNullish=B2;function IO(e){return typeof e=="string"&&!(0,Xi.isHexString)(e)?ie.Buffer.from(e):(0,Xi.toBuffer)(e)}Qr.legacyToBuffer=IO;function RO(e,t,r){const n=(0,Xi.fromSigned)(t),i=(0,Xi.fromSigned)(r),s=(0,Xi.bufferToInt)(e),o=bp((0,Xi.toUnsigned)(n).toString("hex"),64),a=bp((0,Xi.toUnsigned)(i).toString("hex"),64),c=(0,Sa.remove0x)((0,Sa.numberToHex)(s));return(0,Sa.add0x)(o.concat(a,c))}Qr.concatSig=RO;function TO(e,t){const r=(0,Xi.fromRpcSig)(t);return(0,Xi.ecrecover)(e,r.v,r.r,r.s)}Qr.recoverPublicKey=TO;function kO(e){if(!B2(e)){if(typeof e=="number"){if(e<0)return"0x";const t=(0,Sa.numberToBytes)(e);e=(0,Sa.bytesToHex)(t)}if(typeof e!="string"){let t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=` received ${typeof e}: ${e}`,new Error(t)}return(0,Sa.add0x)(e.toLowerCase())}}Qr.normalize=kO,Object.defineProperty(us,"__esModule",{value:!0}),us.extractPublicKey=us.recoverPersonalSignature=us.personalSign=void 0;const Aa=Jf,Ri=Qr;function CO({privateKey:e,data:t}){if((0,Ri.isNullish)(t))throw new Error("Missing data parameter");if((0,Ri.isNullish)(e))throw new Error("Missing privateKey parameter");const r=(0,Ri.legacyToBuffer)(t),n=(0,Aa.hashPersonalMessage)(r),i=(0,Aa.ecsign)(n,e);return(0,Ri.concatSig)((0,Aa.toBuffer)(i.v),i.r,i.s)}us.personalSign=CO;function LO({data:e,signature:t}){if((0,Ri.isNullish)(e))throw new Error("Missing data parameter");if((0,Ri.isNullish)(t))throw new Error("Missing signature parameter");const r=I2(e,t),n=(0,Aa.publicToAddress)(r);return(0,Aa.bufferToHex)(n)}us.recoverPersonalSignature=LO;function $O({data:e,signature:t}){if((0,Ri.isNullish)(e))throw new Error("Missing data parameter");if((0,Ri.isNullish)(t))throw new Error("Missing signature parameter");return`0x${I2(e,t).toString("hex")}`}us.extractPublicKey=$O;function I2(e,t){const r=(0,Aa.hashPersonalMessage)((0,Ri.legacyToBuffer)(e));return(0,Ri.recoverPublicKey)(r,t)}var R2={},T2={},k2={},di={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ParserError=e.getErrorStack=e.getErrorMessage=void 0;const t=oe,r=s=>typeof s=="string"?s:s instanceof Error||(0,t.isObject)(s)&&(0,t.hasProperty)(s,"message")&&typeof s.message=="string"?s.message:"Unknown error.";e.getErrorMessage=r;const n=s=>{if(s instanceof Error)return s.stack};e.getErrorStack=n;class i extends Error{constructor(o,a){super(o),this.name="ParserError";const c=(0,e.getErrorStack)(a);c&&(this.stack=c)}}e.ParserError=i})(di);var vp={},ml={};Object.defineProperty(ml,"__esModule",{value:!0}),ml.iterate=void 0;const C2=oe,OO=function*(e,t=32){for(let r=0;r<e.length;r+=t){const n=s=>{(0,C2.assert)(s>=0,"Cannot skip a negative number of bytes."),(0,C2.assert)(s%t===0,"Length must be a multiple of the size."),r+=s},i=e.subarray(r);yield{skip:n,value:i}}return{skip:()=>{},value:new Uint8Array}};ml.iterate=OO;var _p={},L2={},Ps={},Us={};Object.defineProperty(Us,"__esModule",{value:!0}),Us.padEnd=Us.padStart=Us.set=void 0;const Ep=oe,$2=32,MO=(e,t,r)=>(0,Ep.concatBytes)([e.subarray(0,r),t,e.subarray(r+t.length)]);Us.set=MO;const NO=(e,t=$2)=>{const r=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,Ep.concatBytes)([r,e])};Us.padStart=NO;const PO=(e,t=$2)=>{const r=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,Ep.concatBytes)([e,r])};Us.padEnd=PO,function(e){var t=ft&&ft.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=ft&&ft.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(Us,e)}(Ps),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.address=e.getAddress=void 0;const t=oe,r=di,n=Ps,i=s=>{const o=(0,t.createBytes)(s);return(0,t.assert)(o.length<=20,new r.ParserError(`Invalid address value. Expected address to be 20 bytes long, but received ${o.length} bytes.`)),(0,n.padStart)(o,20)};e.getAddress=i,e.address={isDynamic:!1,isType:s=>s==="address",getByteLength(){return 32},encode({buffer:s,value:o,packed:a}){const c=(0,e.getAddress)(o);if(a)return(0,t.concatBytes)([s,c]);const u=(0,n.padStart)(c);return(0,t.concatBytes)([s,u])},decode({value:s}){return(0,t.add0x)((0,t.bytesToHex)(s.slice(12,32)))}}}(L2);var xp={},bl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fixedBytes=e.getByteLength=void 0;const t=oe,r=di,n=Ps,i=/^bytes([0-9]{1,2})$/u,s=o=>{const a=o.match(i)?.[1];(0,t.assert)(a,`Invalid byte length. Expected a number between 1 and 32, but received "${o}".`);const c=Number(a);return(0,t.assert)(c>0&&c<=32,new r.ParserError(`Invalid byte length. Expected a number between 1 and 32, but received "${o}".`)),c};e.getByteLength=s,e.fixedBytes={isDynamic:!1,isType(o){return i.test(o)},getByteLength(){return 32},encode({type:o,buffer:a,value:c,packed:u}){const l=(0,e.getByteLength)(o),y=(0,t.createBytes)(c);return(0,t.assert)(y.length<=l,new r.ParserError(`Expected a value of length ${l}, but received a value of length ${y.length}.`)),u?(0,t.concatBytes)([a,(0,n.padEnd)(y,l)]):(0,t.concatBytes)([a,(0,n.padEnd)(y)])},decode({type:o,value:a}){const c=(0,e.getByteLength)(o);return a.slice(0,c)}}})(bl);var Sp={},O2;function M2(){return O2||(O2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.tuple=e.getTupleElements=void 0;const t=oe,r=di,n=Cp(),i=/^\((.+)\)$/u,s=a=>i.test(a),o=a=>{(0,t.assert)(a.startsWith("(")&&a.endsWith(")"),new r.ParserError(`Invalid tuple type. Expected tuple type, but received "${a}".`));const c=[];let u="",l=0;for(let y=1;y<a.length-1;y++){const A=a[y];A===","&&l===0?(c.push(u.trim()),u=""):(u+=A,A==="("?l+=1:A===")"&&(l-=1))}return u.trim()&&c.push(u.trim()),c};e.getTupleElements=o,e.tuple={isDynamic(a){return(0,e.getTupleElements)(a).some(u=>{const l=(0,n.getParser)(u);return(0,n.isDynamicParser)(l,u)})},isType(a){return s(a)},getByteLength(a){return(0,n.isDynamicParser)(this,a)?32:(0,e.getTupleElements)(a).reduce((u,l)=>u+(0,n.getParser)(l).getByteLength(l),0)},encode({type:a,buffer:c,value:u,packed:l,tight:y}){const A=(0,e.getTupleElements)(a);return(0,n.pack)({types:A,values:u,byteArray:c,packed:l,tight:y})},decode({type:a,value:c,skip:u}){const l=(0,e.getTupleElements)(a),y=this.getByteLength(a)-32;return u(y),(0,n.unpack)(l,c)}}}(Sp)),Sp}var N2;function UO(){return N2||(N2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.array=e.getTupleType=e.getArrayType=e.isArrayType=void 0;const t=oe,r=di,n=Cp(),i=Ps,s=bl,o=M2(),a=/^(?<type>.*)\[(?<length>\d*?)\]$/u,c=y=>a.test(y);e.isArrayType=c;const u=y=>{const A=y.match(a);return(0,t.assert)(A?.groups?.type,new r.ParserError(`Invalid array type. Expected an array type, but received "${y}".`)),[A.groups.type,A.groups.length?parseInt(A.groups.length,10):void 0]};e.getArrayType=u;const l=(y,A)=>`(${new Array(A).fill(y).join(",")})`;e.getTupleType=l,e.array={isDynamic(y){const[A,v]=(0,e.getArrayType)(y);return v===void 0||(0,n.isDynamicParser)((0,n.getParser)(A),A)},isType(y){return(0,e.isArrayType)(y)},getByteLength(y){(0,t.assert)((0,e.isArrayType)(y),new r.ParserError(`Expected an array type, but received "${y}".`));const[A,v]=(0,e.getArrayType)(y);return!(0,n.isDynamicParser)(this,y)&&v!==void 0?o.tuple.getByteLength((0,e.getTupleType)(A,v)):32},encode({type:y,buffer:A,value:v,packed:R,tight:O}){const[P,H]=(0,e.getArrayType)(y);if((0,t.assert)(!R||!(0,e.isArrayType)(P),new r.ParserError("Cannot pack nested arrays.")),R&&(0,n.isDynamicParser)((0,n.getParser)(P),P))return(0,n.pack)({types:new Array(v.length).fill(P),values:v,byteArray:A,packed:R,arrayPacked:!0,tight:O});if(H)return(0,t.assert)(H===v.length,new r.ParserError(`Array length does not match type length. Expected a length of ${H}, but received ${v.length}.`)),o.tuple.encode({type:(0,e.getTupleType)(P,H),buffer:A,value:v,packed:s.fixedBytes.isType(P)&&O,tight:O});if(R)return(0,n.pack)({types:new Array(v.length).fill(P),values:v,byteArray:A,packed:s.fixedBytes.isType(P)&&O,arrayPacked:!0,tight:O});const F=(0,i.padStart)((0,t.numberToBytes)(v.length));return(0,n.pack)({types:new Array(v.length).fill(P),values:v,byteArray:(0,t.concatBytes)([A,F]),packed:R,tight:O})},decode({type:y,value:A,...v}){const[R,O]=(0,e.getArrayType)(y);if(O){const H=o.tuple.decode({type:(0,e.getTupleType)(R,O),value:A,...v});return(0,t.assert)(H.length===O,new r.ParserError(`Array length does not match type length. Expected a length of ${O}, but received ${H.length}.`)),H}const P=(0,t.bytesToNumber)(A.subarray(0,32));return(0,n.unpack)(new Array(P).fill(R),A.subarray(32))}}}(xp)),xp}var P2={};class U2 extends TypeError{constructor(t,r){let n;const{message:i,explanation:s,...o}=t,{path:a}=t,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...r()])}}function FO(e){return ei(e)&&typeof e[Symbol.iterator]=="function"}function ei(e){return typeof e=="object"&&e!=null}function F2(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Pr(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function DO(e){const{done:t,value:r}=e.next();return t?void 0:r}function HO(e,t,r,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:s}=t,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Pr(n)}\``}=e;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...e,message:c}}function*Ap(e,t,r,n){FO(e)||(e=[e]);for(const i of e){const s=HO(i,t,r,n);s&&(yield s)}}function*Bp(e,t,r={}){const{path:n=[],branch:i=[e],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(e=t.coercer(e,a),o&&t.type!=="type"&&ei(t.schema)&&ei(e)&&!Array.isArray(e)))for(const u in e)t.schema[u]===void 0&&delete e[u];let c="valid";for(const u of t.validator(e,a))u.explanation=r.message,c="not_valid",yield[u,void 0];for(let[u,l,y]of t.entries(e,a)){const A=Bp(l,y,{path:u===void 0?n:[...n,u],branch:u===void 0?i:[...i,l],coerce:s,mask:o,message:r.message});for(const v of A)v[0]?(c=v[0].refinement!=null?"not_refined":"not_valid",yield[v[0],void 0]):s&&(l=v[1],u===void 0?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):ei(e)&&(l!==void 0||u in e)&&(e[u]=l))}if(c!=="not_valid")for(const u of t.refiner(e,a))u.explanation=r.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,e])}class Rr{constructor(t){const{type:r,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=t;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const l=i(c,u);return Ap(l,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const l=s(c,u);return Ap(l,u,this,c)}:this.refiner=()=>[]}assert(t,r){return D2(t,this,r)}create(t,r){return H2(t,this,r)}is(t){return Ip(t,this)}mask(t,r){return j2(t,this,r)}validate(t,r={}){return Ba(t,this,r)}}function D2(e,t,r){const n=Ba(e,t,{message:r});if(n[0])throw n[0]}function H2(e,t,r){const n=Ba(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function j2(e,t,r){const n=Ba(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function Ip(e,t){return!Ba(e,t)[0]}function Ba(e,t,r={}){const n=Bp(e,t,r),i=DO(n);return i[0]?[new U2(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function jO(...e){const t=e[0].type==="type",r=e.map(i=>i.schema),n=Object.assign({},...r);return t?Vc(n):qc(n)}function Sn(e,t){return new Rr({type:e,schema:null,validator:t})}function zO(e,t){return new Rr({...e,refiner:(r,n)=>r===void 0||e.refiner(r,n),validator(r,n){return r===void 0?!0:(t(r,n),e.validator(r,n))}})}function qO(e){return new Rr({type:"dynamic",schema:null,*entries(t,r){yield*e(t,r).entries(t,r)},validator(t,r){return e(t,r).validator(t,r)},coercer(t,r){return e(t,r).coercer(t,r)},refiner(t,r){return e(t,r).refiner(t,r)}})}function VO(e){let t;return new Rr({type:"lazy",schema:null,*entries(r,n){t??(t=e()),yield*t.entries(r,n)},validator(r,n){return t??(t=e()),t.validator(r,n)},coercer(r,n){return t??(t=e()),t.coercer(r,n)},refiner(r,n){return t??(t=e()),t.refiner(r,n)}})}function WO(e,t){const{schema:r}=e,n={...r};for(const i of t)delete n[i];switch(e.type){case"type":return Vc(n);default:return qc(n)}}function KO(e){const t=e instanceof Rr,r=t?{...e.schema}:{...e};for(const n in r)r[n]=z2(r[n]);return t&&e.type==="type"?Vc(r):qc(r)}function ZO(e,t){const{schema:r}=e,n={};for(const i of t)n[i]=r[i];switch(e.type){case"type":return Vc(n);default:return qc(n)}}function GO(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Sn(e,t)}function YO(){return Sn("any",()=>!0)}function XO(e){return new Rr({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Pr(t)}`}})}function JO(){return Sn("bigint",e=>typeof e=="bigint")}function QO(){return Sn("boolean",e=>typeof e=="boolean")}function eM(){return Sn("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${Pr(e)}`)}function tM(e){const t={},r=e.map(n=>Pr(n)).join();for(const n of e)t[n]=n;return new Rr({type:"enums",schema:t,validator(n){return e.includes(n)||`Expected one of \`${r}\`, but received: ${Pr(n)}`}})}function rM(){return Sn("func",e=>typeof e=="function"||`Expected a function, but received: ${Pr(e)}`)}function nM(e){return Sn("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${Pr(t)}`)}function iM(){return Sn("integer",e=>typeof e=="number"&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${Pr(e)}`)}function sM(e){return new Rr({type:"intersection",schema:null,*entries(t,r){for(const n of e)yield*n.entries(t,r)},*validator(t,r){for(const n of e)yield*n.validator(t,r)},*refiner(t,r){for(const n of e)yield*n.refiner(t,r)}})}function oM(e){const t=Pr(e),r=typeof e;return new Rr({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?e:null,validator(n){return n===e||`Expected the literal \`${t}\`, but received: ${Pr(n)}`}})}function aM(e,t){return new Rr({type:"map",schema:null,*entries(r){if(e&&t&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,e],yield[n,i,t]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${Pr(r)}`}})}function Rp(){return Sn("never",()=>!1)}function cM(e){return new Rr({...e,validator:(t,r)=>t===null||e.validator(t,r),refiner:(t,r)=>t===null||e.refiner(t,r)})}function fM(){return Sn("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${Pr(e)}`)}function qc(e){const t=e?Object.keys(e):[],r=Rp();return new Rr({type:"object",schema:e||null,*entries(n){if(e&&ei(n)){const i=new Set(Object.keys(n));for(const s of t)i.delete(s),yield[s,n[s],e[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return ei(n)||`Expected an object, but received: ${Pr(n)}`},coercer(n){return ei(n)?{...n}:n}})}function z2(e){return new Rr({...e,validator:(t,r)=>t===void 0||e.validator(t,r),refiner:(t,r)=>t===void 0||e.refiner(t,r)})}function uM(e,t){return new Rr({type:"record",schema:null,*entries(r){if(ei(r))for(const n in r){const i=r[n];yield[n,n,e],yield[n,i,t]}},validator(r){return ei(r)||`Expected an object, but received: ${Pr(r)}`}})}function lM(){return Sn("regexp",e=>e instanceof RegExp)}function hM(e){return new Rr({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const r of t)yield[r,r,e]},coercer(t){return t instanceof Set?new Set(t):t},validator(t){return t instanceof Set||`Expected a \`Set\` object, but received: ${Pr(t)}`}})}function q2(){return Sn("string",e=>typeof e=="string"||`Expected a string, but received: ${Pr(e)}`)}function dM(e){const t=Rp();return new Rr({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${Pr(r)}`}})}function Vc(e){const t=Object.keys(e);return new Rr({type:"type",schema:e,*entries(r){if(ei(r))for(const n of t)yield[n,r[n],e[n]]},validator(r){return ei(r)||`Expected an object, but received: ${Pr(r)}`},coercer(r){return ei(r)?{...r}:r}})}function pM(e){const t=e.map(r=>r.type).join(" | ");return new Rr({type:"union",schema:null,coercer(r){for(const n of e){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of e){const[...o]=Bp(r,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Pr(r)}`,...i]}})}function V2(){return Sn("unknown",()=>!0)}function Tp(e,t,r){return new Rr({...e,coercer:(n,i)=>Ip(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}function gM(e,t,r={}){return Tp(e,V2(),n=>{const i=typeof t=="function"?t():t;if(n===void 0)return i;if(!r.strict&&F2(n)&&F2(i)){const s={...n};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return n})}function yM(e){return Tp(e,q2(),t=>t.trim())}function wM(e){return Eo(e,"empty",t=>{const r=W2(t);return r===0||`Expected an empty ${e.type} but received one with a size of \`${r}\``})}function W2(e){return e instanceof Map||e instanceof Set?e.size:e.length}function mM(e,t,r={}){const{exclusive:n}=r;return Eo(e,"max",i=>n?i<t:i<=t||`Expected a ${e.type} less than ${n?"":"or equal to "}${t} but received \`${i}\``)}function bM(e,t,r={}){const{exclusive:n}=r;return Eo(e,"min",i=>n?i>t:i>=t||`Expected a ${e.type} greater than ${n?"":"or equal to "}${t} but received \`${i}\``)}function vM(e){return Eo(e,"nonempty",t=>W2(t)>0||`Expected a nonempty ${e.type} but received an empty one`)}function _M(e,t){return Eo(e,"pattern",r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`)}function EM(e,t,r=t){const n=`Expected a ${e.type}`,i=t===r?`of \`${t}\``:`between \`${t}\` and \`${r}\``;return Eo(e,"size",s=>{if(typeof s=="number"||s instanceof Date)return t<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return t<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return t<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}})}function Eo(e,t,r){return new Rr({...e,*refiner(n,i){yield*e.refiner(n,i);const s=r(n,i),o=Ap(s,i,e,n);for(const a of o)yield{...a,refinement:t}}})}var xM=Object.freeze({__proto__:null,Struct:Rr,StructError:U2,any:YO,array:XO,assert:D2,assign:jO,bigint:JO,boolean:QO,coerce:Tp,create:H2,date:eM,defaulted:gM,define:Sn,deprecated:zO,dynamic:qO,empty:wM,enums:tM,func:rM,instance:nM,integer:iM,intersection:sM,is:Ip,lazy:VO,literal:oM,map:aM,mask:j2,max:mM,min:bM,never:Rp,nonempty:vM,nullable:cM,number:fM,object:qc,omit:WO,optional:z2,partial:KO,pattern:_M,pick:ZO,record:uM,refine:Eo,regexp:lM,set:hM,size:EM,string:q2,struct:GO,trimmed:yM,tuple:dM,type:Vc,union:pM,unknown:V2,validate:Ba}),K2=Un(xM),kp={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.number=e.getBigInt=e.assertNumberLength=e.getLength=e.isSigned=void 0;const t=oe,r=di,n=Ps,i=/^u?int(?<length>[0-9]*)?$/u,s=u=>!u.startsWith("u");e.isSigned=s;const o=u=>{if(u==="int"||u==="uint")return 256;const l=u.match(i);(0,t.assert)(l?.groups?.length,new r.ParserError(`Invalid number type. Expected a number type, but received "${u}".`));const y=parseInt(l.groups.length,10);return(0,t.assert)(y>=8&&y<=256,new r.ParserError(`Invalid number length. Expected a number between 8 and 256, but received "${u}".`)),(0,t.assert)(y%8===0,new r.ParserError(`Invalid number length. Expected a multiple of 8, but received "${u}".`)),y};e.getLength=o;const a=(u,l)=>{const y=(0,e.getLength)(l),A=BigInt(2)**BigInt(y-((0,e.isSigned)(l)?1:0))-BigInt(1);if((0,e.isSigned)(l)){(0,t.assert)(u>=-(A+BigInt(1))&&u<=A,new r.ParserError(`Number "${u}" is out of range for type "${l}".`));return}(0,t.assert)(u<=A,new r.ParserError(`Number "${u}" is out of range for type "${l}".`))};e.assertNumberLength=a;const c=u=>{try{return(0,t.createBigInt)(u)}catch{throw new r.ParserError(`Invalid number. Expected a valid number value, but received "${u}".`)}};e.getBigInt=c,e.number={isDynamic:!1,isType(u){return i.test(u)},getByteLength(){return 32},encode({type:u,buffer:l,value:y,packed:A}){const v=(0,e.getBigInt)(y);if((0,e.assertNumberLength)(v,u),(0,e.isSigned)(u)){if(A){const R=(0,e.getLength)(u)/8;return(0,t.concatBytes)([l,(0,t.signedBigIntToBytes)(v,R)])}return(0,t.concatBytes)([l,(0,n.padStart)((0,t.signedBigIntToBytes)(v,32))])}if(A){const R=(0,e.getLength)(u)/8;return(0,t.concatBytes)([l,(0,n.padStart)((0,t.bigIntToBytes)(v),R)])}return(0,t.concatBytes)([l,(0,n.padStart)((0,t.bigIntToBytes)(v))])},decode({type:u,value:l}){const y=l.subarray(0,32);if((0,e.isSigned)(u)){const v=(0,t.bytesToSignedBigInt)(y);return(0,e.assertNumberLength)(v,u),v}const A=(0,t.bytesToBigInt)(y);return(0,e.assertNumberLength)(A,u),A}}})(kp),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.bool=e.getBooleanValue=void 0;const t=oe,r=K2,n=di,i=kp,s=(0,r.coerce)((0,r.boolean)(),(0,r.union)([(0,r.literal)("true"),(0,r.literal)("false")]),a=>a==="true"),o=a=>{try{return(0,r.create)(a,s)?BigInt(1):BigInt(0)}catch{throw new n.ParserError(`Invalid boolean value. Expected a boolean literal, or the string "true" or "false", but received "${a}".`)}};e.getBooleanValue=o,e.bool={isDynamic:!1,isType:a=>a==="bool",getByteLength(){return 32},encode({buffer:a,value:c,packed:u,tight:l}){const y=(0,e.getBooleanValue)(c);return u?(0,t.concatBytes)([a,(0,t.bigIntToBytes)(y)]):i.number.encode({type:"uint256",buffer:a,value:y,packed:u,tight:l})},decode(a){return i.number.decode({...a,type:"uint256"})===BigInt(1)}}}(P2);var Wc={};Object.defineProperty(Wc,"__esModule",{value:!0}),Wc.bytes=void 0;const Kc=oe,Z2=Ps;Wc.bytes={isDynamic:!0,isType:e=>e==="bytes",getByteLength(){return 32},encode({buffer:e,value:t,packed:r}){const n=(0,Kc.createBytes)(t);if(r)return(0,Kc.concatBytes)([e,n]);const i=Math.ceil(n.byteLength/32)*32;return(0,Kc.concatBytes)([e,(0,Z2.padStart)((0,Kc.numberToBytes)(n.byteLength)),(0,Z2.padEnd)(n,i)])},decode({value:e}){const t=e.subarray(0,32),r=(0,Kc.bytesToNumber)(t);return e.slice(32,32+r)}};var G2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fn=e.getFunction=void 0;const t=oe,r=K2,n=di,i=bl,s=(0,r.coerce)((0,r.object)({address:t.StrictHexStruct,selector:t.StrictHexStruct}),(0,r.union)([t.StrictHexStruct,(0,r.instance)(Uint8Array)]),a=>{const c=(0,t.createBytes)(a);return(0,t.assert)(c.length===24,new n.ParserError(`Invalid Solidity function. Expected function to be 24 bytes long, but received ${c.length} bytes.`)),{address:(0,t.bytesToHex)(c.subarray(0,20)),selector:(0,t.bytesToHex)(c.subarray(20,24))}}),o=a=>{const c=(0,r.create)(a,s);return(0,t.concatBytes)([(0,t.hexToBytes)(c.address),(0,t.hexToBytes)(c.selector)])};e.getFunction=o,e.fn={isDynamic:!1,isType:a=>a==="function",getByteLength(){return 32},encode({buffer:a,value:c,packed:u,tight:l}){const y=(0,e.getFunction)(c);return i.fixedBytes.encode({type:"bytes24",buffer:a,value:y,packed:u,tight:l})},decode({value:a}){return{address:(0,t.bytesToHex)(a.slice(0,20)),selector:(0,t.bytesToHex)(a.slice(20,24))}}}})(G2);var Y2={};Object.defineProperty(Y2,"__esModule",{value:!0});var vl={};Object.defineProperty(vl,"__esModule",{value:!0}),vl.string=void 0;const X2=oe,J2=Wc;vl.string={isDynamic:!0,isType:e=>e==="string",getByteLength(){return 32},encode({buffer:e,value:t,packed:r,tight:n}){return J2.bytes.encode({type:"bytes",buffer:e,value:(0,X2.stringToBytes)(t),packed:r,tight:n})},decode(e){return(0,X2.bytesToString)(J2.bytes.decode(e))}};var Q2;function eE(){return Q2||(Q2=1,function(e){var t=ft&&ft.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=ft&&ft.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(L2,e),r(UO(),e),r(P2,e),r(Wc,e),r(bl,e),r(G2,e),r(kp,e),r(Y2,e),r(vl,e),r(M2(),e)}(_p)),_p}var tE;function Cp(){return tE||(tE=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.unpack=e.pack=e.isDynamicParser=e.getParser=void 0;const t=oe,r=di,n=ml,i=eE(),s=Ps,o=l=>{const y={address:i.address,array:i.array,bool:i.bool,bytes:i.bytes,fixedBytes:i.fixedBytes,function:i.fn,number:i.number,string:i.string,tuple:i.tuple},A=y[l];if(A)return A;const v=Object.values(y).find(R=>R.isType(l));if(v)return v;throw new r.ParserError(`The type "${l}" is not supported.`)};e.getParser=o;const a=(l,y)=>{const{isDynamic:A}=l;return typeof A=="function"?A(y):A};e.isDynamicParser=a;const c=({types:l,values:y,packed:A=!1,tight:v=!1,arrayPacked:R=!1,byteArray:O=new Uint8Array})=>{(0,t.assert)(l.length===y.length,new r.ParserError(`The number of types (${l.length}) does not match the number of values (${y.length}).`));const{staticBuffer:P,dynamicBuffer:H,pointers:F}=l.reduce(({staticBuffer:q,dynamicBuffer:G,pointers:Z},z,ee)=>{const se=(0,e.getParser)(z),Q=y[ee];if(A||R||!(0,e.isDynamicParser)(se,z))return{staticBuffer:se.encode({buffer:q,value:Q,type:z,packed:A,tight:v}),dynamicBuffer:G,pointers:Z};const I=(0,t.concatBytes)([q,new Uint8Array(32)]),g=se.encode({buffer:G,value:Q,type:z,packed:A,tight:v});return{staticBuffer:I,dynamicBuffer:g,pointers:[...Z,{position:q.length,pointer:G.length}]}},{staticBuffer:new Uint8Array,dynamicBuffer:new Uint8Array,pointers:[]});(0,t.assert)(!A&&!R||H.length===0,new r.ParserError("Invalid pack state."));const N=P.length,$=F.reduce((q,{pointer:G,position:Z})=>{const z=(0,s.padStart)((0,t.numberToBytes)(N+G));return(0,s.set)(q,z,Z)},P);return(0,t.concatBytes)([O,$,H])};e.pack=c;const u=(l,y)=>{const A=(0,n.iterate)(y);return l.map(v=>{const{value:{value:R,skip:O},done:P}=A.next();(0,t.assert)(!P,new r.ParserError(`The encoded value is invalid for the provided types. Reached end of buffer while attempting to parse "${v}".`));const H=(0,e.getParser)(v);if((0,e.isDynamicParser)(H,v)){const N=(0,t.bytesToNumber)(R.subarray(0,32)),$=y.subarray(N);return H.decode({type:v,value:$,skip:O})}return H.decode({type:v,value:R,skip:O})})};e.unpack=u}(vp)),vp}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeSingle=e.decode=e.encodePacked=e.encodeSingle=e.encode=void 0;const t=oe,r=di,n=Cp(),i=(u,l,y,A)=>{try{return(0,n.pack)({types:u,values:l,packed:y,tight:A})}catch(v){throw v instanceof r.ParserError?new r.ParserError(`Unable to encode value: ${v.message}`,v):new r.ParserError(`An unexpected error occurred: ${(0,r.getErrorMessage)(v)}`,v)}};e.encode=i;const s=(u,l)=>(0,e.encode)([u],[l]);e.encodeSingle=s;const o=(u,l,y)=>(0,e.encode)(u,l,!0,y);e.encodePacked=o;const a=(u,l)=>{const y=(0,t.createBytes)(l);try{return(0,n.unpack)(u,y)}catch(A){throw A instanceof r.ParserError?new r.ParserError(`Unable to decode value: ${A.message}`,A):new r.ParserError(`An unexpected error occurred: ${(0,r.getErrorMessage)(A)}`,A)}};e.decode=a;const c=(u,l)=>{const y=(0,e.decode)([u],l);return(0,t.assert)(y.length===1,new r.ParserError("Decoded value array has unexpected length.")),y[0]};e.decodeSingle=c})(k2);var rE={},nE={};Object.defineProperty(nE,"__esModule",{value:!0}),function(e){var t=ft&&ft.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=ft&&ft.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(nE,e)}(rE),function(e){var t=ft&&ft.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=ft&&ft.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(k2,e),r(di,e),r(rE,e)}(T2),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.recoverTypedSignature=e.signTypedData=e.typedSignatureHash=e.TypedDataUtils=e.TYPED_MESSAGE_SCHEMA=e.SignTypedDataVersion=void 0;const t=Jf,r=T2,n=eE(),i=Ps,s=oe,o=Wn,a=Qr;var c;(function(I){I.V1="V1",I.V3="V3",I.V4="V4"})(c=e.SignTypedDataVersion||(e.SignTypedDataVersion={})),e.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]};function u(I,g){if(Object.keys(c).includes(I)){if(g&&!g.includes(I))throw new Error(`SignTypedDataVersion not allowed: '${I}'. Allowed versions are: ${g.join(", ")}`)}else throw new Error(`Invalid version: '${I}'`)}function l(I,g){(0,s.assert)(g!==null,`Unable to encode value: Invalid number. Expected a valid number value, but received "${g}".`);const f=BigInt(g),h=(0,n.getLength)(I),m=BigInt(2)**BigInt(h)-BigInt(1);return(0,s.assert)(f>=-m&&f<=m,`Unable to encode value: Number "${g}" is out of range for type "${I}".`),f}function y(I){let g=BigInt(0);for(let f=0;f<I.length;f++){const h=BigInt(I.charCodeAt(f)-48);g*=BigInt(10),h>=49?g+=h-BigInt(49)+BigInt(10):h>=17?g+=h-BigInt(17)+BigInt(10):g+=h}return(0,i.padStart)((0,s.bigIntToBytes)(g),20)}function A(I,g,f,h,m){if(u(m,[c.V3,c.V4]),I[f]!==void 0)return["bytes32",m===c.V4&&h==null?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,t.arrToBufArr)((0,o.keccak256)(v(f,h,I,m)))];if(f==="function")throw new Error('Unsupported or invalid type: "function"');if(h===void 0)throw new Error(`missing value for field ${g} of type ${f}`);if(f==="address"){if(typeof h=="number")return["address",(0,i.padStart)((0,s.numberToBytes)(h),20)];if((0,s.isStrictHexString)(h))return["address",(0,s.add0x)(h)];if(typeof h=="string")return["address",y(h).subarray(0,20)]}if(f==="bool")return["bool",!!h];if(f==="bytes")return typeof h=="number"?h=(0,s.numberToBytes)(h):(0,s.isStrictHexString)(h)||h==="0x"?h=(0,s.hexToBytes)(h):typeof h=="string"&&(h=(0,s.stringToBytes)(h)),["bytes32",(0,t.arrToBufArr)((0,o.keccak256)(h))];if(f.startsWith("bytes")&&f!=="bytes"&&!f.includes("["))return typeof h=="number"?h<0?["bytes32",new Uint8Array(32)]:["bytes32",(0,s.bigIntToBytes)(BigInt(h))]:(0,s.isStrictHexString)(h)?["bytes32",(0,s.hexToBytes)(h)]:["bytes32",h];if(f.startsWith("int")&&!f.includes("[")){const _=l(f,h);return _>=BigInt(0)?["uint256",_]:["int256",_]}if(f==="string")return typeof h=="number"?h=(0,s.numberToBytes)(h):h=(0,s.stringToBytes)(h??""),["bytes32",(0,t.arrToBufArr)((0,o.keccak256)(h))];if(f.endsWith("]")){if(m===c.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const _=f.slice(0,f.lastIndexOf("[")),E=h.map(x=>A(I,g,_,x,m));return["bytes32",(0,t.arrToBufArr)((0,o.keccak256)((0,r.encode)(E.map(([x])=>x),E.map(([,x])=>x))))]}return[f,h]}function v(I,g,f,h){u(h,[c.V3,c.V4]);const m=["bytes32"],_=[H(I,f)];for(const E of f[I]){if(h===c.V3&&g[E.name]===void 0)continue;const[x,T]=A(f,E.name,E.type,g[E.name],h);m.push(x),_.push(T)}return(0,t.arrToBufArr)((0,r.encode)(m,_))}function R(I,g){let f="";const h=O(I,g);h.delete(I);const m=[I,...Array.from(h).sort()];for(const _ of m){if(!g[_])throw new Error(`No type definition specified: ${_}`);f+=`${_}(${g[_].map(({name:x,type:T})=>`${T} ${x}`).join(",")})`}return f}function O(I,g,f=new Set){if(typeof I!="string")throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(I)}`);if([I]=I.match(/^\w*/u),f.has(I)||g[I]===void 0)return f;f.add(I);for(const m of g[I])O(m.type,g,f);return f}function P(I,g,f,h){u(h,[c.V3,c.V4]);const m=v(I,g,f,h),_=(0,o.keccak256)(m);return(0,t.arrToBufArr)(_)}function H(I,g){const f=(0,s.stringToBytes)(R(I,g));return(0,t.arrToBufArr)((0,o.keccak256)(f))}function F(I){const g={};for(const f in e.TYPED_MESSAGE_SCHEMA.properties)I[f]&&(g[f]=I[f]);return"types"in g&&(g.types=Object.assign({EIP712Domain:[]},g.types)),g}function N(I,g){u(g,[c.V3,c.V4]);const f=F(I),{domain:h}=f,m={EIP712Domain:f.types.EIP712Domain};return P("EIP712Domain",h,m,g)}function $(I,g){u(g,[c.V3,c.V4]);const f=F(I),h=[(0,s.hexToBytes)("1901")];return h.push(N(I,g)),f.primaryType!=="EIP712Domain"&&h.push(P(f.primaryType,f.message,f.types,g)),(0,t.arrToBufArr)((0,o.keccak256)((0,s.concatBytes)(h)))}e.TypedDataUtils={encodeData:v,encodeType:R,findTypeDependencies:O,hashStruct:P,hashType:H,sanitizeData:F,eip712Hash:$,eip712DomainHash:N};function q(I){const g=ee(I);return(0,s.bytesToHex)(g)}e.typedSignatureHash=q;function G(I,g){if((0,n.isArrayType)(I)&&Array.isArray(g)){const[f]=(0,n.getArrayType)(I);return g.map(h=>G(f,h))}if(I==="address"){if(typeof g=="number")return(0,i.padStart)((0,s.numberToBytes)(g),20);if((0,s.isStrictHexString)(g))return(0,i.padStart)((0,s.hexToBytes)(g).subarray(0,20),20);if(g instanceof Uint8Array)return(0,i.padStart)(g.subarray(0,20),20)}if(I==="bool")return!!g;if(I.startsWith("bytes")&&I!=="bytes"){const f=(0,n.getByteLength)(I);if(typeof g=="number")return g<0?new Uint8Array:(0,s.numberToBytes)(g).subarray(0,f);if((0,s.isStrictHexString)(g))return(0,s.hexToBytes)(g).subarray(0,f);if(g instanceof Uint8Array)return g.subarray(0,f)}if(I.startsWith("uint")&&typeof g=="number")return Math.abs(g);if(I.startsWith("int")&&typeof g=="number"){const f=(0,n.getLength)(I);return BigInt.asIntN(f,BigInt(g))}return g}function Z(I){return I.map(g=>typeof g=="number"?(0,i.padStart)((0,s.numberToBytes)(g),32):(0,s.isStrictHexString)(g)?(0,i.padStart)((0,s.hexToBytes)(g).subarray(0,32),32):g instanceof Uint8Array?(0,i.padStart)(g.subarray(0,32),32):g)}function z(I,g){return g.map(f=>{if(typeof f=="string"||typeof f=="number"||typeof f=="bigint"){const h=l(I,f);if(h>=BigInt(0))return(0,i.padStart)((0,s.bigIntToBytes)(h),32);const m=(0,n.getLength)(I),_=BigInt.asIntN(m,h);return(0,s.signedBigIntToBytes)(_,32)}return f})}function ee(I){const g=new Error("Expect argument to be non-empty array");if(typeof I!="object"||!("length"in I)||!I.length)throw g;const f=I.map(({name:E,type:x,value:T})=>{if(x==="address[]")return{name:E,type:"bytes32[]",value:Z(T)};if(x.startsWith("int")&&(0,n.isArrayType)(x)){const[B,d]=(0,n.getArrayType)(x);return{name:E,type:`bytes32[${d??""}]`,value:z(B,T)}}return{name:E,type:x,value:G(x,T)}}),h=f.map(E=>E.type!=="bytes"?E.value:(0,a.legacyToBuffer)(E.value)),m=f.map(E=>{if(E.type==="function")throw new Error('Unsupported or invalid type: "function"');return E.type}),_=I.map(E=>{if(!E.name)throw g;return`${E.type} ${E.name}`});return(0,t.arrToBufArr)((0,o.keccak256)((0,r.encodePacked)(["bytes32","bytes32"],[(0,o.keccak256)((0,r.encodePacked)(["string[]"],[_],!0)),(0,o.keccak256)((0,r.encodePacked)(m,h,!0))])))}function se({privateKey:I,data:g,version:f}){if(u(f),(0,a.isNullish)(g))throw new Error("Missing data parameter");if((0,a.isNullish)(I))throw new Error("Missing private key parameter");const h=f===c.V1?ee(g):e.TypedDataUtils.eip712Hash(g,f),m=(0,t.ecsign)(h,I);return(0,a.concatSig)((0,t.arrToBufArr)((0,s.bigIntToBytes)(m.v)),m.r,m.s)}e.signTypedData=se;function Q({data:I,signature:g,version:f}){if(u(f),(0,a.isNullish)(I))throw new Error("Missing data parameter");if((0,a.isNullish)(g))throw new Error("Missing signature parameter");const h=f===c.V1?ee(I):e.TypedDataUtils.eip712Hash(I,f),m=(0,a.recoverPublicKey)(h,g),_=(0,t.publicToAddress)(m);return(0,s.bytesToHex)(_)}e.recoverTypedSignature=Q}(R2);var ti={},iE={exports:{}};(function(e){(function(t){var r=function(S){var L,M=new Float64Array(16);if(S)for(L=0;L<S.length;L++)M[L]=S[L];return M},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=r(),a=r([1]),c=r([56129,1]),u=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),y=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),A=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),v=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function R(S,L,M,p){S[L]=M>>24&255,S[L+1]=M>>16&255,S[L+2]=M>>8&255,S[L+3]=M&255,S[L+4]=p>>24&255,S[L+5]=p>>16&255,S[L+6]=p>>8&255,S[L+7]=p&255}function O(S,L,M,p,U){var J,Y=0;for(J=0;J<U;J++)Y|=S[L+J]^M[p+J];return(1&Y-1>>>8)-1}function P(S,L,M,p){return O(S,L,M,p,16)}function H(S,L,M,p){return O(S,L,M,p,32)}function F(S,L,M,p){for(var U=p[0]&255|(p[1]&255)<<8|(p[2]&255)<<16|(p[3]&255)<<24,J=M[0]&255|(M[1]&255)<<8|(M[2]&255)<<16|(M[3]&255)<<24,Y=M[4]&255|(M[5]&255)<<8|(M[6]&255)<<16|(M[7]&255)<<24,ue=M[8]&255|(M[9]&255)<<8|(M[10]&255)<<16|(M[11]&255)<<24,_e=M[12]&255|(M[13]&255)<<8|(M[14]&255)<<16|(M[15]&255)<<24,Ae=p[4]&255|(p[5]&255)<<8|(p[6]&255)<<16|(p[7]&255)<<24,Ee=L[0]&255|(L[1]&255)<<8|(L[2]&255)<<16|(L[3]&255)<<24,Bt=L[4]&255|(L[5]&255)<<8|(L[6]&255)<<16|(L[7]&255)<<24,Le=L[8]&255|(L[9]&255)<<8|(L[10]&255)<<16|(L[11]&255)<<24,Ke=L[12]&255|(L[13]&255)<<8|(L[14]&255)<<16|(L[15]&255)<<24,Ye=p[8]&255|(p[9]&255)<<8|(p[10]&255)<<16|(p[11]&255)<<24,lt=M[16]&255|(M[17]&255)<<8|(M[18]&255)<<16|(M[19]&255)<<24,ct=M[20]&255|(M[21]&255)<<8|(M[22]&255)<<16|(M[23]&255)<<24,Xe=M[24]&255|(M[25]&255)<<8|(M[26]&255)<<16|(M[27]&255)<<24,rt=M[28]&255|(M[29]&255)<<8|(M[30]&255)<<16|(M[31]&255)<<24,Je=p[12]&255|(p[13]&255)<<8|(p[14]&255)<<16|(p[15]&255)<<24,$e=U,De=J,Re=Y,Me=ue,Ne=_e,Ie=Ae,ce=Ee,fe=Bt,ye=Le,he=Ke,de=Ye,ve=lt,Ve=ct,gt=Xe,wt=rt,yt=Je,j,Et=0;Et<20;Et+=2)j=$e+Ve|0,Ne^=j<<7|j>>>32-7,j=Ne+$e|0,ye^=j<<9|j>>>32-9,j=ye+Ne|0,Ve^=j<<13|j>>>32-13,j=Ve+ye|0,$e^=j<<18|j>>>32-18,j=Ie+De|0,he^=j<<7|j>>>32-7,j=he+Ie|0,gt^=j<<9|j>>>32-9,j=gt+he|0,De^=j<<13|j>>>32-13,j=De+gt|0,Ie^=j<<18|j>>>32-18,j=de+ce|0,wt^=j<<7|j>>>32-7,j=wt+de|0,Re^=j<<9|j>>>32-9,j=Re+wt|0,ce^=j<<13|j>>>32-13,j=ce+Re|0,de^=j<<18|j>>>32-18,j=yt+ve|0,Me^=j<<7|j>>>32-7,j=Me+yt|0,fe^=j<<9|j>>>32-9,j=fe+Me|0,ve^=j<<13|j>>>32-13,j=ve+fe|0,yt^=j<<18|j>>>32-18,j=$e+Me|0,De^=j<<7|j>>>32-7,j=De+$e|0,Re^=j<<9|j>>>32-9,j=Re+De|0,Me^=j<<13|j>>>32-13,j=Me+Re|0,$e^=j<<18|j>>>32-18,j=Ie+Ne|0,ce^=j<<7|j>>>32-7,j=ce+Ie|0,fe^=j<<9|j>>>32-9,j=fe+ce|0,Ne^=j<<13|j>>>32-13,j=Ne+fe|0,Ie^=j<<18|j>>>32-18,j=de+he|0,ve^=j<<7|j>>>32-7,j=ve+de|0,ye^=j<<9|j>>>32-9,j=ye+ve|0,he^=j<<13|j>>>32-13,j=he+ye|0,de^=j<<18|j>>>32-18,j=yt+wt|0,Ve^=j<<7|j>>>32-7,j=Ve+yt|0,gt^=j<<9|j>>>32-9,j=gt+Ve|0,wt^=j<<13|j>>>32-13,j=wt+gt|0,yt^=j<<18|j>>>32-18;$e=$e+U|0,De=De+J|0,Re=Re+Y|0,Me=Me+ue|0,Ne=Ne+_e|0,Ie=Ie+Ae|0,ce=ce+Ee|0,fe=fe+Bt|0,ye=ye+Le|0,he=he+Ke|0,de=de+Ye|0,ve=ve+lt|0,Ve=Ve+ct|0,gt=gt+Xe|0,wt=wt+rt|0,yt=yt+Je|0,S[0]=$e>>>0&255,S[1]=$e>>>8&255,S[2]=$e>>>16&255,S[3]=$e>>>24&255,S[4]=De>>>0&255,S[5]=De>>>8&255,S[6]=De>>>16&255,S[7]=De>>>24&255,S[8]=Re>>>0&255,S[9]=Re>>>8&255,S[10]=Re>>>16&255,S[11]=Re>>>24&255,S[12]=Me>>>0&255,S[13]=Me>>>8&255,S[14]=Me>>>16&255,S[15]=Me>>>24&255,S[16]=Ne>>>0&255,S[17]=Ne>>>8&255,S[18]=Ne>>>16&255,S[19]=Ne>>>24&255,S[20]=Ie>>>0&255,S[21]=Ie>>>8&255,S[22]=Ie>>>16&255,S[23]=Ie>>>24&255,S[24]=ce>>>0&255,S[25]=ce>>>8&255,S[26]=ce>>>16&255,S[27]=ce>>>24&255,S[28]=fe>>>0&255,S[29]=fe>>>8&255,S[30]=fe>>>16&255,S[31]=fe>>>24&255,S[32]=ye>>>0&255,S[33]=ye>>>8&255,S[34]=ye>>>16&255,S[35]=ye>>>24&255,S[36]=he>>>0&255,S[37]=he>>>8&255,S[38]=he>>>16&255,S[39]=he>>>24&255,S[40]=de>>>0&255,S[41]=de>>>8&255,S[42]=de>>>16&255,S[43]=de>>>24&255,S[44]=ve>>>0&255,S[45]=ve>>>8&255,S[46]=ve>>>16&255,S[47]=ve>>>24&255,S[48]=Ve>>>0&255,S[49]=Ve>>>8&255,S[50]=Ve>>>16&255,S[51]=Ve>>>24&255,S[52]=gt>>>0&255,S[53]=gt>>>8&255,S[54]=gt>>>16&255,S[55]=gt>>>24&255,S[56]=wt>>>0&255,S[57]=wt>>>8&255,S[58]=wt>>>16&255,S[59]=wt>>>24&255,S[60]=yt>>>0&255,S[61]=yt>>>8&255,S[62]=yt>>>16&255,S[63]=yt>>>24&255}function N(S,L,M,p){for(var U=p[0]&255|(p[1]&255)<<8|(p[2]&255)<<16|(p[3]&255)<<24,J=M[0]&255|(M[1]&255)<<8|(M[2]&255)<<16|(M[3]&255)<<24,Y=M[4]&255|(M[5]&255)<<8|(M[6]&255)<<16|(M[7]&255)<<24,ue=M[8]&255|(M[9]&255)<<8|(M[10]&255)<<16|(M[11]&255)<<24,_e=M[12]&255|(M[13]&255)<<8|(M[14]&255)<<16|(M[15]&255)<<24,Ae=p[4]&255|(p[5]&255)<<8|(p[6]&255)<<16|(p[7]&255)<<24,Ee=L[0]&255|(L[1]&255)<<8|(L[2]&255)<<16|(L[3]&255)<<24,Bt=L[4]&255|(L[5]&255)<<8|(L[6]&255)<<16|(L[7]&255)<<24,Le=L[8]&255|(L[9]&255)<<8|(L[10]&255)<<16|(L[11]&255)<<24,Ke=L[12]&255|(L[13]&255)<<8|(L[14]&255)<<16|(L[15]&255)<<24,Ye=p[8]&255|(p[9]&255)<<8|(p[10]&255)<<16|(p[11]&255)<<24,lt=M[16]&255|(M[17]&255)<<8|(M[18]&255)<<16|(M[19]&255)<<24,ct=M[20]&255|(M[21]&255)<<8|(M[22]&255)<<16|(M[23]&255)<<24,Xe=M[24]&255|(M[25]&255)<<8|(M[26]&255)<<16|(M[27]&255)<<24,rt=M[28]&255|(M[29]&255)<<8|(M[30]&255)<<16|(M[31]&255)<<24,Je=p[12]&255|(p[13]&255)<<8|(p[14]&255)<<16|(p[15]&255)<<24,$e=U,De=J,Re=Y,Me=ue,Ne=_e,Ie=Ae,ce=Ee,fe=Bt,ye=Le,he=Ke,de=Ye,ve=lt,Ve=ct,gt=Xe,wt=rt,yt=Je,j,Et=0;Et<20;Et+=2)j=$e+Ve|0,Ne^=j<<7|j>>>32-7,j=Ne+$e|0,ye^=j<<9|j>>>32-9,j=ye+Ne|0,Ve^=j<<13|j>>>32-13,j=Ve+ye|0,$e^=j<<18|j>>>32-18,j=Ie+De|0,he^=j<<7|j>>>32-7,j=he+Ie|0,gt^=j<<9|j>>>32-9,j=gt+he|0,De^=j<<13|j>>>32-13,j=De+gt|0,Ie^=j<<18|j>>>32-18,j=de+ce|0,wt^=j<<7|j>>>32-7,j=wt+de|0,Re^=j<<9|j>>>32-9,j=Re+wt|0,ce^=j<<13|j>>>32-13,j=ce+Re|0,de^=j<<18|j>>>32-18,j=yt+ve|0,Me^=j<<7|j>>>32-7,j=Me+yt|0,fe^=j<<9|j>>>32-9,j=fe+Me|0,ve^=j<<13|j>>>32-13,j=ve+fe|0,yt^=j<<18|j>>>32-18,j=$e+Me|0,De^=j<<7|j>>>32-7,j=De+$e|0,Re^=j<<9|j>>>32-9,j=Re+De|0,Me^=j<<13|j>>>32-13,j=Me+Re|0,$e^=j<<18|j>>>32-18,j=Ie+Ne|0,ce^=j<<7|j>>>32-7,j=ce+Ie|0,fe^=j<<9|j>>>32-9,j=fe+ce|0,Ne^=j<<13|j>>>32-13,j=Ne+fe|0,Ie^=j<<18|j>>>32-18,j=de+he|0,ve^=j<<7|j>>>32-7,j=ve+de|0,ye^=j<<9|j>>>32-9,j=ye+ve|0,he^=j<<13|j>>>32-13,j=he+ye|0,de^=j<<18|j>>>32-18,j=yt+wt|0,Ve^=j<<7|j>>>32-7,j=Ve+yt|0,gt^=j<<9|j>>>32-9,j=gt+Ve|0,wt^=j<<13|j>>>32-13,j=wt+gt|0,yt^=j<<18|j>>>32-18;S[0]=$e>>>0&255,S[1]=$e>>>8&255,S[2]=$e>>>16&255,S[3]=$e>>>24&255,S[4]=Ie>>>0&255,S[5]=Ie>>>8&255,S[6]=Ie>>>16&255,S[7]=Ie>>>24&255,S[8]=de>>>0&255,S[9]=de>>>8&255,S[10]=de>>>16&255,S[11]=de>>>24&255,S[12]=yt>>>0&255,S[13]=yt>>>8&255,S[14]=yt>>>16&255,S[15]=yt>>>24&255,S[16]=ce>>>0&255,S[17]=ce>>>8&255,S[18]=ce>>>16&255,S[19]=ce>>>24&255,S[20]=fe>>>0&255,S[21]=fe>>>8&255,S[22]=fe>>>16&255,S[23]=fe>>>24&255,S[24]=ye>>>0&255,S[25]=ye>>>8&255,S[26]=ye>>>16&255,S[27]=ye>>>24&255,S[28]=he>>>0&255,S[29]=he>>>8&255,S[30]=he>>>16&255,S[31]=he>>>24&255}function $(S,L,M,p){F(S,L,M,p)}function q(S,L,M,p){N(S,L,M,p)}var G=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function Z(S,L,M,p,U,J,Y){var ue=new Uint8Array(16),_e=new Uint8Array(64),Ae,Ee;for(Ee=0;Ee<16;Ee++)ue[Ee]=0;for(Ee=0;Ee<8;Ee++)ue[Ee]=J[Ee];for(;U>=64;){for($(_e,ue,Y,G),Ee=0;Ee<64;Ee++)S[L+Ee]=M[p+Ee]^_e[Ee];for(Ae=1,Ee=8;Ee<16;Ee++)Ae=Ae+(ue[Ee]&255)|0,ue[Ee]=Ae&255,Ae>>>=8;U-=64,L+=64,p+=64}if(U>0)for($(_e,ue,Y,G),Ee=0;Ee<U;Ee++)S[L+Ee]=M[p+Ee]^_e[Ee];return 0}function z(S,L,M,p,U){var J=new Uint8Array(16),Y=new Uint8Array(64),ue,_e;for(_e=0;_e<16;_e++)J[_e]=0;for(_e=0;_e<8;_e++)J[_e]=p[_e];for(;M>=64;){for($(Y,J,U,G),_e=0;_e<64;_e++)S[L+_e]=Y[_e];for(ue=1,_e=8;_e<16;_e++)ue=ue+(J[_e]&255)|0,J[_e]=ue&255,ue>>>=8;M-=64,L+=64}if(M>0)for($(Y,J,U,G),_e=0;_e<M;_e++)S[L+_e]=Y[_e];return 0}function ee(S,L,M,p,U){var J=new Uint8Array(32);q(J,p,U,G);for(var Y=new Uint8Array(8),ue=0;ue<8;ue++)Y[ue]=p[ue+16];return z(S,L,M,Y,J)}function se(S,L,M,p,U,J,Y){var ue=new Uint8Array(32);q(ue,J,Y,G);for(var _e=new Uint8Array(8),Ae=0;Ae<8;Ae++)_e[Ae]=J[Ae+16];return Z(S,L,M,p,U,_e,ue)}var Q=function(S){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var L,M,p,U,J,Y,ue,_e;L=S[0]&255|(S[1]&255)<<8,this.r[0]=L&8191,M=S[2]&255|(S[3]&255)<<8,this.r[1]=(L>>>13|M<<3)&8191,p=S[4]&255|(S[5]&255)<<8,this.r[2]=(M>>>10|p<<6)&7939,U=S[6]&255|(S[7]&255)<<8,this.r[3]=(p>>>7|U<<9)&8191,J=S[8]&255|(S[9]&255)<<8,this.r[4]=(U>>>4|J<<12)&255,this.r[5]=J>>>1&8190,Y=S[10]&255|(S[11]&255)<<8,this.r[6]=(J>>>14|Y<<2)&8191,ue=S[12]&255|(S[13]&255)<<8,this.r[7]=(Y>>>11|ue<<5)&8065,_e=S[14]&255|(S[15]&255)<<8,this.r[8]=(ue>>>8|_e<<8)&8191,this.r[9]=_e>>>5&127,this.pad[0]=S[16]&255|(S[17]&255)<<8,this.pad[1]=S[18]&255|(S[19]&255)<<8,this.pad[2]=S[20]&255|(S[21]&255)<<8,this.pad[3]=S[22]&255|(S[23]&255)<<8,this.pad[4]=S[24]&255|(S[25]&255)<<8,this.pad[5]=S[26]&255|(S[27]&255)<<8,this.pad[6]=S[28]&255|(S[29]&255)<<8,this.pad[7]=S[30]&255|(S[31]&255)<<8};Q.prototype.blocks=function(S,L,M){for(var p=this.fin?0:2048,U,J,Y,ue,_e,Ae,Ee,Bt,Le,Ke,Ye,lt,ct,Xe,rt,Je,$e,De,Re,Me=this.h[0],Ne=this.h[1],Ie=this.h[2],ce=this.h[3],fe=this.h[4],ye=this.h[5],he=this.h[6],de=this.h[7],ve=this.h[8],Ve=this.h[9],gt=this.r[0],wt=this.r[1],yt=this.r[2],j=this.r[3],Et=this.r[4],Ot=this.r[5],Mt=this.r[6],_t=this.r[7],Ct=this.r[8],Lt=this.r[9];M>=16;)U=S[L+0]&255|(S[L+1]&255)<<8,Me+=U&8191,J=S[L+2]&255|(S[L+3]&255)<<8,Ne+=(U>>>13|J<<3)&8191,Y=S[L+4]&255|(S[L+5]&255)<<8,Ie+=(J>>>10|Y<<6)&8191,ue=S[L+6]&255|(S[L+7]&255)<<8,ce+=(Y>>>7|ue<<9)&8191,_e=S[L+8]&255|(S[L+9]&255)<<8,fe+=(ue>>>4|_e<<12)&8191,ye+=_e>>>1&8191,Ae=S[L+10]&255|(S[L+11]&255)<<8,he+=(_e>>>14|Ae<<2)&8191,Ee=S[L+12]&255|(S[L+13]&255)<<8,de+=(Ae>>>11|Ee<<5)&8191,Bt=S[L+14]&255|(S[L+15]&255)<<8,ve+=(Ee>>>8|Bt<<8)&8191,Ve+=Bt>>>5|p,Le=0,Ke=Le,Ke+=Me*gt,Ke+=Ne*(5*Lt),Ke+=Ie*(5*Ct),Ke+=ce*(5*_t),Ke+=fe*(5*Mt),Le=Ke>>>13,Ke&=8191,Ke+=ye*(5*Ot),Ke+=he*(5*Et),Ke+=de*(5*j),Ke+=ve*(5*yt),Ke+=Ve*(5*wt),Le+=Ke>>>13,Ke&=8191,Ye=Le,Ye+=Me*wt,Ye+=Ne*gt,Ye+=Ie*(5*Lt),Ye+=ce*(5*Ct),Ye+=fe*(5*_t),Le=Ye>>>13,Ye&=8191,Ye+=ye*(5*Mt),Ye+=he*(5*Ot),Ye+=de*(5*Et),Ye+=ve*(5*j),Ye+=Ve*(5*yt),Le+=Ye>>>13,Ye&=8191,lt=Le,lt+=Me*yt,lt+=Ne*wt,lt+=Ie*gt,lt+=ce*(5*Lt),lt+=fe*(5*Ct),Le=lt>>>13,lt&=8191,lt+=ye*(5*_t),lt+=he*(5*Mt),lt+=de*(5*Ot),lt+=ve*(5*Et),lt+=Ve*(5*j),Le+=lt>>>13,lt&=8191,ct=Le,ct+=Me*j,ct+=Ne*yt,ct+=Ie*wt,ct+=ce*gt,ct+=fe*(5*Lt),Le=ct>>>13,ct&=8191,ct+=ye*(5*Ct),ct+=he*(5*_t),ct+=de*(5*Mt),ct+=ve*(5*Ot),ct+=Ve*(5*Et),Le+=ct>>>13,ct&=8191,Xe=Le,Xe+=Me*Et,Xe+=Ne*j,Xe+=Ie*yt,Xe+=ce*wt,Xe+=fe*gt,Le=Xe>>>13,Xe&=8191,Xe+=ye*(5*Lt),Xe+=he*(5*Ct),Xe+=de*(5*_t),Xe+=ve*(5*Mt),Xe+=Ve*(5*Ot),Le+=Xe>>>13,Xe&=8191,rt=Le,rt+=Me*Ot,rt+=Ne*Et,rt+=Ie*j,rt+=ce*yt,rt+=fe*wt,Le=rt>>>13,rt&=8191,rt+=ye*gt,rt+=he*(5*Lt),rt+=de*(5*Ct),rt+=ve*(5*_t),rt+=Ve*(5*Mt),Le+=rt>>>13,rt&=8191,Je=Le,Je+=Me*Mt,Je+=Ne*Ot,Je+=Ie*Et,Je+=ce*j,Je+=fe*yt,Le=Je>>>13,Je&=8191,Je+=ye*wt,Je+=he*gt,Je+=de*(5*Lt),Je+=ve*(5*Ct),Je+=Ve*(5*_t),Le+=Je>>>13,Je&=8191,$e=Le,$e+=Me*_t,$e+=Ne*Mt,$e+=Ie*Ot,$e+=ce*Et,$e+=fe*j,Le=$e>>>13,$e&=8191,$e+=ye*yt,$e+=he*wt,$e+=de*gt,$e+=ve*(5*Lt),$e+=Ve*(5*Ct),Le+=$e>>>13,$e&=8191,De=Le,De+=Me*Ct,De+=Ne*_t,De+=Ie*Mt,De+=ce*Ot,De+=fe*Et,Le=De>>>13,De&=8191,De+=ye*j,De+=he*yt,De+=de*wt,De+=ve*gt,De+=Ve*(5*Lt),Le+=De>>>13,De&=8191,Re=Le,Re+=Me*Lt,Re+=Ne*Ct,Re+=Ie*_t,Re+=ce*Mt,Re+=fe*Ot,Le=Re>>>13,Re&=8191,Re+=ye*Et,Re+=he*j,Re+=de*yt,Re+=ve*wt,Re+=Ve*gt,Le+=Re>>>13,Re&=8191,Le=(Le<<2)+Le|0,Le=Le+Ke|0,Ke=Le&8191,Le=Le>>>13,Ye+=Le,Me=Ke,Ne=Ye,Ie=lt,ce=ct,fe=Xe,ye=rt,he=Je,de=$e,ve=De,Ve=Re,L+=16,M-=16;this.h[0]=Me,this.h[1]=Ne,this.h[2]=Ie,this.h[3]=ce,this.h[4]=fe,this.h[5]=ye,this.h[6]=he,this.h[7]=de,this.h[8]=ve,this.h[9]=Ve},Q.prototype.finish=function(S,L){var M=new Uint16Array(10),p,U,J,Y;if(this.leftover){for(Y=this.leftover,this.buffer[Y++]=1;Y<16;Y++)this.buffer[Y]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(p=this.h[1]>>>13,this.h[1]&=8191,Y=2;Y<10;Y++)this.h[Y]+=p,p=this.h[Y]>>>13,this.h[Y]&=8191;for(this.h[0]+=p*5,p=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=p,p=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=p,M[0]=this.h[0]+5,p=M[0]>>>13,M[0]&=8191,Y=1;Y<10;Y++)M[Y]=this.h[Y]+p,p=M[Y]>>>13,M[Y]&=8191;for(M[9]-=8192,U=(p^1)-1,Y=0;Y<10;Y++)M[Y]&=U;for(U=~U,Y=0;Y<10;Y++)this.h[Y]=this.h[Y]&U|M[Y];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,J=this.h[0]+this.pad[0],this.h[0]=J&65535,Y=1;Y<8;Y++)J=(this.h[Y]+this.pad[Y]|0)+(J>>>16)|0,this.h[Y]=J&65535;S[L+0]=this.h[0]>>>0&255,S[L+1]=this.h[0]>>>8&255,S[L+2]=this.h[1]>>>0&255,S[L+3]=this.h[1]>>>8&255,S[L+4]=this.h[2]>>>0&255,S[L+5]=this.h[2]>>>8&255,S[L+6]=this.h[3]>>>0&255,S[L+7]=this.h[3]>>>8&255,S[L+8]=this.h[4]>>>0&255,S[L+9]=this.h[4]>>>8&255,S[L+10]=this.h[5]>>>0&255,S[L+11]=this.h[5]>>>8&255,S[L+12]=this.h[6]>>>0&255,S[L+13]=this.h[6]>>>8&255,S[L+14]=this.h[7]>>>0&255,S[L+15]=this.h[7]>>>8&255},Q.prototype.update=function(S,L,M){var p,U;if(this.leftover){for(U=16-this.leftover,U>M&&(U=M),p=0;p<U;p++)this.buffer[this.leftover+p]=S[L+p];if(M-=U,L+=U,this.leftover+=U,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(M>=16&&(U=M-M%16,this.blocks(S,L,U),L+=U,M-=U),M){for(p=0;p<M;p++)this.buffer[this.leftover+p]=S[L+p];this.leftover+=M}};function I(S,L,M,p,U,J){var Y=new Q(J);return Y.update(M,p,U),Y.finish(S,L),0}function g(S,L,M,p,U,J){var Y=new Uint8Array(16);return I(Y,0,M,p,U,J),P(S,L,Y,0)}function f(S,L,M,p,U){var J;if(M<32)return-1;for(se(S,0,L,0,M,p,U),I(S,16,S,32,M-32,S),J=0;J<16;J++)S[J]=0;return 0}function h(S,L,M,p,U){var J,Y=new Uint8Array(32);if(M<32||(ee(Y,0,32,p,U),g(L,16,L,32,M-32,Y)!==0))return-1;for(se(S,0,L,0,M,p,U),J=0;J<32;J++)S[J]=0;return 0}function m(S,L){var M;for(M=0;M<16;M++)S[M]=L[M]|0}function _(S){var L,M,p=1;for(L=0;L<16;L++)M=S[L]+p+65535,p=Math.floor(M/65536),S[L]=M-p*65536;S[0]+=p-1+37*(p-1)}function E(S,L,M){for(var p,U=~(M-1),J=0;J<16;J++)p=U&(S[J]^L[J]),S[J]^=p,L[J]^=p}function x(S,L){var M,p,U,J=r(),Y=r();for(M=0;M<16;M++)Y[M]=L[M];for(_(Y),_(Y),_(Y),p=0;p<2;p++){for(J[0]=Y[0]-65517,M=1;M<15;M++)J[M]=Y[M]-65535-(J[M-1]>>16&1),J[M-1]&=65535;J[15]=Y[15]-32767-(J[14]>>16&1),U=J[15]>>16&1,J[14]&=65535,E(Y,J,1-U)}for(M=0;M<16;M++)S[2*M]=Y[M]&255,S[2*M+1]=Y[M]>>8}function T(S,L){var M=new Uint8Array(32),p=new Uint8Array(32);return x(M,S),x(p,L),H(M,0,p,0)}function B(S){var L=new Uint8Array(32);return x(L,S),L[0]&1}function d(S,L){var M;for(M=0;M<16;M++)S[M]=L[2*M]+(L[2*M+1]<<8);S[15]&=32767}function k(S,L,M){for(var p=0;p<16;p++)S[p]=L[p]+M[p]}function W(S,L,M){for(var p=0;p<16;p++)S[p]=L[p]-M[p]}function K(S,L,M){var p,U,J=0,Y=0,ue=0,_e=0,Ae=0,Ee=0,Bt=0,Le=0,Ke=0,Ye=0,lt=0,ct=0,Xe=0,rt=0,Je=0,$e=0,De=0,Re=0,Me=0,Ne=0,Ie=0,ce=0,fe=0,ye=0,he=0,de=0,ve=0,Ve=0,gt=0,wt=0,yt=0,j=M[0],Et=M[1],Ot=M[2],Mt=M[3],_t=M[4],Ct=M[5],Lt=M[6],Tr=M[7],Kt=M[8],Er=M[9],xr=M[10],Sr=M[11],Ur=M[12],cn=M[13],fn=M[14],un=M[15];p=L[0],J+=p*j,Y+=p*Et,ue+=p*Ot,_e+=p*Mt,Ae+=p*_t,Ee+=p*Ct,Bt+=p*Lt,Le+=p*Tr,Ke+=p*Kt,Ye+=p*Er,lt+=p*xr,ct+=p*Sr,Xe+=p*Ur,rt+=p*cn,Je+=p*fn,$e+=p*un,p=L[1],Y+=p*j,ue+=p*Et,_e+=p*Ot,Ae+=p*Mt,Ee+=p*_t,Bt+=p*Ct,Le+=p*Lt,Ke+=p*Tr,Ye+=p*Kt,lt+=p*Er,ct+=p*xr,Xe+=p*Sr,rt+=p*Ur,Je+=p*cn,$e+=p*fn,De+=p*un,p=L[2],ue+=p*j,_e+=p*Et,Ae+=p*Ot,Ee+=p*Mt,Bt+=p*_t,Le+=p*Ct,Ke+=p*Lt,Ye+=p*Tr,lt+=p*Kt,ct+=p*Er,Xe+=p*xr,rt+=p*Sr,Je+=p*Ur,$e+=p*cn,De+=p*fn,Re+=p*un,p=L[3],_e+=p*j,Ae+=p*Et,Ee+=p*Ot,Bt+=p*Mt,Le+=p*_t,Ke+=p*Ct,Ye+=p*Lt,lt+=p*Tr,ct+=p*Kt,Xe+=p*Er,rt+=p*xr,Je+=p*Sr,$e+=p*Ur,De+=p*cn,Re+=p*fn,Me+=p*un,p=L[4],Ae+=p*j,Ee+=p*Et,Bt+=p*Ot,Le+=p*Mt,Ke+=p*_t,Ye+=p*Ct,lt+=p*Lt,ct+=p*Tr,Xe+=p*Kt,rt+=p*Er,Je+=p*xr,$e+=p*Sr,De+=p*Ur,Re+=p*cn,Me+=p*fn,Ne+=p*un,p=L[5],Ee+=p*j,Bt+=p*Et,Le+=p*Ot,Ke+=p*Mt,Ye+=p*_t,lt+=p*Ct,ct+=p*Lt,Xe+=p*Tr,rt+=p*Kt,Je+=p*Er,$e+=p*xr,De+=p*Sr,Re+=p*Ur,Me+=p*cn,Ne+=p*fn,Ie+=p*un,p=L[6],Bt+=p*j,Le+=p*Et,Ke+=p*Ot,Ye+=p*Mt,lt+=p*_t,ct+=p*Ct,Xe+=p*Lt,rt+=p*Tr,Je+=p*Kt,$e+=p*Er,De+=p*xr,Re+=p*Sr,Me+=p*Ur,Ne+=p*cn,Ie+=p*fn,ce+=p*un,p=L[7],Le+=p*j,Ke+=p*Et,Ye+=p*Ot,lt+=p*Mt,ct+=p*_t,Xe+=p*Ct,rt+=p*Lt,Je+=p*Tr,$e+=p*Kt,De+=p*Er,Re+=p*xr,Me+=p*Sr,Ne+=p*Ur,Ie+=p*cn,ce+=p*fn,fe+=p*un,p=L[8],Ke+=p*j,Ye+=p*Et,lt+=p*Ot,ct+=p*Mt,Xe+=p*_t,rt+=p*Ct,Je+=p*Lt,$e+=p*Tr,De+=p*Kt,Re+=p*Er,Me+=p*xr,Ne+=p*Sr,Ie+=p*Ur,ce+=p*cn,fe+=p*fn,ye+=p*un,p=L[9],Ye+=p*j,lt+=p*Et,ct+=p*Ot,Xe+=p*Mt,rt+=p*_t,Je+=p*Ct,$e+=p*Lt,De+=p*Tr,Re+=p*Kt,Me+=p*Er,Ne+=p*xr,Ie+=p*Sr,ce+=p*Ur,fe+=p*cn,ye+=p*fn,he+=p*un,p=L[10],lt+=p*j,ct+=p*Et,Xe+=p*Ot,rt+=p*Mt,Je+=p*_t,$e+=p*Ct,De+=p*Lt,Re+=p*Tr,Me+=p*Kt,Ne+=p*Er,Ie+=p*xr,ce+=p*Sr,fe+=p*Ur,ye+=p*cn,he+=p*fn,de+=p*un,p=L[11],ct+=p*j,Xe+=p*Et,rt+=p*Ot,Je+=p*Mt,$e+=p*_t,De+=p*Ct,Re+=p*Lt,Me+=p*Tr,Ne+=p*Kt,Ie+=p*Er,ce+=p*xr,fe+=p*Sr,ye+=p*Ur,he+=p*cn,de+=p*fn,ve+=p*un,p=L[12],Xe+=p*j,rt+=p*Et,Je+=p*Ot,$e+=p*Mt,De+=p*_t,Re+=p*Ct,Me+=p*Lt,Ne+=p*Tr,Ie+=p*Kt,ce+=p*Er,fe+=p*xr,ye+=p*Sr,he+=p*Ur,de+=p*cn,ve+=p*fn,Ve+=p*un,p=L[13],rt+=p*j,Je+=p*Et,$e+=p*Ot,De+=p*Mt,Re+=p*_t,Me+=p*Ct,Ne+=p*Lt,Ie+=p*Tr,ce+=p*Kt,fe+=p*Er,ye+=p*xr,he+=p*Sr,de+=p*Ur,ve+=p*cn,Ve+=p*fn,gt+=p*un,p=L[14],Je+=p*j,$e+=p*Et,De+=p*Ot,Re+=p*Mt,Me+=p*_t,Ne+=p*Ct,Ie+=p*Lt,ce+=p*Tr,fe+=p*Kt,ye+=p*Er,he+=p*xr,de+=p*Sr,ve+=p*Ur,Ve+=p*cn,gt+=p*fn,wt+=p*un,p=L[15],$e+=p*j,De+=p*Et,Re+=p*Ot,Me+=p*Mt,Ne+=p*_t,Ie+=p*Ct,ce+=p*Lt,fe+=p*Tr,ye+=p*Kt,he+=p*Er,de+=p*xr,ve+=p*Sr,Ve+=p*Ur,gt+=p*cn,wt+=p*fn,yt+=p*un,J+=38*De,Y+=38*Re,ue+=38*Me,_e+=38*Ne,Ae+=38*Ie,Ee+=38*ce,Bt+=38*fe,Le+=38*ye,Ke+=38*he,Ye+=38*de,lt+=38*ve,ct+=38*Ve,Xe+=38*gt,rt+=38*wt,Je+=38*yt,U=1,p=J+U+65535,U=Math.floor(p/65536),J=p-U*65536,p=Y+U+65535,U=Math.floor(p/65536),Y=p-U*65536,p=ue+U+65535,U=Math.floor(p/65536),ue=p-U*65536,p=_e+U+65535,U=Math.floor(p/65536),_e=p-U*65536,p=Ae+U+65535,U=Math.floor(p/65536),Ae=p-U*65536,p=Ee+U+65535,U=Math.floor(p/65536),Ee=p-U*65536,p=Bt+U+65535,U=Math.floor(p/65536),Bt=p-U*65536,p=Le+U+65535,U=Math.floor(p/65536),Le=p-U*65536,p=Ke+U+65535,U=Math.floor(p/65536),Ke=p-U*65536,p=Ye+U+65535,U=Math.floor(p/65536),Ye=p-U*65536,p=lt+U+65535,U=Math.floor(p/65536),lt=p-U*65536,p=ct+U+65535,U=Math.floor(p/65536),ct=p-U*65536,p=Xe+U+65535,U=Math.floor(p/65536),Xe=p-U*65536,p=rt+U+65535,U=Math.floor(p/65536),rt=p-U*65536,p=Je+U+65535,U=Math.floor(p/65536),Je=p-U*65536,p=$e+U+65535,U=Math.floor(p/65536),$e=p-U*65536,J+=U-1+37*(U-1),U=1,p=J+U+65535,U=Math.floor(p/65536),J=p-U*65536,p=Y+U+65535,U=Math.floor(p/65536),Y=p-U*65536,p=ue+U+65535,U=Math.floor(p/65536),ue=p-U*65536,p=_e+U+65535,U=Math.floor(p/65536),_e=p-U*65536,p=Ae+U+65535,U=Math.floor(p/65536),Ae=p-U*65536,p=Ee+U+65535,U=Math.floor(p/65536),Ee=p-U*65536,p=Bt+U+65535,U=Math.floor(p/65536),Bt=p-U*65536,p=Le+U+65535,U=Math.floor(p/65536),Le=p-U*65536,p=Ke+U+65535,U=Math.floor(p/65536),Ke=p-U*65536,p=Ye+U+65535,U=Math.floor(p/65536),Ye=p-U*65536,p=lt+U+65535,U=Math.floor(p/65536),lt=p-U*65536,p=ct+U+65535,U=Math.floor(p/65536),ct=p-U*65536,p=Xe+U+65535,U=Math.floor(p/65536),Xe=p-U*65536,p=rt+U+65535,U=Math.floor(p/65536),rt=p-U*65536,p=Je+U+65535,U=Math.floor(p/65536),Je=p-U*65536,p=$e+U+65535,U=Math.floor(p/65536),$e=p-U*65536,J+=U-1+37*(U-1),S[0]=J,S[1]=Y,S[2]=ue,S[3]=_e,S[4]=Ae,S[5]=Ee,S[6]=Bt,S[7]=Le,S[8]=Ke,S[9]=Ye,S[10]=lt,S[11]=ct,S[12]=Xe,S[13]=rt,S[14]=Je,S[15]=$e}function re(S,L){K(S,L,L)}function xe(S,L){var M=r(),p;for(p=0;p<16;p++)M[p]=L[p];for(p=253;p>=0;p--)re(M,M),p!==2&&p!==4&&K(M,M,L);for(p=0;p<16;p++)S[p]=M[p]}function be(S,L){var M=r(),p;for(p=0;p<16;p++)M[p]=L[p];for(p=250;p>=0;p--)re(M,M),p!==1&&K(M,M,L);for(p=0;p<16;p++)S[p]=M[p]}function ge(S,L,M){var p=new Uint8Array(32),U=new Float64Array(80),J,Y,ue=r(),_e=r(),Ae=r(),Ee=r(),Bt=r(),Le=r();for(Y=0;Y<31;Y++)p[Y]=L[Y];for(p[31]=L[31]&127|64,p[0]&=248,d(U,M),Y=0;Y<16;Y++)_e[Y]=U[Y],Ee[Y]=ue[Y]=Ae[Y]=0;for(ue[0]=Ee[0]=1,Y=254;Y>=0;--Y)J=p[Y>>>3]>>>(Y&7)&1,E(ue,_e,J),E(Ae,Ee,J),k(Bt,ue,Ae),W(ue,ue,Ae),k(Ae,_e,Ee),W(_e,_e,Ee),re(Ee,Bt),re(Le,ue),K(ue,Ae,ue),K(Ae,_e,Bt),k(Bt,ue,Ae),W(ue,ue,Ae),re(_e,ue),W(Ae,Ee,Le),K(ue,Ae,c),k(ue,ue,Ee),K(Ae,Ae,ue),K(ue,Ee,Le),K(Ee,_e,U),re(_e,Bt),E(ue,_e,J),E(Ae,Ee,J);for(Y=0;Y<16;Y++)U[Y+16]=ue[Y],U[Y+32]=Ae[Y],U[Y+48]=_e[Y],U[Y+64]=Ee[Y];var Ke=U.subarray(32),Ye=U.subarray(16);return xe(Ke,Ke),K(Ye,Ye,Ke),x(S,Ye),0}function tt(S,L){return ge(S,L,s)}function Ue(S,L){return n(L,32),tt(S,L)}function Pe(S,L,M){var p=new Uint8Array(32);return ge(p,M,L),q(S,i,p,G)}var pe=f,we=h;function ke(S,L,M,p,U,J){var Y=new Uint8Array(32);return Pe(Y,U,J),pe(S,L,M,p,Y)}function vt(S,L,M,p,U,J){var Y=new Uint8Array(32);return Pe(Y,U,J),we(S,L,M,p,Y)}var He=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function it(S,L,M,p){for(var U=new Int32Array(16),J=new Int32Array(16),Y,ue,_e,Ae,Ee,Bt,Le,Ke,Ye,lt,ct,Xe,rt,Je,$e,De,Re,Me,Ne,Ie,ce,fe,ye,he,de,ve,Ve=S[0],gt=S[1],wt=S[2],yt=S[3],j=S[4],Et=S[5],Ot=S[6],Mt=S[7],_t=L[0],Ct=L[1],Lt=L[2],Tr=L[3],Kt=L[4],Er=L[5],xr=L[6],Sr=L[7],Ur=0;p>=128;){for(Ne=0;Ne<16;Ne++)Ie=8*Ne+Ur,U[Ne]=M[Ie+0]<<24|M[Ie+1]<<16|M[Ie+2]<<8|M[Ie+3],J[Ne]=M[Ie+4]<<24|M[Ie+5]<<16|M[Ie+6]<<8|M[Ie+7];for(Ne=0;Ne<80;Ne++)if(Y=Ve,ue=gt,_e=wt,Ae=yt,Ee=j,Bt=Et,Le=Ot,Ke=Mt,Ye=_t,lt=Ct,ct=Lt,Xe=Tr,rt=Kt,Je=Er,$e=xr,De=Sr,ce=Mt,fe=Sr,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=(j>>>14|Kt<<32-14)^(j>>>18|Kt<<32-18)^(Kt>>>41-32|j<<32-(41-32)),fe=(Kt>>>14|j<<32-14)^(Kt>>>18|j<<32-18)^(j>>>41-32|Kt<<32-(41-32)),ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,ce=j&Et^~j&Ot,fe=Kt&Er^~Kt&xr,ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,ce=He[Ne*2],fe=He[Ne*2+1],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,ce=U[Ne%16],fe=J[Ne%16],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,Re=de&65535|ve<<16,Me=ye&65535|he<<16,ce=Re,fe=Me,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=(Ve>>>28|_t<<32-28)^(_t>>>34-32|Ve<<32-(34-32))^(_t>>>39-32|Ve<<32-(39-32)),fe=(_t>>>28|Ve<<32-28)^(Ve>>>34-32|_t<<32-(34-32))^(Ve>>>39-32|_t<<32-(39-32)),ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,ce=Ve&gt^Ve&wt^gt&wt,fe=_t&Ct^_t&Lt^Ct&Lt,ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,Ke=de&65535|ve<<16,De=ye&65535|he<<16,ce=Ae,fe=Xe,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=Re,fe=Me,ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,Ae=de&65535|ve<<16,Xe=ye&65535|he<<16,gt=Y,wt=ue,yt=_e,j=Ae,Et=Ee,Ot=Bt,Mt=Le,Ve=Ke,Ct=Ye,Lt=lt,Tr=ct,Kt=Xe,Er=rt,xr=Je,Sr=$e,_t=De,Ne%16===15)for(Ie=0;Ie<16;Ie++)ce=U[Ie],fe=J[Ie],ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=U[(Ie+9)%16],fe=J[(Ie+9)%16],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,Re=U[(Ie+1)%16],Me=J[(Ie+1)%16],ce=(Re>>>1|Me<<32-1)^(Re>>>8|Me<<32-8)^Re>>>7,fe=(Me>>>1|Re<<32-1)^(Me>>>8|Re<<32-8)^(Me>>>7|Re<<32-7),ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,Re=U[(Ie+14)%16],Me=J[(Ie+14)%16],ce=(Re>>>19|Me<<32-19)^(Me>>>61-32|Re<<32-(61-32))^Re>>>6,fe=(Me>>>19|Re<<32-19)^(Re>>>61-32|Me<<32-(61-32))^(Me>>>6|Re<<32-6),ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,U[Ie]=de&65535|ve<<16,J[Ie]=ye&65535|he<<16;ce=Ve,fe=_t,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=S[0],fe=L[0],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,S[0]=Ve=de&65535|ve<<16,L[0]=_t=ye&65535|he<<16,ce=gt,fe=Ct,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=S[1],fe=L[1],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,S[1]=gt=de&65535|ve<<16,L[1]=Ct=ye&65535|he<<16,ce=wt,fe=Lt,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=S[2],fe=L[2],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,S[2]=wt=de&65535|ve<<16,L[2]=Lt=ye&65535|he<<16,ce=yt,fe=Tr,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=S[3],fe=L[3],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,S[3]=yt=de&65535|ve<<16,L[3]=Tr=ye&65535|he<<16,ce=j,fe=Kt,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=S[4],fe=L[4],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,S[4]=j=de&65535|ve<<16,L[4]=Kt=ye&65535|he<<16,ce=Et,fe=Er,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=S[5],fe=L[5],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,S[5]=Et=de&65535|ve<<16,L[5]=Er=ye&65535|he<<16,ce=Ot,fe=xr,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=S[6],fe=L[6],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,S[6]=Ot=de&65535|ve<<16,L[6]=xr=ye&65535|he<<16,ce=Mt,fe=Sr,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=S[7],fe=L[7],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,S[7]=Mt=de&65535|ve<<16,L[7]=Sr=ye&65535|he<<16,Ur+=128,p-=128}return p}function Ht(S,L,M){var p=new Int32Array(8),U=new Int32Array(8),J=new Uint8Array(256),Y,ue=M;for(p[0]=1779033703,p[1]=3144134277,p[2]=1013904242,p[3]=2773480762,p[4]=1359893119,p[5]=2600822924,p[6]=528734635,p[7]=1541459225,U[0]=4089235720,U[1]=2227873595,U[2]=4271175723,U[3]=1595750129,U[4]=2917565137,U[5]=725511199,U[6]=4215389547,U[7]=327033209,it(p,U,L,M),M%=128,Y=0;Y<M;Y++)J[Y]=L[ue-M+Y];for(J[M]=128,M=256-128*(M<112?1:0),J[M-9]=0,R(J,M-8,ue/536870912|0,ue<<3),it(p,U,J,M),Y=0;Y<8;Y++)R(S,8*Y,p[Y],U[Y]);return 0}function ut(S,L){var M=r(),p=r(),U=r(),J=r(),Y=r(),ue=r(),_e=r(),Ae=r(),Ee=r();W(M,S[1],S[0]),W(Ee,L[1],L[0]),K(M,M,Ee),k(p,S[0],S[1]),k(Ee,L[0],L[1]),K(p,p,Ee),K(U,S[3],L[3]),K(U,U,l),K(J,S[2],L[2]),k(J,J,J),W(Y,p,M),W(ue,J,U),k(_e,J,U),k(Ae,p,M),K(S[0],Y,ue),K(S[1],Ae,_e),K(S[2],_e,ue),K(S[3],Y,Ae)}function pt(S,L,M){var p;for(p=0;p<4;p++)E(S[p],L[p],M)}function Wt(S,L){var M=r(),p=r(),U=r();xe(U,L[2]),K(M,L[0],U),K(p,L[1],U),x(S,p),S[31]^=B(M)<<7}function xt(S,L,M){var p,U;for(m(S[0],o),m(S[1],a),m(S[2],a),m(S[3],o),U=255;U>=0;--U)p=M[U/8|0]>>(U&7)&1,pt(S,L,p),ut(L,S),ut(S,S),pt(S,L,p)}function At(S,L){var M=[r(),r(),r(),r()];m(M[0],y),m(M[1],A),m(M[2],a),K(M[3],y,A),xt(S,M,L)}function Xt(S,L,M){var p=new Uint8Array(64),U=[r(),r(),r(),r()],J;for(M||n(L,32),Ht(p,L,32),p[0]&=248,p[31]&=127,p[31]|=64,At(U,p),Wt(S,U),J=0;J<32;J++)L[J+32]=S[J];return 0}var Tt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function C(S,L){var M,p,U,J;for(p=63;p>=32;--p){for(M=0,U=p-32,J=p-12;U<J;++U)L[U]+=M-16*L[p]*Tt[U-(p-32)],M=Math.floor((L[U]+128)/256),L[U]-=M*256;L[U]+=M,L[p]=0}for(M=0,U=0;U<32;U++)L[U]+=M-(L[31]>>4)*Tt[U],M=L[U]>>8,L[U]&=255;for(U=0;U<32;U++)L[U]-=M*Tt[U];for(p=0;p<32;p++)L[p+1]+=L[p]>>8,S[p]=L[p]&255}function w(S){var L=new Float64Array(64),M;for(M=0;M<64;M++)L[M]=S[M];for(M=0;M<64;M++)S[M]=0;C(S,L)}function b(S,L,M,p){var U=new Uint8Array(64),J=new Uint8Array(64),Y=new Uint8Array(64),ue,_e,Ae=new Float64Array(64),Ee=[r(),r(),r(),r()];Ht(U,p,32),U[0]&=248,U[31]&=127,U[31]|=64;var Bt=M+64;for(ue=0;ue<M;ue++)S[64+ue]=L[ue];for(ue=0;ue<32;ue++)S[32+ue]=U[32+ue];for(Ht(Y,S.subarray(32),M+32),w(Y),At(Ee,Y),Wt(S,Ee),ue=32;ue<64;ue++)S[ue]=p[ue];for(Ht(J,S,M+64),w(J),ue=0;ue<64;ue++)Ae[ue]=0;for(ue=0;ue<32;ue++)Ae[ue]=Y[ue];for(ue=0;ue<32;ue++)for(_e=0;_e<32;_e++)Ae[ue+_e]+=J[ue]*U[_e];return C(S.subarray(32),Ae),Bt}function D(S,L){var M=r(),p=r(),U=r(),J=r(),Y=r(),ue=r(),_e=r();return m(S[2],a),d(S[1],L),re(U,S[1]),K(J,U,u),W(U,U,S[2]),k(J,S[2],J),re(Y,J),re(ue,Y),K(_e,ue,Y),K(M,_e,U),K(M,M,J),be(M,M),K(M,M,U),K(M,M,J),K(M,M,J),K(S[0],M,J),re(p,S[0]),K(p,p,J),T(p,U)&&K(S[0],S[0],v),re(p,S[0]),K(p,p,J),T(p,U)?-1:(B(S[0])===L[31]>>7&&W(S[0],o,S[0]),K(S[3],S[0],S[1]),0)}function V(S,L,M,p){var U,J=new Uint8Array(32),Y=new Uint8Array(64),ue=[r(),r(),r(),r()],_e=[r(),r(),r(),r()];if(M<64||D(_e,p))return-1;for(U=0;U<M;U++)S[U]=L[U];for(U=0;U<32;U++)S[U+32]=p[U];if(Ht(Y,S,M),w(Y),xt(ue,_e,Y),At(_e,L.subarray(32)),ut(ue,_e),Wt(J,ue),M-=64,H(L,0,J,0)){for(U=0;U<M;U++)S[U]=0;return-1}for(U=0;U<M;U++)S[U]=L[U+64];return M}var X=32,ae=24,Ze=32,Ge=16,We=32,jt=32,ze=32,rr=32,La=32,yr=ae,vr=Ze,Bl=Ge,zt=64,Yt=32,Qi=64,ur=32,lr=64;t.lowlevel={crypto_core_hsalsa20:q,crypto_stream_xor:se,crypto_stream:ee,crypto_stream_salsa20_xor:Z,crypto_stream_salsa20:z,crypto_onetimeauth:I,crypto_onetimeauth_verify:g,crypto_verify_16:P,crypto_verify_32:H,crypto_secretbox:f,crypto_secretbox_open:h,crypto_scalarmult:ge,crypto_scalarmult_base:tt,crypto_box_beforenm:Pe,crypto_box_afternm:pe,crypto_box:ke,crypto_box_open:vt,crypto_box_keypair:Ue,crypto_hash:Ht,crypto_sign:b,crypto_sign_keypair:Xt,crypto_sign_open:V,crypto_secretbox_KEYBYTES:X,crypto_secretbox_NONCEBYTES:ae,crypto_secretbox_ZEROBYTES:Ze,crypto_secretbox_BOXZEROBYTES:Ge,crypto_scalarmult_BYTES:We,crypto_scalarmult_SCALARBYTES:jt,crypto_box_PUBLICKEYBYTES:ze,crypto_box_SECRETKEYBYTES:rr,crypto_box_BEFORENMBYTES:La,crypto_box_NONCEBYTES:yr,crypto_box_ZEROBYTES:vr,crypto_box_BOXZEROBYTES:Bl,crypto_sign_BYTES:zt,crypto_sign_PUBLICKEYBYTES:Yt,crypto_sign_SECRETKEYBYTES:Qi,crypto_sign_SEEDBYTES:ur,crypto_hash_BYTES:lr,gf:r,D:u,L:Tt,pack25519:x,unpack25519:d,M:K,A:k,S:re,Z:W,pow2523:be,add:ut,set25519:m,modL:C,scalarmult:xt,scalarbase:At};function Jc(S,L){if(S.length!==X)throw new Error("bad key size");if(L.length!==ae)throw new Error("bad nonce size")}function _r(S,L){if(S.length!==ze)throw new Error("bad public key size");if(L.length!==rr)throw new Error("bad secret key size")}function kt(){for(var S=0;S<arguments.length;S++)if(!(arguments[S]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Qc(S){for(var L=0;L<S.length;L++)S[L]=0}t.randomBytes=function(S){var L=new Uint8Array(S);return n(L,S),L},t.secretbox=function(S,L,M){kt(S,L,M),Jc(M,L);for(var p=new Uint8Array(Ze+S.length),U=new Uint8Array(p.length),J=0;J<S.length;J++)p[J+Ze]=S[J];return f(U,p,p.length,L,M),U.subarray(Ge)},t.secretbox.open=function(S,L,M){kt(S,L,M),Jc(M,L);for(var p=new Uint8Array(Ge+S.length),U=new Uint8Array(p.length),J=0;J<S.length;J++)p[J+Ge]=S[J];return p.length<32||h(U,p,p.length,L,M)!==0?null:U.subarray(Ze)},t.secretbox.keyLength=X,t.secretbox.nonceLength=ae,t.secretbox.overheadLength=Ge,t.scalarMult=function(S,L){if(kt(S,L),S.length!==jt)throw new Error("bad n size");if(L.length!==We)throw new Error("bad p size");var M=new Uint8Array(We);return ge(M,S,L),M},t.scalarMult.base=function(S){if(kt(S),S.length!==jt)throw new Error("bad n size");var L=new Uint8Array(We);return tt(L,S),L},t.scalarMult.scalarLength=jt,t.scalarMult.groupElementLength=We,t.box=function(S,L,M,p){var U=t.box.before(M,p);return t.secretbox(S,L,U)},t.box.before=function(S,L){kt(S,L),_r(S,L);var M=new Uint8Array(La);return Pe(M,S,L),M},t.box.after=t.secretbox,t.box.open=function(S,L,M,p){var U=t.box.before(M,p);return t.secretbox.open(S,L,U)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var S=new Uint8Array(ze),L=new Uint8Array(rr);return Ue(S,L),{publicKey:S,secretKey:L}},t.box.keyPair.fromSecretKey=function(S){if(kt(S),S.length!==rr)throw new Error("bad secret key size");var L=new Uint8Array(ze);return tt(L,S),{publicKey:L,secretKey:new Uint8Array(S)}},t.box.publicKeyLength=ze,t.box.secretKeyLength=rr,t.box.sharedKeyLength=La,t.box.nonceLength=yr,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(S,L){if(kt(S,L),L.length!==Qi)throw new Error("bad secret key size");var M=new Uint8Array(zt+S.length);return b(M,S,S.length,L),M},t.sign.open=function(S,L){if(kt(S,L),L.length!==Yt)throw new Error("bad public key size");var M=new Uint8Array(S.length),p=V(M,S,S.length,L);if(p<0)return null;for(var U=new Uint8Array(p),J=0;J<U.length;J++)U[J]=M[J];return U},t.sign.detached=function(S,L){for(var M=t.sign(S,L),p=new Uint8Array(zt),U=0;U<p.length;U++)p[U]=M[U];return p},t.sign.detached.verify=function(S,L,M){if(kt(S,L,M),L.length!==zt)throw new Error("bad signature size");if(M.length!==Yt)throw new Error("bad public key size");var p=new Uint8Array(zt+S.length),U=new Uint8Array(zt+S.length),J;for(J=0;J<zt;J++)p[J]=L[J];for(J=0;J<S.length;J++)p[J+zt]=S[J];return V(U,p,p.length,M)>=0},t.sign.keyPair=function(){var S=new Uint8Array(Yt),L=new Uint8Array(Qi);return Xt(S,L),{publicKey:S,secretKey:L}},t.sign.keyPair.fromSecretKey=function(S){if(kt(S),S.length!==Qi)throw new Error("bad secret key size");for(var L=new Uint8Array(Yt),M=0;M<L.length;M++)L[M]=S[32+M];return{publicKey:L,secretKey:new Uint8Array(S)}},t.sign.keyPair.fromSeed=function(S){if(kt(S),S.length!==ur)throw new Error("bad seed size");for(var L=new Uint8Array(Yt),M=new Uint8Array(Qi),p=0;p<32;p++)M[p]=S[p];return Xt(L,M,!0),{publicKey:L,secretKey:M}},t.sign.publicKeyLength=Yt,t.sign.secretKeyLength=Qi,t.sign.seedLength=ur,t.sign.signatureLength=zt,t.hash=function(S){kt(S);var L=new Uint8Array(lr);return Ht(L,S,S.length),L},t.hash.hashLength=lr,t.verify=function(S,L){return kt(S,L),S.length===0||L.length===0||S.length!==L.length?!1:O(S,0,L,0,S.length)===0},t.setPRNG=function(S){n=S},function(){var S=typeof self<"u"?self.crypto||self.msCrypto:null;if(S&&S.getRandomValues){var L=65536;t.setPRNG(function(M,p){var U,J=new Uint8Array(p);for(U=0;U<p;U+=L)S.getRandomValues(J.subarray(U,U+Math.min(p-U,L)));for(U=0;U<p;U++)M[U]=J[U];Qc(J)})}else typeof ld<"u"&&(S=_g,S&&S.randomBytes&&t.setPRNG(function(M,p){var U,J=S.randomBytes(p);for(U=0;U<p;U++)M[U]=J[U];Qc(J)}))}()})(e.exports?e.exports:self.nacl=self.nacl||{})})(iE);var SM=ft&&ft.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),AM=ft&&ft.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),BM=ft&&ft.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&SM(t,e,r);return AM(t,e),t};Object.defineProperty(ti,"__esModule",{value:!0}),ti.getEncryptionPublicKey=ti.decryptSafely=ti.decrypt=ti.encryptSafely=ti.encrypt=void 0;const Ti=P0,xo=BM(iE.exports),ki=Qr;function sE({publicKey:e,data:t,version:r}){if((0,ki.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,ki.isNullish)(t))throw new Error("Missing data parameter");if((0,ki.isNullish)(r))throw new Error("Missing version parameter");switch(r){case"x25519-xsalsa20-poly1305":{if(typeof t!="string")throw new Error("Message data must be given as a string");const n=xo.box.keyPair();let i;try{i=Ti.base64.decode(e)}catch{throw new Error("Bad public key")}const s=Ti.utf8.decode(t),o=xo.randomBytes(xo.box.nonceLength),a=xo.box(s,o,i,n.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:Ti.base64.encode(o),ephemPublicKey:Ti.base64.encode(n.publicKey),ciphertext:Ti.base64.encode(a)}}default:throw new Error("Encryption type/version not supported")}}ti.encrypt=sE;function IM({publicKey:e,data:t,version:r}){if((0,ki.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,ki.isNullish)(t))throw new Error("Missing data parameter");if((0,ki.isNullish)(r))throw new Error("Missing version parameter");const n=2**11,i=16;if(typeof t=="object"&&t&&"toJSON"in t)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const s={data:t,padding:""},a=ie.Buffer.byteLength(JSON.stringify(s),"utf-8")%n;let c=0;a>0&&(c=n-a-i),s.padding="0".repeat(c);const u=JSON.stringify(s);return sE({publicKey:e,data:u,version:r})}ti.encryptSafely=IM;function oE({encryptedData:e,privateKey:t}){if((0,ki.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,ki.isNullish)(t))throw new Error("Missing privateKey parameter");switch(e.version){case"x25519-xsalsa20-poly1305":{const r=ie.Buffer.from(t,"hex"),n=xo.box.keyPair.fromSecretKey(r).secretKey,i=Ti.base64.decode(e.nonce),s=Ti.base64.decode(e.ciphertext),o=Ti.base64.decode(e.ephemPublicKey),a=xo.box.open(s,i,o,n);try{if(!a)throw new Error;const c=Ti.utf8.encode(a);if(!c)throw new Error;return c}catch(c){throw c&&typeof c.message=="string"&&c.message.length?new Error(`Decryption failed: ${c.message}`):new Error("Decryption failed.")}}default:throw new Error("Encryption type/version not supported.")}}ti.decrypt=oE;function RM({encryptedData:e,privateKey:t}){if((0,ki.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,ki.isNullish)(t))throw new Error("Missing privateKey parameter");return JSON.parse(oE({encryptedData:e,privateKey:t})).data}ti.decryptSafely=RM;function TM(e){const t=ie.Buffer.from(e,"hex"),r=xo.box.keyPair.fromSecretKey(t).publicKey;return Ti.base64.encode(r)}ti.getEncryptionPublicKey=TM,function(e){var t=ft&&ft.__createBinding||(Object.create?function(i,s,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(s,o);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(i,a,c)}:function(i,s,o,a){a===void 0&&(a=o),i[a]=s[o]}),r=ft&&ft.__exportStar||function(i,s){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&t(s,i,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.normalize=e.concatSig=void 0,r(us,e),r(R2,e),r(ti,e);var n=Qr;Object.defineProperty(e,"concatSig",{enumerable:!0,get:function(){return n.concatSig}}),Object.defineProperty(e,"normalize",{enumerable:!0,get:function(){return n.normalize}})}(Wo);class aE extends Error{constructor(t,r){super(),this.code=t,this.message=r}toString(){return`${this.message} (${this.code})`}}var kM=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},CM=(e,t,r)=>(kM(e,t,"read from private field"),r?r.call(e):t.get(e)),LM=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Lp;const Ia=class{constructor(e){LM(this,Lp,["eth_newFilter","eth_newBlockFilter","eth_newPendingTransactionFilter","eth_uninstallFilter","eth_subscribe"]),this.provider=e}static isUTF8(e){try{return new TextDecoder("utf8",{fatal:!0}).decode(e),!0}catch{return!1}}static bufferToHex(e){return"0x"+ie.Buffer.from(e).toString("hex")}static messageToBuffer(e){let t=ie.Buffer.from([]);try{typeof e=="string"?t=ie.Buffer.from(e.replace("0x",""),"hex"):t=ie.Buffer.from(e)}catch(r){console.log(`messageToBuffer error: ${r}`)}return t}async request(e){if(CM(this,Lp).includes(e.method))return Promise.reject(new aE(4200,`EthereumProvider does not support calling ${e.method}`));switch(e.method){case"wallet_requestPermissions":return this.provider.internalRequest({method:"wallet_requestPermissions",params:e.params});case"eth_requestAccounts":return this.provider.internalRequest({method:"requestAccounts",params:{}});case"eth_sign":return this.ethSign(e.params);case"personal_sign":return this.personalSign(e.params);case"personal_ecRecover":return this.personalECRecover(e.params);case"eth_signTypedData_v3":return this.ethSignTypedData(e.params,Wo.SignTypedDataVersion.V3);case"eth_signTypedData_v4":return this.ethSignTypedData(e.params,Wo.SignTypedDataVersion.V4);case"eth_signTypedData":return this.ethSignTypedData(e.params,Wo.SignTypedDataVersion.V1);case"eth_sendTransaction":return this.provider.internalRequest({method:"signTransaction",params:e.params[0]});case"wallet_watchAsset":{const{options:t,type:r}=e.params,{address:n,symbol:i,decimals:s}=t;return this.provider.internalRequest({method:"watchAsset",params:{type:r,contract:n,symbol:i,decimals:s||0}})}case"wallet_addEthereumChain":return this.provider.internalRequest({method:"addEthereumChain",params:e.params[0]});case"wallet_switchEthereumChain":return this.provider.internalRequest({method:"switchEthereumChain",params:e.params[0]});default:return(await this.provider.getRPC().call({method:e.method,jsonrpc:"2.0",params:e.params})).result}}personalECRecover(e){return this.provider.internalRequest({method:"ecRecover",params:{signature:e[1],message:e[0]}})}async personalSign(e){const[t]=await this.provider.request({method:"eth_accounts"});if(!t)throw new Error("Unable to execute personal_sign");let[r,n]=e;typeof r=="string"&&t.toLowerCase()===r.toLowerCase()&&(r=e[1],n=e[0]);const i=Ia.messageToBuffer(r);return this.provider.internalRequest({method:"signPersonalMessage",params:{data:i.length===0?Ia.bufferToHex(r):r,address:n}})}ethSign(e){if(!e)throw new Error("Missing params");const[t,r]=e,n=Ia.messageToBuffer(r),i=Ia.bufferToHex(n);return this.provider.internalRequest({method:Ia.isUTF8(n)?"signPersonalMessage":"signMessage",params:{data:i,address:t,isEthSign:!0}})}async ethSignTypedData(e,t){const[r]=await this.provider.request({method:"eth_accounts"});if(!r)throw new Error("Unable to execute ethSignTypedData, address is not present");let[n,i]=e;typeof n=="string"&&r.toLowerCase()===n.toLowerCase()&&(n=e[1],i=e[0]);const s=typeof n=="string"?JSON.parse(n):n,{chainId:o}=s.domain||{};if(typeof o<"u"&&Number(o)!==Number(this.provider.getChainId()))throw new Error("Provided chainId does not match the currently active chain");const a=t!==Wo.SignTypedDataVersion.V1?Wo.TypedDataUtils.eip712Hash(s,t):"";return this.provider.internalRequest({method:"signTypedMessage",params:{data:"0x"+a.toString("hex"),raw:typeof n=="string"?n:JSON.stringify(n),address:i,version:t}})}};let $M=Ia;Lp=new WeakMap;var OM=Object.defineProperty,cE=Object.getOwnPropertySymbols,MM=Object.prototype.hasOwnProperty,NM=Object.prototype.propertyIsEnumerable,fE=(e,t,r)=>t in e?OM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,PM=(e,t)=>{for(var r in t||(t={}))MM.call(t,r)&&fE(e,r,t[r]);if(cE)for(var r of cE(t))NM.call(t,r)&&fE(e,r,t[r]);return e},uE=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},UM=(e,t,r)=>(uE(e,t,"read from private field"),r?r.call(e):t.get(e)),FM=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},DM=(e,t,r,n)=>(uE(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),_l;class lE{constructor(t){FM(this,_l,void 0),DM(this,_l,t)}async getBlockNumber(){return(await this.call({jsonrpc:"2.0",method:"eth_blockNumber",params:[]})).result}async getBlockByNumber(t){return(await this.call({jsonrpc:"2.0",method:"eth_getBlockByNumber",params:[t,!1]})).result}getFilterLogs(t){return this.call({jsonrpc:"2.0",method:"eth_getLogs",params:[t]})}async call(t){const r=await(await fetch(UM(this,_l),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(PM({id:new Date().getTime()+Math.floor(Math.random()*1e3)},t))})).json();if(!r.result&&r.error)throw new Error(r.error.message||"rpc error");return r}}_l=new WeakMap;var hE=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Nn=(e,t,r)=>(hE(e,t,"read from private field"),r?r.call(e):t.get(e)),Ra=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Pn=(e,t,r,n)=>(hE(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ji,Ta,El,Zc,Fs,ka;const dE=class extends sf{constructor(e){super(),Ra(this,Ji,void 0),Ra(this,Ta,void 0),Ra(this,El,!1),Ra(this,Zc,!1),Ra(this,Fs,void 0),Ra(this,ka,void 0),this.isTrust=!0,this.isTrustWallet=!0,this.request=this.request.bind(this),e&&(e.chainId&&Pn(this,Ji,e.chainId),(e.rpc||e.rpcUrl)&&Pn(this,Ta,e.rpc||e.rpcUrl),typeof e.overwriteMetamask<"u"&&Pn(this,Zc,e.overwriteMetamask),typeof e.disableMobileAdapter<"u"&&Pn(this,El,e.disableMobileAdapter),typeof e.isTrust<"u"&&(this.isTrust=e.isTrust,this.isTrustWallet=e.isTrust),Pn(this,ka,new lE(Nn(this,Ta)))),Nn(this,El)||(this.mobileAdapter=new $M(this)),super.on("onResponseReady",this.onResponseReady.bind(this)),this.connect()}connect(){this.emit("connect",{chainId:Nn(this,Ji)})}enable(){return this.request({method:"eth_requestAccounts"})}sendAsync(e,t){Array.isArray(e)?Promise.all(e.map(r=>this.request(r))).then(r=>t(null,r)).catch(r=>t(r,null)):this.request(e).then(r=>t(null,r)).catch(r=>t(r,null))}_send(e){const t={jsonrpc:"2.0",result:null};switch(e.method){case"eth_accounts":case"eth_coinbase":case"net_version":case"eth_chainId":t.result=this.handleStaticRequests({method:"eth_accounts"});break;default:throw new aE(4200,`Trust does not support calling ${e.method} synchronously without a callback. Please provide a callback parameter to call ${e.method} asynchronously.`)}return t}send(e,t){if(typeof e=="string"&&(!t||Array.isArray(t))){const r=this;return new Promise((n,i)=>{try{const s=r.request({method:e,params:t});s instanceof Promise?s.then(n).catch(i):n(s)}catch(s){i(s)}})}else if(e&&typeof e=="object"&&typeof t=="function")return this.request(e).then(t);return this._send(e)}internalRequest(e){return super.request(e)}request(e){const t=()=>this.internalRequest(e);if(this.mobileAdapter){const r=this.handleStaticRequests(e,()=>this.mobileAdapter.request(e));return r instanceof Promise?r:Promise.resolve(r)}return this.handleStaticRequests(e,t)}handleStaticRequests(e,t){switch(e.method){case"net_version":return Nn(this,Ji)?parseInt(Nn(this,Ji)):void 0;case"eth_chainId":return Nn(this,Ji);case"eth_accounts":case"eth_coinbase":return Nn(this,Fs)?[Nn(this,Fs)]:[]}if(t)return t()}onResponseReady(e,t){var r,n,i,s;if(t)switch(e.method){case"eth_requestAccounts":case"requestAccounts":Pn(this,Fs,t[0]);break;case"wallet_requestPermissions":Pn(this,Fs,(s=(i=(n=(r=t[0])==null?void 0:r.caveats)==null?void 0:n[0])==null?void 0:i.value)==null?void 0:s[0]);break}}getNetwork(){return dE.NETWORK}get connected(){return!0}get isMetaMask(){return Nn(this,Zc)}getChainId(){return Nn(this,Ji)}getNetworkVersion(){return this.handleStaticRequests({method:"net_version "})}setChainId(e){Pn(this,Ji,e)}setRPCUrl(e){Pn(this,Ta,e),Pn(this,ka,new lE(Nn(this,Ta)))}getRPC(){return Nn(this,ka)}setOverwriteMetamask(e){Pn(this,Zc,e)}getAddress(){return Nn(this,Fs)}setAddress(e){Pn(this,Fs,e)}setRPC(e){Pn(this,ka,e)}};let pE=dE;Ji=new WeakMap,Ta=new WeakMap,El=new WeakMap,Zc=new WeakMap,Fs=new WeakMap,ka=new WeakMap,pE.NETWORK="ethereum";class HM{constructor(t){this.provider=t}async request(t,r){if(t.method==="getKey"){const i=await this.provider.internalRequest({method:"requestAccounts",params:t.params}),s=JSON.parse(i);return{algo:"secp256k1",address:s.address,bech32Address:s.address,pubKey:ie.Buffer.from(s.pubKey,"hex")}}const n={signAmino:"signTransaction",signDirect:"signTransaction",signArbitrary:"signMessage",sendTx:"sendTransaction"};return n[t.method]?this.provider.internalRequest({method:n[t.method],params:t.params}):r()}}var gE=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},yE=(e,t,r)=>(gE(e,t,"read from private field"),r?r.call(e):t.get(e)),jM=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},zM=(e,t,r,n)=>(gE(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Gc;const Yc=class extends sf{constructor(e){super(),jM(this,Gc,!1),this.isKeplr=!0,this.isTrust=!0,this.isTrustWallet=!0,e&&(typeof e.disableMobileAdapter<"u"&&zM(this,Gc,e.disableMobileAdapter),typeof e.isKeplr<"u"&&(this.isKeplr=e.isKeplr),typeof e.isTrust<"u"&&(this.isTrust=e.isTrust,this.isTrustWallet=e.isTrust)),yE(this,Gc)||(this.mobileAdapter=new HM(this))}static bufferToHex(e){return"0x"+ie.Buffer.from(e).toString("hex")}getNetwork(){return Yc.NETWORK}isMobileAdapterEnabled(){return!yE(this,Gc)}enable(e){return this.request({method:"enable",params:{chainIds:e}})}internalRequest(e){return super.request(e)}request(e){const t=()=>this.internalRequest(e);return this.mobileAdapter?this.mobileAdapter.request(e,t):t()}getKey(e){return this.request({method:"getKey",params:{chainId:e}})}async sendTx(e,t,r){const n=ie.Buffer.from(t).toString("base64"),i=await this.request({method:"sendTx",params:{raw:n,chainId:e,mode:r}});return ie.Buffer.from(i,"hex")}async signArbitrary(e,t,r){const n=ie.Buffer.from(r),i=Yc.bufferToHex(n);return await this.request({method:"signArbitrary",params:{chainId:e,data:i,signerAddress:t}})}async signAmino(e,t,r){const n=await this.request({method:"signAmino",params:{chainId:e,sign_doc:r}}),{signed:i,signature:s}=JSON.parse(n);return{signed:i,signature:s}}async signDirect(e,t,r){const n={bodyBytes:Yc.bufferToHex(r.bodyBytes),authInfoBytes:Yc.bufferToHex(r.authInfoBytes)},i=await this.request({method:"signDirect",params:{signerAddress:t,chainId:e,sign_doc:n}}),{signature:s}=JSON.parse(i);return{signed:r,signature:s}}experimentalSuggestChain(){}getOfflineSignerDirect(e){return{getAccounts:async()=>[await this.getKey(e)],signDirect:async(t,r)=>{if(e!==r.chainId)throw new Error("Unmatched chain id with the offline signer");if((await this.getKey(r.chainId)).address!==t)throw new Error("Unknown signer address");return await this.signDirect(e,t,r)}}}getOfflineSigner(e){return this.getOfflineSignerAmino(e)}getOfflineSignerAuto(e){return this.getOfflineSignerAmino(e)}getOfflineSignerAmino(e){return{getAccounts:async()=>{const t=await this.getKey(e);return[{address:t.bech32Address,algo:"secp256k1",pubkey:t.pubKey}]},sign:(t,r)=>this.signAmino(e,t,r),signAmino:(t,r)=>this.signAmino(e,t,r)}}};let wE=Yc;Gc=new WeakMap,wE.NETWORK="cosmos";var $p={exports:{}},Ca=typeof Reflect=="object"?Reflect:null,mE=Ca&&typeof Ca.apply=="function"?Ca.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},xl;Ca&&typeof Ca.ownKeys=="function"?xl=Ca.ownKeys:Object.getOwnPropertySymbols?xl=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:xl=function(e){return Object.getOwnPropertyNames(e)};function qM(e){console&&console.warn&&console.warn(e)}var bE=Number.isNaN||function(e){return e!==e};function Gt(){Gt.init.call(this)}$p.exports=Gt,$p.exports.once=ZM,Gt.EventEmitter=Gt,Gt.prototype._events=void 0,Gt.prototype._eventsCount=0,Gt.prototype._maxListeners=void 0;var vE=10;function Sl(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Gt,"defaultMaxListeners",{enumerable:!0,get:function(){return vE},set:function(e){if(typeof e!="number"||e<0||bE(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");vE=e}}),Gt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Gt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||bE(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function _E(e){return e._maxListeners===void 0?Gt.defaultMaxListeners:e._maxListeners}Gt.prototype.getMaxListeners=function(){return _E(this)},Gt.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n=e==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=i[e];if(a===void 0)return!1;if(typeof a=="function")mE(a,this,t);else for(var c=a.length,u=BE(a,c),r=0;r<c;++r)mE(u[r],this,t);return!0};function EE(e,t,r,n){var i,s,o;if(Sl(r),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]),o===void 0)o=s[t]=r,++e._eventsCount;else if(typeof o=="function"?o=s[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=_E(e),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,qM(a)}return e}Gt.prototype.addListener=function(e,t){return EE(this,e,t,!1)},Gt.prototype.on=Gt.prototype.addListener,Gt.prototype.prependListener=function(e,t){return EE(this,e,t,!0)};function VM(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function xE(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=VM.bind(n);return i.listener=r,n.wrapFn=i,i}Gt.prototype.once=function(e,t){return Sl(t),this.on(e,xE(this,e,t)),this},Gt.prototype.prependOnceListener=function(e,t){return Sl(t),this.prependListener(e,xE(this,e,t)),this},Gt.prototype.removeListener=function(e,t){var r,n,i,s,o;if(Sl(t),n=this._events,n===void 0)return this;if(r=n[e],r===void 0)return this;if(r===t||r.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){o=r[s].listener,i=s;break}if(i<0)return this;i===0?r.shift():WM(r,i),r.length===1&&(n[e]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",e,o||t)}return this},Gt.prototype.off=Gt.prototype.removeListener,Gt.prototype.removeAllListeners=function(e){var t,r,n;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var i=Object.keys(r),s;for(n=0;n<i.length;++n)s=i[n],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this};function SE(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?KM(i):BE(i,i.length)}Gt.prototype.listeners=function(e){return SE(this,e,!0)},Gt.prototype.rawListeners=function(e){return SE(this,e,!1)},Gt.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):AE.call(e,t)},Gt.prototype.listenerCount=AE;function AE(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Gt.prototype.eventNames=function(){return this._eventsCount>0?xl(this._events):[]};function BE(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function WM(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function KM(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function ZM(e,t){return new Promise(function(r,n){function i(o){e.removeListener(t,s),n(o)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}IE(e,t,s,{once:!0}),t!=="error"&&GM(e,i,{once:!0})})}function GM(e,t,r){typeof e.on=="function"&&IE(e,"error",t,r)}function IE(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(s){n.once&&e.removeEventListener(t,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}const RE={PROMISES:"PROMISES",CALLBACK:"CALLBACK"};class YM extends $p.exports.EventEmitter{setAdapter(t){return this.adapter=t,this}async request(t){try{if(!this.adapter)throw new Error("No adapter set, maybe you forgot to register the provider?");const r=await this.adapter.request(t,this.getNetwork());return this.emit("onResponseReady",t,r),r}catch(r){throw r}}sendResponse(t,r){if(!this.adapter)throw new Error("Adapter not found");if(this.adapter.getStrategy()!==RE.CALLBACK)throw new Error("Trying to send callback request on promisified adapter");this.adapter.sendResponse(t,r)}sendError(t,r){if(!this.adapter)throw new Error("Adapter not found");if(this.adapter.getStrategy()!==RE.CALLBACK)throw new Error("Trying to send callback request on promisified adapter");this.adapter.sendError(t,r)}}const Xc=class extends YM{constructor(e){super(),this._isConnected=!1,this.chainId=null,this.address=null,e&&e.network&&(this._network=e.network,e.chainId&&(this.chainId=e.chainId))}static bufferToHex(e){return"0x"+ie.Buffer.from(e).toString("hex")}static messageToBuffer(e){let t=ie.Buffer.from([]);try{typeof e=="string"?t=ie.Buffer.from(e.replace("0x",""),"hex"):t=ie.Buffer.from(e)}catch(r){console.log(`messageToBuffer error: ${r}`)}return t}setConfig(e){this._network=e.network,this.address=e.address,this.chainId=e.chainId}async connect(){const e=await this.account();return this._isConnected=!0,this.emit("connect"),e}disconnect(){this._isConnected=!1,this.emit("disconnect")}isConnected(){return this._isConnected}async account(){const e=await this.request({method:"requestAccounts",params:{}});return JSON.parse(e)}network(){return this._network}getNetwork(){return Xc.NETWORK}async signMessage(e){const t="APTOS",r=(await this.account()).address;let n=t;const i=window.location.protocol+"//"+window.location.hostname;e.address&&(n+=`
address: `+r),e.application&&(n+=`
application: `+i),e.chainId&&(n+=`
chainId: `+this.chainId),n+=`
message: `+e.message,n+=`
nonce: `+e.nonce;const s=ie.Buffer.from(n),o=Xc.bufferToHex(s);return this.request({method:"signMessage",params:{data:o}}).then(a=>({address:r,application:i,chainId:this.chainId,fullMessage:n,message:e.message,nonce:e.nonce,prefix:t,signature:a}))}async signAndSubmitTransaction(e){const t=await this.signTransaction(e),r=await this.request({method:"sendTransaction",params:{tx:t}});return{hash:Xc.messageToBuffer(r).toString()}}async signTransaction(e){const t=await this.request({method:"signTransaction",params:{data:e}});return JSON.parse(Xc.messageToBuffer(t).toString())}};let TE=Xc;TE.NETWORK="aptos";var XM=Object.defineProperty,JM=Object.defineProperties,QM=Object.getOwnPropertyDescriptors,Al=Object.getOwnPropertySymbols,kE=Object.prototype.hasOwnProperty,CE=Object.prototype.propertyIsEnumerable,LE=(e,t,r)=>t in e?XM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Op=(e,t)=>{for(var r in t||(t={}))kE.call(t,r)&&LE(e,r,t[r]);if(Al)for(var r of Al(t))CE.call(t,r)&&LE(e,r,t[r]);return e},eN=(e,t)=>JM(e,QM(t)),tN=(e,t)=>{var r={};for(var n in e)kE.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Al)for(var n of Al(e))t.indexOf(n)<0&&CE.call(e,n)&&(r[n]=e[n]);return r};class Mp{constructor(t){this.provider=t}static mapToCamelCase(t){return Op(Op({},t),t!=null&&t.messages?{messages:(t?.messages||[]).map(r=>{var n=r,{state_init:i}=n,s=tN(n,["state_init"]);return eN(Op({},s),{stateInit:i})})}:{})}async request(t,r){switch(t){case"tonConnect_connect":{const n=await this.provider.internalRequest("requestAccounts",r);return JSON.parse(n)}case"tonConnect_reconnect":{const n=await this.provider.internalRequest("tonConnect_reconnect",r);return JSON.parse(n)}case"ton_rawSign":return this.provider.internalRequest("signMessage",r);case"ton_sendTransaction":case"tonConnect_sendTransaction":return this.provider.internalRequest("signTransaction",Mp.mapToCamelCase(r[0]));case"ton_requestAccounts":{const n=await this.provider.internalRequest("requestAccounts",r),[{nonBounceable:i}]=JSON.parse(n);return[i]}case"ton_requestWallets":{const n=await this.provider.internalRequest("requestAccounts",r),[{nonBounceable:i,publicKey:s}]=JSON.parse(n);return[{address:i,publicKey:s,version:this.provider.version}]}default:return this.provider.internalRequest(t,r)}}}const $E=class extends sf{constructor(e){super(),this.version="v4R2",e&&e.version&&(this.version=e.version),e!=null&&e.disableMobileAdapter||(this.mobileAdapter=new Mp(this))}disconnect(){return this.send("tonConnect_disconnect",{})}isConnected(){return Promise.resolve(!0)}async send(e,t){const r=()=>this.internalRequest(e,t);return this.mobileAdapter?await this.mobileAdapter.request(e,t):await r()}internalRequest(e,t){return super.request({method:e,params:t})}getNetwork(){return $E.NETWORK}};let OE=$E;OE.NETWORK="ton";class Np extends Error{constructor(t,r){super(t),this.code=r}}const ME=e=>{var t;return{event:"connect_error",payload:{code:(t=e.code)!=null?t:0,message:e.message}}};class rN{constructor(t,r){this.protocolVersion=2,this.isWalletBrowser=!0,this.callbacks=[],this.listen=n=>(this.callbacks.push(n),()=>{this.callbacks=this.callbacks.filter(i=>i!=n)}),t&&(typeof t.isWalletBrowser<"u"&&(this.isWalletBrowser=t.isWalletBrowser),t.walletInfo&&(this.walletInfo=t.walletInfo),t.deviceInfo&&(this.deviceInfo=t.deviceInfo)),this.provider=r}async connect(t,r){t>this.protocolVersion&&new Np("Unsupported protocol version",1);const n=await this.provider.send("tonConnect_connect",r);return this.emit({event:"connect",payload:{items:n,device:this.deviceInfo}})}emit(t){return this.callbacks.forEach(r=>r(t)),t}async restoreConnection(){var t;try{const r=await this.provider.send("tonConnect_reconnect",[{name:"ton_addr"}]);return this.emit({event:"connect",payload:{items:r,device:this.deviceInfo}})}catch(r){return r instanceof Np?this.emit(ME(r)):this.emit(ME(new Np((t=r.message)!=null?t:"Unknown error")))}}async send(t){try{return{result:await this.provider.send(`tonConnect_${t.method}`,t.params.map(r=>JSON.parse(r))),id:t.id.toString()}}catch(r){return{error:r,id:String(t.id)}}}}const nN=(e,t)=>new sx({strategy:e,handler:t}),iN=e=>new Z1(e),sN=e=>new wE(e),oN=e=>new pE(e),aN=e=>new TE(e),cN=e=>new OE(e),fN=(e,t)=>new rN(e,t);window.trustwallet={core:nN,solana:iN,cosmos:sN,ethereum:oN,aptos:aN,ton:cN,tonBridge:fN}});

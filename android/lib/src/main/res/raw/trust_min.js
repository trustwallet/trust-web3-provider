(function(ft){typeof define=="function"&&define.amd?define(ft):ft()})(function(){"use strict";var ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Un(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var ie={},nf={};nf.byteLength=UE,nf.toByteArray=DE,nf.fromByteArray=zE;for(var pi=[],Fn=[],NE=typeof Uint8Array<"u"?Uint8Array:Array,Tl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",As=0,PE=Tl.length;As<PE;++As)pi[As]=Tl[As],Fn[Tl.charCodeAt(As)]=As;Fn["-".charCodeAt(0)]=62,Fn["_".charCodeAt(0)]=63;function Pp(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function UE(e){var t=Pp(e),r=t[0],n=t[1];return(r+n)*3/4-n}function FE(e,t,r){return(t+r)*3/4-r}function DE(e){var t,r=Pp(e),n=r[0],i=r[1],o=new NE(FE(e,n,i)),s=0,a=i>0?n-4:n,c;for(c=0;c<a;c+=4)t=Fn[e.charCodeAt(c)]<<18|Fn[e.charCodeAt(c+1)]<<12|Fn[e.charCodeAt(c+2)]<<6|Fn[e.charCodeAt(c+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=t&255;return i===2&&(t=Fn[e.charCodeAt(c)]<<2|Fn[e.charCodeAt(c+1)]>>4,o[s++]=t&255),i===1&&(t=Fn[e.charCodeAt(c)]<<10|Fn[e.charCodeAt(c+1)]<<4|Fn[e.charCodeAt(c+2)]>>2,o[s++]=t>>8&255,o[s++]=t&255),o}function HE(e){return pi[e>>18&63]+pi[e>>12&63]+pi[e>>6&63]+pi[e&63]}function jE(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(HE(n));return i.join("")}function zE(e){for(var t,r=e.length,n=r%3,i=[],o=16383,s=0,a=r-n;s<a;s+=o)i.push(jE(e,s,s+o>a?a:s+o));return n===1?(t=e[r-1],i.push(pi[t>>2]+pi[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(pi[t>>10]+pi[t>>4&63]+pi[t<<2&63]+"=")),i.join("")}var kl={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */kl.read=function(e,t,r,n,i){var o,s,a=i*8-n-1,c=(1<<a)-1,u=c>>1,l=-7,y=r?i-1:0,A=r?-1:1,v=e[t+y];for(y+=A,o=v&(1<<-l)-1,v>>=-l,l+=a;l>0;o=o*256+e[t+y],y+=A,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=s*256+e[t+y],y+=A,l-=8);if(o===0)o=1-u;else{if(o===c)return s?NaN:(v?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-u}return(v?-1:1)*s*Math.pow(2,o-n)},kl.write=function(e,t,r,n,i,o){var s,a,c,u=o*8-i-1,l=(1<<u)-1,y=l>>1,A=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:o-1,R=n?1:-1,O=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+y>=1?t+=A/c:t+=A*Math.pow(2,1-y),t*c>=2&&(s++,c/=2),s+y>=l?(a=0,s=l):s+y>=1?(a=(t*c-1)*Math.pow(2,i),s=s+y):(a=t*Math.pow(2,y-1)*Math.pow(2,i),s=0));i>=8;e[r+v]=a&255,v+=R,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+v]=s&255,v+=R,s/=256,u-=8);e[r+v-R]|=O*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=nf,r=kl,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=F,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const C=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(C,w),C.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(C){if(C>i)throw new RangeError('The value "'+C+'" is invalid for option "size"');const w=new Uint8Array(C);return Object.setPrototypeOf(w,a.prototype),w}function a(C,w,b){if(typeof C=="number"){if(typeof w=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(C)}return c(C,w,b)}a.poolSize=8192;function c(C,w,b){if(typeof C=="string")return A(C,w);if(ArrayBuffer.isView(C))return R(C);if(C==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C);if(Wt(C,ArrayBuffer)||C&&Wt(C.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Wt(C,SharedArrayBuffer)||C&&Wt(C.buffer,SharedArrayBuffer)))return O(C,w,b);if(typeof C=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const D=C.valueOf&&C.valueOf();if(D!=null&&D!==C)return a.from(D,w,b);const V=P(C);if(V)return V;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof C[Symbol.toPrimitive]=="function")return a.from(C[Symbol.toPrimitive]("string"),w,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C)}a.from=function(C,w,b){return c(C,w,b)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(C){if(typeof C!="number")throw new TypeError('"size" argument must be of type number');if(C<0)throw new RangeError('The value "'+C+'" is invalid for option "size"')}function l(C,w,b){return u(C),C<=0?s(C):w!==void 0?typeof b=="string"?s(C).fill(w,b):s(C).fill(w):s(C)}a.alloc=function(C,w,b){return l(C,w,b)};function y(C){return u(C),s(C<0?0:H(C)|0)}a.allocUnsafe=function(C){return y(C)},a.allocUnsafeSlow=function(C){return y(C)};function A(C,w){if((typeof w!="string"||w==="")&&(w="utf8"),!a.isEncoding(w))throw new TypeError("Unknown encoding: "+w);const b=N(C,w)|0;let D=s(b);const V=D.write(C,w);return V!==b&&(D=D.slice(0,V)),D}function v(C){const w=C.length<0?0:H(C.length)|0,b=s(w);for(let D=0;D<w;D+=1)b[D]=C[D]&255;return b}function R(C){if(Wt(C,Uint8Array)){const w=new Uint8Array(C);return O(w.buffer,w.byteOffset,w.byteLength)}return v(C)}function O(C,w,b){if(w<0||C.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(C.byteLength<w+(b||0))throw new RangeError('"length" is outside of buffer bounds');let D;return w===void 0&&b===void 0?D=new Uint8Array(C):b===void 0?D=new Uint8Array(C,w):D=new Uint8Array(C,w,b),Object.setPrototypeOf(D,a.prototype),D}function P(C){if(a.isBuffer(C)){const w=H(C.length)|0,b=s(w);return b.length===0||C.copy(b,0,0,w),b}if(C.length!==void 0)return typeof C.length!="number"||xt(C.length)?s(0):v(C);if(C.type==="Buffer"&&Array.isArray(C.data))return v(C.data)}function H(C){if(C>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return C|0}function F(C){return+C!=C&&(C=0),a.alloc(+C)}a.isBuffer=function(w){return w!=null&&w._isBuffer===!0&&w!==a.prototype},a.compare=function(w,b){if(Wt(w,Uint8Array)&&(w=a.from(w,w.offset,w.byteLength)),Wt(b,Uint8Array)&&(b=a.from(b,b.offset,b.byteLength)),!a.isBuffer(w)||!a.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===b)return 0;let D=w.length,V=b.length;for(let X=0,ae=Math.min(D,V);X<ae;++X)if(w[X]!==b[X]){D=w[X],V=b[X];break}return D<V?-1:V<D?1:0},a.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(w,b){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(w.length===0)return a.alloc(0);let D;if(b===void 0)for(b=0,D=0;D<w.length;++D)b+=w[D].length;const V=a.allocUnsafe(b);let X=0;for(D=0;D<w.length;++D){let ae=w[D];if(Wt(ae,Uint8Array))X+ae.length>V.length?(a.isBuffer(ae)||(ae=a.from(ae)),ae.copy(V,X)):Uint8Array.prototype.set.call(V,ae,X);else if(a.isBuffer(ae))ae.copy(V,X);else throw new TypeError('"list" argument must be an Array of Buffers');X+=ae.length}return V};function N(C,w){if(a.isBuffer(C))return C.length;if(ArrayBuffer.isView(C)||Wt(C,ArrayBuffer))return C.byteLength;if(typeof C!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof C);const b=C.length,D=arguments.length>2&&arguments[2]===!0;if(!D&&b===0)return 0;let V=!1;for(;;)switch(w){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return He(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b*2;case"hex":return b>>>1;case"base64":return ut(C).length;default:if(V)return D?-1:He(C).length;w=(""+w).toLowerCase(),V=!0}}a.byteLength=N;function $(C,w,b){let D=!1;if((w===void 0||w<0)&&(w=0),w>this.length||((b===void 0||b>this.length)&&(b=this.length),b<=0)||(b>>>=0,w>>>=0,b<=w))return"";for(C||(C="utf8");;)switch(C){case"hex":return x(this,w,b);case"utf8":case"utf-8":return f(this,w,b);case"ascii":return _(this,w,b);case"latin1":case"binary":return E(this,w,b);case"base64":return g(this,w,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,w,b);default:if(D)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),D=!0}}a.prototype._isBuffer=!0;function q(C,w,b){const D=C[w];C[w]=C[b],C[b]=D}a.prototype.swap16=function(){const w=this.length;if(w%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let b=0;b<w;b+=2)q(this,b,b+1);return this},a.prototype.swap32=function(){const w=this.length;if(w%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let b=0;b<w;b+=4)q(this,b,b+3),q(this,b+1,b+2);return this},a.prototype.swap64=function(){const w=this.length;if(w%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let b=0;b<w;b+=8)q(this,b,b+7),q(this,b+1,b+6),q(this,b+2,b+5),q(this,b+3,b+4);return this},a.prototype.toString=function(){const w=this.length;return w===0?"":arguments.length===0?f(this,0,w):$.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(w){if(!a.isBuffer(w))throw new TypeError("Argument must be a Buffer");return this===w?!0:a.compare(this,w)===0},a.prototype.inspect=function(){let w="";const b=e.INSPECT_MAX_BYTES;return w=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(w+=" ... "),"<Buffer "+w+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(w,b,D,V,X){if(Wt(w,Uint8Array)&&(w=a.from(w,w.offset,w.byteLength)),!a.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if(b===void 0&&(b=0),D===void 0&&(D=w?w.length:0),V===void 0&&(V=0),X===void 0&&(X=this.length),b<0||D>w.length||V<0||X>this.length)throw new RangeError("out of range index");if(V>=X&&b>=D)return 0;if(V>=X)return-1;if(b>=D)return 1;if(b>>>=0,D>>>=0,V>>>=0,X>>>=0,this===w)return 0;let ae=X-V,Ze=D-b;const Ge=Math.min(ae,Ze),We=this.slice(V,X),jt=w.slice(b,D);for(let ze=0;ze<Ge;++ze)if(We[ze]!==jt[ze]){ae=We[ze],Ze=jt[ze];break}return ae<Ze?-1:Ze<ae?1:0};function G(C,w,b,D,V){if(C.length===0)return-1;if(typeof b=="string"?(D=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b=+b,xt(b)&&(b=V?0:C.length-1),b<0&&(b=C.length+b),b>=C.length){if(V)return-1;b=C.length-1}else if(b<0)if(V)b=0;else return-1;if(typeof w=="string"&&(w=a.from(w,D)),a.isBuffer(w))return w.length===0?-1:Z(C,w,b,D,V);if(typeof w=="number")return w=w&255,typeof Uint8Array.prototype.indexOf=="function"?V?Uint8Array.prototype.indexOf.call(C,w,b):Uint8Array.prototype.lastIndexOf.call(C,w,b):Z(C,[w],b,D,V);throw new TypeError("val must be string, number or Buffer")}function Z(C,w,b,D,V){let X=1,ae=C.length,Ze=w.length;if(D!==void 0&&(D=String(D).toLowerCase(),D==="ucs2"||D==="ucs-2"||D==="utf16le"||D==="utf-16le")){if(C.length<2||w.length<2)return-1;X=2,ae/=2,Ze/=2,b/=2}function Ge(jt,ze){return X===1?jt[ze]:jt.readUInt16BE(ze*X)}let We;if(V){let jt=-1;for(We=b;We<ae;We++)if(Ge(C,We)===Ge(w,jt===-1?0:We-jt)){if(jt===-1&&(jt=We),We-jt+1===Ze)return jt*X}else jt!==-1&&(We-=We-jt),jt=-1}else for(b+Ze>ae&&(b=ae-Ze),We=b;We>=0;We--){let jt=!0;for(let ze=0;ze<Ze;ze++)if(Ge(C,We+ze)!==Ge(w,ze)){jt=!1;break}if(jt)return We}return-1}a.prototype.includes=function(w,b,D){return this.indexOf(w,b,D)!==-1},a.prototype.indexOf=function(w,b,D){return G(this,w,b,D,!0)},a.prototype.lastIndexOf=function(w,b,D){return G(this,w,b,D,!1)};function z(C,w,b,D){b=Number(b)||0;const V=C.length-b;D?(D=Number(D),D>V&&(D=V)):D=V;const X=w.length;D>X/2&&(D=X/2);let ae;for(ae=0;ae<D;++ae){const Ze=parseInt(w.substr(ae*2,2),16);if(xt(Ze))return ae;C[b+ae]=Ze}return ae}function ee(C,w,b,D){return pt(He(w,C.length-b),C,b,D)}function oe(C,w,b,D){return pt(it(w),C,b,D)}function Q(C,w,b,D){return pt(ut(w),C,b,D)}function I(C,w,b,D){return pt(Ht(w,C.length-b),C,b,D)}a.prototype.write=function(w,b,D,V){if(b===void 0)V="utf8",D=this.length,b=0;else if(D===void 0&&typeof b=="string")V=b,D=this.length,b=0;else if(isFinite(b))b=b>>>0,isFinite(D)?(D=D>>>0,V===void 0&&(V="utf8")):(V=D,D=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const X=this.length-b;if((D===void 0||D>X)&&(D=X),w.length>0&&(D<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");V||(V="utf8");let ae=!1;for(;;)switch(V){case"hex":return z(this,w,b,D);case"utf8":case"utf-8":return ee(this,w,b,D);case"ascii":case"latin1":case"binary":return oe(this,w,b,D);case"base64":return Q(this,w,b,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,w,b,D);default:if(ae)throw new TypeError("Unknown encoding: "+V);V=(""+V).toLowerCase(),ae=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function g(C,w,b){return w===0&&b===C.length?t.fromByteArray(C):t.fromByteArray(C.slice(w,b))}function f(C,w,b){b=Math.min(C.length,b);const D=[];let V=w;for(;V<b;){const X=C[V];let ae=null,Ze=X>239?4:X>223?3:X>191?2:1;if(V+Ze<=b){let Ge,We,jt,ze;switch(Ze){case 1:X<128&&(ae=X);break;case 2:Ge=C[V+1],(Ge&192)===128&&(ze=(X&31)<<6|Ge&63,ze>127&&(ae=ze));break;case 3:Ge=C[V+1],We=C[V+2],(Ge&192)===128&&(We&192)===128&&(ze=(X&15)<<12|(Ge&63)<<6|We&63,ze>2047&&(ze<55296||ze>57343)&&(ae=ze));break;case 4:Ge=C[V+1],We=C[V+2],jt=C[V+3],(Ge&192)===128&&(We&192)===128&&(jt&192)===128&&(ze=(X&15)<<18|(Ge&63)<<12|(We&63)<<6|jt&63,ze>65535&&ze<1114112&&(ae=ze))}}ae===null?(ae=65533,Ze=1):ae>65535&&(ae-=65536,D.push(ae>>>10&1023|55296),ae=56320|ae&1023),D.push(ae),V+=Ze}return m(D)}const h=4096;function m(C){const w=C.length;if(w<=h)return String.fromCharCode.apply(String,C);let b="",D=0;for(;D<w;)b+=String.fromCharCode.apply(String,C.slice(D,D+=h));return b}function _(C,w,b){let D="";b=Math.min(C.length,b);for(let V=w;V<b;++V)D+=String.fromCharCode(C[V]&127);return D}function E(C,w,b){let D="";b=Math.min(C.length,b);for(let V=w;V<b;++V)D+=String.fromCharCode(C[V]);return D}function x(C,w,b){const D=C.length;(!w||w<0)&&(w=0),(!b||b<0||b>D)&&(b=D);let V="";for(let X=w;X<b;++X)V+=At[C[X]];return V}function T(C,w,b){const D=C.slice(w,b);let V="";for(let X=0;X<D.length-1;X+=2)V+=String.fromCharCode(D[X]+D[X+1]*256);return V}a.prototype.slice=function(w,b){const D=this.length;w=~~w,b=b===void 0?D:~~b,w<0?(w+=D,w<0&&(w=0)):w>D&&(w=D),b<0?(b+=D,b<0&&(b=0)):b>D&&(b=D),b<w&&(b=w);const V=this.subarray(w,b);return Object.setPrototypeOf(V,a.prototype),V};function B(C,w,b){if(C%1!==0||C<0)throw new RangeError("offset is not uint");if(C+w>b)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(w,b,D){w=w>>>0,b=b>>>0,D||B(w,b,this.length);let V=this[w],X=1,ae=0;for(;++ae<b&&(X*=256);)V+=this[w+ae]*X;return V},a.prototype.readUintBE=a.prototype.readUIntBE=function(w,b,D){w=w>>>0,b=b>>>0,D||B(w,b,this.length);let V=this[w+--b],X=1;for(;b>0&&(X*=256);)V+=this[w+--b]*X;return V},a.prototype.readUint8=a.prototype.readUInt8=function(w,b){return w=w>>>0,b||B(w,1,this.length),this[w]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(w,b){return w=w>>>0,b||B(w,2,this.length),this[w]|this[w+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(w,b){return w=w>>>0,b||B(w,2,this.length),this[w]<<8|this[w+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(w,b){return w=w>>>0,b||B(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+this[w+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(w,b){return w=w>>>0,b||B(w,4,this.length),this[w]*16777216+(this[w+1]<<16|this[w+2]<<8|this[w+3])},a.prototype.readBigUInt64LE=Xt(function(w){w=w>>>0,pe(w,"offset");const b=this[w],D=this[w+7];(b===void 0||D===void 0)&&we(w,this.length-8);const V=b+this[++w]*2**8+this[++w]*2**16+this[++w]*2**24,X=this[++w]+this[++w]*2**8+this[++w]*2**16+D*2**24;return BigInt(V)+(BigInt(X)<<BigInt(32))}),a.prototype.readBigUInt64BE=Xt(function(w){w=w>>>0,pe(w,"offset");const b=this[w],D=this[w+7];(b===void 0||D===void 0)&&we(w,this.length-8);const V=b*2**24+this[++w]*2**16+this[++w]*2**8+this[++w],X=this[++w]*2**24+this[++w]*2**16+this[++w]*2**8+D;return(BigInt(V)<<BigInt(32))+BigInt(X)}),a.prototype.readIntLE=function(w,b,D){w=w>>>0,b=b>>>0,D||B(w,b,this.length);let V=this[w],X=1,ae=0;for(;++ae<b&&(X*=256);)V+=this[w+ae]*X;return X*=128,V>=X&&(V-=Math.pow(2,8*b)),V},a.prototype.readIntBE=function(w,b,D){w=w>>>0,b=b>>>0,D||B(w,b,this.length);let V=b,X=1,ae=this[w+--V];for(;V>0&&(X*=256);)ae+=this[w+--V]*X;return X*=128,ae>=X&&(ae-=Math.pow(2,8*b)),ae},a.prototype.readInt8=function(w,b){return w=w>>>0,b||B(w,1,this.length),this[w]&128?(255-this[w]+1)*-1:this[w]},a.prototype.readInt16LE=function(w,b){w=w>>>0,b||B(w,2,this.length);const D=this[w]|this[w+1]<<8;return D&32768?D|4294901760:D},a.prototype.readInt16BE=function(w,b){w=w>>>0,b||B(w,2,this.length);const D=this[w+1]|this[w]<<8;return D&32768?D|4294901760:D},a.prototype.readInt32LE=function(w,b){return w=w>>>0,b||B(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},a.prototype.readInt32BE=function(w,b){return w=w>>>0,b||B(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},a.prototype.readBigInt64LE=Xt(function(w){w=w>>>0,pe(w,"offset");const b=this[w],D=this[w+7];(b===void 0||D===void 0)&&we(w,this.length-8);const V=this[w+4]+this[w+5]*2**8+this[w+6]*2**16+(D<<24);return(BigInt(V)<<BigInt(32))+BigInt(b+this[++w]*2**8+this[++w]*2**16+this[++w]*2**24)}),a.prototype.readBigInt64BE=Xt(function(w){w=w>>>0,pe(w,"offset");const b=this[w],D=this[w+7];(b===void 0||D===void 0)&&we(w,this.length-8);const V=(b<<24)+this[++w]*2**16+this[++w]*2**8+this[++w];return(BigInt(V)<<BigInt(32))+BigInt(this[++w]*2**24+this[++w]*2**16+this[++w]*2**8+D)}),a.prototype.readFloatLE=function(w,b){return w=w>>>0,b||B(w,4,this.length),r.read(this,w,!0,23,4)},a.prototype.readFloatBE=function(w,b){return w=w>>>0,b||B(w,4,this.length),r.read(this,w,!1,23,4)},a.prototype.readDoubleLE=function(w,b){return w=w>>>0,b||B(w,8,this.length),r.read(this,w,!0,52,8)},a.prototype.readDoubleBE=function(w,b){return w=w>>>0,b||B(w,8,this.length),r.read(this,w,!1,52,8)};function d(C,w,b,D,V,X){if(!a.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>V||w<X)throw new RangeError('"value" argument is out of bounds');if(b+D>C.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(w,b,D,V){if(w=+w,b=b>>>0,D=D>>>0,!V){const Ze=Math.pow(2,8*D)-1;d(this,w,b,D,Ze,0)}let X=1,ae=0;for(this[b]=w&255;++ae<D&&(X*=256);)this[b+ae]=w/X&255;return b+D},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(w,b,D,V){if(w=+w,b=b>>>0,D=D>>>0,!V){const Ze=Math.pow(2,8*D)-1;d(this,w,b,D,Ze,0)}let X=D-1,ae=1;for(this[b+X]=w&255;--X>=0&&(ae*=256);)this[b+X]=w/ae&255;return b+D},a.prototype.writeUint8=a.prototype.writeUInt8=function(w,b,D){return w=+w,b=b>>>0,D||d(this,w,b,1,255,0),this[b]=w&255,b+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(w,b,D){return w=+w,b=b>>>0,D||d(this,w,b,2,65535,0),this[b]=w&255,this[b+1]=w>>>8,b+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(w,b,D){return w=+w,b=b>>>0,D||d(this,w,b,2,65535,0),this[b]=w>>>8,this[b+1]=w&255,b+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(w,b,D){return w=+w,b=b>>>0,D||d(this,w,b,4,4294967295,0),this[b+3]=w>>>24,this[b+2]=w>>>16,this[b+1]=w>>>8,this[b]=w&255,b+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(w,b,D){return w=+w,b=b>>>0,D||d(this,w,b,4,4294967295,0),this[b]=w>>>24,this[b+1]=w>>>16,this[b+2]=w>>>8,this[b+3]=w&255,b+4};function k(C,w,b,D,V){Pe(w,D,V,C,b,7);let X=Number(w&BigInt(4294967295));C[b++]=X,X=X>>8,C[b++]=X,X=X>>8,C[b++]=X,X=X>>8,C[b++]=X;let ae=Number(w>>BigInt(32)&BigInt(4294967295));return C[b++]=ae,ae=ae>>8,C[b++]=ae,ae=ae>>8,C[b++]=ae,ae=ae>>8,C[b++]=ae,b}function W(C,w,b,D,V){Pe(w,D,V,C,b,7);let X=Number(w&BigInt(4294967295));C[b+7]=X,X=X>>8,C[b+6]=X,X=X>>8,C[b+5]=X,X=X>>8,C[b+4]=X;let ae=Number(w>>BigInt(32)&BigInt(4294967295));return C[b+3]=ae,ae=ae>>8,C[b+2]=ae,ae=ae>>8,C[b+1]=ae,ae=ae>>8,C[b]=ae,b+8}a.prototype.writeBigUInt64LE=Xt(function(w,b=0){return k(this,w,b,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Xt(function(w,b=0){return W(this,w,b,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(w,b,D,V){if(w=+w,b=b>>>0,!V){const Ge=Math.pow(2,8*D-1);d(this,w,b,D,Ge-1,-Ge)}let X=0,ae=1,Ze=0;for(this[b]=w&255;++X<D&&(ae*=256);)w<0&&Ze===0&&this[b+X-1]!==0&&(Ze=1),this[b+X]=(w/ae>>0)-Ze&255;return b+D},a.prototype.writeIntBE=function(w,b,D,V){if(w=+w,b=b>>>0,!V){const Ge=Math.pow(2,8*D-1);d(this,w,b,D,Ge-1,-Ge)}let X=D-1,ae=1,Ze=0;for(this[b+X]=w&255;--X>=0&&(ae*=256);)w<0&&Ze===0&&this[b+X+1]!==0&&(Ze=1),this[b+X]=(w/ae>>0)-Ze&255;return b+D},a.prototype.writeInt8=function(w,b,D){return w=+w,b=b>>>0,D||d(this,w,b,1,127,-128),w<0&&(w=255+w+1),this[b]=w&255,b+1},a.prototype.writeInt16LE=function(w,b,D){return w=+w,b=b>>>0,D||d(this,w,b,2,32767,-32768),this[b]=w&255,this[b+1]=w>>>8,b+2},a.prototype.writeInt16BE=function(w,b,D){return w=+w,b=b>>>0,D||d(this,w,b,2,32767,-32768),this[b]=w>>>8,this[b+1]=w&255,b+2},a.prototype.writeInt32LE=function(w,b,D){return w=+w,b=b>>>0,D||d(this,w,b,4,2147483647,-2147483648),this[b]=w&255,this[b+1]=w>>>8,this[b+2]=w>>>16,this[b+3]=w>>>24,b+4},a.prototype.writeInt32BE=function(w,b,D){return w=+w,b=b>>>0,D||d(this,w,b,4,2147483647,-2147483648),w<0&&(w=4294967295+w+1),this[b]=w>>>24,this[b+1]=w>>>16,this[b+2]=w>>>8,this[b+3]=w&255,b+4},a.prototype.writeBigInt64LE=Xt(function(w,b=0){return k(this,w,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Xt(function(w,b=0){return W(this,w,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function K(C,w,b,D,V,X){if(b+D>C.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function re(C,w,b,D,V){return w=+w,b=b>>>0,V||K(C,w,b,4),r.write(C,w,b,D,23,4),b+4}a.prototype.writeFloatLE=function(w,b,D){return re(this,w,b,!0,D)},a.prototype.writeFloatBE=function(w,b,D){return re(this,w,b,!1,D)};function xe(C,w,b,D,V){return w=+w,b=b>>>0,V||K(C,w,b,8),r.write(C,w,b,D,52,8),b+8}a.prototype.writeDoubleLE=function(w,b,D){return xe(this,w,b,!0,D)},a.prototype.writeDoubleBE=function(w,b,D){return xe(this,w,b,!1,D)},a.prototype.copy=function(w,b,D,V){if(!a.isBuffer(w))throw new TypeError("argument should be a Buffer");if(D||(D=0),!V&&V!==0&&(V=this.length),b>=w.length&&(b=w.length),b||(b=0),V>0&&V<D&&(V=D),V===D||w.length===0||this.length===0)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(D<0||D>=this.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("sourceEnd out of bounds");V>this.length&&(V=this.length),w.length-b<V-D&&(V=w.length-b+D);const X=V-D;return this===w&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(b,D,V):Uint8Array.prototype.set.call(w,this.subarray(D,V),b),X},a.prototype.fill=function(w,b,D,V){if(typeof w=="string"){if(typeof b=="string"?(V=b,b=0,D=this.length):typeof D=="string"&&(V=D,D=this.length),V!==void 0&&typeof V!="string")throw new TypeError("encoding must be a string");if(typeof V=="string"&&!a.isEncoding(V))throw new TypeError("Unknown encoding: "+V);if(w.length===1){const ae=w.charCodeAt(0);(V==="utf8"&&ae<128||V==="latin1")&&(w=ae)}}else typeof w=="number"?w=w&255:typeof w=="boolean"&&(w=Number(w));if(b<0||this.length<b||this.length<D)throw new RangeError("Out of range index");if(D<=b)return this;b=b>>>0,D=D===void 0?this.length:D>>>0,w||(w=0);let X;if(typeof w=="number")for(X=b;X<D;++X)this[X]=w;else{const ae=a.isBuffer(w)?w:a.from(w,V),Ze=ae.length;if(Ze===0)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for(X=0;X<D-b;++X)this[X+b]=ae[X%Ze]}return this};const be={};function ge(C,w,b){be[C]=class extends b{constructor(){super(),Object.defineProperty(this,"message",{value:w.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${C}]`,this.stack,delete this.name}get code(){return C}set code(V){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:V,writable:!0})}toString(){return`${this.name} [${C}]: ${this.message}`}}}ge("ERR_BUFFER_OUT_OF_BOUNDS",function(C){return C?`${C} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ge("ERR_INVALID_ARG_TYPE",function(C,w){return`The "${C}" argument must be of type number. Received type ${typeof w}`},TypeError),ge("ERR_OUT_OF_RANGE",function(C,w,b){let D=`The value of "${C}" is out of range.`,V=b;return Number.isInteger(b)&&Math.abs(b)>2**32?V=tt(String(b)):typeof b=="bigint"&&(V=String(b),(b>BigInt(2)**BigInt(32)||b<-(BigInt(2)**BigInt(32)))&&(V=tt(V)),V+="n"),D+=` It must be ${w}. Received ${V}`,D},RangeError);function tt(C){let w="",b=C.length;const D=C[0]==="-"?1:0;for(;b>=D+4;b-=3)w=`_${C.slice(b-3,b)}${w}`;return`${C.slice(0,b)}${w}`}function Ue(C,w,b){pe(w,"offset"),(C[w]===void 0||C[w+b]===void 0)&&we(w,C.length-(b+1))}function Pe(C,w,b,D,V,X){if(C>b||C<w){const ae=typeof w=="bigint"?"n":"";let Ze;throw X>3?w===0||w===BigInt(0)?Ze=`>= 0${ae} and < 2${ae} ** ${(X+1)*8}${ae}`:Ze=`>= -(2${ae} ** ${(X+1)*8-1}${ae}) and < 2 ** ${(X+1)*8-1}${ae}`:Ze=`>= ${w}${ae} and <= ${b}${ae}`,new be.ERR_OUT_OF_RANGE("value",Ze,C)}Ue(D,V,X)}function pe(C,w){if(typeof C!="number")throw new be.ERR_INVALID_ARG_TYPE(w,"number",C)}function we(C,w,b){throw Math.floor(C)!==C?(pe(C,b),new be.ERR_OUT_OF_RANGE(b||"offset","an integer",C)):w<0?new be.ERR_BUFFER_OUT_OF_BOUNDS:new be.ERR_OUT_OF_RANGE(b||"offset",`>= ${b?1:0} and <= ${w}`,C)}const ke=/[^+/0-9A-Za-z-_]/g;function vt(C){if(C=C.split("=")[0],C=C.trim().replace(ke,""),C.length<2)return"";for(;C.length%4!==0;)C=C+"=";return C}function He(C,w){w=w||1/0;let b;const D=C.length;let V=null;const X=[];for(let ae=0;ae<D;++ae){if(b=C.charCodeAt(ae),b>55295&&b<57344){if(!V){if(b>56319){(w-=3)>-1&&X.push(239,191,189);continue}else if(ae+1===D){(w-=3)>-1&&X.push(239,191,189);continue}V=b;continue}if(b<56320){(w-=3)>-1&&X.push(239,191,189),V=b;continue}b=(V-55296<<10|b-56320)+65536}else V&&(w-=3)>-1&&X.push(239,191,189);if(V=null,b<128){if((w-=1)<0)break;X.push(b)}else if(b<2048){if((w-=2)<0)break;X.push(b>>6|192,b&63|128)}else if(b<65536){if((w-=3)<0)break;X.push(b>>12|224,b>>6&63|128,b&63|128)}else if(b<1114112){if((w-=4)<0)break;X.push(b>>18|240,b>>12&63|128,b>>6&63|128,b&63|128)}else throw new Error("Invalid code point")}return X}function it(C){const w=[];for(let b=0;b<C.length;++b)w.push(C.charCodeAt(b)&255);return w}function Ht(C,w){let b,D,V;const X=[];for(let ae=0;ae<C.length&&!((w-=2)<0);++ae)b=C.charCodeAt(ae),D=b>>8,V=b%256,X.push(V),X.push(D);return X}function ut(C){return t.toByteArray(vt(C))}function pt(C,w,b,D){let V;for(V=0;V<D&&!(V+b>=w.length||V>=C.length);++V)w[V+b]=C[V];return V}function Wt(C,w){return C instanceof w||C!=null&&C.constructor!=null&&C.constructor.name!=null&&C.constructor.name===w.name}function xt(C){return C!==C}const At=function(){const C="0123456789abcdef",w=new Array(256);for(let b=0;b<16;++b){const D=b*16;for(let V=0;V<16;++V)w[D+V]=C[b]+C[V]}return w}();function Xt(C){return typeof BigInt>"u"?Tt:C}function Tt(){throw new Error("BigInt not supported")}})(ie);var Dn={exports:{}},Bs=typeof Reflect=="object"?Reflect:null,Up=Bs&&typeof Bs.apply=="function"?Bs.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},of;Bs&&typeof Bs.ownKeys=="function"?of=Bs.ownKeys:Object.getOwnPropertySymbols?of=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:of=function(t){return Object.getOwnPropertyNames(t)};function qE(e){console&&console.warn&&console.warn(e)}var Fp=Number.isNaN||function(t){return t!==t};function Zt(){Zt.init.call(this)}Dn.exports=Zt,Dn.exports.once=ZE,Zt.EventEmitter=Zt,Zt.prototype._events=void 0,Zt.prototype._eventsCount=0,Zt.prototype._maxListeners=void 0;var Dp=10;function sf(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Zt,"defaultMaxListeners",{enumerable:!0,get:function(){return Dp},set:function(e){if(typeof e!="number"||e<0||Fp(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Dp=e}}),Zt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Zt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Fp(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Hp(e){return e._maxListeners===void 0?Zt.defaultMaxListeners:e._maxListeners}Zt.prototype.getMaxListeners=function(){return Hp(this)},Zt.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=t==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[t];if(c===void 0)return!1;if(typeof c=="function")Up(c,this,r);else for(var u=c.length,l=Wp(c,u),n=0;n<u;++n)Up(l[n],this,r);return!0};function jp(e,t,r,n){var i,o,s;if(sf(r),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),s===void 0)s=o[t]=r,++e._eventsCount;else if(typeof s=="function"?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),i=Hp(e),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,qE(a)}return e}Zt.prototype.addListener=function(t,r){return jp(this,t,r,!1)},Zt.prototype.on=Zt.prototype.addListener,Zt.prototype.prependListener=function(t,r){return jp(this,t,r,!0)};function VE(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function zp(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=VE.bind(n);return i.listener=r,n.wrapFn=i,i}Zt.prototype.once=function(t,r){return sf(r),this.on(t,zp(this,t,r)),this},Zt.prototype.prependOnceListener=function(t,r){return sf(r),this.prependListener(t,zp(this,t,r)),this},Zt.prototype.removeListener=function(t,r){var n,i,o,s,a;if(sf(r),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(o=-1,s=n.length-1;s>=0;s--)if(n[s]===r||n[s].listener===r){a=n[s].listener,o=s;break}if(o<0)return this;o===0?n.shift():WE(n,o),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,a||r)}return this},Zt.prototype.off=Zt.prototype.removeListener,Zt.prototype.removeAllListeners=function(t){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var o=Object.keys(n),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this};function qp(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?KE(i):Wp(i,i.length)}Zt.prototype.listeners=function(t){return qp(this,t,!0)},Zt.prototype.rawListeners=function(t){return qp(this,t,!1)},Zt.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Vp.call(e,t)},Zt.prototype.listenerCount=Vp;function Vp(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Zt.prototype.eventNames=function(){return this._eventsCount>0?of(this._events):[]};function Wp(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function WE(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function KE(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function ZE(e,t){return new Promise(function(r,n){function i(s){e.removeListener(t,o),n(s)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}Kp(e,t,o,{once:!0}),t!=="error"&&GE(e,i,{once:!0})})}function GE(e,t,r){typeof e.on=="function"&&Kp(e,"error",t,r)}function Kp(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(o){n.once&&e.removeEventListener(t,i),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Zp=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},af=(e,t,r)=>(Zp(e,t,"read from private field"),r?r.call(e):t.get(e)),Gp=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Yp=(e,t,r,n)=>(Zp(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),cf,Is;const Na={PROMISES:"PROMISES",CALLBACK:"CALLBACK"},Xp=class{constructor(e){Gp(this,cf,void 0),Gp(this,Is,void 0),this.setStrategy(e)}static isCallbackAdapterRequest(e){return e.id!==void 0}setHandler(e){return Yp(this,Is,e),this}request(e,t){if(!af(this,Is))throw new Error("No handler defined for Adapter");return Xp.isCallbackAdapterRequest(e)?af(this,Is).call(this,{network:t,id:e.id,name:e.method,params:e.params,object:e.params}):af(this,Is).call(this,{name:e.method,network:t,params:e.params,object:e.params})}setStrategy(e){return Yp(this,cf,e),this}getStrategy(){return af(this,cf)}};let Jp=Xp;cf=new WeakMap,Is=new WeakMap;var YE=Object.defineProperty,XE=Object.defineProperties,JE=Object.getOwnPropertyDescriptors,Qp=Object.getOwnPropertySymbols,QE=Object.prototype.hasOwnProperty,ex=Object.prototype.propertyIsEnumerable,eg=(e,t,r)=>t in e?YE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,tx=(e,t)=>{for(var r in t||(t={}))QE.call(t,r)&&eg(e,r,t[r]);if(Qp)for(var r of Qp(t))ex.call(t,r)&&eg(e,r,t[r]);return e},rx=(e,t)=>XE(e,JE(t));class nx extends Jp{constructor(){super(Na.CALLBACK),this.callback=new Map}async request(t,r){return new Promise((n,i)=>{const o=new Date().getTime()+Math.floor(Math.random()*1e3);this.callback.set(o.toString(),{reject:i,resolve:n}),super.request(rx(tx({},t),{id:o}),r)})}sendResponse(t,r){if(this.callback.has(t.toString())){const n=this.callback.get(t.toString());this.callback.delete(t.toString()),n?.resolve(r)}else console.error(`Unable to find callback for requestId: ${t}`)}sendError(t,r){if(this.callback.has(t.toString())){const n=this.callback.get(t.toString());this.callback.delete(t.toString()),n?.reject(r)}else console.error(`Unable to find callback for requestId: ${t}`)}}class ix extends Jp{constructor(){super(Na.PROMISES)}request(t,r){return super.request(t,r)}}class Cl extends Dn.exports.EventEmitter{setAdapter(t){return this.adapter=t,this}async request(t){try{if(!this.adapter)throw new Error("No adapter set, maybe you forgot to register the provider?");const r=await this.adapter.request(t,this.getNetwork());return this.emit("onResponseReady",t,r),r}catch(r){throw r}}sendResponse(t,r){if(!this.adapter)throw new Error("Adapter not found");if(this.adapter.getStrategy()!==Na.CALLBACK)throw new Error("Trying to send callback request on promisified adapter");this.adapter.sendResponse(t,r)}sendError(t,r){if(!this.adapter)throw new Error("Adapter not found");if(this.adapter.getStrategy()!==Na.CALLBACK)throw new Error("Trying to send callback request on promisified adapter");this.adapter.sendError(t,r)}}var tg=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Rs=(e,t,r)=>(tg(e,t,"read from private field"),r?r.call(e):t.get(e)),ox=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},sx=(e,t,r,n)=>(tg(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ci;class ax{constructor(t){ox(this,Ci,void 0);const r=t.strategy===Na.CALLBACK?new nx:new ix;t.handler&&r.setHandler(t.handler),this.setAdapter(r)}setHandler(t){Rs(this,Ci).setHandler(t)}setAdapter(t){return sx(this,Ci,t),this}registerProvider(t){return t.setAdapter(Rs(this,Ci)),this}registerProviders(t){return t.forEach(r=>this.registerProvider(r)),this}sendResponse(t,r){Rs(this,Ci).getStrategy()==="CALLBACK"&&Rs(this,Ci).sendResponse(t,r)}sendError(t,r){Rs(this,Ci).getStrategy()==="CALLBACK"&&Rs(this,Ci).sendError(t,r)}}Ci=new WeakMap;function rg(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function cx(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function ff(e,...t){if(!cx(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function fx(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");rg(e.outputLen),rg(e.blockLen)}function uf(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function ux(e,t){ff(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const Ll=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $l=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),gi=(e,t)=>e<<32-t|e>>>t;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function ng(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Ol(e){return typeof e=="string"&&(e=ng(e)),ff(e),e}function ig(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];ff(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const o=e[n];r.set(o,i),i+=o.length}return r}class og{clone(){return this._cloneInto()}}function sg(e){const t=n=>e().update(Ol(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function ag(e=32){if(Ll&&typeof Ll.getRandomValues=="function")return Ll.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function lx(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,u=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+u,a,n)}const hx=(e,t,r)=>e&t^~e&r,dx=(e,t,r)=>e&t^e&r^t&r;class cg extends og{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=$l(this.buffer)}update(t){uf(this);const{view:r,buffer:n,blockLen:i}=this;t=Ol(t);const o=t.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const c=$l(t);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){uf(this),ux(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:o}=this;let{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let y=s;y<i;y++)r[y]=0;lx(n,i-8,BigInt(this.length*8),o),this.process(n,0);const a=$l(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<u;y++)a.setUint32(4*y,l[y],o)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%r&&t.buffer.set(n),t}}const lf=BigInt(2**32-1),Ml=BigInt(32);function fg(e,t=!1){return t?{h:Number(e&lf),l:Number(e>>Ml&lf)}:{h:Number(e>>Ml&lf)|0,l:Number(e&lf)|0}}function px(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=fg(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]}const gx=(e,t)=>BigInt(e>>>0)<<Ml|BigInt(t>>>0),yx=(e,t,r)=>e>>>r,wx=(e,t,r)=>e<<32-r|t>>>r,mx=(e,t,r)=>e>>>r|t<<32-r,bx=(e,t,r)=>e<<32-r|t>>>r,vx=(e,t,r)=>e<<64-r|t>>>r-32,_x=(e,t,r)=>e>>>r-32|t<<64-r,Ex=(e,t)=>t,xx=(e,t)=>e,Sx=(e,t,r)=>e<<r|t>>>32-r,Ax=(e,t,r)=>t<<r|e>>>32-r,Bx=(e,t,r)=>t<<r-32|e>>>64-r,Ix=(e,t,r)=>e<<r-32|t>>>64-r;function Rx(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}const mt={fromBig:fg,split:px,toBig:gx,shrSH:yx,shrSL:wx,rotrSH:mx,rotrSL:bx,rotrBH:vx,rotrBL:_x,rotr32H:Ex,rotr32L:xx,rotlSH:Sx,rotlSL:Ax,rotlBH:Bx,rotlBL:Ix,add:Rx,add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,add5H:(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)},[Tx,kx]=(()=>mt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),to=new Uint32Array(80),ro=new Uint32Array(80);class Cx extends cg{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:u,El:l,Fh:y,Fl:A,Gh:v,Gl:R,Hh:O,Hl:P}=this;return[t,r,n,i,o,s,a,c,u,l,y,A,v,R,O,P]}set(t,r,n,i,o,s,a,c,u,l,y,A,v,R,O,P){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=y|0,this.Fl=A|0,this.Gh=v|0,this.Gl=R|0,this.Hh=O|0,this.Hl=P|0}process(t,r){for(let N=0;N<16;N++,r+=4)to[N]=t.getUint32(r),ro[N]=t.getUint32(r+=4);for(let N=16;N<80;N++){const $=to[N-15]|0,q=ro[N-15]|0,G=mt.rotrSH($,q,1)^mt.rotrSH($,q,8)^mt.shrSH($,q,7),Z=mt.rotrSL($,q,1)^mt.rotrSL($,q,8)^mt.shrSL($,q,7),z=to[N-2]|0,ee=ro[N-2]|0,oe=mt.rotrSH(z,ee,19)^mt.rotrBH(z,ee,61)^mt.shrSH(z,ee,6),Q=mt.rotrSL(z,ee,19)^mt.rotrBL(z,ee,61)^mt.shrSL(z,ee,6),I=mt.add4L(Z,Q,ro[N-7],ro[N-16]),g=mt.add4H(I,G,oe,to[N-7],to[N-16]);to[N]=g|0,ro[N]=I|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:u,Dl:l,Eh:y,El:A,Fh:v,Fl:R,Gh:O,Gl:P,Hh:H,Hl:F}=this;for(let N=0;N<80;N++){const $=mt.rotrSH(y,A,14)^mt.rotrSH(y,A,18)^mt.rotrBH(y,A,41),q=mt.rotrSL(y,A,14)^mt.rotrSL(y,A,18)^mt.rotrBL(y,A,41),G=y&v^~y&O,Z=A&R^~A&P,z=mt.add5L(F,q,Z,kx[N],ro[N]),ee=mt.add5H(z,H,$,G,Tx[N],to[N]),oe=z|0,Q=mt.rotrSH(n,i,28)^mt.rotrBH(n,i,34)^mt.rotrBH(n,i,39),I=mt.rotrSL(n,i,28)^mt.rotrBL(n,i,34)^mt.rotrBL(n,i,39),g=n&o^n&a^o&a,f=i&s^i&c^s&c;H=O|0,F=P|0,O=v|0,P=R|0,v=y|0,R=A|0,{h:y,l:A}=mt.add(u|0,l|0,ee|0,oe|0),u=a|0,l=c|0,a=o|0,c=s|0,o=n|0,s=i|0;const h=mt.add3L(oe,I,f);n=mt.add3H(h,ee,Q,g),i=h|0}({h:n,l:i}=mt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=mt.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=mt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=mt.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:y,l:A}=mt.add(this.Eh|0,this.El|0,y|0,A|0),{h:v,l:R}=mt.add(this.Fh|0,this.Fl|0,v|0,R|0),{h:O,l:P}=mt.add(this.Gh|0,this.Gl|0,O|0,P|0),{h:H,l:F}=mt.add(this.Hh|0,this.Hl|0,H|0,F|0),this.set(n,i,o,s,a,c,u,l,y,A,v,R,O,P,H,F)}roundClean(){to.fill(0),ro.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const ug=sg(()=>new Cx);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lg=BigInt(0),hf=BigInt(1),Lx=BigInt(2);function jo(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Pa(e){if(!jo(e))throw new Error("Uint8Array expected")}const $x=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function zo(e){Pa(e);let t="";for(let r=0;r<e.length;r++)t+=$x[e[r]];return t}function hg(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Nl(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}const Li={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function dg(e){if(e>=Li._0&&e<=Li._9)return e-Li._0;if(e>=Li._A&&e<=Li._F)return e-(Li._A-10);if(e>=Li._a&&e<=Li._f)return e-(Li._a-10)}function Ts(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){const s=dg(e.charCodeAt(o)),a=dg(e.charCodeAt(o+1));if(s===void 0||a===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[i]=s*16+a}return n}function qo(e){return Nl(zo(e))}function ks(e){return Pa(e),Nl(zo(Uint8Array.from(e).reverse()))}function Cs(e,t){return Ts(e.toString(16).padStart(t*2,"0"))}function Ua(e,t){return Cs(e,t).reverse()}function Ox(e){return Ts(hg(e))}function Cr(e,t,r){let n;if(typeof t=="string")try{n=Ts(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else if(jo(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}function Vo(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];Pa(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const o=e[n];r.set(o,i),i+=o.length}return r}function Mx(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}function Nx(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Px(e){let t;for(t=0;e>lg;e>>=hf,t+=1);return t}function Ux(e,t){return e>>BigInt(t)&hf}function Fx(e,t,r){return e|(r?hf:lg)<<BigInt(t)}const Pl=e=>(Lx<<BigInt(e-1))-hf,Ul=e=>new Uint8Array(e),pg=e=>Uint8Array.from(e);function gg(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Ul(e),i=Ul(e),o=0;const s=()=>{n.fill(1),i.fill(0),o=0},a=(...y)=>r(i,n,...y),c=(y=Ul())=>{i=a(pg([0]),y),n=a(),y.length!==0&&(i=a(pg([1]),y),n=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let y=0;const A=[];for(;y<t;){n=a();const v=n.slice();A.push(v),y+=n.length}return Vo(...A)};return(y,A)=>{s(),c(y);let v;for(;!(v=A(u()));)c();return s(),v}}const Dx={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||jo(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Ls(e,t,r={}){const n=(i,o,s)=>{const a=Dx[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const c=e[i];if(!(s&&c===void 0)&&!a(c,e))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${o}`)};for(const[i,o]of Object.entries(t))n(i,o,!1);for(const[i,o]of Object.entries(r))n(i,o,!0);return e}var Hx=Object.freeze({__proto__:null,isBytes:jo,abytes:Pa,bytesToHex:zo,numberToHexUnpadded:hg,hexToNumber:Nl,hexToBytes:Ts,bytesToNumberBE:qo,bytesToNumberLE:ks,numberToBytesBE:Cs,numberToBytesLE:Ua,numberToVarBytesBE:Ox,ensureBytes:Cr,concatBytes:Vo,equalBytes:Mx,utf8ToBytes:Nx,bitLen:Px,bitGet:Ux,bitSet:Fx,bitMask:Pl,createHmacDrbg:gg,validateObject:Ls});/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fr=BigInt(0),hr=BigInt(1),Wo=BigInt(2),jx=BigInt(3),Fl=BigInt(4),yg=BigInt(5),wg=BigInt(8);BigInt(9),BigInt(16);function ir(e,t){const r=e%t;return r>=Fr?r:t+r}function zx(e,t,r){if(r<=Fr||t<Fr)throw new Error("Expected power/modulo > 0");if(r===hr)return Fr;let n=hr;for(;t>Fr;)t&hr&&(n=n*e%r),e=e*e%r,t>>=hr;return n}function wr(e,t,r){let n=e;for(;t-- >Fr;)n*=n,n%=r;return n}function Dl(e,t){if(e===Fr||t<=Fr)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=ir(e,t),n=t,i=Fr,o=hr;for(;r!==Fr;){const a=n/r,c=n%r,u=i-o*a;n=r,r=c,i=o,o=u}if(n!==hr)throw new Error("invert: does not exist");return ir(i,t)}function qx(e){const t=(e-hr)/Wo;let r,n,i;for(r=e-hr,n=0;r%Wo===Fr;r/=Wo,n++);for(i=Wo;i<e&&zx(i,t,e)!==e-hr;i++);if(n===1){const s=(e+hr)/Fl;return function(c,u){const l=c.pow(u,s);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const o=(r+hr)/Wo;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=n,l=a.pow(a.mul(a.ONE,i),r),y=a.pow(c,o),A=a.pow(c,r);for(;!a.eql(A,a.ONE);){if(a.eql(A,a.ZERO))return a.ZERO;let v=1;for(let O=a.sqr(A);v<u&&!a.eql(O,a.ONE);v++)O=a.sqr(O);const R=a.pow(l,hr<<BigInt(u-v-1));l=a.sqr(R),y=a.mul(y,R),A=a.mul(A,l),u=v}return y}}function Vx(e){if(e%Fl===jx){const t=(e+hr)/Fl;return function(n,i){const o=n.pow(i,t);if(!n.eql(n.sqr(o),i))throw new Error("Cannot find square root");return o}}if(e%wg===yg){const t=(e-yg)/wg;return function(n,i){const o=n.mul(i,Wo),s=n.pow(o,t),a=n.mul(i,s),c=n.mul(n.mul(a,Wo),s),u=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),i))throw new Error("Cannot find square root");return u}}return qx(e)}const Wx=(e,t)=>(ir(e,t)&hr)===hr,Kx=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Zx(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Kx.reduce((n,i)=>(n[i]="function",n),t);return Ls(e,r)}function Gx(e,t,r){if(r<Fr)throw new Error("Expected power > 0");if(r===Fr)return e.ONE;if(r===hr)return t;let n=e.ONE,i=t;for(;r>Fr;)r&hr&&(n=e.mul(n,i)),i=e.sqr(i),r>>=hr;return n}function Yx(e,t){const r=new Array(t.length),n=t.reduce((o,s,a)=>e.is0(s)?o:(r[a]=o,e.mul(o,s)),e.ONE),i=e.inv(n);return t.reduceRight((o,s,a)=>e.is0(s)?o:(r[a]=e.mul(o,r[a]),e.mul(o,s)),i),r}function mg(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function bg(e,t,r=!1,n={}){if(e<=Fr)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:o}=mg(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=Vx(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:Pl(i),ZERO:Fr,ONE:hr,create:c=>ir(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Fr<=c&&c<e},is0:c=>c===Fr,isOdd:c=>(c&hr)===hr,neg:c=>ir(-c,e),eql:(c,u)=>c===u,sqr:c=>ir(c*c,e),add:(c,u)=>ir(c+u,e),sub:(c,u)=>ir(c-u,e),mul:(c,u)=>ir(c*u,e),pow:(c,u)=>Gx(a,c,u),div:(c,u)=>ir(c*Dl(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Dl(c,e),sqrt:n.sqrt||(c=>s(a,c)),invertBatch:c=>Yx(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>r?Ua(c,o):Cs(c,o),fromBytes:c=>{if(c.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${c.length}`);return r?ks(c):qo(c)}});return Object.freeze(a)}function Xx(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r}function vg(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function _g(e){const t=vg(e);return t+Math.ceil(t/2)}function Jx(e,t,r=!1){const n=e.length,i=vg(t),o=_g(t);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);const s=r?qo(e):ks(e),a=ir(s,t-hr)+hr;return r?Ua(a,i):Cs(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Qx=BigInt(0),Hl=BigInt(1);function Eg(e,t){const r=(i,o)=>{const s=o.negate();return i?s:o},n=i=>{const o=Math.ceil(t/i)+1,s=2**(i-1);return{windows:o,windowSize:s}};return{constTimeNegate:r,unsafeLadder(i,o){let s=e.ZERO,a=i;for(;o>Qx;)o&Hl&&(s=s.add(a)),a=a.double(),o>>=Hl;return s},precomputeWindow(i,o){const{windows:s,windowSize:a}=n(o),c=[];let u=i,l=u;for(let y=0;y<s;y++){l=u,c.push(l);for(let A=1;A<a;A++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(i,o,s){const{windows:a,windowSize:c}=n(i);let u=e.ZERO,l=e.BASE;const y=BigInt(2**i-1),A=2**i,v=BigInt(i);for(let R=0;R<a;R++){const O=R*c;let P=Number(s&y);s>>=v,P>c&&(P-=A,s+=Hl);const H=O,F=O+Math.abs(P)-1,N=R%2!==0,$=P<0;P===0?l=l.add(r(N,o[H])):u=u.add(r($,o[F]))}return{p:u,f:l}},wNAFCached(i,o,s,a){const c=i._WINDOW_SIZE||1;let u=o.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&o.set(i,a(u))),this.wNAF(c,u,s)}}}function jl(e){return Zx(e.Fp),Ls(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...mg(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ri=BigInt(0),An=BigInt(1),df=BigInt(2),eS=BigInt(8),tS={zip215:!0};function rS(e){const t=jl(e);return Ls(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function zl(e){const t=rS(e),{Fp:r,n,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:c}=t,u=df<<BigInt(a*8)-An,l=r.create,y=t.uvRatio||((E,x)=>{try{return{isValid:!0,value:r.sqrt(E*r.inv(x))}}catch{return{isValid:!1,value:ri}}}),A=t.adjustScalarBytes||(E=>E),v=t.domain||((E,x,T)=>{if(x.length||T)throw new Error("Contexts/pre-hash are not supported");return E}),R=E=>typeof E=="bigint"&&ri<E,O=(E,x)=>R(E)&&R(x)&&E<x,P=E=>E===ri||O(E,u);function H(E,x){if(O(E,x))return E;throw new Error(`Expected valid scalar < ${x}, got ${typeof E} ${E}`)}function F(E){return E===ri?E:H(E,n)}const N=new Map;function $(E){if(!(E instanceof q))throw new Error("ExtendedPoint expected")}class q{constructor(x,T,B,d){if(this.ex=x,this.ey=T,this.ez=B,this.et=d,!P(x))throw new Error("x required");if(!P(T))throw new Error("y required");if(!P(B))throw new Error("z required");if(!P(d))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(x){if(x instanceof q)throw new Error("extended point not allowed");const{x:T,y:B}=x||{};if(!P(T)||!P(B))throw new Error("invalid affine point");return new q(T,B,An,l(T*B))}static normalizeZ(x){const T=r.invertBatch(x.map(B=>B.ez));return x.map((B,d)=>B.toAffine(T[d])).map(q.fromAffine)}_setWindowSize(x){this._WINDOW_SIZE=x,N.delete(this)}assertValidity(){const{a:x,d:T}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:B,ey:d,ez:k,et:W}=this,K=l(B*B),re=l(d*d),xe=l(k*k),be=l(xe*xe),ge=l(K*x),tt=l(xe*l(ge+re)),Ue=l(be+l(T*l(K*re)));if(tt!==Ue)throw new Error("bad point: equation left != right (1)");const Pe=l(B*d),pe=l(k*W);if(Pe!==pe)throw new Error("bad point: equation left != right (2)")}equals(x){$(x);const{ex:T,ey:B,ez:d}=this,{ex:k,ey:W,ez:K}=x,re=l(T*K),xe=l(k*d),be=l(B*K),ge=l(W*d);return re===xe&&be===ge}is0(){return this.equals(q.ZERO)}negate(){return new q(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:x}=t,{ex:T,ey:B,ez:d}=this,k=l(T*T),W=l(B*B),K=l(df*l(d*d)),re=l(x*k),xe=T+B,be=l(l(xe*xe)-k-W),ge=re+W,tt=ge-K,Ue=re-W,Pe=l(be*tt),pe=l(ge*Ue),we=l(be*Ue),ke=l(tt*ge);return new q(Pe,pe,ke,we)}add(x){$(x);const{a:T,d:B}=t,{ex:d,ey:k,ez:W,et:K}=this,{ex:re,ey:xe,ez:be,et:ge}=x;if(T===BigInt(-1)){const Wt=l((k-d)*(xe+re)),xt=l((k+d)*(xe-re)),At=l(xt-Wt);if(At===ri)return this.double();const Xt=l(W*df*ge),Tt=l(K*df*be),C=Tt+Xt,w=xt+Wt,b=Tt-Xt,D=l(C*At),V=l(w*b),X=l(C*b),ae=l(At*w);return new q(D,V,ae,X)}const tt=l(d*re),Ue=l(k*xe),Pe=l(K*B*ge),pe=l(W*be),we=l((d+k)*(re+xe)-tt-Ue),ke=pe-Pe,vt=pe+Pe,He=l(Ue-T*tt),it=l(we*ke),Ht=l(vt*He),ut=l(we*He),pt=l(ke*vt);return new q(it,Ht,pt,ut)}subtract(x){return this.add(x.negate())}wNAF(x){return z.wNAFCached(this,N,x,q.normalizeZ)}multiply(x){const{p:T,f:B}=this.wNAF(H(x,n));return q.normalizeZ([T,B])[0]}multiplyUnsafe(x){let T=F(x);return T===ri?Z:this.equals(Z)||T===An?this:this.equals(G)?this.wNAF(T).p:z.unsafeLadder(this,T)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return z.unsafeLadder(this,n).is0()}toAffine(x){const{ex:T,ey:B,ez:d}=this,k=this.is0();x==null&&(x=k?eS:r.inv(d));const W=l(T*x),K=l(B*x),re=l(d*x);if(k)return{x:ri,y:An};if(re!==An)throw new Error("invZ was invalid");return{x:W,y:K}}clearCofactor(){const{h:x}=t;return x===An?this:this.multiplyUnsafe(x)}static fromHex(x,T=!1){const{d:B,a:d}=t,k=r.BYTES;x=Cr("pointHex",x,k);const W=x.slice(),K=x[k-1];W[k-1]=K&-129;const re=ks(W);re===ri||(T?H(re,u):H(re,r.ORDER));const xe=l(re*re),be=l(xe-An),ge=l(B*xe-d);let{isValid:tt,value:Ue}=y(be,ge);if(!tt)throw new Error("Point.fromHex: invalid y coordinate");const Pe=(Ue&An)===An,pe=(K&128)!==0;if(!T&&Ue===ri&&pe)throw new Error("Point.fromHex: x=0 and x_0=1");return pe!==Pe&&(Ue=l(-Ue)),q.fromAffine({x:Ue,y:re})}static fromPrivateKey(x){return Q(x).point}toRawBytes(){const{x,y:T}=this.toAffine(),B=Ua(T,r.BYTES);return B[B.length-1]|=x&An?128:0,B}toHex(){return zo(this.toRawBytes())}}q.BASE=new q(t.Gx,t.Gy,An,l(t.Gx*t.Gy)),q.ZERO=new q(ri,An,An,ri);const{BASE:G,ZERO:Z}=q,z=Eg(q,a*8);function ee(E){return ir(E,n)}function oe(E){return ee(ks(E))}function Q(E){const x=a;E=Cr("private key",E,x);const T=Cr("hashed private key",o(E),2*x),B=A(T.slice(0,x)),d=T.slice(x,2*x),k=oe(B),W=G.multiply(k),K=W.toRawBytes();return{head:B,prefix:d,scalar:k,point:W,pointBytes:K}}function I(E){return Q(E).pointBytes}function g(E=new Uint8Array,...x){const T=Vo(...x);return oe(o(v(T,Cr("context",E),!!i)))}function f(E,x,T={}){E=Cr("message",E),i&&(E=i(E));const{prefix:B,scalar:d,pointBytes:k}=Q(x),W=g(T.context,B,E),K=G.multiply(W).toRawBytes(),re=g(T.context,K,k,E),xe=ee(W+re*d);F(xe);const be=Vo(K,Ua(xe,r.BYTES));return Cr("result",be,a*2)}const h=tS;function m(E,x,T,B=h){const{context:d,zip215:k}=B,W=r.BYTES;E=Cr("signature",E,2*W),x=Cr("message",x),i&&(x=i(x));const K=ks(E.slice(W,2*W));let re,xe,be;try{re=q.fromHex(T,k),xe=q.fromHex(E.slice(0,W),k),be=G.multiplyUnsafe(K)}catch{return!1}if(!k&&re.isSmallOrder())return!1;const ge=g(d,xe.toRawBytes(),re.toRawBytes(),x);return xe.add(re.multiplyUnsafe(ge)).subtract(be).clearCofactor().equals(q.ZERO)}return G._setWindowSize(8),{CURVE:t,getPublicKey:I,sign:f,verify:m,ExtendedPoint:q,utils:{getExtendedPublicKey:Q,randomPrivateKey:()=>s(r.BYTES),precompute(E=8,x=q.BASE){return x._setWindowSize(E),x.multiply(BigInt(3)),x}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0),BigInt(1);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ql=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),xg=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const nS=BigInt(1),Vl=BigInt(2),iS=BigInt(5),Sg=BigInt(10),oS=BigInt(20),sS=BigInt(40),Ag=BigInt(80);function aS(e){const t=ql,n=e*e%t*e%t,i=wr(n,Vl,t)*n%t,o=wr(i,nS,t)*e%t,s=wr(o,iS,t)*o%t,a=wr(s,Sg,t)*s%t,c=wr(a,oS,t)*a%t,u=wr(c,sS,t)*c%t,l=wr(u,Ag,t)*u%t,y=wr(l,Ag,t)*u%t,A=wr(y,Sg,t)*s%t;return{pow_p_5_8:wr(A,Vl,t)*e%t,b2:n}}function cS(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function fS(e,t){const r=ql,n=ir(t*t*t,r),i=ir(n*n*t,r),o=aS(e*i).pow_p_5_8;let s=ir(e*n*o,r);const a=ir(t*s*s,r),c=s,u=ir(s*xg,r),l=a===e,y=a===ir(-e,r),A=a===ir(-e*xg,r);return l&&(s=c),(y||A)&&(s=u),Wx(s,r)&&(s=ir(-s,r)),{isValid:l||y,value:s}}const $i=bg(ql,void 0,!0),Wl={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:$i,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:ug,randomBytes:ag,adjustScalarBytes:cS,uvRatio:fS},pf=zl(Wl);function Bg(e,t,r){if(t.length>255)throw new Error("Context is too big");return ig(ng("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,t.length]),t,e)}({...Wl},{...Wl});const uS=($i.ORDER+BigInt(3))/BigInt(8);$i.pow(Vl,uS),$i.sqrt($i.neg($i.ONE)),($i.ORDER-BigInt(5))/BigInt(8),BigInt(486662),Xx($i,$i.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var Kl={exports:{}},lS={},hS=Object.freeze({__proto__:null,default:lS}),Ig=Un(hS);(function(e){(function(t,r){function n(g,f){if(!g)throw new Error(f||"Assertion failed")}function i(g,f){g.super_=f;var h=function(){};h.prototype=f.prototype,g.prototype=new h,g.prototype.constructor=g}function o(g,f,h){if(o.isBN(g))return g;this.negative=0,this.words=null,this.length=0,this.red=null,g!==null&&((f==="le"||f==="be")&&(h=f,f=10),this._init(g||0,f||10,h||"be"))}typeof t=="object"?t.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=Ig.Buffer}catch{}o.isBN=function(f){return f instanceof o?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===o.wordSize&&Array.isArray(f.words)},o.max=function(f,h){return f.cmp(h)>0?f:h},o.min=function(f,h){return f.cmp(h)<0?f:h},o.prototype._init=function(f,h,m){if(typeof f=="number")return this._initNumber(f,h,m);if(typeof f=="object")return this._initArray(f,h,m);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),f=f.toString().replace(/\s+/g,"");var _=0;f[0]==="-"&&(_++,this.negative=1),_<f.length&&(h===16?this._parseHex(f,_,m):(this._parseBase(f,h,_),m==="le"&&this._initArray(this.toArray(),h,m)))},o.prototype._initNumber=function(f,h,m){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(n(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),h,m)},o.prototype._initArray=function(f,h,m){if(n(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var E,x,T=0;if(m==="be")for(_=f.length-1,E=0;_>=0;_-=3)x=f[_]|f[_-1]<<8|f[_-2]<<16,this.words[E]|=x<<T&67108863,this.words[E+1]=x>>>26-T&67108863,T+=24,T>=26&&(T-=26,E++);else if(m==="le")for(_=0,E=0;_<f.length;_+=3)x=f[_]|f[_+1]<<8|f[_+2]<<16,this.words[E]|=x<<T&67108863,this.words[E+1]=x>>>26-T&67108863,T+=24,T>=26&&(T-=26,E++);return this._strip()};function a(g,f){var h=g.charCodeAt(f);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;n(!1,"Invalid character in "+g)}function c(g,f,h){var m=a(g,h);return h-1>=f&&(m|=a(g,h-1)<<4),m}o.prototype._parseHex=function(f,h,m){this.length=Math.ceil((f.length-h)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var E=0,x=0,T;if(m==="be")for(_=f.length-1;_>=h;_-=2)T=c(f,h,_)<<E,this.words[x]|=T&67108863,E>=18?(E-=18,x+=1,this.words[x]|=T>>>26):E+=8;else{var B=f.length-h;for(_=B%2===0?h+1:h;_<f.length;_+=2)T=c(f,h,_)<<E,this.words[x]|=T&67108863,E>=18?(E-=18,x+=1,this.words[x]|=T>>>26):E+=8}this._strip()};function u(g,f,h,m){for(var _=0,E=0,x=Math.min(g.length,h),T=f;T<x;T++){var B=g.charCodeAt(T)-48;_*=m,B>=49?E=B-49+10:B>=17?E=B-17+10:E=B,n(B>=0&&E<m,"Invalid character"),_+=E}return _}o.prototype._parseBase=function(f,h,m){this.words=[0],this.length=1;for(var _=0,E=1;E<=67108863;E*=h)_++;_--,E=E/h|0;for(var x=f.length-m,T=x%_,B=Math.min(x,x-T)+m,d=0,k=m;k<B;k+=_)d=u(f,k,k+_,h),this.imuln(E),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(T!==0){var W=1;for(d=u(f,k,f.length,h),k=0;k<T;k++)W*=h;this.imuln(W),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},o.prototype.copy=function(f){f.words=new Array(this.length);for(var h=0;h<this.length;h++)f.words[h]=this.words[h];f.length=this.length,f.negative=this.negative,f.red=this.red};function l(g,f){g.words=f.words,g.length=f.length,g.negative=f.negative,g.red=f.red}if(o.prototype._move=function(f){l(f,this)},o.prototype.clone=function(){var f=new o(null);return this.copy(f),f},o.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{o.prototype.inspect=y}else o.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var A=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],R=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(f,h){f=f||10,h=h|0||1;var m;if(f===16||f==="hex"){m="";for(var _=0,E=0,x=0;x<this.length;x++){var T=this.words[x],B=((T<<_|E)&16777215).toString(16);E=T>>>24-_&16777215,_+=2,_>=26&&(_-=26,x--),E!==0||x!==this.length-1?m=A[6-B.length]+B+m:m=B+m}for(E!==0&&(m=E.toString(16)+m);m.length%h!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(f===(f|0)&&f>=2&&f<=36){var d=v[f],k=R[f];m="";var W=this.clone();for(W.negative=0;!W.isZero();){var K=W.modrn(k).toString(f);W=W.idivn(k),W.isZero()?m=K+m:m=A[d-K.length]+K+m}for(this.isZero()&&(m="0"+m);m.length%h!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(f,h){return this.toArrayLike(s,f,h)}),o.prototype.toArray=function(f,h){return this.toArrayLike(Array,f,h)};var O=function(f,h){return f.allocUnsafe?f.allocUnsafe(h):new f(h)};o.prototype.toArrayLike=function(f,h,m){this._strip();var _=this.byteLength(),E=m||Math.max(1,_);n(_<=E,"byte array longer than desired length"),n(E>0,"Requested array length <= 0");var x=O(f,E),T=h==="le"?"LE":"BE";return this["_toArrayLike"+T](x,_),x},o.prototype._toArrayLikeLE=function(f,h){for(var m=0,_=0,E=0,x=0;E<this.length;E++){var T=this.words[E]<<x|_;f[m++]=T&255,m<f.length&&(f[m++]=T>>8&255),m<f.length&&(f[m++]=T>>16&255),x===6?(m<f.length&&(f[m++]=T>>24&255),_=0,x=0):(_=T>>>24,x+=2)}if(m<f.length)for(f[m++]=_;m<f.length;)f[m++]=0},o.prototype._toArrayLikeBE=function(f,h){for(var m=f.length-1,_=0,E=0,x=0;E<this.length;E++){var T=this.words[E]<<x|_;f[m--]=T&255,m>=0&&(f[m--]=T>>8&255),m>=0&&(f[m--]=T>>16&255),x===6?(m>=0&&(f[m--]=T>>24&255),_=0,x=0):(_=T>>>24,x+=2)}if(m>=0)for(f[m--]=_;m>=0;)f[m--]=0},Math.clz32?o.prototype._countBits=function(f){return 32-Math.clz32(f)}:o.prototype._countBits=function(f){var h=f,m=0;return h>=4096&&(m+=13,h>>>=13),h>=64&&(m+=7,h>>>=7),h>=8&&(m+=4,h>>>=4),h>=2&&(m+=2,h>>>=2),m+h},o.prototype._zeroBits=function(f){if(f===0)return 26;var h=f,m=0;return h&8191||(m+=13,h>>>=13),h&127||(m+=7,h>>>=7),h&15||(m+=4,h>>>=4),h&3||(m+=2,h>>>=2),h&1||m++,m},o.prototype.bitLength=function(){var f=this.words[this.length-1],h=this._countBits(f);return(this.length-1)*26+h};function P(g){for(var f=new Array(g.bitLength()),h=0;h<f.length;h++){var m=h/26|0,_=h%26;f[h]=g.words[m]>>>_&1}return f}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,h=0;h<this.length;h++){var m=this._zeroBits(this.words[h]);if(f+=m,m!==26)break}return f},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},o.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var h=0;h<f.length;h++)this.words[h]=this.words[h]|f.words[h];return this._strip()},o.prototype.ior=function(f){return n((this.negative|f.negative)===0),this.iuor(f)},o.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},o.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},o.prototype.iuand=function(f){var h;this.length>f.length?h=f:h=this;for(var m=0;m<h.length;m++)this.words[m]=this.words[m]&f.words[m];return this.length=h.length,this._strip()},o.prototype.iand=function(f){return n((this.negative|f.negative)===0),this.iuand(f)},o.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},o.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},o.prototype.iuxor=function(f){var h,m;this.length>f.length?(h=this,m=f):(h=f,m=this);for(var _=0;_<m.length;_++)this.words[_]=h.words[_]^m.words[_];if(this!==h)for(;_<h.length;_++)this.words[_]=h.words[_];return this.length=h.length,this._strip()},o.prototype.ixor=function(f){return n((this.negative|f.negative)===0),this.iuxor(f)},o.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},o.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},o.prototype.inotn=function(f){n(typeof f=="number"&&f>=0);var h=Math.ceil(f/26)|0,m=f%26;this._expand(h),m>0&&h--;for(var _=0;_<h;_++)this.words[_]=~this.words[_]&67108863;return m>0&&(this.words[_]=~this.words[_]&67108863>>26-m),this._strip()},o.prototype.notn=function(f){return this.clone().inotn(f)},o.prototype.setn=function(f,h){n(typeof f=="number"&&f>=0);var m=f/26|0,_=f%26;return this._expand(m+1),h?this.words[m]=this.words[m]|1<<_:this.words[m]=this.words[m]&~(1<<_),this._strip()},o.prototype.iadd=function(f){var h;if(this.negative!==0&&f.negative===0)return this.negative=0,h=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,h=this.isub(f),f.negative=1,h._normSign();var m,_;this.length>f.length?(m=this,_=f):(m=f,_=this);for(var E=0,x=0;x<_.length;x++)h=(m.words[x]|0)+(_.words[x]|0)+E,this.words[x]=h&67108863,E=h>>>26;for(;E!==0&&x<m.length;x++)h=(m.words[x]|0)+E,this.words[x]=h&67108863,E=h>>>26;if(this.length=m.length,E!==0)this.words[this.length]=E,this.length++;else if(m!==this)for(;x<m.length;x++)this.words[x]=m.words[x];return this},o.prototype.add=function(f){var h;return f.negative!==0&&this.negative===0?(f.negative=0,h=this.sub(f),f.negative^=1,h):f.negative===0&&this.negative!==0?(this.negative=0,h=f.sub(this),this.negative=1,h):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},o.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var h=this.iadd(f);return f.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var m=this.cmp(f);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _,E;m>0?(_=this,E=f):(_=f,E=this);for(var x=0,T=0;T<E.length;T++)h=(_.words[T]|0)-(E.words[T]|0)+x,x=h>>26,this.words[T]=h&67108863;for(;x!==0&&T<_.length;T++)h=(_.words[T]|0)+x,x=h>>26,this.words[T]=h&67108863;if(x===0&&T<_.length&&_!==this)for(;T<_.length;T++)this.words[T]=_.words[T];return this.length=Math.max(this.length,T),_!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(f){return this.clone().isub(f)};function H(g,f,h){h.negative=f.negative^g.negative;var m=g.length+f.length|0;h.length=m,m=m-1|0;var _=g.words[0]|0,E=f.words[0]|0,x=_*E,T=x&67108863,B=x/67108864|0;h.words[0]=T;for(var d=1;d<m;d++){for(var k=B>>>26,W=B&67108863,K=Math.min(d,f.length-1),re=Math.max(0,d-g.length+1);re<=K;re++){var xe=d-re|0;_=g.words[xe]|0,E=f.words[re]|0,x=_*E+W,k+=x/67108864|0,W=x&67108863}h.words[d]=W|0,B=k|0}return B!==0?h.words[d]=B|0:h.length--,h._strip()}var F=function(f,h,m){var _=f.words,E=h.words,x=m.words,T=0,B,d,k,W=_[0]|0,K=W&8191,re=W>>>13,xe=_[1]|0,be=xe&8191,ge=xe>>>13,tt=_[2]|0,Ue=tt&8191,Pe=tt>>>13,pe=_[3]|0,we=pe&8191,ke=pe>>>13,vt=_[4]|0,He=vt&8191,it=vt>>>13,Ht=_[5]|0,ut=Ht&8191,pt=Ht>>>13,Wt=_[6]|0,xt=Wt&8191,At=Wt>>>13,Xt=_[7]|0,Tt=Xt&8191,C=Xt>>>13,w=_[8]|0,b=w&8191,D=w>>>13,V=_[9]|0,X=V&8191,ae=V>>>13,Ze=E[0]|0,Ge=Ze&8191,We=Ze>>>13,jt=E[1]|0,ze=jt&8191,rr=jt>>>13,Ma=E[2]|0,yr=Ma&8191,vr=Ma>>>13,Rl=E[3]|0,zt=Rl&8191,Yt=Rl>>>13,eo=E[4]|0,ur=eo&8191,lr=eo>>>13,tf=E[5]|0,_r=tf&8191,kt=tf>>>13,rf=E[6]|0,S=rf&8191,L=rf>>>13,M=E[7]|0,p=M&8191,U=M>>>13,J=E[8]|0,Y=J&8191,ue=J>>>13,_e=E[9]|0,Ae=_e&8191,Ee=_e>>>13;m.negative=f.negative^h.negative,m.length=19,B=Math.imul(K,Ge),d=Math.imul(K,We),d=d+Math.imul(re,Ge)|0,k=Math.imul(re,We);var Bt=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,B=Math.imul(be,Ge),d=Math.imul(be,We),d=d+Math.imul(ge,Ge)|0,k=Math.imul(ge,We),B=B+Math.imul(K,ze)|0,d=d+Math.imul(K,rr)|0,d=d+Math.imul(re,ze)|0,k=k+Math.imul(re,rr)|0;var Le=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(Le>>>26)|0,Le&=67108863,B=Math.imul(Ue,Ge),d=Math.imul(Ue,We),d=d+Math.imul(Pe,Ge)|0,k=Math.imul(Pe,We),B=B+Math.imul(be,ze)|0,d=d+Math.imul(be,rr)|0,d=d+Math.imul(ge,ze)|0,k=k+Math.imul(ge,rr)|0,B=B+Math.imul(K,yr)|0,d=d+Math.imul(K,vr)|0,d=d+Math.imul(re,yr)|0,k=k+Math.imul(re,vr)|0;var Ke=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,B=Math.imul(we,Ge),d=Math.imul(we,We),d=d+Math.imul(ke,Ge)|0,k=Math.imul(ke,We),B=B+Math.imul(Ue,ze)|0,d=d+Math.imul(Ue,rr)|0,d=d+Math.imul(Pe,ze)|0,k=k+Math.imul(Pe,rr)|0,B=B+Math.imul(be,yr)|0,d=d+Math.imul(be,vr)|0,d=d+Math.imul(ge,yr)|0,k=k+Math.imul(ge,vr)|0,B=B+Math.imul(K,zt)|0,d=d+Math.imul(K,Yt)|0,d=d+Math.imul(re,zt)|0,k=k+Math.imul(re,Yt)|0;var Ye=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,B=Math.imul(He,Ge),d=Math.imul(He,We),d=d+Math.imul(it,Ge)|0,k=Math.imul(it,We),B=B+Math.imul(we,ze)|0,d=d+Math.imul(we,rr)|0,d=d+Math.imul(ke,ze)|0,k=k+Math.imul(ke,rr)|0,B=B+Math.imul(Ue,yr)|0,d=d+Math.imul(Ue,vr)|0,d=d+Math.imul(Pe,yr)|0,k=k+Math.imul(Pe,vr)|0,B=B+Math.imul(be,zt)|0,d=d+Math.imul(be,Yt)|0,d=d+Math.imul(ge,zt)|0,k=k+Math.imul(ge,Yt)|0,B=B+Math.imul(K,ur)|0,d=d+Math.imul(K,lr)|0,d=d+Math.imul(re,ur)|0,k=k+Math.imul(re,lr)|0;var lt=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(lt>>>26)|0,lt&=67108863,B=Math.imul(ut,Ge),d=Math.imul(ut,We),d=d+Math.imul(pt,Ge)|0,k=Math.imul(pt,We),B=B+Math.imul(He,ze)|0,d=d+Math.imul(He,rr)|0,d=d+Math.imul(it,ze)|0,k=k+Math.imul(it,rr)|0,B=B+Math.imul(we,yr)|0,d=d+Math.imul(we,vr)|0,d=d+Math.imul(ke,yr)|0,k=k+Math.imul(ke,vr)|0,B=B+Math.imul(Ue,zt)|0,d=d+Math.imul(Ue,Yt)|0,d=d+Math.imul(Pe,zt)|0,k=k+Math.imul(Pe,Yt)|0,B=B+Math.imul(be,ur)|0,d=d+Math.imul(be,lr)|0,d=d+Math.imul(ge,ur)|0,k=k+Math.imul(ge,lr)|0,B=B+Math.imul(K,_r)|0,d=d+Math.imul(K,kt)|0,d=d+Math.imul(re,_r)|0,k=k+Math.imul(re,kt)|0;var ct=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(ct>>>26)|0,ct&=67108863,B=Math.imul(xt,Ge),d=Math.imul(xt,We),d=d+Math.imul(At,Ge)|0,k=Math.imul(At,We),B=B+Math.imul(ut,ze)|0,d=d+Math.imul(ut,rr)|0,d=d+Math.imul(pt,ze)|0,k=k+Math.imul(pt,rr)|0,B=B+Math.imul(He,yr)|0,d=d+Math.imul(He,vr)|0,d=d+Math.imul(it,yr)|0,k=k+Math.imul(it,vr)|0,B=B+Math.imul(we,zt)|0,d=d+Math.imul(we,Yt)|0,d=d+Math.imul(ke,zt)|0,k=k+Math.imul(ke,Yt)|0,B=B+Math.imul(Ue,ur)|0,d=d+Math.imul(Ue,lr)|0,d=d+Math.imul(Pe,ur)|0,k=k+Math.imul(Pe,lr)|0,B=B+Math.imul(be,_r)|0,d=d+Math.imul(be,kt)|0,d=d+Math.imul(ge,_r)|0,k=k+Math.imul(ge,kt)|0,B=B+Math.imul(K,S)|0,d=d+Math.imul(K,L)|0,d=d+Math.imul(re,S)|0,k=k+Math.imul(re,L)|0;var Xe=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,B=Math.imul(Tt,Ge),d=Math.imul(Tt,We),d=d+Math.imul(C,Ge)|0,k=Math.imul(C,We),B=B+Math.imul(xt,ze)|0,d=d+Math.imul(xt,rr)|0,d=d+Math.imul(At,ze)|0,k=k+Math.imul(At,rr)|0,B=B+Math.imul(ut,yr)|0,d=d+Math.imul(ut,vr)|0,d=d+Math.imul(pt,yr)|0,k=k+Math.imul(pt,vr)|0,B=B+Math.imul(He,zt)|0,d=d+Math.imul(He,Yt)|0,d=d+Math.imul(it,zt)|0,k=k+Math.imul(it,Yt)|0,B=B+Math.imul(we,ur)|0,d=d+Math.imul(we,lr)|0,d=d+Math.imul(ke,ur)|0,k=k+Math.imul(ke,lr)|0,B=B+Math.imul(Ue,_r)|0,d=d+Math.imul(Ue,kt)|0,d=d+Math.imul(Pe,_r)|0,k=k+Math.imul(Pe,kt)|0,B=B+Math.imul(be,S)|0,d=d+Math.imul(be,L)|0,d=d+Math.imul(ge,S)|0,k=k+Math.imul(ge,L)|0,B=B+Math.imul(K,p)|0,d=d+Math.imul(K,U)|0,d=d+Math.imul(re,p)|0,k=k+Math.imul(re,U)|0;var rt=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(rt>>>26)|0,rt&=67108863,B=Math.imul(b,Ge),d=Math.imul(b,We),d=d+Math.imul(D,Ge)|0,k=Math.imul(D,We),B=B+Math.imul(Tt,ze)|0,d=d+Math.imul(Tt,rr)|0,d=d+Math.imul(C,ze)|0,k=k+Math.imul(C,rr)|0,B=B+Math.imul(xt,yr)|0,d=d+Math.imul(xt,vr)|0,d=d+Math.imul(At,yr)|0,k=k+Math.imul(At,vr)|0,B=B+Math.imul(ut,zt)|0,d=d+Math.imul(ut,Yt)|0,d=d+Math.imul(pt,zt)|0,k=k+Math.imul(pt,Yt)|0,B=B+Math.imul(He,ur)|0,d=d+Math.imul(He,lr)|0,d=d+Math.imul(it,ur)|0,k=k+Math.imul(it,lr)|0,B=B+Math.imul(we,_r)|0,d=d+Math.imul(we,kt)|0,d=d+Math.imul(ke,_r)|0,k=k+Math.imul(ke,kt)|0,B=B+Math.imul(Ue,S)|0,d=d+Math.imul(Ue,L)|0,d=d+Math.imul(Pe,S)|0,k=k+Math.imul(Pe,L)|0,B=B+Math.imul(be,p)|0,d=d+Math.imul(be,U)|0,d=d+Math.imul(ge,p)|0,k=k+Math.imul(ge,U)|0,B=B+Math.imul(K,Y)|0,d=d+Math.imul(K,ue)|0,d=d+Math.imul(re,Y)|0,k=k+Math.imul(re,ue)|0;var Je=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(Je>>>26)|0,Je&=67108863,B=Math.imul(X,Ge),d=Math.imul(X,We),d=d+Math.imul(ae,Ge)|0,k=Math.imul(ae,We),B=B+Math.imul(b,ze)|0,d=d+Math.imul(b,rr)|0,d=d+Math.imul(D,ze)|0,k=k+Math.imul(D,rr)|0,B=B+Math.imul(Tt,yr)|0,d=d+Math.imul(Tt,vr)|0,d=d+Math.imul(C,yr)|0,k=k+Math.imul(C,vr)|0,B=B+Math.imul(xt,zt)|0,d=d+Math.imul(xt,Yt)|0,d=d+Math.imul(At,zt)|0,k=k+Math.imul(At,Yt)|0,B=B+Math.imul(ut,ur)|0,d=d+Math.imul(ut,lr)|0,d=d+Math.imul(pt,ur)|0,k=k+Math.imul(pt,lr)|0,B=B+Math.imul(He,_r)|0,d=d+Math.imul(He,kt)|0,d=d+Math.imul(it,_r)|0,k=k+Math.imul(it,kt)|0,B=B+Math.imul(we,S)|0,d=d+Math.imul(we,L)|0,d=d+Math.imul(ke,S)|0,k=k+Math.imul(ke,L)|0,B=B+Math.imul(Ue,p)|0,d=d+Math.imul(Ue,U)|0,d=d+Math.imul(Pe,p)|0,k=k+Math.imul(Pe,U)|0,B=B+Math.imul(be,Y)|0,d=d+Math.imul(be,ue)|0,d=d+Math.imul(ge,Y)|0,k=k+Math.imul(ge,ue)|0,B=B+Math.imul(K,Ae)|0,d=d+Math.imul(K,Ee)|0,d=d+Math.imul(re,Ae)|0,k=k+Math.imul(re,Ee)|0;var $e=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+($e>>>26)|0,$e&=67108863,B=Math.imul(X,ze),d=Math.imul(X,rr),d=d+Math.imul(ae,ze)|0,k=Math.imul(ae,rr),B=B+Math.imul(b,yr)|0,d=d+Math.imul(b,vr)|0,d=d+Math.imul(D,yr)|0,k=k+Math.imul(D,vr)|0,B=B+Math.imul(Tt,zt)|0,d=d+Math.imul(Tt,Yt)|0,d=d+Math.imul(C,zt)|0,k=k+Math.imul(C,Yt)|0,B=B+Math.imul(xt,ur)|0,d=d+Math.imul(xt,lr)|0,d=d+Math.imul(At,ur)|0,k=k+Math.imul(At,lr)|0,B=B+Math.imul(ut,_r)|0,d=d+Math.imul(ut,kt)|0,d=d+Math.imul(pt,_r)|0,k=k+Math.imul(pt,kt)|0,B=B+Math.imul(He,S)|0,d=d+Math.imul(He,L)|0,d=d+Math.imul(it,S)|0,k=k+Math.imul(it,L)|0,B=B+Math.imul(we,p)|0,d=d+Math.imul(we,U)|0,d=d+Math.imul(ke,p)|0,k=k+Math.imul(ke,U)|0,B=B+Math.imul(Ue,Y)|0,d=d+Math.imul(Ue,ue)|0,d=d+Math.imul(Pe,Y)|0,k=k+Math.imul(Pe,ue)|0,B=B+Math.imul(be,Ae)|0,d=d+Math.imul(be,Ee)|0,d=d+Math.imul(ge,Ae)|0,k=k+Math.imul(ge,Ee)|0;var De=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(De>>>26)|0,De&=67108863,B=Math.imul(X,yr),d=Math.imul(X,vr),d=d+Math.imul(ae,yr)|0,k=Math.imul(ae,vr),B=B+Math.imul(b,zt)|0,d=d+Math.imul(b,Yt)|0,d=d+Math.imul(D,zt)|0,k=k+Math.imul(D,Yt)|0,B=B+Math.imul(Tt,ur)|0,d=d+Math.imul(Tt,lr)|0,d=d+Math.imul(C,ur)|0,k=k+Math.imul(C,lr)|0,B=B+Math.imul(xt,_r)|0,d=d+Math.imul(xt,kt)|0,d=d+Math.imul(At,_r)|0,k=k+Math.imul(At,kt)|0,B=B+Math.imul(ut,S)|0,d=d+Math.imul(ut,L)|0,d=d+Math.imul(pt,S)|0,k=k+Math.imul(pt,L)|0,B=B+Math.imul(He,p)|0,d=d+Math.imul(He,U)|0,d=d+Math.imul(it,p)|0,k=k+Math.imul(it,U)|0,B=B+Math.imul(we,Y)|0,d=d+Math.imul(we,ue)|0,d=d+Math.imul(ke,Y)|0,k=k+Math.imul(ke,ue)|0,B=B+Math.imul(Ue,Ae)|0,d=d+Math.imul(Ue,Ee)|0,d=d+Math.imul(Pe,Ae)|0,k=k+Math.imul(Pe,Ee)|0;var Re=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(Re>>>26)|0,Re&=67108863,B=Math.imul(X,zt),d=Math.imul(X,Yt),d=d+Math.imul(ae,zt)|0,k=Math.imul(ae,Yt),B=B+Math.imul(b,ur)|0,d=d+Math.imul(b,lr)|0,d=d+Math.imul(D,ur)|0,k=k+Math.imul(D,lr)|0,B=B+Math.imul(Tt,_r)|0,d=d+Math.imul(Tt,kt)|0,d=d+Math.imul(C,_r)|0,k=k+Math.imul(C,kt)|0,B=B+Math.imul(xt,S)|0,d=d+Math.imul(xt,L)|0,d=d+Math.imul(At,S)|0,k=k+Math.imul(At,L)|0,B=B+Math.imul(ut,p)|0,d=d+Math.imul(ut,U)|0,d=d+Math.imul(pt,p)|0,k=k+Math.imul(pt,U)|0,B=B+Math.imul(He,Y)|0,d=d+Math.imul(He,ue)|0,d=d+Math.imul(it,Y)|0,k=k+Math.imul(it,ue)|0,B=B+Math.imul(we,Ae)|0,d=d+Math.imul(we,Ee)|0,d=d+Math.imul(ke,Ae)|0,k=k+Math.imul(ke,Ee)|0;var Me=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(Me>>>26)|0,Me&=67108863,B=Math.imul(X,ur),d=Math.imul(X,lr),d=d+Math.imul(ae,ur)|0,k=Math.imul(ae,lr),B=B+Math.imul(b,_r)|0,d=d+Math.imul(b,kt)|0,d=d+Math.imul(D,_r)|0,k=k+Math.imul(D,kt)|0,B=B+Math.imul(Tt,S)|0,d=d+Math.imul(Tt,L)|0,d=d+Math.imul(C,S)|0,k=k+Math.imul(C,L)|0,B=B+Math.imul(xt,p)|0,d=d+Math.imul(xt,U)|0,d=d+Math.imul(At,p)|0,k=k+Math.imul(At,U)|0,B=B+Math.imul(ut,Y)|0,d=d+Math.imul(ut,ue)|0,d=d+Math.imul(pt,Y)|0,k=k+Math.imul(pt,ue)|0,B=B+Math.imul(He,Ae)|0,d=d+Math.imul(He,Ee)|0,d=d+Math.imul(it,Ae)|0,k=k+Math.imul(it,Ee)|0;var Ne=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,B=Math.imul(X,_r),d=Math.imul(X,kt),d=d+Math.imul(ae,_r)|0,k=Math.imul(ae,kt),B=B+Math.imul(b,S)|0,d=d+Math.imul(b,L)|0,d=d+Math.imul(D,S)|0,k=k+Math.imul(D,L)|0,B=B+Math.imul(Tt,p)|0,d=d+Math.imul(Tt,U)|0,d=d+Math.imul(C,p)|0,k=k+Math.imul(C,U)|0,B=B+Math.imul(xt,Y)|0,d=d+Math.imul(xt,ue)|0,d=d+Math.imul(At,Y)|0,k=k+Math.imul(At,ue)|0,B=B+Math.imul(ut,Ae)|0,d=d+Math.imul(ut,Ee)|0,d=d+Math.imul(pt,Ae)|0,k=k+Math.imul(pt,Ee)|0;var Ie=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,B=Math.imul(X,S),d=Math.imul(X,L),d=d+Math.imul(ae,S)|0,k=Math.imul(ae,L),B=B+Math.imul(b,p)|0,d=d+Math.imul(b,U)|0,d=d+Math.imul(D,p)|0,k=k+Math.imul(D,U)|0,B=B+Math.imul(Tt,Y)|0,d=d+Math.imul(Tt,ue)|0,d=d+Math.imul(C,Y)|0,k=k+Math.imul(C,ue)|0,B=B+Math.imul(xt,Ae)|0,d=d+Math.imul(xt,Ee)|0,d=d+Math.imul(At,Ae)|0,k=k+Math.imul(At,Ee)|0;var ce=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(ce>>>26)|0,ce&=67108863,B=Math.imul(X,p),d=Math.imul(X,U),d=d+Math.imul(ae,p)|0,k=Math.imul(ae,U),B=B+Math.imul(b,Y)|0,d=d+Math.imul(b,ue)|0,d=d+Math.imul(D,Y)|0,k=k+Math.imul(D,ue)|0,B=B+Math.imul(Tt,Ae)|0,d=d+Math.imul(Tt,Ee)|0,d=d+Math.imul(C,Ae)|0,k=k+Math.imul(C,Ee)|0;var fe=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(fe>>>26)|0,fe&=67108863,B=Math.imul(X,Y),d=Math.imul(X,ue),d=d+Math.imul(ae,Y)|0,k=Math.imul(ae,ue),B=B+Math.imul(b,Ae)|0,d=d+Math.imul(b,Ee)|0,d=d+Math.imul(D,Ae)|0,k=k+Math.imul(D,Ee)|0;var ye=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(ye>>>26)|0,ye&=67108863,B=Math.imul(X,Ae),d=Math.imul(X,Ee),d=d+Math.imul(ae,Ae)|0,k=Math.imul(ae,Ee);var he=(T+B|0)+((d&8191)<<13)|0;return T=(k+(d>>>13)|0)+(he>>>26)|0,he&=67108863,x[0]=Bt,x[1]=Le,x[2]=Ke,x[3]=Ye,x[4]=lt,x[5]=ct,x[6]=Xe,x[7]=rt,x[8]=Je,x[9]=$e,x[10]=De,x[11]=Re,x[12]=Me,x[13]=Ne,x[14]=Ie,x[15]=ce,x[16]=fe,x[17]=ye,x[18]=he,T!==0&&(x[19]=T,m.length++),m};Math.imul||(F=H);function N(g,f,h){h.negative=f.negative^g.negative,h.length=g.length+f.length;for(var m=0,_=0,E=0;E<h.length-1;E++){var x=_;_=0;for(var T=m&67108863,B=Math.min(E,f.length-1),d=Math.max(0,E-g.length+1);d<=B;d++){var k=E-d,W=g.words[k]|0,K=f.words[d]|0,re=W*K,xe=re&67108863;x=x+(re/67108864|0)|0,xe=xe+T|0,T=xe&67108863,x=x+(xe>>>26)|0,_+=x>>>26,x&=67108863}h.words[E]=T,m=x,x=_}return m!==0?h.words[E]=m:h.length--,h._strip()}function $(g,f,h){return N(g,f,h)}o.prototype.mulTo=function(f,h){var m,_=this.length+f.length;return this.length===10&&f.length===10?m=F(this,f,h):_<63?m=H(this,f,h):_<1024?m=N(this,f,h):m=$(this,f,h),m},o.prototype.mul=function(f){var h=new o(null);return h.words=new Array(this.length+f.length),this.mulTo(f,h)},o.prototype.mulf=function(f){var h=new o(null);return h.words=new Array(this.length+f.length),$(this,f,h)},o.prototype.imul=function(f){return this.clone().mulTo(f,this)},o.prototype.imuln=function(f){var h=f<0;h&&(f=-f),n(typeof f=="number"),n(f<67108864);for(var m=0,_=0;_<this.length;_++){var E=(this.words[_]|0)*f,x=(E&67108863)+(m&67108863);m>>=26,m+=E/67108864|0,m+=x>>>26,this.words[_]=x&67108863}return m!==0&&(this.words[_]=m,this.length++),h?this.ineg():this},o.prototype.muln=function(f){return this.clone().imuln(f)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(f){var h=P(f);if(h.length===0)return new o(1);for(var m=this,_=0;_<h.length&&h[_]===0;_++,m=m.sqr());if(++_<h.length)for(var E=m.sqr();_<h.length;_++,E=E.sqr())h[_]!==0&&(m=m.mul(E));return m},o.prototype.iushln=function(f){n(typeof f=="number"&&f>=0);var h=f%26,m=(f-h)/26,_=67108863>>>26-h<<26-h,E;if(h!==0){var x=0;for(E=0;E<this.length;E++){var T=this.words[E]&_,B=(this.words[E]|0)-T<<h;this.words[E]=B|x,x=T>>>26-h}x&&(this.words[E]=x,this.length++)}if(m!==0){for(E=this.length-1;E>=0;E--)this.words[E+m]=this.words[E];for(E=0;E<m;E++)this.words[E]=0;this.length+=m}return this._strip()},o.prototype.ishln=function(f){return n(this.negative===0),this.iushln(f)},o.prototype.iushrn=function(f,h,m){n(typeof f=="number"&&f>=0);var _;h?_=(h-h%26)/26:_=0;var E=f%26,x=Math.min((f-E)/26,this.length),T=67108863^67108863>>>E<<E,B=m;if(_-=x,_=Math.max(0,_),B){for(var d=0;d<x;d++)B.words[d]=this.words[d];B.length=x}if(x!==0)if(this.length>x)for(this.length-=x,d=0;d<this.length;d++)this.words[d]=this.words[d+x];else this.words[0]=0,this.length=1;var k=0;for(d=this.length-1;d>=0&&(k!==0||d>=_);d--){var W=this.words[d]|0;this.words[d]=k<<26-E|W>>>E,k=W&T}return B&&k!==0&&(B.words[B.length++]=k),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(f,h,m){return n(this.negative===0),this.iushrn(f,h,m)},o.prototype.shln=function(f){return this.clone().ishln(f)},o.prototype.ushln=function(f){return this.clone().iushln(f)},o.prototype.shrn=function(f){return this.clone().ishrn(f)},o.prototype.ushrn=function(f){return this.clone().iushrn(f)},o.prototype.testn=function(f){n(typeof f=="number"&&f>=0);var h=f%26,m=(f-h)/26,_=1<<h;if(this.length<=m)return!1;var E=this.words[m];return!!(E&_)},o.prototype.imaskn=function(f){n(typeof f=="number"&&f>=0);var h=f%26,m=(f-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(h!==0&&m++,this.length=Math.min(m,this.length),h!==0){var _=67108863^67108863>>>h<<h;this.words[this.length-1]&=_}return this._strip()},o.prototype.maskn=function(f){return this.clone().imaskn(f)},o.prototype.iaddn=function(f){return n(typeof f=="number"),n(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},o.prototype._iaddn=function(f){this.words[0]+=f;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},o.prototype.isubn=function(f){if(n(typeof f=="number"),n(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},o.prototype.addn=function(f){return this.clone().iaddn(f)},o.prototype.subn=function(f){return this.clone().isubn(f)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(f,h,m){var _=f.length+m,E;this._expand(_);var x,T=0;for(E=0;E<f.length;E++){x=(this.words[E+m]|0)+T;var B=(f.words[E]|0)*h;x-=B&67108863,T=(x>>26)-(B/67108864|0),this.words[E+m]=x&67108863}for(;E<this.length-m;E++)x=(this.words[E+m]|0)+T,T=x>>26,this.words[E+m]=x&67108863;if(T===0)return this._strip();for(n(T===-1),T=0,E=0;E<this.length;E++)x=-(this.words[E]|0)+T,T=x>>26,this.words[E]=x&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(f,h){var m=this.length-f.length,_=this.clone(),E=f,x=E.words[E.length-1]|0,T=this._countBits(x);m=26-T,m!==0&&(E=E.ushln(m),_.iushln(m),x=E.words[E.length-1]|0);var B=_.length-E.length,d;if(h!=="mod"){d=new o(null),d.length=B+1,d.words=new Array(d.length);for(var k=0;k<d.length;k++)d.words[k]=0}var W=_.clone()._ishlnsubmul(E,1,B);W.negative===0&&(_=W,d&&(d.words[B]=1));for(var K=B-1;K>=0;K--){var re=(_.words[E.length+K]|0)*67108864+(_.words[E.length+K-1]|0);for(re=Math.min(re/x|0,67108863),_._ishlnsubmul(E,re,K);_.negative!==0;)re--,_.negative=0,_._ishlnsubmul(E,1,K),_.isZero()||(_.negative^=1);d&&(d.words[K]=re)}return d&&d._strip(),_._strip(),h!=="div"&&m!==0&&_.iushrn(m),{div:d||null,mod:_}},o.prototype.divmod=function(f,h,m){if(n(!f.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var _,E,x;return this.negative!==0&&f.negative===0?(x=this.neg().divmod(f,h),h!=="mod"&&(_=x.div.neg()),h!=="div"&&(E=x.mod.neg(),m&&E.negative!==0&&E.iadd(f)),{div:_,mod:E}):this.negative===0&&f.negative!==0?(x=this.divmod(f.neg(),h),h!=="mod"&&(_=x.div.neg()),{div:_,mod:x.mod}):this.negative&f.negative?(x=this.neg().divmod(f.neg(),h),h!=="div"&&(E=x.mod.neg(),m&&E.negative!==0&&E.isub(f)),{div:x.div,mod:E}):f.length>this.length||this.cmp(f)<0?{div:new o(0),mod:this}:f.length===1?h==="div"?{div:this.divn(f.words[0]),mod:null}:h==="mod"?{div:null,mod:new o(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new o(this.modrn(f.words[0]))}:this._wordDiv(f,h)},o.prototype.div=function(f){return this.divmod(f,"div",!1).div},o.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},o.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},o.prototype.divRound=function(f){var h=this.divmod(f);if(h.mod.isZero())return h.div;var m=h.div.negative!==0?h.mod.isub(f):h.mod,_=f.ushrn(1),E=f.andln(1),x=m.cmp(_);return x<0||E===1&&x===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},o.prototype.modrn=function(f){var h=f<0;h&&(f=-f),n(f<=67108863);for(var m=(1<<26)%f,_=0,E=this.length-1;E>=0;E--)_=(m*_+(this.words[E]|0))%f;return h?-_:_},o.prototype.modn=function(f){return this.modrn(f)},o.prototype.idivn=function(f){var h=f<0;h&&(f=-f),n(f<=67108863);for(var m=0,_=this.length-1;_>=0;_--){var E=(this.words[_]|0)+m*67108864;this.words[_]=E/f|0,m=E%f}return this._strip(),h?this.ineg():this},o.prototype.divn=function(f){return this.clone().idivn(f)},o.prototype.egcd=function(f){n(f.negative===0),n(!f.isZero());var h=this,m=f.clone();h.negative!==0?h=h.umod(f):h=h.clone();for(var _=new o(1),E=new o(0),x=new o(0),T=new o(1),B=0;h.isEven()&&m.isEven();)h.iushrn(1),m.iushrn(1),++B;for(var d=m.clone(),k=h.clone();!h.isZero();){for(var W=0,K=1;!(h.words[0]&K)&&W<26;++W,K<<=1);if(W>0)for(h.iushrn(W);W-- >0;)(_.isOdd()||E.isOdd())&&(_.iadd(d),E.isub(k)),_.iushrn(1),E.iushrn(1);for(var re=0,xe=1;!(m.words[0]&xe)&&re<26;++re,xe<<=1);if(re>0)for(m.iushrn(re);re-- >0;)(x.isOdd()||T.isOdd())&&(x.iadd(d),T.isub(k)),x.iushrn(1),T.iushrn(1);h.cmp(m)>=0?(h.isub(m),_.isub(x),E.isub(T)):(m.isub(h),x.isub(_),T.isub(E))}return{a:x,b:T,gcd:m.iushln(B)}},o.prototype._invmp=function(f){n(f.negative===0),n(!f.isZero());var h=this,m=f.clone();h.negative!==0?h=h.umod(f):h=h.clone();for(var _=new o(1),E=new o(0),x=m.clone();h.cmpn(1)>0&&m.cmpn(1)>0;){for(var T=0,B=1;!(h.words[0]&B)&&T<26;++T,B<<=1);if(T>0)for(h.iushrn(T);T-- >0;)_.isOdd()&&_.iadd(x),_.iushrn(1);for(var d=0,k=1;!(m.words[0]&k)&&d<26;++d,k<<=1);if(d>0)for(m.iushrn(d);d-- >0;)E.isOdd()&&E.iadd(x),E.iushrn(1);h.cmp(m)>=0?(h.isub(m),_.isub(E)):(m.isub(h),E.isub(_))}var W;return h.cmpn(1)===0?W=_:W=E,W.cmpn(0)<0&&W.iadd(f),W},o.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var h=this.clone(),m=f.clone();h.negative=0,m.negative=0;for(var _=0;h.isEven()&&m.isEven();_++)h.iushrn(1),m.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;m.isEven();)m.iushrn(1);var E=h.cmp(m);if(E<0){var x=h;h=m,m=x}else if(E===0||m.cmpn(1)===0)break;h.isub(m)}while(!0);return m.iushln(_)},o.prototype.invm=function(f){return this.egcd(f).a.umod(f)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(f){return this.words[0]&f},o.prototype.bincn=function(f){n(typeof f=="number");var h=f%26,m=(f-h)/26,_=1<<h;if(this.length<=m)return this._expand(m+1),this.words[m]|=_,this;for(var E=_,x=m;E!==0&&x<this.length;x++){var T=this.words[x]|0;T+=E,E=T>>>26,T&=67108863,this.words[x]=T}return E!==0&&(this.words[x]=E,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(f){var h=f<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var m;if(this.length>1)m=1;else{h&&(f=-f),n(f<=67108863,"Number is too big");var _=this.words[0]|0;m=_===f?0:_<f?-1:1}return this.negative!==0?-m|0:m},o.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var h=this.ucmp(f);return this.negative!==0?-h|0:h},o.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var h=0,m=this.length-1;m>=0;m--){var _=this.words[m]|0,E=f.words[m]|0;if(_!==E){_<E?h=-1:_>E&&(h=1);break}}return h},o.prototype.gtn=function(f){return this.cmpn(f)===1},o.prototype.gt=function(f){return this.cmp(f)===1},o.prototype.gten=function(f){return this.cmpn(f)>=0},o.prototype.gte=function(f){return this.cmp(f)>=0},o.prototype.ltn=function(f){return this.cmpn(f)===-1},o.prototype.lt=function(f){return this.cmp(f)===-1},o.prototype.lten=function(f){return this.cmpn(f)<=0},o.prototype.lte=function(f){return this.cmp(f)<=0},o.prototype.eqn=function(f){return this.cmpn(f)===0},o.prototype.eq=function(f){return this.cmp(f)===0},o.red=function(f){return new Q(f)},o.prototype.toRed=function(f){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(f){return this.red=f,this},o.prototype.forceRed=function(f){return n(!this.red,"Already a number in reduction context"),this._forceRed(f)},o.prototype.redAdd=function(f){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},o.prototype.redIAdd=function(f){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},o.prototype.redSub=function(f){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},o.prototype.redISub=function(f){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},o.prototype.redShl=function(f){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},o.prototype.redMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},o.prototype.redIMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(f){return n(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var q={k256:null,p224:null,p192:null,p25519:null};function G(g,f){this.name=g,this.p=new o(f,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}G.prototype._tmp=function(){var f=new o(null);return f.words=new Array(Math.ceil(this.n/13)),f},G.prototype.ireduce=function(f){var h=f,m;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),m=h.bitLength();while(m>this.n);var _=m<this.n?-1:h.ucmp(this.p);return _===0?(h.words[0]=0,h.length=1):_>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},G.prototype.split=function(f,h){f.iushrn(this.n,0,h)},G.prototype.imulK=function(f){return f.imul(this.k)};function Z(){G.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(Z,G),Z.prototype.split=function(f,h){for(var m=4194303,_=Math.min(f.length,9),E=0;E<_;E++)h.words[E]=f.words[E];if(h.length=_,f.length<=9){f.words[0]=0,f.length=1;return}var x=f.words[9];for(h.words[h.length++]=x&m,E=10;E<f.length;E++){var T=f.words[E]|0;f.words[E-10]=(T&m)<<4|x>>>22,x=T}x>>>=22,f.words[E-10]=x,x===0&&f.length>10?f.length-=10:f.length-=9},Z.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var h=0,m=0;m<f.length;m++){var _=f.words[m]|0;h+=_*977,f.words[m]=h&67108863,h=_*64+(h/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function z(){G.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(z,G);function ee(){G.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(ee,G);function oe(){G.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(oe,G),oe.prototype.imulK=function(f){for(var h=0,m=0;m<f.length;m++){var _=(f.words[m]|0)*19+h,E=_&67108863;_>>>=26,f.words[m]=E,h=_}return h!==0&&(f.words[f.length++]=h),f},o._prime=function(f){if(q[f])return q[f];var h;if(f==="k256")h=new Z;else if(f==="p224")h=new z;else if(f==="p192")h=new ee;else if(f==="p25519")h=new oe;else throw new Error("Unknown prime "+f);return q[f]=h,h};function Q(g){if(typeof g=="string"){var f=o._prime(g);this.m=f.p,this.prime=f}else n(g.gtn(1),"modulus must be greater than 1"),this.m=g,this.prime=null}Q.prototype._verify1=function(f){n(f.negative===0,"red works only with positives"),n(f.red,"red works only with red numbers")},Q.prototype._verify2=function(f,h){n((f.negative|h.negative)===0,"red works only with positives"),n(f.red&&f.red===h.red,"red works only with red numbers")},Q.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(l(f,f.umod(this.m)._forceRed(this)),f)},Q.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},Q.prototype.add=function(f,h){this._verify2(f,h);var m=f.add(h);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},Q.prototype.iadd=function(f,h){this._verify2(f,h);var m=f.iadd(h);return m.cmp(this.m)>=0&&m.isub(this.m),m},Q.prototype.sub=function(f,h){this._verify2(f,h);var m=f.sub(h);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},Q.prototype.isub=function(f,h){this._verify2(f,h);var m=f.isub(h);return m.cmpn(0)<0&&m.iadd(this.m),m},Q.prototype.shl=function(f,h){return this._verify1(f),this.imod(f.ushln(h))},Q.prototype.imul=function(f,h){return this._verify2(f,h),this.imod(f.imul(h))},Q.prototype.mul=function(f,h){return this._verify2(f,h),this.imod(f.mul(h))},Q.prototype.isqr=function(f){return this.imul(f,f.clone())},Q.prototype.sqr=function(f){return this.mul(f,f)},Q.prototype.sqrt=function(f){if(f.isZero())return f.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var m=this.m.add(new o(1)).iushrn(2);return this.pow(f,m)}for(var _=this.m.subn(1),E=0;!_.isZero()&&_.andln(1)===0;)E++,_.iushrn(1);n(!_.isZero());var x=new o(1).toRed(this),T=x.redNeg(),B=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new o(2*d*d).toRed(this);this.pow(d,B).cmp(T)!==0;)d.redIAdd(T);for(var k=this.pow(d,_),W=this.pow(f,_.addn(1).iushrn(1)),K=this.pow(f,_),re=E;K.cmp(x)!==0;){for(var xe=K,be=0;xe.cmp(x)!==0;be++)xe=xe.redSqr();n(be<re);var ge=this.pow(k,new o(1).iushln(re-be-1));W=W.redMul(ge),k=ge.redSqr(),K=K.redMul(k),re=be}return W},Q.prototype.invm=function(f){var h=f._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},Q.prototype.pow=function(f,h){if(h.isZero())return new o(1).toRed(this);if(h.cmpn(1)===0)return f.clone();var m=4,_=new Array(1<<m);_[0]=new o(1).toRed(this),_[1]=f;for(var E=2;E<_.length;E++)_[E]=this.mul(_[E-1],f);var x=_[0],T=0,B=0,d=h.bitLength()%26;for(d===0&&(d=26),E=h.length-1;E>=0;E--){for(var k=h.words[E],W=d-1;W>=0;W--){var K=k>>W&1;if(x!==_[0]&&(x=this.sqr(x)),K===0&&T===0){B=0;continue}T<<=1,T|=K,B++,!(B!==m&&(E!==0||W!==0))&&(x=this.mul(x,_[T]),B=0,T=0)}d=26}return x},Q.prototype.convertTo=function(f){var h=f.umod(this.m);return h===f?h.clone():h},Q.prototype.convertFrom=function(f){var h=f.clone();return h.red=null,h},o.mont=function(f){return new I(f)};function I(g){Q.call(this,g),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(I,Q),I.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},I.prototype.convertFrom=function(f){var h=this.imod(f.mul(this.rinv));return h.red=null,h},I.prototype.imul=function(f,h){if(f.isZero()||h.isZero())return f.words[0]=0,f.length=1,f;var m=f.imul(h),_=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=m.isub(_).iushrn(this.shift),x=E;return E.cmp(this.m)>=0?x=E.isub(this.m):E.cmpn(0)<0&&(x=E.iadd(this.m)),x._forceRed(this)},I.prototype.mul=function(f,h){if(f.isZero()||h.isZero())return new o(0)._forceRed(this);var m=f.mul(h),_=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=m.isub(_).iushrn(this.shift),x=E;return E.cmp(this.m)>=0?x=E.isub(this.m):E.cmpn(0)<0&&(x=E.iadd(this.m)),x._forceRed(this)},I.prototype.invm=function(f){var h=this.imod(f._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(e,ft)})(Kl);var Rg=Kl.exports,gf={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=ie,n=r.Buffer;function i(s,a){for(var c in s)a[c]=s[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=o);function o(s,a,c){return n(s,a,c)}o.prototype=Object.create(n.prototype),i(n,o),o.from=function(s,a,c){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,a,c)},o.alloc=function(s,a,c){if(typeof s!="number")throw new TypeError("Argument must be a number");var u=n(s);return a!==void 0?typeof c=="string"?u.fill(a,c):u.fill(a):u.fill(0),u},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}})(gf,gf.exports);var yf=gf.exports.Buffer;function dS(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(t[o]!==255)throw new TypeError(i+" is ambiguous");t[o]=n}var s=e.length,a=e.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function l(v){if((Array.isArray(v)||v instanceof Uint8Array)&&(v=yf.from(v)),!yf.isBuffer(v))throw new TypeError("Expected Buffer");if(v.length===0)return"";for(var R=0,O=0,P=0,H=v.length;P!==H&&v[P]===0;)P++,R++;for(var F=(H-P)*u+1>>>0,N=new Uint8Array(F);P!==H;){for(var $=v[P],q=0,G=F-1;($!==0||q<O)&&G!==-1;G--,q++)$+=256*N[G]>>>0,N[G]=$%s>>>0,$=$/s>>>0;if($!==0)throw new Error("Non-zero carry");O=q,P++}for(var Z=F-O;Z!==F&&N[Z]===0;)Z++;for(var z=a.repeat(R);Z<F;++Z)z+=e.charAt(N[Z]);return z}function y(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return yf.alloc(0);for(var R=0,O=0,P=0;v[R]===a;)O++,R++;for(var H=(v.length-R)*c+1>>>0,F=new Uint8Array(H);v[R];){var N=t[v.charCodeAt(R)];if(N===255)return;for(var $=0,q=H-1;(N!==0||$<P)&&q!==-1;q--,$++)N+=s*F[q]>>>0,F[q]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");P=$,R++}for(var G=H-P;G!==H&&F[G]===0;)G++;var Z=yf.allocUnsafe(O+(H-G));Z.fill(0,0,O);for(var z=O;G!==H;)Z[z++]=F[G++];return Z}function A(v){var R=y(v);if(R)return R;throw new Error("Non-base"+s+" character")}return{encode:l,decodeUnsafe:y,decode:A}}var pS=dS,gS=pS,yS="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Ar=gS(yS);const wS=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),no=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),io=new Uint32Array(64);class mS extends cg{constructor(){super(64,32,8,!1),this.A=no[0]|0,this.B=no[1]|0,this.C=no[2]|0,this.D=no[3]|0,this.E=no[4]|0,this.F=no[5]|0,this.G=no[6]|0,this.H=no[7]|0}get(){const{A:t,B:r,C:n,D:i,E:o,F:s,G:a,H:c}=this;return[t,r,n,i,o,s,a,c]}set(t,r,n,i,o,s,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(t,r){for(let y=0;y<16;y++,r+=4)io[y]=t.getUint32(r,!1);for(let y=16;y<64;y++){const A=io[y-15],v=io[y-2],R=gi(A,7)^gi(A,18)^A>>>3,O=gi(v,17)^gi(v,19)^v>>>10;io[y]=O+io[y-7]+R+io[y-16]|0}let{A:n,B:i,C:o,D:s,E:a,F:c,G:u,H:l}=this;for(let y=0;y<64;y++){const A=gi(a,6)^gi(a,11)^gi(a,25),v=l+A+hx(a,c,u)+wS[y]+io[y]|0,O=(gi(n,2)^gi(n,13)^gi(n,22))+dx(n,i,o)|0;l=u,u=c,c=a,a=s+v|0,s=o,o=i,i=n,n=v+O|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,i,o,s,a,c,u,l)}roundClean(){io.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Zl=sg(()=>new mS);var Zr={};function Oi(e,t,r){return t<=e&&e<=r}function wf(e){if(e===void 0)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function bS(e){for(var t=String(e),r=t.length,n=0,i=[];n<r;){var o=t.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(n===r-1)i.push(65533);else{var s=e.charCodeAt(n+1);if(56320<=s&&s<=57343){var a=o&1023,c=s&1023;i.push(65536+(a<<10)+c),n+=1}else i.push(65533)}n+=1}return i}function vS(e){for(var t="",r=0;r<e.length;++r){var n=e[r];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return t}var mf=-1;function Gl(e){this.tokens=[].slice.call(e)}Gl.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():mf},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var $s=-1;function Yl(e,t){if(e)throw TypeError("Decoder error");return t||65533}var bf="utf-8";function vf(e,t){if(!(this instanceof vf))return new vf(e,t);if(e=e!==void 0?String(e).toLowerCase():bf,e!==bf)throw new Error("Encoding not supported. Only utf-8 is supported");t=wf(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}vf.prototype={decode:function(t,r){var n;typeof t=="object"&&t instanceof ArrayBuffer?n=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):n=new Uint8Array(0),r=wf(r),this._streaming||(this._decoder=new _S({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var i=new Gl(n),o=[],s;!i.endOfStream()&&(s=this._decoder.handler(i,i.read()),s!==$s);)s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s));if(!this._streaming){do{if(s=this._decoder.handler(i,i.read()),s===$s)break;s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s))}while(!i.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),vS(o)}};function _f(e,t){if(!(this instanceof _f))return new _f(e,t);if(e=e!==void 0?String(e).toLowerCase():bf,e!==bf)throw new Error("Encoding not supported. Only utf-8 is supported");t=wf(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}_f.prototype={encode:function(t,r){t=t?String(t):"",r=wf(r),this._streaming||(this._encoder=new ES(this._options)),this._streaming=!!r.stream;for(var n=[],i=new Gl(bS(t)),o;!i.endOfStream()&&(o=this._encoder.handler(i,i.read()),o!==$s);)Array.isArray(o)?n.push.apply(n,o):n.push(o);if(!this._streaming){for(;o=this._encoder.handler(i,i.read()),o!==$s;)Array.isArray(o)?n.push.apply(n,o):n.push(o);this._encoder=null}return new Uint8Array(n)}};function _S(e){var t=e.fatal,r=0,n=0,i=0,o=128,s=191;this.handler=function(a,c){if(c===mf&&i!==0)return i=0,Yl(t);if(c===mf)return $s;if(i===0){if(Oi(c,0,127))return c;if(Oi(c,194,223))i=1,r=c-192;else if(Oi(c,224,239))c===224&&(o=160),c===237&&(s=159),i=2,r=c-224;else if(Oi(c,240,244))c===240&&(o=144),c===244&&(s=143),i=3,r=c-240;else return Yl(t);return r=r<<6*i,null}if(!Oi(c,o,s))return r=i=n=0,o=128,s=191,a.prepend(c),Yl(t);if(o=128,s=191,n+=1,r+=c-128<<6*(i-n),n!==i)return null;var u=r;return r=i=n=0,u}}function ES(e){e.fatal,this.handler=function(t,r){if(r===mf)return $s;if(Oi(r,0,127))return r;var n,i;Oi(r,128,2047)?(n=1,i=192):Oi(r,2048,65535)?(n=2,i=224):Oi(r,65536,1114111)&&(n=3,i=240);for(var o=[(r>>6*n)+i];n>0;){var s=r>>6*(n-1);o.push(128|s&63),n-=1}return o}}var xS=Object.freeze({__proto__:null,TextEncoder:_f,TextDecoder:vf}),SS=Un(xS),AS=ft&&ft.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),BS=ft&&ft.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),yi=ft&&ft.__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,r,o):s(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o},IS=ft&&ft.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&AS(t,e,r);return BS(t,e),t},Tg=ft&&ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zr,"__esModule",{value:!0});var kg=Zr.deserializeUnchecked=Ng=Zr.deserialize=Mg=Zr.serialize=Zr.BinaryReader=Zr.BinaryWriter=Zr.BorshError=Zr.baseDecode=Zr.baseEncode=void 0;const oo=Tg(Kl.exports),Cg=Tg(Ar),RS=IS(SS),TS=typeof TextDecoder!="function"?RS.TextDecoder:TextDecoder,kS=new TS("utf-8",{fatal:!0});function CS(e){return typeof e=="string"&&(e=ie.Buffer.from(e,"utf8")),Cg.default.encode(ie.Buffer.from(e))}Zr.baseEncode=CS;function LS(e){return ie.Buffer.from(Cg.default.decode(e))}Zr.baseDecode=LS;const Xl=1024;class ln extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Zr.BorshError=ln;class Lg{constructor(){this.buf=ie.Buffer.alloc(Xl),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=ie.Buffer.concat([this.buf,ie.Buffer.alloc(Xl)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(ie.Buffer.from(new oo.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(ie.Buffer.from(new oo.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(ie.Buffer.from(new oo.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(ie.Buffer.from(new oo.default(t).toArray("le",64)))}writeBuffer(t){this.buf=ie.Buffer.concat([ie.Buffer.from(this.buf.subarray(0,this.length)),t,ie.Buffer.alloc(Xl)]),this.length+=t.length}writeString(t){this.maybeResize();const r=ie.Buffer.from(t,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(t){this.writeBuffer(ie.Buffer.from(t))}writeArray(t,r){this.maybeResize(),this.writeU32(t.length);for(const n of t)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}}Zr.BinaryWriter=Lg;function wi(e,t,r){const n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(o){if(o instanceof RangeError){const s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new ln("Reached the end of buffer when deserializing")}throw o}}}class Bn{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new oo.default(t,"le")}readU128(){const t=this.readBuffer(16);return new oo.default(t,"le")}readU256(){const t=this.readBuffer(32);return new oo.default(t,"le")}readU512(){const t=this.readBuffer(64);return new oo.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new ln(`Expected buffer length ${t} isn't within bounds`);const r=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,r}readString(){const t=this.readU32(),r=this.readBuffer(t);try{return kS.decode(r)}catch(n){throw new ln(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(t());return n}}yi([wi],Bn.prototype,"readU8",null),yi([wi],Bn.prototype,"readU16",null),yi([wi],Bn.prototype,"readU32",null),yi([wi],Bn.prototype,"readU64",null),yi([wi],Bn.prototype,"readU128",null),yi([wi],Bn.prototype,"readU256",null),yi([wi],Bn.prototype,"readU512",null),yi([wi],Bn.prototype,"readString",null),yi([wi],Bn.prototype,"readFixedArray",null),yi([wi],Bn.prototype,"readArray",null),Zr.BinaryReader=Bn;function $g(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Ko(e,t,r,n,i){try{if(typeof n=="string")i[`write${$g(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new ln(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new ln(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let o=0;o<n[1];o++)Ko(e,null,r[o],n[0],i)}else i.writeArray(r,o=>{Ko(e,t,o,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),Ko(e,t,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((o,s)=>{Ko(e,t,s,n.key,i),Ko(e,t,o,n.value,i)});break}default:throw new ln(`FieldType ${n} unrecognized`)}else Og(e,r,i)}catch(o){throw o instanceof ln&&o.addToFieldPath(t),o}}function Og(e,t,r){if(typeof t.borshSerialize=="function"){t.borshSerialize(r);return}const n=e.get(t.constructor);if(!n)throw new ln(`Class ${t.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,o])=>{Ko(e,i,t[i],o,r)});else if(n.kind==="enum"){const i=t[n.field];for(let o=0;o<n.values.length;++o){const[s,a]=n.values[o];if(s===i){r.writeU8(o),Ko(e,s,t[s],a,r);break}}}else throw new ln(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function $S(e,t,r=Lg){const n=new r;return Og(e,t,n),n.toArray()}var Mg=Zr.serialize=$S;function Zo(e,t,r,n){try{if(typeof r=="string")return n[`read${$g(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){const i=[];for(let o=0;o<r[1];o++)i.push(Zo(e,null,r[0],n));return i}else return n.readArray(()=>Zo(e,t,r[0],n))}if(r.kind==="option")return n.readU8()?Zo(e,t,r.type,n):void 0;if(r.kind==="map"){let i=new Map;const o=n.readU32();for(let s=0;s<o;s++){const a=Zo(e,t,r.key,n),c=Zo(e,t,r.value,n);i.set(a,c)}return i}return Jl(e,r,n)}catch(i){throw i instanceof ln&&i.addToFieldPath(t),i}}function Jl(e,t,r){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(r);const n=e.get(t);if(!n)throw new ln(`Class ${t.name} is missing in schema`);if(n.kind==="struct"){const i={};for(const[o,s]of e.get(t).fields)i[o]=Zo(e,o,s,r);return new t(i)}if(n.kind==="enum"){const i=r.readU8();if(i>=n.values.length)throw new ln(`Enum index: ${i} is out of range`);const[o,s]=n.values[i],a=Zo(e,o,s,r);return new t({[o]:a})}throw new ln(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function OS(e,t,r,n=Bn){const i=new n(r),o=Jl(e,t,i);if(i.offset<r.length)throw new ln(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o}var Ng=Zr.deserialize=OS;function MS(e,t,r,n=Bn){const i=new n(r);return Jl(e,t,i)}kg=Zr.deserializeUnchecked=MS;var ne={};Object.defineProperty(ne,"__esModule",{value:!0}),ne.s16=ne.s8=ne.nu64be=ne.u48be=ne.u40be=ne.u32be=ne.u24be=ne.u16be=Gr=ne.nu64=ne.u48=ne.u40=qe=ne.u32=ne.u24=jn=ne.u16=Ut=ne.u8=Yo=ne.offset=ne.greedy=ne.Constant=ne.UTF8=ne.CString=ne.Blob=ne.Boolean=ne.BitField=ne.BitStructure=ne.VariantLayout=ne.Union=ne.UnionLayoutDiscriminator=ne.UnionDiscriminator=ne.Structure=ne.Sequence=ne.DoubleBE=ne.Double=ne.FloatBE=ne.Float=ne.NearInt64BE=ne.NearInt64=ne.NearUInt64BE=ne.NearUInt64=ne.IntBE=ne.Int=ne.UIntBE=ne.UInt=ne.OffsetLayout=ne.GreedyCount=ne.ExternalLayout=ne.bindConstructorLayout=ne.nameWithProperty=ne.Layout=ne.uint8ArrayToBuffer=ne.checkUint8Array=void 0,ne.constant=ne.utf8=ne.cstr=nr=ne.blob=ne.unionLayoutDiscriminator=ne.union=en=ne.seq=ne.bits=Fe=ne.struct=ne.f64be=ne.f64=ne.f32be=ne.f32=ne.ns64be=ne.s48be=ne.s40be=ne.s32be=ne.s24be=ne.s16be=In=ne.ns64=ne.s48=ne.s40=ne.s32=ne.s24=void 0;const Ql=ie;function Os(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}ne.checkUint8Array=Os;function Nt(e){return Os(e),Ql.Buffer.from(e.buffer,e.byteOffset,e.length)}ne.uint8ArrayToBuffer=Nt;class qt{constructor(t,r){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=r}makeDestinationObject(){return{}}getSpan(t,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=t,r}fromArray(t){}}ne.Layout=qt;function eh(e,t){return t.property?e+"["+t.property+"]":e}ne.nameWithProperty=eh;function NS(e,t){if(typeof e!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof qt))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(r,n){return t.encode(this,r,n)},writable:!0}),Object.defineProperty(e,"decode",{value(r,n){return t.decode(r,n)},writable:!0})}ne.bindConstructorLayout=NS;class wn extends qt{isCount(){throw new Error("ExternalLayout is abstract")}}ne.ExternalLayout=wn;class Pg extends wn{constructor(t=1,r){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=t}isCount(){return!0}decode(t,r=0){Os(t);const n=t.length-r;return Math.floor(n/this.elementSpan)}encode(t,r,n){return 0}}ne.GreedyCount=Pg;class th extends wn{constructor(t,r=0,n){if(!(t instanceof qt))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=r}isCount(){return this.layout instanceof Hn||this.layout instanceof ni}decode(t,r=0){return this.layout.decode(t,r+this.offset)}encode(t,r,n=0){return this.layout.encode(t,r,n+this.offset)}}ne.OffsetLayout=th;class Hn extends qt{constructor(t,r){if(super(t,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,r=0){return Nt(t).readUIntLE(r,this.span)}encode(t,r,n=0){return Nt(r).writeUIntLE(t,n,this.span),this.span}}ne.UInt=Hn;class ni extends qt{constructor(t,r){if(super(t,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,r=0){return Nt(t).readUIntBE(r,this.span)}encode(t,r,n=0){return Nt(r).writeUIntBE(t,n,this.span),this.span}}ne.UIntBE=ni;class Go extends qt{constructor(t,r){if(super(t,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,r=0){return Nt(t).readIntLE(r,this.span)}encode(t,r,n=0){return Nt(r).writeIntLE(t,n,this.span),this.span}}ne.Int=Go;class Ms extends qt{constructor(t,r){if(super(t,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,r=0){return Nt(t).readIntBE(r,this.span)}encode(t,r,n=0){return Nt(r).writeIntBE(t,n,this.span),this.span}}ne.IntBE=Ms;const rh=Math.pow(2,32);function Ef(e){const t=Math.floor(e/rh),r=e-t*rh;return{hi32:t,lo32:r}}function xf(e,t){return e*rh+t}class Ug extends qt{constructor(t){super(8,t)}decode(t,r=0){const n=Nt(t),i=n.readUInt32LE(r),o=n.readUInt32LE(r+4);return xf(o,i)}encode(t,r,n=0){const i=Ef(t),o=Nt(r);return o.writeUInt32LE(i.lo32,n),o.writeUInt32LE(i.hi32,n+4),8}}ne.NearUInt64=Ug;class Fg extends qt{constructor(t){super(8,t)}decode(t,r=0){const n=Nt(t),i=n.readUInt32BE(r),o=n.readUInt32BE(r+4);return xf(i,o)}encode(t,r,n=0){const i=Ef(t),o=Nt(r);return o.writeUInt32BE(i.hi32,n),o.writeUInt32BE(i.lo32,n+4),8}}ne.NearUInt64BE=Fg;class Dg extends qt{constructor(t){super(8,t)}decode(t,r=0){const n=Nt(t),i=n.readUInt32LE(r),o=n.readInt32LE(r+4);return xf(o,i)}encode(t,r,n=0){const i=Ef(t),o=Nt(r);return o.writeUInt32LE(i.lo32,n),o.writeInt32LE(i.hi32,n+4),8}}ne.NearInt64=Dg;class Hg extends qt{constructor(t){super(8,t)}decode(t,r=0){const n=Nt(t),i=n.readInt32BE(r),o=n.readUInt32BE(r+4);return xf(i,o)}encode(t,r,n=0){const i=Ef(t),o=Nt(r);return o.writeInt32BE(i.hi32,n),o.writeUInt32BE(i.lo32,n+4),8}}ne.NearInt64BE=Hg;class jg extends qt{constructor(t){super(4,t)}decode(t,r=0){return Nt(t).readFloatLE(r)}encode(t,r,n=0){return Nt(r).writeFloatLE(t,n),4}}ne.Float=jg;class zg extends qt{constructor(t){super(4,t)}decode(t,r=0){return Nt(t).readFloatBE(r)}encode(t,r,n=0){return Nt(r).writeFloatBE(t,n),4}}ne.FloatBE=zg;class qg extends qt{constructor(t){super(8,t)}decode(t,r=0){return Nt(t).readDoubleLE(r)}encode(t,r,n=0){return Nt(r).writeDoubleLE(t,n),8}}ne.Double=qg;class Vg extends qt{constructor(t){super(8,t)}decode(t,r=0){return Nt(t).readDoubleBE(r)}encode(t,r,n=0){return Nt(r).writeDoubleBE(t,n),8}}ne.DoubleBE=Vg;class Wg extends qt{constructor(t,r,n){if(!(t instanceof qt))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof wn&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof wn)&&0<t.span&&(i=r*t.span),super(i,n),this.elementLayout=t,this.count=r}getSpan(t,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof wn&&(i=i.decode(t,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let o=0;for(;o<i;)n+=this.elementLayout.getSpan(t,r+n),++o}return n}decode(t,r=0){const n=[];let i=0,o=this.count;for(o instanceof wn&&(o=o.decode(t,r));i<o;)n.push(this.elementLayout.decode(t,r)),r+=this.elementLayout.getSpan(t,r),i+=1;return n}encode(t,r,n=0){const i=this.elementLayout,o=t.reduce((s,a)=>s+i.encode(a,r,n+s),0);return this.count instanceof wn&&this.count.encode(t.length,r,n),o}}ne.Sequence=Wg;class Kg extends qt{constructor(t,r,n){if(!(Array.isArray(t)&&t.reduce((o,s)=>o&&s instanceof qt,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const o of t)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=t.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,r),this.fields=t,this.decodePrefixes=!!n}getSpan(t,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,o)=>{const s=o.getSpan(t,r);return r+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return n}decode(t,r=0){Os(t);const n=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(t,r)),r+=i.getSpan(t,r),this.decodePrefixes&&t.length===r)break;return n}encode(t,r,n=0){const i=n;let o=0,s=0;for(const a of this.fields){let c=a.span;if(s=0<c?c:0,a.property!==void 0){const u=t[a.property];u!==void 0&&(s=a.encode(u,r,n),0>c&&(c=a.getSpan(r,n)))}o=n,n+=c}return o+s-i}fromArray(t){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<t.length&&(r[n.property]=t.shift());return r}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===t)return r}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===t)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}}ne.Structure=Kg;class nh{constructor(t){this.property=t}decode(t,r){throw new Error("UnionDiscriminator is abstract")}encode(t,r,n){throw new Error("UnionDiscriminator is abstract")}}ne.UnionDiscriminator=nh;class Sf extends nh{constructor(t,r){if(!(t instanceof wn&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||t.property||"variant"),this.layout=t}decode(t,r){return this.layout.decode(t,r)}encode(t,r,n){return this.layout.encode(t,r,n)}}ne.UnionLayoutDiscriminator=Sf;class ih extends qt{constructor(t,r,n){let i;if(t instanceof Hn||t instanceof ni)i=new Sf(new th(t));else if(t instanceof wn&&t.isCount())i=new Sf(t);else if(t instanceof nh)i=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof qt))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let o=-1;r&&(o=r.span,0<=o&&(t instanceof Hn||t instanceof ni)&&(o+=i.layout.span)),super(o,n),this.discriminator=i,this.usesPrefixDiscriminator=t instanceof Hn||t instanceof ni,this.defaultLayout=r,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(t,r=0){if(0<=this.span)return this.span;const n=this.getVariant(t,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,r)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const r=this.registry[t[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(t,r.property)))return r}else for(const r in this.registry){const n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,r=0){let n;const i=this.discriminator,o=i.decode(t,r),s=this.registry[o];if(s===void 0){const a=this.defaultLayout;let c=0;this.usesPrefixDiscriminator&&(c=i.layout.span),n=this.makeDestinationObject(),n[i.property]=o,n[a.property]=a.decode(t,r+c)}else n=s.decode(t,r);return n}encode(t,r,n=0){const i=this.getSourceVariant(t);if(i===void 0){const o=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(t[o.property],r,n),a+s.encode(t[s.property],r,n+a)}return i.encode(t,r,n)}addVariant(t,r,n){const i=new Zg(this,t,r,n);return this.registry[t]=i,i}getVariant(t,r=0){let n;return t instanceof Uint8Array?n=this.discriminator.decode(t,r):n=t,this.registry[n]}}ne.Union=ih;class Zg extends qt{constructor(t,r,n,i){if(!(t instanceof ih))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof qt))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=t.span;0>t.span&&(o=n?n.span:0,0<=o&&t.usesPrefixDiscriminator&&(o+=t.discriminator.layout.span)),super(o,i),this.union=t,this.variant=r,this.layout=n||null}getSpan(t,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(t,r+n)),n+i}decode(t,r=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(t,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let o=i;if(this.layout&&(this.layout.encode(t[this.property],r,n+i),o+=this.layout.getSpan(r,n+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}ne.VariantLayout=Zg;function Ns(e){return 0>e&&(e+=4294967296),e}class oh extends qt{constructor(t,r,n){if(!(t instanceof Hn||t instanceof ni))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(o){return i=Ns(o),this},this._packedGetValue=function(){return i}}decode(t,r=0){const n=this.makeDestinationObject(),i=this.word.decode(t,r);this._packedSetValue(i);for(const o of this.fields)o.property!==void 0&&(n[o.property]=o.decode(t));return n}encode(t,r,n=0){const i=this.word.decode(r,n);this._packedSetValue(i);for(const o of this.fields)if(o.property!==void 0){const s=t[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),r,n)}addField(t,r){const n=new sh(this,t,r);return this.fields.push(n),n}addBoolean(t){const r=new Gg(this,t);return this.fields.push(r),r}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===t)return r}}ne.BitStructure=oh;class sh{constructor(t,r,n){if(!(t instanceof oh))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");const i=8*t.span,o=t.fields.reduce((s,a)=>s+a.bits,0);if(r+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=t,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-r),this.wordMask=Ns(this.valueMask<<this.start),this.property=n}decode(t,r){const n=this.container._packedGetValue();return Ns(n&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==Ns(t&this.valueMask))throw new TypeError(eh("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const r=this.container._packedGetValue(),n=Ns(t<<this.start);this.container._packedSetValue(Ns(r&~this.wordMask)|n)}}ne.BitField=sh;class Gg extends sh{constructor(t,r){super(t,1,r)}decode(t,r){return!!super.decode(t,r)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}}ne.Boolean=Gg;class Yg extends qt{constructor(t,r){if(!(t instanceof wn&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof wn||(n=t),super(n,r),this.length=t}getSpan(t,r){let n=this.span;return 0>n&&(n=this.length.decode(t,r)),n}decode(t,r=0){let n=this.span;return 0>n&&(n=this.length.decode(t,r)),Nt(t).slice(r,r+n)}encode(t,r,n){let i=this.length;if(this.length instanceof wn&&(i=t.length),!(t instanceof Uint8Array&&i===t.length))throw new TypeError(eh("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");const o=Nt(t);return Nt(r).write(o.toString("hex"),n,i,"hex"),this.length instanceof wn&&this.length.encode(i,r,n),i}}ne.Blob=Yg;class Xg extends qt{constructor(t){super(-1,t)}getSpan(t,r=0){Os(t);let n=r;for(;n<t.length&&t[n]!==0;)n+=1;return 1+n-r}decode(t,r=0){const n=this.getSpan(t,r);return Nt(t).slice(r,r+n-1).toString("utf-8")}encode(t,r,n=0){typeof t!="string"&&(t=String(t));const i=Ql.Buffer.from(t,"utf8"),o=i.length;if(n+o>r.length)throw new RangeError("encoding overruns Buffer");const s=Nt(r);return i.copy(s,n),s[n+o]=0,o+1}}ne.CString=Xg;class Jg extends qt{constructor(t,r){if(typeof t=="string"&&r===void 0&&(r=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=t}getSpan(t,r=0){return Os(t),t.length-r}decode(t,r=0){const n=this.getSpan(t,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Nt(t).slice(r,r+n).toString("utf-8")}encode(t,r,n=0){typeof t!="string"&&(t=String(t));const i=Ql.Buffer.from(t,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(Nt(r),n),o}}ne.UTF8=Jg;class Qg extends qt{constructor(t,r){super(0,r),this.value=t}decode(t,r){return this.value}encode(t,r,n){return 0}}ne.Constant=Qg,ne.greedy=(e,t)=>new Pg(e,t);var Yo=ne.offset=(e,t,r)=>new th(e,t,r),Ut=ne.u8=e=>new Hn(1,e),jn=ne.u16=e=>new Hn(2,e);ne.u24=e=>new Hn(3,e);var qe=ne.u32=e=>new Hn(4,e);ne.u40=e=>new Hn(5,e),ne.u48=e=>new Hn(6,e);var Gr=ne.nu64=e=>new Ug(e);ne.u16be=e=>new ni(2,e),ne.u24be=e=>new ni(3,e),ne.u32be=e=>new ni(4,e),ne.u40be=e=>new ni(5,e),ne.u48be=e=>new ni(6,e),ne.nu64be=e=>new Fg(e),ne.s8=e=>new Go(1,e),ne.s16=e=>new Go(2,e),ne.s24=e=>new Go(3,e),ne.s32=e=>new Go(4,e),ne.s40=e=>new Go(5,e),ne.s48=e=>new Go(6,e);var In=ne.ns64=e=>new Dg(e);ne.s16be=e=>new Ms(2,e),ne.s24be=e=>new Ms(3,e),ne.s32be=e=>new Ms(4,e),ne.s40be=e=>new Ms(5,e),ne.s48be=e=>new Ms(6,e),ne.ns64be=e=>new Hg(e),ne.f32=e=>new jg(e),ne.f32be=e=>new zg(e),ne.f64=e=>new qg(e),ne.f64be=e=>new Vg(e);var Fe=ne.struct=(e,t,r)=>new Kg(e,t,r);ne.bits=(e,t,r)=>new oh(e,t,r);var en=ne.seq=(e,t,r)=>new Wg(e,t,r);ne.union=(e,t,r)=>new ih(e,t,r),ne.unionLayoutDiscriminator=(e,t)=>new Sf(e,t);var nr=ne.blob=(e,t)=>new Yg(e,t);ne.cstr=e=>new Xg(e),ne.utf8=(e,t)=>new Jg(e,t),ne.constant=(e,t)=>new Qg(e,t);var Fa={};Object.defineProperty(Fa,"__esModule",{value:!0});function PS(e){{const t=ie.Buffer.from(e);t.reverse();const r=t.toString("hex");return r.length===0?BigInt(0):BigInt(`0x${r}`)}}var US=Fa.toBigIntLE=PS;function FS(e){{const t=e.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}Fa.toBigIntBE=FS;function DS(e,t){{const r=e.toString(16),n=ie.Buffer.from(r.padStart(t*2,"0").slice(0,t*2),"hex");return n.reverse(),n}}var HS=Fa.toBufferLE=DS;function jS(e,t){{const r=e.toString(16);return ie.Buffer.from(r.padStart(t*2,"0").slice(0,t*2),"hex")}}Fa.toBufferBE=jS;class zS extends TypeError{constructor(t,r){let n;const{message:i,...o}=t,{path:s}=t,a=s.length===0?i:"At path: "+s.join(".")+" -- "+i;super(a),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var c;return(c=n)!=null?c:n=[t,...r()]}}}function qS(e){return so(e)&&typeof e[Symbol.iterator]=="function"}function so(e){return typeof e=="object"&&e!=null}function ii(e){return typeof e=="string"?JSON.stringify(e):""+e}function VS(e){const{done:t,value:r}=e.next();return t?void 0:r}function WS(e,t,r,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:o}=t,{type:s}=r,{refinement:a,message:c="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+ii(n)+"`"}=e;return{value:n,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:c}}function*e1(e,t,r,n){qS(e)||(e=[e]);for(const i of e){const o=WS(i,t,r,n);o&&(yield o)}}function*ah(e,t,r={}){const{path:n=[],branch:i=[e],coerce:o=!1,mask:s=!1}=r,a={path:n,branch:i};if(o&&(e=t.coercer(e,a),s&&t.type!=="type"&&so(t.schema)&&so(e)&&!Array.isArray(e)))for(const u in e)t.schema[u]===void 0&&delete e[u];let c=!0;for(const u of t.validator(e,a))c=!1,yield[u,void 0];for(let[u,l,y]of t.entries(e,a)){const A=ah(l,y,{path:u===void 0?n:[...n,u],branch:u===void 0?i:[...i,l],coerce:o,mask:s});for(const v of A)v[0]?(c=!1,yield[v[0],void 0]):o&&(l=v[1],u===void 0?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):so(e)&&(e[u]=l))}if(c)for(const u of t.refiner(e,a))c=!1,yield[u,void 0];c&&(yield[void 0,e])}class mi{constructor(t){const{type:r,schema:n,validator:i,refiner:o,coercer:s=c=>c,entries:a=function*(){}}=t;this.type=r,this.schema=n,this.entries=a,this.coercer=s,i?this.validator=(c,u)=>{const l=i(c,u);return e1(l,u,this,c)}:this.validator=()=>[],o?this.refiner=(c,u)=>{const l=o(c,u);return e1(l,u,this,c)}:this.refiner=()=>[]}assert(t){return KS(t,this)}create(t){return Be(t,this)}is(t){return t1(t,this)}mask(t){return ZS(t,this)}validate(t,r={}){return Da(t,this,r)}}function KS(e,t){const r=Da(e,t);if(r[0])throw r[0]}function Be(e,t){const r=Da(e,t,{coerce:!0});if(r[0])throw r[0];return r[1]}function ZS(e,t){const r=Da(e,t,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}function t1(e,t){return!Da(e,t)[0]}function Da(e,t,r={}){const n=ah(e,t,r),i=VS(n);return i[0]?[new zS(i[0],function*(){for(const s of n)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function Xo(e,t){return new mi({type:e,schema:null,validator:t})}function GS(){return Xo("any",()=>!0)}function Ce(e){return new mi({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: "+ii(t)}})}function bi(){return Xo("boolean",e=>typeof e=="boolean")}function ch(e){return Xo("instance",t=>t instanceof e||"Expected a `"+e.name+"` instance, but received: "+ii(t))}function dr(e){const t=ii(e),r=typeof e;return new mi({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?e:null,validator(n){return n===e||"Expected the literal `"+t+"`, but received: "+ii(n)}})}function YS(){return Xo("never",()=>!1)}function Te(e){return new mi({...e,validator:(t,r)=>t===null||e.validator(t,r),refiner:(t,r)=>t===null||e.refiner(t,r)})}function te(){return Xo("number",e=>typeof e=="number"&&!isNaN(e)||"Expected a number, but received: "+ii(e))}function Qe(e){return new mi({...e,validator:(t,r)=>t===void 0||e.validator(t,r),refiner:(t,r)=>t===void 0||e.refiner(t,r)})}function r1(e,t){return new mi({type:"record",schema:null,*entries(r){if(so(r))for(const n in r){const i=r[n];yield[n,n,e],yield[n,i,t]}},validator(r){return so(r)||"Expected an object, but received: "+ii(r)}})}function Se(){return Xo("string",e=>typeof e=="string"||"Expected a string, but received: "+ii(e))}function fh(e){const t=YS();return new mi({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator(r){return Array.isArray(r)||"Expected an array, but received: "+ii(r)}})}function me(e){const t=Object.keys(e);return new mi({type:"type",schema:e,*entries(r){if(so(r))for(const n of t)yield[n,r[n],e[n]]},validator(r){return so(r)||"Expected an object, but received: "+ii(r)}})}function mn(e){const t=e.map(r=>r.type).join(" | ");return new mi({type:"union",schema:null,validator(r,n){const i=[];for(const o of e){const[...s]=ah(r,o,n),[a]=s;if(a[0])for(const[c]of s)c&&i.push(c);else return[]}return["Expected the value to satisfy a union of `"+t+"`, but received: "+ii(r),...i]}})}function Ha(){return Xo("unknown",()=>!0)}function ja(e,t,r){return new mi({...e,coercer:(n,i)=>t1(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}var Af,XS=new Uint8Array(16);function n1(){if(!Af&&(Af=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Af))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Af(XS)}var JS=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Bf(e){return typeof e=="string"&&JS.test(e)}for(var Yr=[],uh=0;uh<256;++uh)Yr.push((uh+256).toString(16).substr(1));function If(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Yr[e[t+0]]+Yr[e[t+1]]+Yr[e[t+2]]+Yr[e[t+3]]+"-"+Yr[e[t+4]]+Yr[e[t+5]]+"-"+Yr[e[t+6]]+Yr[e[t+7]]+"-"+Yr[e[t+8]]+Yr[e[t+9]]+"-"+Yr[e[t+10]]+Yr[e[t+11]]+Yr[e[t+12]]+Yr[e[t+13]]+Yr[e[t+14]]+Yr[e[t+15]]).toLowerCase();if(!Bf(r))throw TypeError("Stringified UUID is invalid");return r}var i1,lh,hh=0,dh=0;function QS(e,t,r){var n=t&&r||0,i=t||new Array(16);e=e||{};var o=e.node||i1,s=e.clockseq!==void 0?e.clockseq:lh;if(o==null||s==null){var a=e.random||(e.rng||n1)();o==null&&(o=i1=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),s==null&&(s=lh=(a[6]<<8|a[7])&16383)}var c=e.msecs!==void 0?e.msecs:Date.now(),u=e.nsecs!==void 0?e.nsecs:dh+1,l=c-hh+(u-dh)/1e4;if(l<0&&e.clockseq===void 0&&(s=s+1&16383),(l<0||c>hh)&&e.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");hh=c,dh=u,lh=s,c+=122192928e5;var y=((c&268435455)*1e4+u)%4294967296;i[n++]=y>>>24&255,i[n++]=y>>>16&255,i[n++]=y>>>8&255,i[n++]=y&255;var A=c/4294967296*1e4&268435455;i[n++]=A>>>8&255,i[n++]=A&255,i[n++]=A>>>24&15|16,i[n++]=A>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(var v=0;v<6;++v)i[n+v]=o[v];return t||If(i)}function o1(e){if(!Bf(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}function e3(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var t3="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r3="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function s1(e,t,r){function n(i,o,s,a){if(typeof i=="string"&&(i=e3(i)),typeof o=="string"&&(o=o1(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(o),c.set(i,o.length),c=r(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,s){a=a||0;for(var u=0;u<16;++u)s[a+u]=c[u];return s}return If(c)}try{n.name=e}catch{}return n.DNS=t3,n.URL=r3,n}function n3(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return i3(o3(s3(e),e.length*8))}function i3(e){for(var t=[],r=e.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var o=e[i>>5]>>>i%32&255,s=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);t.push(s)}return t}function a1(e){return(e+64>>>9<<4)+14+1}function o3(e,t){e[t>>5]|=128<<t%32,e[a1(t)-1]=t;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,s=0;s<e.length;s+=16){var a=r,c=n,u=i,l=o;r=tn(r,n,i,o,e[s],7,-680876936),o=tn(o,r,n,i,e[s+1],12,-389564586),i=tn(i,o,r,n,e[s+2],17,606105819),n=tn(n,i,o,r,e[s+3],22,-1044525330),r=tn(r,n,i,o,e[s+4],7,-176418897),o=tn(o,r,n,i,e[s+5],12,1200080426),i=tn(i,o,r,n,e[s+6],17,-1473231341),n=tn(n,i,o,r,e[s+7],22,-45705983),r=tn(r,n,i,o,e[s+8],7,1770035416),o=tn(o,r,n,i,e[s+9],12,-1958414417),i=tn(i,o,r,n,e[s+10],17,-42063),n=tn(n,i,o,r,e[s+11],22,-1990404162),r=tn(r,n,i,o,e[s+12],7,1804603682),o=tn(o,r,n,i,e[s+13],12,-40341101),i=tn(i,o,r,n,e[s+14],17,-1502002290),n=tn(n,i,o,r,e[s+15],22,1236535329),r=rn(r,n,i,o,e[s+1],5,-165796510),o=rn(o,r,n,i,e[s+6],9,-1069501632),i=rn(i,o,r,n,e[s+11],14,643717713),n=rn(n,i,o,r,e[s],20,-373897302),r=rn(r,n,i,o,e[s+5],5,-701558691),o=rn(o,r,n,i,e[s+10],9,38016083),i=rn(i,o,r,n,e[s+15],14,-660478335),n=rn(n,i,o,r,e[s+4],20,-405537848),r=rn(r,n,i,o,e[s+9],5,568446438),o=rn(o,r,n,i,e[s+14],9,-1019803690),i=rn(i,o,r,n,e[s+3],14,-187363961),n=rn(n,i,o,r,e[s+8],20,1163531501),r=rn(r,n,i,o,e[s+13],5,-1444681467),o=rn(o,r,n,i,e[s+2],9,-51403784),i=rn(i,o,r,n,e[s+7],14,1735328473),n=rn(n,i,o,r,e[s+12],20,-1926607734),r=nn(r,n,i,o,e[s+5],4,-378558),o=nn(o,r,n,i,e[s+8],11,-2022574463),i=nn(i,o,r,n,e[s+11],16,1839030562),n=nn(n,i,o,r,e[s+14],23,-35309556),r=nn(r,n,i,o,e[s+1],4,-1530992060),o=nn(o,r,n,i,e[s+4],11,1272893353),i=nn(i,o,r,n,e[s+7],16,-155497632),n=nn(n,i,o,r,e[s+10],23,-1094730640),r=nn(r,n,i,o,e[s+13],4,681279174),o=nn(o,r,n,i,e[s],11,-358537222),i=nn(i,o,r,n,e[s+3],16,-722521979),n=nn(n,i,o,r,e[s+6],23,76029189),r=nn(r,n,i,o,e[s+9],4,-640364487),o=nn(o,r,n,i,e[s+12],11,-421815835),i=nn(i,o,r,n,e[s+15],16,530742520),n=nn(n,i,o,r,e[s+2],23,-995338651),r=on(r,n,i,o,e[s],6,-198630844),o=on(o,r,n,i,e[s+7],10,1126891415),i=on(i,o,r,n,e[s+14],15,-1416354905),n=on(n,i,o,r,e[s+5],21,-57434055),r=on(r,n,i,o,e[s+12],6,1700485571),o=on(o,r,n,i,e[s+3],10,-1894986606),i=on(i,o,r,n,e[s+10],15,-1051523),n=on(n,i,o,r,e[s+1],21,-2054922799),r=on(r,n,i,o,e[s+8],6,1873313359),o=on(o,r,n,i,e[s+15],10,-30611744),i=on(i,o,r,n,e[s+6],15,-1560198380),n=on(n,i,o,r,e[s+13],21,1309151649),r=on(r,n,i,o,e[s+4],6,-145523070),o=on(o,r,n,i,e[s+11],10,-1120210379),i=on(i,o,r,n,e[s+2],15,718787259),n=on(n,i,o,r,e[s+9],21,-343485551),r=ao(r,a),n=ao(n,c),i=ao(i,u),o=ao(o,l)}return[r,n,i,o]}function s3(e){if(e.length===0)return[];for(var t=e.length*8,r=new Uint32Array(a1(t)),n=0;n<t;n+=8)r[n>>5]|=(e[n/8]&255)<<n%32;return r}function ao(e,t){var r=(e&65535)+(t&65535),n=(e>>16)+(t>>16)+(r>>16);return n<<16|r&65535}function a3(e,t){return e<<t|e>>>32-t}function Rf(e,t,r,n,i,o){return ao(a3(ao(ao(t,e),ao(n,o)),i),r)}function tn(e,t,r,n,i,o,s){return Rf(t&r|~t&n,e,t,i,o,s)}function rn(e,t,r,n,i,o,s){return Rf(t&n|r&~n,e,t,i,o,s)}function nn(e,t,r,n,i,o,s){return Rf(t^r^n,e,t,i,o,s)}function on(e,t,r,n,i,o,s){return Rf(r^(t|~n),e,t,i,o,s)}var c3=s1("v3",48,n3),f3=c3;function u3(e,t,r){e=e||{};var n=e.random||(e.rng||n1)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return If(n)}function l3(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function ph(e,t){return e<<t|e>>>32-t}function h3(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s),c=0;c<s;++c){for(var u=new Uint32Array(16),l=0;l<16;++l)u[l]=e[c*64+l*4]<<24|e[c*64+l*4+1]<<16|e[c*64+l*4+2]<<8|e[c*64+l*4+3];a[c]=u}a[s-1][14]=(e.length-1)*8/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=(e.length-1)*8&4294967295;for(var y=0;y<s;++y){for(var A=new Uint32Array(80),v=0;v<16;++v)A[v]=a[y][v];for(var R=16;R<80;++R)A[R]=ph(A[R-3]^A[R-8]^A[R-14]^A[R-16],1);for(var O=r[0],P=r[1],H=r[2],F=r[3],N=r[4],$=0;$<80;++$){var q=Math.floor($/20),G=ph(O,5)+l3(q,P,H,F)+N+t[q]+A[$]>>>0;N=F,F=H,H=ph(P,30)>>>0,P=O,O=G}r[0]=r[0]+O>>>0,r[1]=r[1]+P>>>0,r[2]=r[2]+H>>>0,r[3]=r[3]+F>>>0,r[4]=r[4]+N>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var d3=s1("v5",80,h3),p3=d3,g3="00000000-0000-0000-0000-000000000000";function y3(e){if(!Bf(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var w3=Object.freeze({__proto__:null,v1:QS,v3:f3,v4:u3,v5:p3,NIL:g3,version:y3,validate:Bf,stringify:If,parse:o1}),c1=Un(w3);const m3=c1.v4;var b3=function(e,t,r,n){if(typeof e!="string")throw new TypeError(e+" must be a string");n=n||{};const i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const o={method:e};if(i===2&&(o.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");o.params=t}if(typeof r>"u"){const s=typeof n.generator=="function"?n.generator:function(){return m3()};o.id=s(o,n)}else i===2&&r===null?n.notificationIdNull&&(o.id=null):o.id=r;return o};const v3=c1.v4,_3=b3,za=function(e,t){if(!(this instanceof za))return new za(e,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return v3()},version:typeof t.version<"u"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=e};var E3=za;za.prototype.request=function(e,t,r,n){const i=this;let o=null;const s=Array.isArray(e)&&typeof t=="function";if(this.options.version===1&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&e&&typeof e=="object"&&typeof t=="function")n=t,o=e;else{typeof r=="function"&&(n=r,r=void 0);const u=typeof n=="function";try{o=_3(e,t,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(l){if(u)return n(l);throw l}if(!u)return o}let c;try{c=JSON.stringify(o,this.options.replacer)}catch(u){return n(u)}return this.callServer(c,function(u,l){i._parseResponse(u,l,n)}),o},za.prototype._parseResponse=function(e,t,r){if(e){r(e);return}if(!t)return r();let n;try{n=JSON.parse(t,this.options.reviver)}catch(i){return r(i)}if(r.length===3)if(Array.isArray(n)){const i=function(s){return typeof s.error<"u"},o=function(s){return!i(s)};return r(null,n.filter(i),n.filter(o))}else return r(null,n.error,n.result);r(null,n)};var f1={},gh={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,l){this.fn=c,this.context=u,this.once=l||!1}function o(c,u,l,y,A){if(typeof l!="function")throw new TypeError("The listener must be a function");var v=new i(l,y||c,A),R=r?r+u:u;return c._events[R]?c._events[R].fn?c._events[R]=[c._events[R],v]:c._events[R].push(v):(c._events[R]=v,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],l,y;if(this._eventsCount===0)return u;for(y in l=this._events)t.call(l,y)&&u.push(r?y.slice(1):y);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},a.prototype.listeners=function(u){var l=r?r+u:u,y=this._events[l];if(!y)return[];if(y.fn)return[y.fn];for(var A=0,v=y.length,R=new Array(v);A<v;A++)R[A]=y[A].fn;return R},a.prototype.listenerCount=function(u){var l=r?r+u:u,y=this._events[l];return y?y.fn?1:y.length:0},a.prototype.emit=function(u,l,y,A,v,R){var O=r?r+u:u;if(!this._events[O])return!1;var P=this._events[O],H=arguments.length,F,N;if(P.fn){switch(P.once&&this.removeListener(u,P.fn,void 0,!0),H){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,l),!0;case 3:return P.fn.call(P.context,l,y),!0;case 4:return P.fn.call(P.context,l,y,A),!0;case 5:return P.fn.call(P.context,l,y,A,v),!0;case 6:return P.fn.call(P.context,l,y,A,v,R),!0}for(N=1,F=new Array(H-1);N<H;N++)F[N-1]=arguments[N];P.fn.apply(P.context,F)}else{var $=P.length,q;for(N=0;N<$;N++)switch(P[N].once&&this.removeListener(u,P[N].fn,void 0,!0),H){case 1:P[N].fn.call(P[N].context);break;case 2:P[N].fn.call(P[N].context,l);break;case 3:P[N].fn.call(P[N].context,l,y);break;case 4:P[N].fn.call(P[N].context,l,y,A);break;default:if(!F)for(q=1,F=new Array(H-1);q<H;q++)F[q-1]=arguments[q];P[N].fn.apply(P[N].context,F)}}return!0},a.prototype.on=function(u,l,y){return o(this,u,l,y,!1)},a.prototype.once=function(u,l,y){return o(this,u,l,y,!0)},a.prototype.removeListener=function(u,l,y,A){var v=r?r+u:u;if(!this._events[v])return this;if(!l)return s(this,v),this;var R=this._events[v];if(R.fn)R.fn===l&&(!A||R.once)&&(!y||R.context===y)&&s(this,v);else{for(var O=0,P=[],H=R.length;O<H;O++)(R[O].fn!==l||A&&!R[O].once||y&&R[O].context!==y)&&P.push(R[O]);P.length?this._events[v]=P.length===1?P[0]:P:s(this,v)}return this},a.prototype.removeAllListeners=function(u){var l;return u?(l=r?r+u:u,this._events[l]&&s(this,l)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a})(gh);var Ps={};Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.createError=Ps.DefaultDataPack=void 0;const x3=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]);class S3{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}}Ps.DefaultDataPack=S3;function A3(e,t){const r={code:e,message:x3.get(e)||"Internal Server Error"};return t&&(r.data=t),r}Ps.createError=A3,Object.defineProperty(f1,"__esModule",{value:!0});const B3=gh.exports,I3=Ps;class R3 extends B3.EventEmitter{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(t,r="ws://localhost:8080",{autoconnect:n=!0,reconnect:i=!0,reconnect_interval:o=1e3,max_reconnects:s=5,...a}={},c,u){super(),this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=n,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=s,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=c||(()=>++this.rpc_id),u?this.dataPack=u:this.dataPack=new I3.DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,r,n,i){return!i&&typeof n=="object"&&(i=n,n=null),new Promise((o,s)=>{if(!this.ready)return s(new Error("socket not ready"));const a=this.generate_request_id(t,r),c={jsonrpc:"2.0",method:t,params:r||void 0,id:a};this.socket.send(this.dataPack.encode(c),i,u=>{if(u)return s(u);this.queue[a]={promise:[o,s]},n&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],s(new Error("reply timeout"))},n))})})}async login(t){const r=await this.call("rpc.login",t);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(t,r){return new Promise((n,i)=>{if(!this.ready)return i(new Error("socket not ready"));const o={jsonrpc:"2.0",method:t,params:r};this.socket.send(this.dataPack.encode(o),s=>{if(s)return i(s);n()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.on",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+r[t]);return r}async unsubscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.off",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+r);return r}close(t,r){this.socket.close(t||1e3,r)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,r),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=ie.Buffer.from(n).toString());try{n=this.dataPack.decode(n)}catch{return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);const i=[n.notification];if(n.params.constructor===Object)i.push(n.params);else for(let o=0;o<n.params.length;o++)i.push(n.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n?.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",n,i),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,r),this.reconnect_interval)))})}}var T3=f1.default=R3,u1={};Object.defineProperty(u1,"__esModule",{value:!0});const k3=gh.exports;class C3 extends k3.EventEmitter{socket;constructor(t,r,n){super(),this.socket=new window.WebSocket(t,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=i=>this.emit("message",i.data),this.socket.onerror=i=>this.emit("error",i),this.socket.onclose=i=>{this.emit("close",i.code,i.reason)}}send(t,r,n){const i=n||r;try{this.socket.send(t),i()}catch(o){i(o)}}close(t,r){this.socket.close(t,r)}addEventListener(t,r,n){this.socket.addEventListener(t,r,n)}}function L3(e,t){return new C3(e,t)}var $3=u1.default=L3;const O3=[],M3=BigInt(0),qa=BigInt(1),N3=BigInt(2),P3=BigInt(7),U3=BigInt(256),F3=BigInt(113);for(let e=0,t=qa,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5];let i=M3;for(let o=0;o<7;o++)t=(t<<qa^(t>>P3)*F3)%U3,t&N3&&(i^=qa<<(qa<<BigInt(o))-qa);O3.push(i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function D3(e){const t=jl(e);Ls(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:H3,hexToBytes:j3}=Hx,Jo={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=Jo;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(n[0]&128)throw new t("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:H3(n),l:e.subarray(r+2)}},toSig(e){const{Err:t}=Jo,r=typeof e=="string"?j3(e):e;Pa(r);let n=r.length;if(n<2||r[0]!=48)throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:i,l:o}=Jo._parseInt(r.subarray(2)),{d:s,l:a}=Jo._parseInt(o);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(e){const t=u=>Number.parseInt(u[0],16)&8?"00"+u:u,r=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},n=t(r(e.s)),i=t(r(e.r)),o=n.length/2,s=i.length/2,a=r(o),c=r(s);return`30${r(s+o+4)}02${c}${i}02${a}${n}`}},Mi=BigInt(0),zn=BigInt(1);BigInt(2);const l1=BigInt(3);BigInt(4);function z3(e){const t=D3(e),{Fp:r}=t,n=t.toBytes||((R,O,P)=>{const H=O.toAffine();return Vo(Uint8Array.from([4]),r.toBytes(H.x),r.toBytes(H.y))}),i=t.fromBytes||(R=>{const O=R.subarray(1),P=r.fromBytes(O.subarray(0,r.BYTES)),H=r.fromBytes(O.subarray(r.BYTES,2*r.BYTES));return{x:P,y:H}});function o(R){const{a:O,b:P}=t,H=r.sqr(R),F=r.mul(H,R);return r.add(r.add(F,r.mul(R,O)),P)}if(!r.eql(r.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function s(R){return typeof R=="bigint"&&Mi<R&&R<t.n}function a(R){if(!s(R))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(R){const{allowedPrivateKeyLengths:O,nByteLength:P,wrapPrivateKey:H,n:F}=t;if(O&&typeof R!="bigint"){if(jo(R)&&(R=zo(R)),typeof R!="string"||!O.includes(R.length))throw new Error("Invalid key");R=R.padStart(P*2,"0")}let N;try{N=typeof R=="bigint"?R:qo(Cr("private key",R,P))}catch{throw new Error(`private key must be ${P} bytes, hex or bigint, not ${typeof R}`)}return H&&(N=ir(N,F)),a(N),N}const u=new Map;function l(R){if(!(R instanceof y))throw new Error("ProjectivePoint expected")}class y{constructor(O,P,H){if(this.px=O,this.py=P,this.pz=H,O==null||!r.isValid(O))throw new Error("x required");if(P==null||!r.isValid(P))throw new Error("y required");if(H==null||!r.isValid(H))throw new Error("z required")}static fromAffine(O){const{x:P,y:H}=O||{};if(!O||!r.isValid(P)||!r.isValid(H))throw new Error("invalid affine point");if(O instanceof y)throw new Error("projective point not allowed");const F=N=>r.eql(N,r.ZERO);return F(P)&&F(H)?y.ZERO:new y(P,H,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(O){const P=r.invertBatch(O.map(H=>H.pz));return O.map((H,F)=>H.toAffine(P[F])).map(y.fromAffine)}static fromHex(O){const P=y.fromAffine(i(Cr("pointHex",O)));return P.assertValidity(),P}static fromPrivateKey(O){return y.BASE.multiply(c(O))}_setWindowSize(O){this._WINDOW_SIZE=O,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:O,y:P}=this.toAffine();if(!r.isValid(O)||!r.isValid(P))throw new Error("bad point: x or y not FE");const H=r.sqr(P),F=o(O);if(!r.eql(H,F))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:O}=this.toAffine();if(r.isOdd)return!r.isOdd(O);throw new Error("Field doesn't support isOdd")}equals(O){l(O);const{px:P,py:H,pz:F}=this,{px:N,py:$,pz:q}=O,G=r.eql(r.mul(P,q),r.mul(N,F)),Z=r.eql(r.mul(H,q),r.mul($,F));return G&&Z}negate(){return new y(this.px,r.neg(this.py),this.pz)}double(){const{a:O,b:P}=t,H=r.mul(P,l1),{px:F,py:N,pz:$}=this;let q=r.ZERO,G=r.ZERO,Z=r.ZERO,z=r.mul(F,F),ee=r.mul(N,N),oe=r.mul($,$),Q=r.mul(F,N);return Q=r.add(Q,Q),Z=r.mul(F,$),Z=r.add(Z,Z),q=r.mul(O,Z),G=r.mul(H,oe),G=r.add(q,G),q=r.sub(ee,G),G=r.add(ee,G),G=r.mul(q,G),q=r.mul(Q,q),Z=r.mul(H,Z),oe=r.mul(O,oe),Q=r.sub(z,oe),Q=r.mul(O,Q),Q=r.add(Q,Z),Z=r.add(z,z),z=r.add(Z,z),z=r.add(z,oe),z=r.mul(z,Q),G=r.add(G,z),oe=r.mul(N,$),oe=r.add(oe,oe),z=r.mul(oe,Q),q=r.sub(q,z),Z=r.mul(oe,ee),Z=r.add(Z,Z),Z=r.add(Z,Z),new y(q,G,Z)}add(O){l(O);const{px:P,py:H,pz:F}=this,{px:N,py:$,pz:q}=O;let G=r.ZERO,Z=r.ZERO,z=r.ZERO;const ee=t.a,oe=r.mul(t.b,l1);let Q=r.mul(P,N),I=r.mul(H,$),g=r.mul(F,q),f=r.add(P,H),h=r.add(N,$);f=r.mul(f,h),h=r.add(Q,I),f=r.sub(f,h),h=r.add(P,F);let m=r.add(N,q);return h=r.mul(h,m),m=r.add(Q,g),h=r.sub(h,m),m=r.add(H,F),G=r.add($,q),m=r.mul(m,G),G=r.add(I,g),m=r.sub(m,G),z=r.mul(ee,h),G=r.mul(oe,g),z=r.add(G,z),G=r.sub(I,z),z=r.add(I,z),Z=r.mul(G,z),I=r.add(Q,Q),I=r.add(I,Q),g=r.mul(ee,g),h=r.mul(oe,h),I=r.add(I,g),g=r.sub(Q,g),g=r.mul(ee,g),h=r.add(h,g),Q=r.mul(I,h),Z=r.add(Z,Q),Q=r.mul(m,h),G=r.mul(f,G),G=r.sub(G,Q),Q=r.mul(f,I),z=r.mul(m,z),z=r.add(z,Q),new y(G,Z,z)}subtract(O){return this.add(O.negate())}is0(){return this.equals(y.ZERO)}wNAF(O){return v.wNAFCached(this,u,O,P=>{const H=r.invertBatch(P.map(F=>F.pz));return P.map((F,N)=>F.toAffine(H[N])).map(y.fromAffine)})}multiplyUnsafe(O){const P=y.ZERO;if(O===Mi)return P;if(a(O),O===zn)return this;const{endo:H}=t;if(!H)return v.unsafeLadder(this,O);let{k1neg:F,k1:N,k2neg:$,k2:q}=H.splitScalar(O),G=P,Z=P,z=this;for(;N>Mi||q>Mi;)N&zn&&(G=G.add(z)),q&zn&&(Z=Z.add(z)),z=z.double(),N>>=zn,q>>=zn;return F&&(G=G.negate()),$&&(Z=Z.negate()),Z=new y(r.mul(Z.px,H.beta),Z.py,Z.pz),G.add(Z)}multiply(O){a(O);let P=O,H,F;const{endo:N}=t;if(N){const{k1neg:$,k1:q,k2neg:G,k2:Z}=N.splitScalar(P);let{p:z,f:ee}=this.wNAF(q),{p:oe,f:Q}=this.wNAF(Z);z=v.constTimeNegate($,z),oe=v.constTimeNegate(G,oe),oe=new y(r.mul(oe.px,N.beta),oe.py,oe.pz),H=z.add(oe),F=ee.add(Q)}else{const{p:$,f:q}=this.wNAF(P);H=$,F=q}return y.normalizeZ([H,F])[0]}multiplyAndAddUnsafe(O,P,H){const F=y.BASE,N=(q,G)=>G===Mi||G===zn||!q.equals(F)?q.multiplyUnsafe(G):q.multiply(G),$=N(this,P).add(N(O,H));return $.is0()?void 0:$}toAffine(O){const{px:P,py:H,pz:F}=this,N=this.is0();O==null&&(O=N?r.ONE:r.inv(F));const $=r.mul(P,O),q=r.mul(H,O),G=r.mul(F,O);if(N)return{x:r.ZERO,y:r.ZERO};if(!r.eql(G,r.ONE))throw new Error("invZ was invalid");return{x:$,y:q}}isTorsionFree(){const{h:O,isTorsionFree:P}=t;if(O===zn)return!0;if(P)return P(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:O,clearCofactor:P}=t;return O===zn?this:P?P(y,this):this.multiplyUnsafe(t.h)}toRawBytes(O=!0){return this.assertValidity(),n(y,this,O)}toHex(O=!0){return zo(this.toRawBytes(O))}}y.BASE=new y(t.Gx,t.Gy,r.ONE),y.ZERO=new y(r.ZERO,r.ONE,r.ZERO);const A=t.nBitLength,v=Eg(y,t.endo?Math.ceil(A/2):A);return{CURVE:t,ProjectivePoint:y,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:s}}function q3(e){const t=jl(e);return Ls(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function V3(e){const t=q3(e),{Fp:r,n}=t,i=r.BYTES+1,o=2*r.BYTES+1;function s(h){return Mi<h&&h<r.ORDER}function a(h){return ir(h,n)}function c(h){return Dl(h,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:y,isWithinCurveOrder:A}=z3({...t,toBytes(h,m,_){const E=m.toAffine(),x=r.toBytes(E.x),T=Vo;return _?T(Uint8Array.from([m.hasEvenY()?2:3]),x):T(Uint8Array.from([4]),x,r.toBytes(E.y))},fromBytes(h){const m=h.length,_=h[0],E=h.subarray(1);if(m===i&&(_===2||_===3)){const x=qo(E);if(!s(x))throw new Error("Point is not on curve");const T=y(x);let B;try{B=r.sqrt(T)}catch(W){const K=W instanceof Error?": "+W.message:"";throw new Error("Point is not on curve"+K)}const d=(B&zn)===zn;return(_&1)===1!==d&&(B=r.neg(B)),{x,y:B}}else if(m===o&&_===4){const x=r.fromBytes(E.subarray(0,r.BYTES)),T=r.fromBytes(E.subarray(r.BYTES,2*r.BYTES));return{x,y:T}}else throw new Error(`Point of length ${m} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),v=h=>zo(Cs(h,t.nByteLength));function R(h){const m=n>>zn;return h>m}function O(h){return R(h)?a(-h):h}const P=(h,m,_)=>qo(h.slice(m,_));class H{constructor(m,_,E){this.r=m,this.s=_,this.recovery=E,this.assertValidity()}static fromCompact(m){const _=t.nByteLength;return m=Cr("compactSignature",m,_*2),new H(P(m,0,_),P(m,_,2*_))}static fromDER(m){const{r:_,s:E}=Jo.toSig(Cr("DER",m));return new H(_,E)}assertValidity(){if(!A(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!A(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(m){return new H(this.r,this.s,m)}recoverPublicKey(m){const{r:_,s:E,recovery:x}=this,T=Z(Cr("msgHash",m));if(x==null||![0,1,2,3].includes(x))throw new Error("recovery id invalid");const B=x===2||x===3?_+t.n:_;if(B>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=x&1?"03":"02",k=u.fromHex(d+v(B)),W=c(B),K=a(-T*W),re=a(E*W),xe=u.BASE.multiplyAndAddUnsafe(k,K,re);if(!xe)throw new Error("point at infinify");return xe.assertValidity(),xe}hasHighS(){return R(this.s)}normalizeS(){return this.hasHighS()?new H(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Ts(this.toDERHex())}toDERHex(){return Jo.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ts(this.toCompactHex())}toCompactHex(){return v(this.r)+v(this.s)}}const F={isValidPrivateKey(h){try{return l(h),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const h=_g(t.n);return Jx(t.randomBytes(h),t.n)},precompute(h=8,m=u.BASE){return m._setWindowSize(h),m.multiply(BigInt(3)),m}};function N(h,m=!0){return u.fromPrivateKey(h).toRawBytes(m)}function $(h){const m=jo(h),_=typeof h=="string",E=(m||_)&&h.length;return m?E===i||E===o:_?E===2*i||E===2*o:h instanceof u}function q(h,m,_=!0){if($(h))throw new Error("first arg must be private key");if(!$(m))throw new Error("second arg must be public key");return u.fromHex(m).multiply(l(h)).toRawBytes(_)}const G=t.bits2int||function(h){const m=qo(h),_=h.length*8-t.nBitLength;return _>0?m>>BigInt(_):m},Z=t.bits2int_modN||function(h){return a(G(h))},z=Pl(t.nBitLength);function ee(h){if(typeof h!="bigint")throw new Error("bigint expected");if(!(Mi<=h&&h<z))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Cs(h,t.nByteLength)}function oe(h,m,_=Q){if(["recovered","canonical"].some(ge=>ge in _))throw new Error("sign() legacy options not supported");const{hash:E,randomBytes:x}=t;let{lowS:T,prehash:B,extraEntropy:d}=_;T==null&&(T=!0),h=Cr("msgHash",h),B&&(h=Cr("prehashed msgHash",E(h)));const k=Z(h),W=l(m),K=[ee(W),ee(k)];if(d!=null&&d!==!1){const ge=d===!0?x(r.BYTES):d;K.push(Cr("extraEntropy",ge))}const re=Vo(...K),xe=k;function be(ge){const tt=G(ge);if(!A(tt))return;const Ue=c(tt),Pe=u.BASE.multiply(tt).toAffine(),pe=a(Pe.x);if(pe===Mi)return;const we=a(Ue*a(xe+pe*W));if(we===Mi)return;let ke=(Pe.x===pe?0:2)|Number(Pe.y&zn),vt=we;return T&&R(we)&&(vt=O(we),ke^=1),new H(pe,vt,ke)}return{seed:re,k2sig:be}}const Q={lowS:t.lowS,prehash:!1},I={lowS:t.lowS,prehash:!1};function g(h,m,_=Q){const{seed:E,k2sig:x}=oe(h,m,_),T=t;return gg(T.hash.outputLen,T.nByteLength,T.hmac)(E,x)}u.BASE._setWindowSize(8);function f(h,m,_,E=I){const x=h;if(m=Cr("msgHash",m),_=Cr("publicKey",_),"strict"in E)throw new Error("options.strict was renamed to lowS");const{lowS:T,prehash:B}=E;let d,k;try{if(typeof x=="string"||jo(x))try{d=H.fromDER(x)}catch(Pe){if(!(Pe instanceof Jo.Err))throw Pe;d=H.fromCompact(x)}else if(typeof x=="object"&&typeof x.r=="bigint"&&typeof x.s=="bigint"){const{r:Pe,s:pe}=x;d=new H(Pe,pe)}else throw new Error("PARSE");k=u.fromHex(_)}catch(Pe){if(Pe.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(T&&d.hasHighS())return!1;B&&(m=t.hash(m));const{r:W,s:K}=d,re=Z(m),xe=c(K),be=a(re*xe),ge=a(W*xe),tt=u.BASE.multiplyAndAddUnsafe(k,be,ge)?.toAffine();return tt?a(tt.x)===W:!1}return{CURVE:t,getPublicKey:N,getSharedSecret:q,sign:g,verify:f,ProjectivePoint:u,Signature:H,utils:F}}class h1 extends og{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,fx(t);const n=Ol(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?t.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(t){return uf(this),this.iHash.update(t),this}digestInto(t){uf(this),ff(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const d1=(e,t,r)=>new h1(e,t).update(r).digest();d1.create=(e,t)=>new h1(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function W3(e){return{hash:e,hmac:(t,...r)=>d1(e,t,ig(...r)),randomBytes:ag}}function K3(e,t){const r=n=>V3({...e,...W3(n)});return Object.freeze({...r(t),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const p1=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),g1=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Z3=BigInt(1),yh=BigInt(2),y1=(e,t)=>(e+t/yh)/t;function G3(e){const t=p1,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,y=wr(l,r,t)*l%t,A=wr(y,r,t)*l%t,v=wr(A,yh,t)*u%t,R=wr(v,i,t)*v%t,O=wr(R,o,t)*R%t,P=wr(O,a,t)*O%t,H=wr(P,c,t)*P%t,F=wr(H,a,t)*O%t,N=wr(F,r,t)*l%t,$=wr(N,s,t)*R%t,q=wr($,n,t)*u%t,G=wr(q,yh,t);if(!wh.eql(wh.sqr(G),e))throw new Error("Cannot find square root");return G}const wh=bg(p1,void 0,void 0,{sqrt:G3}),mh=K3({a:BigInt(0),b:BigInt(7),Fp:wh,n:g1,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=g1,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Z3*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),a=y1(o*e,t),c=y1(-n*e,t);let u=ir(e-a*r-c*i,t),l=ir(-a*n-c*o,t);const y=u>s,A=l>s;if(y&&(u=t-u),A&&(l=t-l),u>s||l>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:y,k1:u,k2neg:A,k2:l}}}},Zl);BigInt(0),mh.ProjectivePoint,pf.utils.randomPrivateKey;function w1(e){try{return pf.ExtendedPoint.fromHex(e),!0}catch{return!1}}const m1=(e,t)=>pf.sign(e,t.slice(0,32)),Y3=pf.verify,Us=e=>ie.Buffer.isBuffer(e)?e:e instanceof Uint8Array?ie.Buffer.from(e.buffer,e.byteOffset,e.byteLength):ie.Buffer.from(e);class X3{constructor(t){Object.assign(this,t)}encode(){return ie.Buffer.from(Mg(Tf,this))}static decode(t){return Ng(Tf,this,t)}static decodeUnchecked(t){return kg(Tf,this,t)}}const Tf=new Map;var b1;const J3=32,co=32;function Q3(e){return e._bn!==void 0}let v1=1;class et extends X3{constructor(t){if(super({}),this._bn=void 0,Q3(t))this._bn=t._bn;else{if(typeof t=="string"){const r=Ar.decode(t);if(r.length!=co)throw new Error("Invalid public key input");this._bn=new Rg(r)}else this._bn=new Rg(t);if(this._bn.byteLength()>co)throw new Error("Invalid public key input")}}static unique(){const t=new et(v1);return v1+=1,new et(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Ar.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(ie.Buffer);if(t.length===co)return t;const r=ie.Buffer.alloc(32);return t.copy(r,32-t.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,r,n){const i=ie.Buffer.concat([t.toBuffer(),ie.Buffer.from(r),n.toBuffer()]),o=Zl(i);return new et(o)}static createProgramAddressSync(t,r){let n=ie.Buffer.alloc(0);t.forEach(function(o){if(o.length>J3)throw new TypeError("Max seed length exceeded");n=ie.Buffer.concat([n,Us(o)])}),n=ie.Buffer.concat([n,r.toBuffer(),ie.Buffer.from("ProgramDerivedAddress")]);const i=Zl(n);if(w1(i))throw new Error("Invalid seeds, address must fall off the curve");return new et(i)}static async createProgramAddress(t,r){return this.createProgramAddressSync(t,r)}static findProgramAddressSync(t,r){let n=255,i;for(;n!=0;){try{const o=t.concat(ie.Buffer.from([n]));i=this.createProgramAddressSync(o,r)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,r){return this.findProgramAddressSync(t,r)}static isOnCurve(t){const r=new et(t);return w1(r.toBytes())}}b1=et,et.default=new b1("11111111111111111111111111111111"),Tf.set(et,{kind:"struct",fields:[["_bn","u256"]]}),new et("BPFLoader1111111111111111111111111111111111");const Fs=1280-40-8,bh=127,kf=64;class _1 extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(_1.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class E1 extends Error{constructor(t,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(E1.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Va extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Va.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Cf{constructor(t,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=r}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const r of this.keySegments()){if(t<r.length)return r[t];t-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((o,s)=>{n.set(o.toBase58(),s)});const i=o=>{const s=n.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return t.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}}const St=(e="publicKey")=>nr(32,e),eA=(e="signature")=>nr(64,e),Ds=(e="string")=>{const t=Fe([qe("length"),qe("lengthPadding"),nr(Yo(qe(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t),i=t;return i.decode=(o,s)=>r(o,s).chars.toString(),i.encode=(o,s,a)=>{const c={chars:ie.Buffer.from(o,"utf8")};return n(c,s,a)},i.alloc=o=>qe().span+qe().span+ie.Buffer.from(o,"utf8").length,i},tA=(e="authorized")=>Fe([St("staker"),St("withdrawer")],e),rA=(e="lockup")=>Fe([In("unixTimestamp"),In("epoch"),St("custodian")],e),nA=(e="voteInit")=>Fe([St("nodePubkey"),St("authorizedVoter"),St("authorizedWithdrawer"),Ut("commission")],e),iA=(e="voteAuthorizeWithSeedArgs")=>Fe([qe("voteAuthorizationType"),St("currentAuthorityDerivedKeyOwnerPubkey"),Ds("currentAuthorityDerivedKeySeed"),St("newAuthorized")],e);function Rn(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(n&127)<<r*7,r+=1,!(n&128))break}return t}function Tn(e,t){let r=t;for(;;){let n=r&127;if(r>>=7,r==0){e.push(n);break}else n|=128,e.push(n)}}function or(e,t){if(!e)throw new Error(t||"Assertion failed")}class Lf{constructor(t,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=r}static compile(t,r){const n=new Map,i=s=>{const a=s.toBase58();let c=n.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,c)),c},o=i(r);o.isSigner=!0,o.isWritable=!0;for(const s of t){i(s.programId).isInvoked=!0;for(const a of s.keys){const c=i(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new Lf(r,n)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];or(t.length<=256,"Max static account keys length exceeded");const r=t.filter(([,c])=>c.isSigner&&c.isWritable),n=t.filter(([,c])=>c.isSigner&&!c.isWritable),i=t.filter(([,c])=>!c.isSigner&&c.isWritable),o=t.filter(([,c])=>!c.isSigner&&!c.isWritable),s={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:o.length};{or(r.length>0,"Expected at least one writable signer key");const[c]=r[0];or(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...r.map(([c])=>new et(c)),...n.map(([c])=>new et(c)),...i.map(([c])=>new et(c)),...o.map(([c])=>new et(c))];return[s,a]}extractTableLookup(t){const[r,n]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:t.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:o}]}drainKeysFoundInLookupTable(t,r){const n=new Array,i=new Array;for(const[o,s]of this.keyMetaMap.entries())if(r(s)){const a=new et(o),c=t.findIndex(u=>u.equals(a));c>=0&&(or(c<256,"Max lookup table index exceeded"),n.push(c),i.push(a),this.keyMetaMap.delete(o))}return[n,i]}}const x1="Reached end of buffer unexpectedly";function Ni(e){if(e.length===0)throw new Error(x1);return e.shift()}function kn(e,...t){const[r]=t;if(t.length===2?r+(t[1]??0)>e.length:r>=e.length)throw new Error(x1);return e.splice(...t)}class Pi{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(r=>new et(r)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ar.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Cf(this.staticAccountKeys)}static compile(t){const r=Lf.compile(t.instructions,t.payerKey),[n,i]=r.getMessageComponents(),s=new Cf(i).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ar.encode(a.data)}));return new Pi({header:n,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:s})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const r=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const n=t-r,o=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<o}else{const n=r-this.header.numReadonlySignedAccounts;return t<n}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,r)=>!this.isProgramId(r))}serialize(){const t=this.accountKeys.length;let r=[];Tn(r,t);const n=this.instructions.map(y=>{const{accounts:A,programIdIndex:v}=y,R=Array.from(Ar.decode(y.data));let O=[];Tn(O,A.length);let P=[];return Tn(P,R.length),{programIdIndex:v,keyIndicesCount:ie.Buffer.from(O),keyIndices:A,dataLength:ie.Buffer.from(P),data:R}});let i=[];Tn(i,n.length);let o=ie.Buffer.alloc(Fs);ie.Buffer.from(i).copy(o);let s=i.length;n.forEach(y=>{const v=Fe([Ut("programIdIndex"),nr(y.keyIndicesCount.length,"keyIndicesCount"),en(Ut("keyIndex"),y.keyIndices.length,"keyIndices"),nr(y.dataLength.length,"dataLength"),en(Ut("userdatum"),y.data.length,"data")]).encode(y,o,s);s+=v}),o=o.slice(0,s);const a=Fe([nr(1,"numRequiredSignatures"),nr(1,"numReadonlySignedAccounts"),nr(1,"numReadonlyUnsignedAccounts"),nr(r.length,"keyCount"),en(St("key"),t,"keys"),St("recentBlockhash")]),c={numRequiredSignatures:ie.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:ie.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:ie.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:ie.Buffer.from(r),keys:this.accountKeys.map(y=>Us(y.toBytes())),recentBlockhash:Ar.decode(this.recentBlockhash)};let u=ie.Buffer.alloc(2048);const l=a.encode(c,u);return o.copy(u,l),u.slice(0,l+o.length)}static from(t){let r=[...t];const n=Ni(r);if(n!==(n&bh))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Ni(r),o=Ni(r),s=Rn(r);let a=[];for(let A=0;A<s;A++){const v=kn(r,0,co);a.push(new et(ie.Buffer.from(v)))}const c=kn(r,0,co),u=Rn(r);let l=[];for(let A=0;A<u;A++){const v=Ni(r),R=Rn(r),O=kn(r,0,R),P=Rn(r),H=kn(r,0,P),F=Ar.encode(ie.Buffer.from(H));l.push({programIdIndex:v,accounts:O,data:F})}const y={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:Ar.encode(ie.Buffer.from(c)),accountKeys:a,instructions:l};return new Pi(y)}}class Wa{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const r of this.addressTableLookups)t+=r.readonlyIndexes.length+r.writableIndexes.length;return t}getAccountKeys(t){let r;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)r=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Cf(this.staticAccountKeys,r)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(t>=n){const i=t-n,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(t>=this.header.numRequiredSignatures){const i=t-r,s=n-r-this.header.numReadonlyUnsignedAccounts;return i<s}else{const i=r-this.header.numReadonlySignedAccounts;return t<i}}resolveAddressTableLookups(t){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const i=t.find(o=>o.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const o of n.writableIndexes)if(o<i.state.addresses.length)r.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`);for(const o of n.readonlyIndexes)if(o<i.state.addresses.length)r.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(t){const r=Lf.compile(t.instructions,t.payerKey),n=new Array,i={writable:new Array,readonly:new Array},o=t.addressLookupTableAccounts||[];for(const l of o){const y=r.extractTableLookup(l);if(y!==void 0){const[A,{writable:v,readonly:R}]=y;n.push(A),i.writable.push(...v),i.readonly.push(...R)}}const[s,a]=r.getMessageComponents(),u=new Cf(a,i).compileInstructions(t.instructions);return new Wa({header:s,staticAccountKeys:a,recentBlockhash:t.recentBlockhash,compiledInstructions:u,addressTableLookups:n})}serialize(){const t=Array();Tn(t,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();Tn(n,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),o=Array();Tn(o,this.addressTableLookups.length);const s=Fe([Ut("prefix"),Fe([Ut("numRequiredSignatures"),Ut("numReadonlySignedAccounts"),Ut("numReadonlyUnsignedAccounts")],"header"),nr(t.length,"staticAccountKeysLength"),en(St(),this.staticAccountKeys.length,"staticAccountKeys"),St("recentBlockhash"),nr(n.length,"instructionsLength"),nr(r.length,"serializedInstructions"),nr(o.length,"addressTableLookupsLength"),nr(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(Fs),c=128,u=s.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ar.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,u)}serializeInstructions(){let t=0;const r=new Uint8Array(Fs);for(const n of this.compiledInstructions){const i=Array();Tn(i,n.accountKeyIndexes.length);const o=Array();Tn(o,n.data.length);const s=Fe([Ut("programIdIndex"),nr(i.length,"encodedAccountKeyIndexesLength"),en(Ut(),n.accountKeyIndexes.length,"accountKeyIndexes"),nr(o.length,"encodedDataLength"),nr(n.data.length,"data")]);t+=s.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:n.data},r,t)}return r.slice(0,t)}serializeAddressTableLookups(){let t=0;const r=new Uint8Array(Fs);for(const n of this.addressTableLookups){const i=Array();Tn(i,n.writableIndexes.length);const o=Array();Tn(o,n.readonlyIndexes.length);const s=Fe([St("accountKey"),nr(i.length,"encodedWritableIndexesLength"),en(Ut(),n.writableIndexes.length,"writableIndexes"),nr(o.length,"encodedReadonlyIndexesLength"),en(Ut(),n.readonlyIndexes.length,"readonlyIndexes")]);t+=s.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:n.readonlyIndexes},r,t)}return r.slice(0,t)}static deserialize(t){let r=[...t];const n=Ni(r),i=n&bh;or(n!==i,"Expected versioned message but received legacy message");const o=i;or(o===0,`Expected versioned message with version 0 but found version ${o}`);const s={numRequiredSignatures:Ni(r),numReadonlySignedAccounts:Ni(r),numReadonlyUnsignedAccounts:Ni(r)},a=[],c=Rn(r);for(let R=0;R<c;R++)a.push(new et(kn(r,0,co)));const u=Ar.encode(kn(r,0,co)),l=Rn(r),y=[];for(let R=0;R<l;R++){const O=Ni(r),P=Rn(r),H=kn(r,0,P),F=Rn(r),N=new Uint8Array(kn(r,0,F));y.push({programIdIndex:O,accountKeyIndexes:H,data:N})}const A=Rn(r),v=[];for(let R=0;R<A;R++){const O=new et(kn(r,0,co)),P=Rn(r),H=kn(r,0,P),F=Rn(r),N=kn(r,0,F);v.push({accountKey:O,writableIndexes:H,readonlyIndexes:N})}return new Wa({header:s,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:y,addressTableLookups:v})}}const S1={deserializeMessageVersion(e){const t=e[0],r=t&bh;return r===t?"legacy":r},deserialize:e=>{const t=S1.deserializeMessageVersion(e);if(t==="legacy")return Pi.from(e);if(t===0)return Wa.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let fo=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const oA=ie.Buffer.alloc(kf).fill(0);class A1{constructor(t){this.keys=void 0,this.programId=void 0,this.data=ie.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:r,isWritable:n})=>({pubkey:t.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class uo{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=t;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=t;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new A1(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,r;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(t=this.recentBlockhash,r=this.instructions),!t)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let O=0;O<r.length;O++)if(r[O].programId===void 0)throw new Error(`Transaction instruction index ${O} has undefined program id`);const i=[],o=[];r.forEach(O=>{O.keys.forEach(H=>{o.push({...H})});const P=O.programId.toString();i.includes(P)||i.push(P)}),i.forEach(O=>{o.push({pubkey:new et(O),isSigner:!1,isWritable:!1})});const s=[];o.forEach(O=>{const P=O.pubkey.toString(),H=s.findIndex(F=>F.pubkey.toString()===P);H>-1?(s[H].isWritable=s[H].isWritable||O.isWritable,s[H].isSigner=s[H].isSigner||O.isSigner):s.push(O)}),s.sort(function(O,P){if(O.isSigner!==P.isSigner)return O.isSigner?-1:1;if(O.isWritable!==P.isWritable)return O.isWritable?-1:1;const H={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return O.pubkey.toBase58().localeCompare(P.pubkey.toBase58(),"en",H)});const a=s.findIndex(O=>O.pubkey.equals(n));if(a>-1){const[O]=s.splice(a,1);O.isSigner=!0,O.isWritable=!0,s.unshift(O)}else s.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const O of this.signatures){const P=s.findIndex(H=>H.pubkey.equals(O.publicKey));if(P>-1)s[P].isSigner||(s[P].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${O.publicKey.toString()}`)}let c=0,u=0,l=0;const y=[],A=[];s.forEach(({pubkey:O,isSigner:P,isWritable:H})=>{P?(y.push(O.toString()),c+=1,H||(u+=1)):(A.push(O.toString()),H||(l+=1))});const v=y.concat(A),R=r.map(O=>{const{data:P,programId:H}=O;return{programIdIndex:v.indexOf(H.toString()),accounts:O.keys.map(F=>v.indexOf(F.pubkey.toString())),data:Ar.encode(P)}});return R.forEach(O=>{or(O.programIdIndex>=0),O.accounts.forEach(P=>or(P>=0))}),new Pi({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:v,recentBlockhash:t,instructions:R})}_compile(){const t=this.compileMessage(),r=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,o)=>r[o].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const r=new Set;this.signatures=t.filter(n=>{const i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...t){if(t.length===0)throw new Error("No signers");const r=new Set,n=[];for(const o of t){const s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}this.signatures=n.map(o=>({signature:null,publicKey:o.publicKey}));const i=this._compile();this._partialSign(i,...n)}partialSign(...t){if(t.length===0)throw new Error("No signers");const r=new Set,n=[];for(const o of t){const s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}const i=this._compile();this._partialSign(i,...n)}_partialSign(t,...r){const n=t.serialize();r.forEach(i=>{const o=m1(n,i.secretKey);this._addSignature(i.publicKey,Us(o))})}addSignature(t,r){this._compile(),this._addSignature(t,r)}_addSignature(t,r){or(r.length===64);const n=this.signatures.findIndex(i=>t.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=ie.Buffer.from(r)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,r){const n={};for(const{signature:i,publicKey:o}of this.signatures)i===null?r&&(n.missing||=[]).push(o):Y3(i,t,o.toBytes())||(n.invalid||=[]).push(o);return n.invalid||n.missing?n:void 0}serialize(t){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=this.serializeMessage();if(n){const o=this._getMessageSignednessErrors(i,r);if(o){let s="Signature verification failed.";throw o.invalid&&(s+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(s+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(i)}_serialize(t){const{signatures:r}=this,n=[];Tn(n,r.length);const i=n.length+r.length*64+t.length,o=ie.Buffer.alloc(i);return or(r.length<256),ie.Buffer.from(n).copy(o,0),r.forEach(({signature:s},a)=>{s!==null&&(or(s.length===64,"signature has invalid length"),ie.Buffer.from(s).copy(o,n.length+a*64))}),t.copy(o,n.length+r.length*64),or(o.length<=Fs,`Transaction too large: ${o.length} > ${Fs}`),o}get keys(){return or(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return or(this.instructions.length===1),this.instructions[0].programId}get data(){return or(this.instructions.length===1),this.instructions[0].data}static from(t){let r=[...t];const n=Rn(r);let i=[];for(let o=0;o<n;o++){const s=kn(r,0,kf);i.push(Ar.encode(ie.Buffer.from(s)))}return uo.populate(Pi.from(r),i)}static populate(t,r=[]){const n=new uo;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),r.forEach((i,o)=>{const s={signature:i==Ar.encode(oA)?null:Ar.decode(i),publicKey:t.accountKeys[o]};n.signatures.push(s)}),t.instructions.forEach(i=>{const o=i.accounts.map(s=>{const a=t.accountKeys[s];return{pubkey:a,isSigner:n.signatures.some(c=>c.publicKey.toString()===a.toString())||t.isAccountSigner(s),isWritable:t.isAccountWritable(s)}});n.instructions.push(new A1({keys:o,programId:t.accountKeys[i.programIdIndex],data:Ar.decode(i.data)}))}),n._message=t,n._json=n.toJSON(),n}}class Ka{get version(){return this.message.version}constructor(t,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)or(r.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{const n=[];for(let i=0;i<t.header.numRequiredSignatures;i++)n.push(new Uint8Array(kf));this.signatures=n}this.message=t}serialize(){const t=this.message.serialize(),r=Array();Tn(r,this.signatures.length);const n=Fe([nr(r.length,"encodedSignaturesLength"),en(eA(),this.signatures.length,"signatures"),nr(t.length,"serializedMessage")]),i=new Uint8Array(2048),o=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:t},i);return i.slice(0,o)}static deserialize(t){let r=[...t];const n=[],i=Rn(r);for(let s=0;s<i;s++)n.push(new Uint8Array(kn(r,0,kf)));const o=S1.deserialize(new Uint8Array(r));return new Ka(o,n)}sign(t){const r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of t){const o=n.findIndex(s=>s.equals(i.publicKey));or(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=m1(r,i.secretKey)}}addSignature(t,r){or(r.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(t));or(i>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}}const sA=1e3/(160/64);new et("SysvarC1ock11111111111111111111111111111111"),new et("SysvarEpochSchedu1e111111111111111111111111"),new et("Sysvar1nstructions1111111111111111111111111"),new et("SysvarRecentB1ockHashes11111111111111111111"),new et("SysvarRent111111111111111111111111111111111"),new et("SysvarRewards111111111111111111111111111111"),new et("SysvarS1otHashes111111111111111111111111111"),new et("SysvarS1otHistory11111111111111111111111111"),new et("SysvarStakeHistory1111111111111111111111111");function Hs(e){return new Promise(t=>setTimeout(t,e))}const aA=Gr("lamportsPerSignature"),B1=Fe([qe("version"),qe("state"),St("authorizedPubkey"),St("nonce"),Fe([aA],"feeCalculator")]);B1.span;class vh{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const r=B1.decode(Us(t),0);return new vh({authorizedPubkey:new et(r.authorizedPubkey),nonce:new et(r.nonce).toString(),feeCalculator:r.feeCalculator})}}const cA=e=>{const t=e.decode.bind(e),r=e.encode.bind(e);return{decode:t,encode:r}},js=(e=>t=>{const r=nr(e,t),{encode:n,decode:i}=cA(r),o=r;return o.decode=(s,a)=>{const c=i(s,a);return US(ie.Buffer.from(c))},o.encode=(s,a,c)=>{const u=HS(s,e);return n(u,a,c)},o})(8);Object.freeze({Create:{index:0,layout:Fe([qe("instruction"),In("lamports"),In("space"),St("programId")])},Assign:{index:1,layout:Fe([qe("instruction"),St("programId")])},Transfer:{index:2,layout:Fe([qe("instruction"),js("lamports")])},CreateWithSeed:{index:3,layout:Fe([qe("instruction"),St("base"),Ds("seed"),In("lamports"),In("space"),St("programId")])},AdvanceNonceAccount:{index:4,layout:Fe([qe("instruction")])},WithdrawNonceAccount:{index:5,layout:Fe([qe("instruction"),In("lamports")])},InitializeNonceAccount:{index:6,layout:Fe([qe("instruction"),St("authorized")])},AuthorizeNonceAccount:{index:7,layout:Fe([qe("instruction"),St("authorized")])},Allocate:{index:8,layout:Fe([qe("instruction"),In("space")])},AllocateWithSeed:{index:9,layout:Fe([qe("instruction"),St("base"),Ds("seed"),In("space"),St("programId")])},AssignWithSeed:{index:10,layout:Fe([qe("instruction"),St("base"),Ds("seed"),St("programId")])},TransferWithSeed:{index:11,layout:Fe([qe("instruction"),js("lamports"),Ds("seed"),St("programId")])},UpgradeNonceAccount:{index:12,layout:Fe([qe("instruction")])}}),new et("11111111111111111111111111111111"),new et("BPFLoader2111111111111111111111111111111111");function fA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uA=Object.prototype.toString,lA=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};function Za(e,t){var r,n,i,o,s,a,c;if(e===!0)return"true";if(e===!1)return"false";switch(typeof e){case"object":if(e===null)return null;if(e.toJSON&&typeof e.toJSON=="function")return Za(e.toJSON(),t);if(c=uA.call(e),c==="[object Array]"){for(i="[",n=e.length-1,r=0;r<n;r++)i+=Za(e[r],!0)+",";return n>-1&&(i+=Za(e[r],!0)),i+"]"}else if(c==="[object Object]"){for(o=lA(e).sort(),n=o.length,i="",r=0;r<n;)s=o[r],a=Za(e[s],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),r++;return"{"+i+"}"}else return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}var hA=function(e){var t=Za(e,!1);if(t!==void 0)return""+t},I1=fA(hA);const Ga=32;function _h(e){let t=0;for(;e>1;)e/=2,t++;return t}function dA(e){return e===0?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e|=e>>32,e+1)}class pA{constructor(t,r,n,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const r=_h(dA(t+Ga+1))-_h(Ga)-1,n=this.getSlotsInEpoch(r),i=t-(n-Ga);return[r,i]}else{const r=t-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,o=r%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*Ga:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+_h(Ga)):this.slotsPerEpoch}}class R1 extends Error{constructor(t,r){super(t),this.logs=void 0,this.logs=r}}class je extends Error{constructor({code:t,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=t,this.data=n,this.name="SolanaJSONRPCError"}}var gA=globalThis.fetch;class yA extends T3{constructor(t,r,n){const i=o=>{const s=$3(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,t,r,n),this.underlyingSocket=void 0}call(...t){const r=this.underlyingSocket?.readyState;return r===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...t){const r=this.underlyingSocket?.readyState;return r===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}}function wA(e,t){let r;try{r=e.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${e.index}`);return r}const T1=56;class k1{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const r=wA(mA,t),n=t.length-T1;or(n>=0,"lookup table is invalid"),or(n%32===0,"lookup table is invalid");const i=n/32,{addresses:o}=Fe([en(St(),i,"addresses")]).decode(t.slice(T1));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new et(r.authority[0]):void 0,addresses:o.map(s=>new et(s))}}}const mA={index:1,layout:Fe([qe("typeIndex"),js("deactivationSlot"),Gr("lastExtendedSlot"),Ut("lastExtendedStartIndex"),Ut(),en(St(),Yo(Ut(),-1),"authority")])},bA=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function vA(e){const t=e.match(bA);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[r,n,i,o]=t,s=e.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${s}//${n}${c}${o}`}const kr=ja(ch(et),Se(),e=>new et(e)),C1=fh([Se(),dr("base64")]),Eh=ja(ch(ie.Buffer),C1,e=>ie.Buffer.from(e[0],"base64")),_A=30*1e3;function EA(e){if(/^https?:/.test(e)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}function sr(e){let t,r;if(typeof e=="string")t=e;else if(e){const{commitment:n,...i}=e;t=n,r=i}return{commitment:t,config:r}}function L1(e){return mn([me({jsonrpc:dr("2.0"),id:Se(),result:e}),me({jsonrpc:dr("2.0"),id:Se(),error:me({code:Ha(),message:Se(),data:Qe(GS())})})])}const xA=L1(Ha());function bt(e){return ja(L1(e),xA,t=>"error"in t?t:{...t,result:Be(t.result,e)})}function mr(e){return bt(me({context:me({slot:te()}),value:e}))}function $f(e){return me({context:me({slot:te()}),value:e})}function xh(e,t){return e===0?new Wa({header:t.header,staticAccountKeys:t.accountKeys.map(r=>new et(r)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:Ar.decode(r.data)})),addressTableLookups:t.addressTableLookups}):new Pi(t)}const SA=me({foundation:te(),foundationTerm:te(),initial:te(),taper:te(),terminal:te()}),AA=bt(Ce(Te(me({epoch:te(),effectiveSlot:te(),amount:te(),postBalance:te(),commission:Qe(Te(te()))})))),BA=Ce(me({slot:te(),prioritizationFee:te()})),IA=me({total:te(),validator:te(),foundation:te(),epoch:te()}),RA=me({epoch:te(),slotIndex:te(),slotsInEpoch:te(),absoluteSlot:te(),blockHeight:Qe(te()),transactionCount:Qe(te())}),TA=me({slotsPerEpoch:te(),leaderScheduleSlotOffset:te(),warmup:bi(),firstNormalEpoch:te(),firstNormalSlot:te()}),kA=r1(Se(),Ce(te())),Qo=Te(mn([me({}),Se()])),CA=me({err:Qo}),LA=dr("receivedSignature"),$A=me({"solana-core":Se(),"feature-set":Qe(te())}),$1=mr(me({err:Te(mn([me({}),Se()])),logs:Te(Ce(Se())),accounts:Qe(Te(Ce(Te(me({executable:bi(),owner:Se(),lamports:te(),data:Ce(Se()),rentEpoch:Qe(te())}))))),unitsConsumed:Qe(te()),returnData:Qe(Te(me({programId:Se(),data:fh([Se(),dr("base64")])})))})),OA=mr(me({byIdentity:r1(Se(),Ce(te())),range:me({firstSlot:te(),lastSlot:te()})}));function MA(e,t,r,n,i,o){const s=r||gA;let a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return n&&(c=async(l,y)=>{const A=await new Promise((v,R)=>{try{n(l,y,(O,P)=>v([O,P]))}catch(O){R(O)}});return await s(...A)}),new E3(async(l,y)=>{const A={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},t||{},N6)};try{let v=5,R,O=500;for(;c?R=await c(e,A):R=await s(e,A),!(R.status!==429||i===!0||(v-=1,v===0));)console.error(`Server responded with ${R.status} ${R.statusText}.  Retrying after ${O}ms delay...`),await Hs(O),O*=2;const P=await R.text();R.ok?y(null,P):y(new Error(`${R.status} ${R.statusText}: ${P}`))}catch(v){v instanceof Error&&y(v)}},{})}function NA(e){return(t,r)=>new Promise((n,i)=>{e.request(t,r,(o,s)=>{if(o){i(o);return}n(s)})})}function PA(e){return t=>new Promise((r,n)=>{t.length===0&&r([]);const i=t.map(o=>e.request(o.methodName,o.args));e.request(i,(o,s)=>{if(o){n(o);return}r(s)})})}const UA=bt(SA),FA=bt(IA),DA=bt(BA),HA=bt(RA),jA=bt(TA),zA=bt(kA),qA=bt(te()),VA=mr(me({total:te(),circulating:te(),nonCirculating:te(),nonCirculatingAccounts:Ce(kr)})),Sh=me({amount:Se(),uiAmount:Te(te()),decimals:te(),uiAmountString:Qe(Se())}),WA=mr(Ce(me({address:kr,amount:Se(),uiAmount:Te(te()),decimals:te(),uiAmountString:Qe(Se())}))),KA=mr(Ce(me({pubkey:kr,account:me({executable:bi(),owner:kr,lamports:te(),data:Eh,rentEpoch:te()})}))),Ah=me({program:Se(),parsed:Ha(),space:te()}),ZA=mr(Ce(me({pubkey:kr,account:me({executable:bi(),owner:kr,lamports:te(),data:Ah,rentEpoch:te()})}))),GA=mr(Ce(me({lamports:te(),address:kr}))),Ya=me({executable:bi(),owner:kr,lamports:te(),data:Eh,rentEpoch:te()}),YA=me({pubkey:kr,account:Ya}),XA=ja(mn([ch(ie.Buffer),Ah]),mn([C1,Ah]),e=>Array.isArray(e)?Be(e,Eh):e),Bh=me({executable:bi(),owner:kr,lamports:te(),data:XA,rentEpoch:te()}),JA=me({pubkey:kr,account:Bh}),QA=me({state:mn([dr("active"),dr("inactive"),dr("activating"),dr("deactivating")]),active:te(),inactive:te()}),e6=bt(Ce(me({signature:Se(),slot:te(),err:Qo,memo:Te(Se()),blockTime:Qe(Te(te()))}))),t6=bt(Ce(me({signature:Se(),slot:te(),err:Qo,memo:Te(Se()),blockTime:Qe(Te(te()))}))),r6=me({subscription:te(),result:$f(Ya)}),n6=me({pubkey:kr,account:Ya}),i6=me({subscription:te(),result:$f(n6)}),o6=me({parent:te(),slot:te(),root:te()}),s6=me({subscription:te(),result:o6}),a6=mn([me({type:mn([dr("firstShredReceived"),dr("completed"),dr("optimisticConfirmation"),dr("root")]),slot:te(),timestamp:te()}),me({type:dr("createdBank"),parent:te(),slot:te(),timestamp:te()}),me({type:dr("frozen"),slot:te(),timestamp:te(),stats:me({numTransactionEntries:te(),numSuccessfulTransactions:te(),numFailedTransactions:te(),maxTransactionsPerEntry:te()})}),me({type:dr("dead"),slot:te(),timestamp:te(),err:Se()})]),c6=me({subscription:te(),result:a6}),f6=me({subscription:te(),result:$f(mn([CA,LA]))}),u6=me({subscription:te(),result:te()}),l6=me({pubkey:Se(),gossip:Te(Se()),tpu:Te(Se()),rpc:Te(Se()),version:Te(Se())}),O1=me({votePubkey:Se(),nodePubkey:Se(),activatedStake:te(),epochVoteAccount:bi(),epochCredits:Ce(fh([te(),te(),te()])),commission:te(),lastVote:te(),rootSlot:Te(te())}),h6=bt(me({current:Ce(O1),delinquent:Ce(O1)})),d6=mn([dr("processed"),dr("confirmed"),dr("finalized")]),p6=me({slot:te(),confirmations:Te(te()),err:Qo,confirmationStatus:Qe(d6)}),g6=mr(Ce(Te(p6))),y6=bt(te()),M1=me({accountKey:kr,writableIndexes:Ce(te()),readonlyIndexes:Ce(te())}),Ih=me({signatures:Ce(Se()),message:me({accountKeys:Ce(Se()),header:me({numRequiredSignatures:te(),numReadonlySignedAccounts:te(),numReadonlyUnsignedAccounts:te()}),instructions:Ce(me({accounts:Ce(te()),data:Se(),programIdIndex:te()})),recentBlockhash:Se(),addressTableLookups:Qe(Ce(M1))})}),N1=me({pubkey:kr,signer:bi(),writable:bi(),source:Qe(mn([dr("transaction"),dr("lookupTable")]))}),P1=me({accountKeys:Ce(N1),signatures:Ce(Se())}),U1=me({parsed:Ha(),program:Se(),programId:kr}),F1=me({accounts:Ce(kr),data:Se(),programId:kr}),w6=mn([F1,U1]),m6=mn([me({parsed:Ha(),program:Se(),programId:Se()}),me({accounts:Ce(Se()),data:Se(),programId:Se()})]),D1=ja(w6,m6,e=>"accounts"in e?Be(e,F1):Be(e,U1)),H1=me({signatures:Ce(Se()),message:me({accountKeys:Ce(N1),instructions:Ce(D1),recentBlockhash:Se(),addressTableLookups:Qe(Te(Ce(M1)))})}),Of=me({accountIndex:te(),mint:Se(),owner:Qe(Se()),uiTokenAmount:Sh}),j1=me({writable:Ce(kr),readonly:Ce(kr)}),Mf=me({err:Qo,fee:te(),innerInstructions:Qe(Te(Ce(me({index:te(),instructions:Ce(me({accounts:Ce(te()),data:Se(),programIdIndex:te()}))})))),preBalances:Ce(te()),postBalances:Ce(te()),logMessages:Qe(Te(Ce(Se()))),preTokenBalances:Qe(Te(Ce(Of))),postTokenBalances:Qe(Te(Ce(Of))),loadedAddresses:Qe(j1),computeUnitsConsumed:Qe(te())}),Rh=me({err:Qo,fee:te(),innerInstructions:Qe(Te(Ce(me({index:te(),instructions:Ce(D1)})))),preBalances:Ce(te()),postBalances:Ce(te()),logMessages:Qe(Te(Ce(Se()))),preTokenBalances:Qe(Te(Ce(Of))),postTokenBalances:Qe(Te(Ce(Of))),loadedAddresses:Qe(j1),computeUnitsConsumed:Qe(te())}),zs=mn([dr(0),dr("legacy")]),es=me({pubkey:Se(),lamports:te(),postBalance:Te(te()),rewardType:Te(Se()),commission:Qe(Te(te()))}),b6=bt(Te(me({blockhash:Se(),previousBlockhash:Se(),parentSlot:te(),transactions:Ce(me({transaction:Ih,meta:Te(Mf),version:Qe(zs)})),rewards:Qe(Ce(es)),blockTime:Te(te()),blockHeight:Te(te())}))),v6=bt(Te(me({blockhash:Se(),previousBlockhash:Se(),parentSlot:te(),rewards:Qe(Ce(es)),blockTime:Te(te()),blockHeight:Te(te())}))),_6=bt(Te(me({blockhash:Se(),previousBlockhash:Se(),parentSlot:te(),transactions:Ce(me({transaction:P1,meta:Te(Mf),version:Qe(zs)})),rewards:Qe(Ce(es)),blockTime:Te(te()),blockHeight:Te(te())}))),E6=bt(Te(me({blockhash:Se(),previousBlockhash:Se(),parentSlot:te(),transactions:Ce(me({transaction:H1,meta:Te(Rh),version:Qe(zs)})),rewards:Qe(Ce(es)),blockTime:Te(te()),blockHeight:Te(te())}))),x6=bt(Te(me({blockhash:Se(),previousBlockhash:Se(),parentSlot:te(),transactions:Ce(me({transaction:P1,meta:Te(Rh),version:Qe(zs)})),rewards:Qe(Ce(es)),blockTime:Te(te()),blockHeight:Te(te())}))),S6=bt(Te(me({blockhash:Se(),previousBlockhash:Se(),parentSlot:te(),rewards:Qe(Ce(es)),blockTime:Te(te()),blockHeight:Te(te())}))),A6=bt(Te(me({blockhash:Se(),previousBlockhash:Se(),parentSlot:te(),transactions:Ce(me({transaction:Ih,meta:Te(Mf)})),rewards:Qe(Ce(es)),blockTime:Te(te())}))),z1=bt(Te(me({blockhash:Se(),previousBlockhash:Se(),parentSlot:te(),signatures:Ce(Se()),blockTime:Te(te())}))),Th=bt(Te(me({slot:te(),meta:Te(Mf),blockTime:Qe(Te(te())),transaction:Ih,version:Qe(zs)}))),Nf=bt(Te(me({slot:te(),transaction:H1,meta:Te(Rh),blockTime:Qe(Te(te())),version:Qe(zs)}))),B6=mr(me({blockhash:Se(),feeCalculator:me({lamportsPerSignature:te()})})),I6=mr(me({blockhash:Se(),lastValidBlockHeight:te()})),R6=mr(bi()),T6=me({slot:te(),numTransactions:te(),numSlots:te(),samplePeriodSecs:te()}),k6=bt(Ce(T6)),C6=mr(Te(me({feeCalculator:me({lamportsPerSignature:te()})}))),L6=bt(Se()),$6=bt(Se()),O6=me({err:Qo,logs:Ce(Se()),signature:Se()}),M6=me({result:$f(O6),subscription:te()}),N6={"solana-client":"js/0.0.0-development"};class P6{constructor(t,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:y,config:A}=sr(l),v=this._buildArgs([],y,void 0,A),R=I1(v);return u[R]=u[R]??(async()=>{try{const O=await this._rpcRequest("getBlockHeight",v),P=Be(O,bt(te()));if("error"in P)throw new je(P.error,"failed to get block height information");return P.result}finally{delete u[R]}})(),await u[R]}})();let n,i,o,s,a,c;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,o=r.fetch,s=r.fetchMiddleware,a=r.disableRetryOnRateLimit,c=r.httpAgent),this._rpcEndpoint=EA(t),this._rpcWsEndpoint=n||vA(t),this._rpcClient=MA(t,i,o,s,a,c),this._rpcRequest=NA(this._rpcClient),this._rpcBatchRequest=PA(this._rpcClient),this._rpcWebSocket=new yA(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,r){const{commitment:n,config:i}=sr(r),o=this._buildArgs([t.toBase58()],n,void 0,i),s=await this._rpcRequest("getBalance",o),a=Be(s,mr(te()));if("error"in a)throw new je(a.error,`failed to get balance for ${t.toBase58()}`);return a.result}async getBalance(t,r){return await this.getBalanceAndContext(t,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+n)})}async getBlockTime(t){const r=await this._rpcRequest("getBlockTime",[t]),n=Be(r,bt(Te(te())));if("error"in n)throw new je(n.error,`failed to get block time for slot ${t}`);return n.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),r=Be(t,bt(te()));if("error"in r)throw new je(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),r=Be(t,qA);if("error"in r)throw new je(r.error,"failed to get first available block");return r.result}async getSupply(t){let r={};typeof t=="string"?r={commitment:t}:t?r={...t,commitment:t&&t.commitment||this.commitment}:r={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[r]),i=Be(n,VA);if("error"in i)throw new je(i.error,"failed to get supply");return i.result}async getTokenSupply(t,r){const n=this._buildArgs([t.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),o=Be(i,mr(Sh));if("error"in o)throw new je(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(t,r){const n=this._buildArgs([t.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),o=Be(i,mr(Sh));if("error"in o)throw new je(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(t,r,n){const{commitment:i,config:o}=sr(n);let s=[t.toBase58()];"mint"in r?s.push({mint:r.mint.toBase58()}):s.push({programId:r.programId.toBase58()});const a=this._buildArgs(s,i,"base64",o),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=Be(c,KA);if("error"in u)throw new je(u.error,`failed to get token accounts owned by account ${t.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(t,r,n){let i=[t.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});const o=this._buildArgs(i,n,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),a=Be(s,ZA);if("error"in a)throw new je(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getLargestAccounts(t){const r={...t,commitment:t&&t.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),o=Be(i,GA);if("error"in o)throw new je(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(t,r){const n=this._buildArgs([t.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),o=Be(i,WA);if("error"in o)throw new je(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(t,r){const{commitment:n,config:i}=sr(r),o=this._buildArgs([t.toBase58()],n,"base64",i),s=await this._rpcRequest("getAccountInfo",o),a=Be(s,mr(Te(Ya)));if("error"in a)throw new je(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getParsedAccountInfo(t,r){const{commitment:n,config:i}=sr(r),o=this._buildArgs([t.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),a=Be(s,mr(Te(Bh)));if("error"in a)throw new je(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getAccountInfo(t,r){try{return(await this.getAccountInfoAndContext(t,r)).value}catch(n){throw new Error("failed to get info about account "+t.toBase58()+": "+n)}}async getMultipleParsedAccounts(t,r){const{commitment:n,config:i}=sr(r),o=t.map(u=>u.toBase58()),s=this._buildArgs([o],n,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",s),c=Be(a,mr(Ce(Te(Bh))));if("error"in c)throw new je(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfoAndContext(t,r){const{commitment:n,config:i}=sr(r),o=t.map(u=>u.toBase58()),s=this._buildArgs([o],n,"base64",i),a=await this._rpcRequest("getMultipleAccounts",s),c=Be(a,mr(Ce(Te(Ya))));if("error"in c)throw new je(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfo(t,r){return(await this.getMultipleAccountsInfoAndContext(t,r)).value}async getStakeActivation(t,r,n){const{commitment:i,config:o}=sr(r),s=this._buildArgs([t.toBase58()],i,void 0,{...o,epoch:n??o?.epoch}),a=await this._rpcRequest("getStakeActivation",s),c=Be(a,bt(QA));if("error"in c)throw new je(c.error,`failed to get Stake Activation ${t.toBase58()}`);return c.result}async getProgramAccounts(t,r){const{commitment:n,config:i}=sr(r),{encoding:o,...s}=i||{},a=this._buildArgs([t.toBase58()],n,o||"base64",s),c=await this._rpcRequest("getProgramAccounts",a),u=Ce(YA),l=s.withContext===!0?Be(c,mr(u)):Be(c,bt(u));if("error"in l)throw new je(l.error,`failed to get accounts owned by program ${t.toBase58()}`);return l.result}async getParsedProgramAccounts(t,r){const{commitment:n,config:i}=sr(r),o=this._buildArgs([t.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),a=Be(s,bt(Ce(JA)));if("error"in a)throw new je(a.error,`failed to get accounts owned by program ${t.toBase58()}`);return a.result}async confirmTransaction(t,r){let n;if(typeof t=="string")n=t;else{const o=t;if(o.abortSignal?.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let i;try{i=Ar.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return or(i.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((r,n)=>{t!=null&&(t.aborted?n(t.reason):t.addEventListener("abort",()=>{n(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:r}){let n,i,o=!1;const s=new Promise((c,u)=>{try{n=this.onSignature(r,(y,A)=>{n=void 0;const v={context:A,value:y};c({__type:fo.PROCESSED,response:v})},t);const l=new Promise(y=>{n==null?y():i=this._onSubscriptionStateChange(n,A=>{A==="subscribed"&&y()})});(async()=>{if(await l,o)return;const y=await this.getSignatureStatus(r);if(o||y==null)return;const{context:A,value:v}=y;if(v!=null)if(v?.err)u(v.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(v.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(v.confirmationStatus==="processed"||v.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,c({__type:fo.PROCESSED,response:{context:A,value:v}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let o=!1;const s=new Promise(y=>{const A=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let v=await A();if(!o){for(;v<=n;)if(await Hs(1e3),o||(v=await A(),o))return;y({__type:fo.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:t,signature:i}),u=this.getCancellationPromise(r);let l;try{const y=await Promise.race([u,c,s]);if(y.__type===fo.PROCESSED)l=y.response;else throw new _1(i)}finally{o=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let a=!1;const c=new Promise(v=>{let R=o,O=null;const P=async()=>{try{const{context:H,value:F}=await this.getNonceAndContext(i,{commitment:t,minContextSlot:n});return O=H.slot,F?.nonce}catch{return R}};(async()=>{if(R=await P(),!a)for(;;){if(o!==R){v({__type:fo.NONCE_INVALID,slotInWhichNonceDidAdvance:O});return}if(await Hs(2e3),a||(R=await P(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),y=this.getCancellationPromise(r);let A;try{const v=await Promise.race([y,l,c]);if(v.__type===fo.PROCESSED)A=v.response;else{let R;for(;;){const O=await this.getSignatureStatus(s);if(O==null)break;if(O.context.slot<(v.slotInWhichNonceDidAdvance??n)){await Hs(400);continue}R=O;break}if(R?.value){const O=t||"finalized",{confirmationStatus:P}=R.value;switch(O){case"processed":case"recent":if(P!=="processed"&&P!=="confirmed"&&P!=="finalized")throw new Va(s);break;case"confirmed":case"single":case"singleGossip":if(P!=="confirmed"&&P!=="finalized")throw new Va(s);break;case"finalized":case"max":case"root":if(P!=="finalized")throw new Va(s);break;default:(H=>{})(O)}A={context:R.context,value:{err:R.value.err}}}else throw new Va(s)}}finally{a=!0,u()}return A}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:r}){let n;const i=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>c({__type:fo.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:t,signature:r});let a;try{const c=await Promise.race([s,i]);if(c.__type===fo.PROCESSED)a=c.response;else throw new E1(r,c.timeoutMs/1e3)}finally{clearTimeout(n),o()}return a}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),r=Be(t,bt(Ce(l6)));if("error"in r)throw new je(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(t){const r=this._buildArgs([],t),n=await this._rpcRequest("getVoteAccounts",r),i=Be(n,h6);if("error"in i)throw new je(i.error,"failed to get vote accounts");return i.result}async getSlot(t){const{commitment:r,config:n}=sr(t),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getSlot",i),s=Be(o,bt(te()));if("error"in s)throw new je(s.error,"failed to get slot");return s.result}async getSlotLeader(t){const{commitment:r,config:n}=sr(t),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getSlotLeader",i),s=Be(o,bt(Se()));if("error"in s)throw new je(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(t,r){const n=[t,r],i=await this._rpcRequest("getSlotLeaders",n),o=Be(i,bt(Ce(kr)));if("error"in o)throw new je(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(t,r){const{context:n,value:i}=await this.getSignatureStatuses([t],r);or(i.length===1);const o=i[0];return{context:n,value:o}}async getSignatureStatuses(t,r){const n=[t];r&&n.push(r);const i=await this._rpcRequest("getSignatureStatuses",n),o=Be(i,g6);if("error"in o)throw new je(o.error,"failed to get signature status");return o.result}async getTransactionCount(t){const{commitment:r,config:n}=sr(t),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getTransactionCount",i),s=Be(o,bt(te()));if("error"in s)throw new je(s.error,"failed to get transaction count");return s.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const r=this._buildArgs([],t),n=await this._rpcRequest("getInflationGovernor",r),i=Be(n,UA);if("error"in i)throw new je(i.error,"failed to get inflation");return i.result}async getInflationReward(t,r,n){const{commitment:i,config:o}=sr(n),s=this._buildArgs([t.map(u=>u.toBase58())],i,void 0,{...o,epoch:r??o?.epoch}),a=await this._rpcRequest("getInflationReward",s),c=Be(a,AA);if("error"in c)throw new je(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),r=Be(t,FA);if("error"in r)throw new je(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(t){const{commitment:r,config:n}=sr(t),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getEpochInfo",i),s=Be(o,HA);if("error"in s)throw new je(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),r=Be(t,jA);if("error"in r)throw new je(r.error,"failed to get epoch schedule");const n=r.result;return new pA(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),r=Be(t,zA);if("error"in r)throw new je(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(t,r){const n=this._buildArgs([t],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),o=Be(i,y6);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(t){const r=this._buildArgs([],t),n=await this._rpcRequest("getRecentBlockhash",r),i=Be(n,B6);if("error"in i)throw new je(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(t){const r=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),n=Be(r,k6);if("error"in n)throw new je(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(t,r){const n=this._buildArgs([t],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),o=Be(i,C6);if("error"in o)throw new je(o.error,"failed to get fee calculator");const{context:s,value:a}=o.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(t,r){const n=Us(t.serialize()).toString("base64"),i=this._buildArgs([n],r),o=await this._rpcRequest("getFeeForMessage",i),s=Be(o,mr(Te(te())));if("error"in s)throw new je(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentPrioritizationFees(t){const r=t?.lockedWritableAccounts?.map(s=>s.toBase58()),n=r?.length?[r]:[],i=await this._rpcRequest("getRecentPrioritizationFees",n),o=Be(i,DA);if("error"in o)throw new je(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(t){const{commitment:r,config:n}=sr(t),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getLatestBlockhash",i),s=Be(o,I6);if("error"in s)throw new je(s.error,"failed to get latest blockhash");return s.result}async isBlockhashValid(t,r){const{commitment:n,config:i}=sr(r),o=this._buildArgs([t],n,void 0,i),s=await this._rpcRequest("isBlockhashValid",o),a=Be(s,R6);if("error"in a)throw new je(a.error,"failed to determine if the blockhash `"+t+"`is valid");return a.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),r=Be(t,bt($A));if("error"in r)throw new je(r.error,"failed to get version");return r.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),r=Be(t,bt(Se()));if("error"in r)throw new je(r.error,"failed to get genesis hash");return r.result}async getBlock(t,r){const{commitment:n,config:i}=sr(r),o=this._buildArgsAtLeastConfirmed([t],n,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{const a=Be(s,_6);if("error"in a)throw a.error;return a.result}case"none":{const a=Be(s,v6);if("error"in a)throw a.error;return a.result}default:{const a=Be(s,b6);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:y})=>({meta:l,transaction:{...u,message:xh(y,u.message)},version:y}))}:null}}}catch(a){throw new je(a,"failed to get confirmed block")}}async getParsedBlock(t,r){const{commitment:n,config:i}=sr(r),o=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{const a=Be(s,x6);if("error"in a)throw a.error;return a.result}case"none":{const a=Be(s,S6);if("error"in a)throw a.error;return a.result}default:{const a=Be(s,E6);if("error"in a)throw a.error;return a.result}}}catch(a){throw new je(a,"failed to get block")}}async getBlockProduction(t){let r,n;if(typeof t=="string")n=t;else if(t){const{commitment:a,...c}=t;n=a,r=c}const i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getBlockProduction",i),s=Be(o,OA);if("error"in s)throw new je(s.error,"failed to get block production information");return s.result}async getTransaction(t,r){const{commitment:n,config:i}=sr(r),o=this._buildArgsAtLeastConfirmed([t],n,void 0,i),s=await this._rpcRequest("getTransaction",o),a=Be(s,Th);if("error"in a)throw new je(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:xh(c.version,c.transaction.message)}}}async getParsedTransaction(t,r){const{commitment:n,config:i}=sr(r),o=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),a=Be(s,Nf);if("error"in a)throw new je(a.error,"failed to get transaction");return a.result}async getParsedTransactions(t,r){const{commitment:n,config:i}=sr(r),o=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(c=>{const u=Be(c,Nf);if("error"in u)throw new je(u.error,"failed to get transactions");return u.result})}async getTransactions(t,r){const{commitment:n,config:i}=sr(r),o=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,void 0,i)}));return(await this._rpcBatchRequest(o)).map(c=>{const u=Be(c,Th);if("error"in u)throw new je(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:xh(l.version,l.transaction.message)}}})}async getConfirmedBlock(t,r){const n=this._buildArgsAtLeastConfirmed([t],r),i=await this._rpcRequest("getConfirmedBlock",n),o=Be(i,A6);if("error"in o)throw new je(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+t+" not found");const a={...s,transactions:s.transactions.map(({transaction:c,meta:u})=>{const l=new Pi(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:uo.populate(c.message,c.signatures)}))}}async getBlocks(t,r,n){const i=this._buildArgsAtLeastConfirmed(r!==void 0?[t,r]:[t],n),o=await this._rpcRequest("getBlocks",i),s=Be(o,bt(Ce(te())));if("error"in s)throw new je(s.error,"failed to get blocks");return s.result}async getBlockSignatures(t,r){const n=this._buildArgsAtLeastConfirmed([t],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),o=Be(i,z1);if("error"in o)throw new je(o.error,"failed to get block");const s=o.result;if(!s)throw new Error("Block "+t+" not found");return s}async getConfirmedBlockSignatures(t,r){const n=this._buildArgsAtLeastConfirmed([t],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",n),o=Be(i,z1);if("error"in o)throw new je(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+t+" not found");return s}async getConfirmedTransaction(t,r){const n=this._buildArgsAtLeastConfirmed([t],r),i=await this._rpcRequest("getConfirmedTransaction",n),o=Be(i,Th);if("error"in o)throw new je(o.error,"failed to get transaction");const s=o.result;if(!s)return s;const a=new Pi(s.transaction.message),c=s.transaction.signatures;return{...s,transaction:uo.populate(a,c)}}async getParsedConfirmedTransaction(t,r){const n=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",n),o=Be(i,Nf);if("error"in o)throw new je(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(t,r){const n=t.map(s=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([s],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(s=>{const a=Be(s,Nf);if("error"in a)throw new je(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(t,r,n){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<o));)try{const c=await this.getConfirmedBlockSignatures(r,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let s=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>s));)try{const c=await this.getConfirmedBlockSignatures(n);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(t,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(t,r,n){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,r),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=Be(o,e6);if("error"in s)throw new je(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(t,r,n){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,r),o=await this._rpcRequest("getSignaturesForAddress",i),s=Be(o,t6);if("error"in s)throw new je(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(t,r){const{context:n,value:i}=await this.getAccountInfoAndContext(t,r);let o=null;return i!==null&&(o=new k1({key:t,state:k1.deserialize(i.data)})),{context:n,value:o}}async getNonceAndContext(t,r){const{context:n,value:i}=await this.getAccountInfoAndContext(t,r);let o=null;return i!==null&&(o=vh.fromAccountData(i.data)),{context:n,value:o}}async getNonce(t,r){return await this.getNonceAndContext(t,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+n)})}async requestAirdrop(t,r){const n=await this._rpcRequest("requestAirdrop",[t.toBase58(),r]),i=Be(n,L6);if("error"in i)throw new je(i.error,`airdrop to ${t.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await Hs(100);const n=Date.now()-this._blockhashInfo.lastFetch>=_A;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){const o=await this.getLatestBlockhash("finalized");if(n!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await Hs(sA/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:r,config:n}=sr(t),i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=Be(o,mr(te()));if("error"in s)throw new je(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(t,r,n){if("message"in t){const O=t.serialize(),P=ie.Buffer.from(O).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");const H=r||{};H.encoding="base64","commitment"in H||(H.commitment=this.commitment);const F=[P,H],N=await this._rpcRequest("simulateTransaction",F),$=Be(N,$1);if("error"in $)throw new Error("failed to simulate transaction: "+$.error.message);return $.result}let i;if(t instanceof uo){let R=t;i=new uo,i.feePayer=R.feePayer,i.instructions=t.instructions,i.nonceInfo=R.nonceInfo,i.signatures=R.signatures}else i=uo.populate(t),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");const o=r;if(i.nonceInfo&&o)i.sign(...o);else{let R=this._disableBlockhashCaching;for(;;){const O=await this._blockhashWithExpiryBlockHeight(R);if(i.lastValidBlockHeight=O.lastValidBlockHeight,i.recentBlockhash=O.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");const P=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(P)&&!this._blockhashInfo.transactionSignatures.includes(P)){this._blockhashInfo.simulatedSignatures.push(P);break}else R=!0}}const s=i._compile(),a=s.serialize(),u=i._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(n){const R=(Array.isArray(n)?n:s.nonProgramIds()).map(O=>O.toBase58());l.accounts={encoding:"base64",addresses:R}}o&&(l.sigVerify=!0);const y=[u,l],A=await this._rpcRequest("simulateTransaction",y),v=Be(A,$1);if("error"in v){let R;if("data"in v.error&&(R=v.error.data.logs,R&&Array.isArray(R))){const O=`
    `,P=O+R.join(O);console.error(v.error.message,P)}throw new R1("failed to simulate transaction: "+v.error.message,R)}return v.result}async sendTransaction(t,r,n){if("version"in t){if(r&&Array.isArray(r))throw new Error("Invalid arguments");const s=t.serialize();return await this.sendRawTransaction(s,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");const i=r;if(t.nonceInfo)t.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(s);if(t.lastValidBlockHeight=a.lastValidBlockHeight,t.recentBlockhash=a.blockhash,t.sign(...i),!t.signature)throw new Error("!signature");const c=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))s=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const o=t.serialize();return await this.sendRawTransaction(o,n)}async sendRawTransaction(t,r){const n=Us(t).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(t,r){const n={encoding:"base64"},i=r&&r.skipPreflight,o=i===!0?"processed":r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),o&&(n.preflightCommitment=o);const s=[t,n],a=await this._rpcRequest("sendTransaction",s),c=Be(a,$6);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new R1("failed to send transaction: "+c.error.message,u)}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(t,r){const n=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=r,n!==r.state){const i=this._subscriptionStateChangeCallbacksByHash[t];i&&i.forEach(o=>{try{o(r.state)}catch{}})}}_onSubscriptionStateChange(t,r){const n=this._subscriptionHashByClientSubscriptionId[t];if(n==null)return()=>{};const i=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return i.add(r),()=>{i.delete(r),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,r=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:s}=i;try{this._setSubscription(n,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(s,o);this._setSubscription(n,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${s} error for argument`,o,a.message),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,r){const n=this._subscriptionCallbacksByServerSubscriptionId[t];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(o){console.error(o)}})}_wsOnAccountNotification(t){const{result:r,subscription:n}=Be(t,r6);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(t,r){const n=this._nextClientSubscriptionId++,i=I1([t.method,r]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...t,args:r,callbacks:new Set([t.callback]),state:"pending"}:o.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const s=this._subscriptionsByHash[i];or(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),s.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(t,r,n){const i=this._buildArgs([t.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:r,subscription:n}=Be(t,i6);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(t,r,n,i){const o=this._buildArgs([t.toBase58()],n||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,r,n){const i=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:r,subscription:n}=Be(t,M6);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(t){const{result:r,subscription:n}=Be(t,s6);this._handleServerNotification(n,[r])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:r,subscription:n}=Be(t,c6);this._handleServerNotification(n,[r])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,r){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${r}' events could not be found.`)}_buildArgs(t,r,n,i){const o=r||this._commitment;if(o||n||i){let s={};n&&(s.encoding=n),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),t.push(s)}return t}_buildArgsAtLeastConfirmed(t,r,n,i){const o=r||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,r,n,i)}_wsOnSignatureNotification(t){const{result:r,subscription:n}=Be(t,f6);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(t,r,n){const i=this._buildArgs([t],n||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){r(s.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(t,r,n){const{commitment:i,...o}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},s=this._buildArgs([t],i,void 0,o),a=this._makeSubscription({callback:(c,u)=>{r(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:r,subscription:n}=Be(t,u6);this._handleServerNotification(n,[r])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:Fe([qe("instruction"),js("recentSlot"),Ut("bumpSeed")])},FreezeLookupTable:{index:1,layout:Fe([qe("instruction")])},ExtendLookupTable:{index:2,layout:Fe([qe("instruction"),js(),en(St(),Yo(qe(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Fe([qe("instruction")])},CloseLookupTable:{index:4,layout:Fe([qe("instruction")])}}),new et("AddressLookupTab1e1111111111111111111111111"),Object.freeze({RequestUnits:{index:0,layout:Fe([Ut("instruction"),qe("units"),qe("additionalFee")])},RequestHeapFrame:{index:1,layout:Fe([Ut("instruction"),qe("bytes")])},SetComputeUnitLimit:{index:2,layout:Fe([Ut("instruction"),qe("units")])},SetComputeUnitPrice:{index:3,layout:Fe([Ut("instruction"),js("microLamports")])}}),new et("ComputeBudget111111111111111111111111111111"),Fe([Ut("numSignatures"),Ut("padding"),jn("signatureOffset"),jn("signatureInstructionIndex"),jn("publicKeyOffset"),jn("publicKeyInstructionIndex"),jn("messageDataOffset"),jn("messageDataSize"),jn("messageInstructionIndex")]),new et("Ed25519SigVerify111111111111111111111111111"),mh.utils.isValidPrivateKey,mh.getPublicKey,Fe([Ut("numSignatures"),jn("signatureOffset"),Ut("signatureInstructionIndex"),jn("ethAddressOffset"),Ut("ethAddressInstructionIndex"),jn("messageDataOffset"),jn("messageDataSize"),Ut("messageInstructionIndex"),nr(20,"ethAddress"),nr(64,"signature"),Ut("recoveryId")]),new et("KeccakSecp256k11111111111111111111111111111");var q1;new et("StakeConfig11111111111111111111111111111111");class V1{constructor(t,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=r,this.custodian=n}}q1=V1,V1.default=new q1(0,0,et.default),Object.freeze({Initialize:{index:0,layout:Fe([qe("instruction"),tA(),rA()])},Authorize:{index:1,layout:Fe([qe("instruction"),St("newAuthorized"),qe("stakeAuthorizationType")])},Delegate:{index:2,layout:Fe([qe("instruction")])},Split:{index:3,layout:Fe([qe("instruction"),In("lamports")])},Withdraw:{index:4,layout:Fe([qe("instruction"),In("lamports")])},Deactivate:{index:5,layout:Fe([qe("instruction")])},Merge:{index:7,layout:Fe([qe("instruction")])},AuthorizeWithSeed:{index:8,layout:Fe([qe("instruction"),St("newAuthorized"),qe("stakeAuthorizationType"),Ds("authoritySeed"),St("authorityOwner")])}}),Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),new et("Stake11111111111111111111111111111111111111"),Object.freeze({InitializeAccount:{index:0,layout:Fe([qe("instruction"),nA()])},Authorize:{index:1,layout:Fe([qe("instruction"),St("newAuthorized"),qe("voteAuthorizationType")])},Withdraw:{index:3,layout:Fe([qe("instruction"),In("lamports")])},UpdateValidatorIdentity:{index:4,layout:Fe([qe("instruction")])},AuthorizeWithSeed:{index:10,layout:Fe([qe("instruction"),iA()])}}),Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),new et("Vote111111111111111111111111111111111111111"),new et("Va1idator1nfo111111111111111111111111111111"),me({name:Se(),website:Qe(Se()),details:Qe(Se()),keybaseUsername:Qe(Se())}),new et("Vote111111111111111111111111111111111111111"),Fe([St("nodePubkey"),St("authorizedWithdrawer"),Ut("commission"),Gr(),en(Fe([Gr("slot"),qe("confirmationCount")]),Yo(qe(),-8),"votes"),Ut("rootSlotValid"),Gr("rootSlot"),Gr(),en(Fe([Gr("epoch"),St("authorizedVoter")]),Yo(qe(),-8),"authorizedVoters"),Fe([en(Fe([St("authorizedPubkey"),Gr("epochOfLastAuthorizedSwitch"),Gr("targetEpoch")]),32,"buf"),Gr("idx"),Ut("isEmpty")],"priorVoters"),Gr(),en(Fe([Gr("epoch"),Gr("credits"),Gr("prevCredits")]),Yo(qe(),-8),"epochCredits"),Fe([Gr("slot"),Gr("timestamp")],"lastTimestamp")]);const W1="solana:signAndSendTransaction",U6="solana:signIn",K1="solana:signMessage",Z1="solana:signTransaction",F6="standard:connect",D6="standard:disconnect",H6="standard:events";var G1=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},j6=(e,t,r)=>(G1(e,t,"read from private field"),r?r.call(e):t.get(e)),z6=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},q6=(e,t,r,n)=>(G1(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Pf;function V6(e){const t=({register:r})=>r(e);try{window.dispatchEvent(new W6(t))}catch(r){console.error(`wallet-standard:register-wallet event could not be dispatched
`,r)}try{window.addEventListener("wallet-standard:app-ready",({detail:r})=>t(r))}catch(r){console.error(`wallet-standard:app-ready event listener could not be added
`,r)}}class W6 extends Event{constructor(t){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),z6(this,Pf,void 0),q6(this,Pf,t)}get detail(){return j6(this,Pf)}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Pf=new WeakMap;function K6(e){V6(e.getInstanceWithAdapter())}const Z6="solana:mainnet",kh=[Z6];function Ch(e){return kh.includes(e)}function Uf(e){return"version"in e}var Y1=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},qs=(e,t,r)=>(Y1(e,t,"read from private field"),r?r.call(e):t.get(e)),Vs=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Ws=(e,t,r,n)=>(Y1(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ff,Df,Hf,jf,zf,qf;const G6=kh,Y6=[W1,Z1,K1],X1=class{constructor({address:e,publicKey:t,label:r,icon:n}){Vs(this,Ff,void 0),Vs(this,Df,void 0),Vs(this,Hf,void 0),Vs(this,jf,void 0),Vs(this,zf,void 0),Vs(this,qf,void 0),new.target===X1&&Object.freeze(this),Ws(this,Ff,e),Ws(this,Df,t),Ws(this,Hf,G6),Ws(this,jf,Y6),Ws(this,zf,r),Ws(this,qf,n)}get address(){return qs(this,Ff)}get publicKey(){return qs(this,Df).slice()}get chains(){return qs(this,Hf).slice()}get features(){return qs(this,jf).slice()}get label(){return qs(this,zf)}get icon(){return qs(this,qf)}};let X6=X1;Ff=new WeakMap,Df=new WeakMap,Hf=new WeakMap,jf=new WeakMap,zf=new WeakMap,qf=new WeakMap;const J6="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTgiIGhlaWdodD0iNjUiIHZpZXdCb3g9IjAgMCA1OCA2NSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTAgOS4zODk0OUwyOC44OTA3IDBWNjUuMDA0MkM4LjI1NDUgNTYuMzM2OSAwIDM5LjcyNDggMCAzMC4zMzUzVjkuMzg5NDlaIiBmaWxsPSIjMDUwMEZGIi8+CjxwYXRoIGQ9Ik01Ny43ODIyIDkuMzg5NDlMMjguODkxNSAwVjY1LjAwNDJDNDkuNTI3NyA1Ni4zMzY5IDU3Ljc4MjIgMzkuNzI0OCA1Ny43ODIyIDMwLjMzNTNWOS4zODk0OVoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl8yMjAxXzY5NDIpIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMjIwMV82OTQyIiB4MT0iNTEuMzYxNSIgeTE9Ii00LjE1MjkzIiB4Mj0iMjkuNTM4NCIgeTI9IjY0LjUxNDciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agb2Zmc2V0PSIwLjAyMTEyIiBzdG9wLWNvbG9yPSIjMDAwMEZGIi8+CjxzdG9wIG9mZnNldD0iMC4wNzYyNDIzIiBzdG9wLWNvbG9yPSIjMDA5NEZGIi8+CjxzdG9wIG9mZnNldD0iMC4xNjMwODkiIHN0b3AtY29sb3I9IiM0OEZGOTEiLz4KPHN0b3Agb2Zmc2V0PSIwLjQyMDA0OSIgc3RvcC1jb2xvcj0iIzAwOTRGRiIvPgo8c3RvcCBvZmZzZXQ9IjAuNjgyODg2IiBzdG9wLWNvbG9yPSIjMDAzOEZGIi8+CjxzdG9wIG9mZnNldD0iMC45MDI0NjUiIHN0b3AtY29sb3I9IiMwNTAwRkYiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K";function Q6(e,t){return eB(e,t)}function eB(e,t){if(e===t)return!0;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}var Lh=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},nt=(e,t,r)=>(Lh(e,t,"read from private field"),r?r.call(e):t.get(e)),Dr=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},$h=(e,t,r,n)=>(Lh(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Oh=(e,t,r)=>(Lh(e,t,"access private method"),r),ts,Mh,Nh,Ph,sn,hn,Uh,Vf,Fh,Dh,J1,Ks,Wf,Hh,jh,zh,Kf,qh,Zf,Vh;const tB="trust:",Q1=class{constructor(e){Dr(this,Vf),Dr(this,Dh),Dr(this,ts,{}),Dr(this,Mh,"1.0.0"),Dr(this,Nh,"Trust"),Dr(this,Ph,J6),Dr(this,sn,null),Dr(this,hn,void 0),Dr(this,Uh,(t,r)=>{var n;return(n=nt(this,ts)[t])!=null&&n.push(r)||(nt(this,ts)[t]=[r]),()=>Oh(this,Dh,J1).call(this,t,r)}),Dr(this,Ks,()=>{var t;const r=(t=nt(this,hn).publicKey)==null?void 0:t.toBase58();if(r){const n=nt(this,hn).publicKey.toBytes(),i=nt(this,sn);(!i||i.address!==r||!Q6(i.publicKey,n))&&($h(this,sn,new X6({address:r,publicKey:n})),Oh(this,Vf,Fh).call(this,"change",{accounts:this.accounts}))}}),Dr(this,Wf,()=>{nt(this,sn)&&($h(this,sn,null),Oh(this,Vf,Fh).call(this,"change",{accounts:this.accounts}))}),Dr(this,Hh,()=>{nt(this,hn).publicKey?nt(this,Ks).call(this):nt(this,Wf).call(this)}),Dr(this,jh,async({silent:t}={})=>(nt(this,sn)||await nt(this,hn).connect(t?{onlyIfTrusted:!0}:void 0),nt(this,Ks).call(this),{accounts:this.accounts})),Dr(this,zh,async()=>{await nt(this,hn).disconnect()}),Dr(this,Kf,async(...t)=>{if(!nt(this,sn))throw new Error("not connected");const r=[];if(t.length===1){const{transaction:n,account:i,chain:o,options:s}=t[0],{minContextSlot:a,preflightCommitment:c,skipPreflight:u,maxRetries:l}=s||{};if(i!==nt(this,sn))throw new Error("invalid account");if(!Ch(o))throw new Error("invalid chain");const{signature:y}=await nt(this,hn).signAndSendTransaction(Ka.deserialize(n),{preflightCommitment:c,minContextSlot:a,maxRetries:l,skipPreflight:u});r.push({signature:Ar.decode(y)})}else if(t.length>1)for(const n of t)r.push(...await nt(this,Kf).call(this,n));return r}),Dr(this,qh,async(...t)=>{if(!nt(this,sn))throw new Error("not connected");const r=[];if(t.length===1){const{transaction:n,account:i,chain:o}=t[0];if(i!==nt(this,sn))throw new Error("invalid account");if(o&&!Ch(o))throw new Error("invalid chain");const s=await nt(this,hn).signTransaction(Ka.deserialize(n)),a=Uf(s)?s.serialize():new Uint8Array(s.serialize({requireAllSignatures:!1,verifySignatures:!1}));r.push({signedTransaction:a})}else if(t.length>1){let n;for(const s of t){if(s.account!==nt(this,sn))throw new Error("invalid account");if(s.chain){if(!Ch(s.chain))throw new Error("invalid chain");if(n){if(s.chain!==n)throw new Error("conflicting chain")}else n=s.chain}}const i=t.map(({transaction:s})=>Ka.deserialize(s)),o=await nt(this,hn).signAllTransactions(i);r.push(...o.map(s=>({signedTransaction:Uf(s)?s.serialize():new Uint8Array(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))})))}return r}),Dr(this,Zf,async(...t)=>{if(!nt(this,sn))throw new Error("not connected");const r=[];if(t.length===1){const{message:n,account:i}=t[0];if(i!==nt(this,sn))throw new Error("invalid account");const{signature:o}=await nt(this,hn).signMessage(n);r.push({signedMessage:n,signature:o})}else if(t.length>1)for(const n of t)r.push(...await nt(this,Zf).call(this,n));return r}),Dr(this,Vh,async(...t)=>{const r=[];if(t.length>1)for(const n of t)r.push(await nt(this,hn).signIn(n));else return[await nt(this,hn).signIn(t[0])];return r}),new.target===Q1&&Object.freeze(this),$h(this,hn,e),e.on("connect",nt(this,Ks),this),e.on("disconnect",nt(this,Wf),this),e.on("accountChanged",nt(this,Hh),this),nt(this,Ks).call(this)}get version(){return nt(this,Mh)}get name(){return nt(this,Nh)}get icon(){return nt(this,Ph)}get chains(){return kh.slice()}get features(){return{[F6]:{version:"1.0.0",connect:nt(this,jh)},[D6]:{version:"1.0.0",disconnect:nt(this,zh)},[H6]:{version:"1.0.0",on:nt(this,Uh)},[W1]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:nt(this,Kf)},[Z1]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:nt(this,qh)},[K1]:{version:"1.0.0",signMessage:nt(this,Zf)},[U6]:{version:"1.0.0",signIn:nt(this,Vh)},[tB]:{trust:nt(this,hn)}}}get accounts(){return nt(this,sn)?[nt(this,sn)]:[]}};let rB=Q1;ts=new WeakMap,Mh=new WeakMap,Nh=new WeakMap,Ph=new WeakMap,sn=new WeakMap,hn=new WeakMap,Uh=new WeakMap,Vf=new WeakSet,Fh=function(e,...t){var r;(r=nt(this,ts)[e])==null||r.forEach(n=>n.apply(null,t))},Dh=new WeakSet,J1=function(e,t){var r;nt(this,ts)[e]=(r=nt(this,ts)[e])==null?void 0:r.filter(n=>t!==n)},Ks=new WeakMap,Wf=new WeakMap,Hh=new WeakMap,jh=new WeakMap,zh=new WeakMap,Kf=new WeakMap,qh=new WeakMap,Zf=new WeakMap,Vh=new WeakMap;class nB{constructor(t,r=!1){this.useLegacySign=!1,this.provider=t,this.useLegacySign=r}async connect(t){const r=await this.provider.internalRequest({method:"requestAccounts",params:{options:t}});return this.provider.emit("connect"),{publicKey:new et(r[0])}}async signTransaction(t){if(this.useLegacySign)return await this.legacySign(t);const r=JSON.stringify(t);let n="legacy",i;Uf(t)?(n=t.version,i=ie.Buffer.from(t.message.serialize()).toString("base64")):i=ie.Buffer.from(t.serializeMessage()).toString("base64");const o=ie.Buffer.from(t.serialize({requireAllSignatures:!1,verifySignatures:!1})).toString("base64"),s=await this.provider.internalRequest({method:"signRawTransaction",params:{data:r,raw:o,rawMessage:i,version:n}});return this.provider.mapSignedTransaction(t,s)}async legacySign(t){const r=JSON.stringify(t),n=typeof t.version!="number"?"legacy":t.version,i=Ar.encode(n==="legacy"?t.serializeMessage():n===0?t.message.serialize():t.serialize());try{const o=await this.provider.internalRequest({method:"signRawTransaction",params:{data:r,raw:i,version:n}});return this.provider.mapSignedTransaction(t,o)}catch(o){console.log(`<== Error: ${o}`)}}async request(t,r){var n;switch(t.method){case"signTransaction":return this.signTransaction(t.params);case"connect":return this.connect((n=t?.params)==null?void 0:n.options)}return r()}}var Wh=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Kh=(e,t,r)=>(Wh(e,t,"read from private field"),r?r.call(e):t.get(e)),Gf=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Zh=(e,t,r,n)=>(Wh(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Yf=(e,t,r)=>(Wh(e,t,"access private method"),r),Xf,Jf,Qf,Zs,Xa;const eu=class extends Cl{constructor(e){super(),Gf(this,Zs),Gf(this,Xf,!1),Gf(this,Jf,!0),this.isTrust=!0,this.isTrustWallet=!0,Gf(this,Qf,!1),e&&(typeof e.enableAdapter<"u"&&Zh(this,Jf,e.enableAdapter),typeof e.cluster<"u"&&(this.connection=new P6(e.cluster,"confirmed")),typeof e.disableMobileAdapter<"u"&&Zh(this,Xf,e.disableMobileAdapter),typeof e.useLegacySign<"u"&&Zh(this,Qf,e.useLegacySign),typeof e.isTrust<"u"&&(this.isTrust=e.isTrust,this.isTrustWallet=e.isTrust)),Kh(this,Jf)&&K6(this),Kh(this,Xf)||(this.mobileAdapter=new nB(this,Kh(this,Qf)))}static bufferToHex(e){return"0x"+ie.Buffer.from(e).toString("hex")}static messageToBuffer(e){let t=ie.Buffer.from([]);try{typeof e=="string"?t=ie.Buffer.from(e.replace("0x",""),"hex"):t=ie.Buffer.from(e)}catch(r){console.log(`messageToBuffer error: ${r}`)}return t}getInstanceWithAdapter(){return new rB(this)}async connect(e){const t=await Yf(this,Zs,Xa).call(this,{method:"connect",params:{options:e}});return this.publicKey=t.publicKey,t}disconnect(){return new Promise(e=>{this.publicKey=null,this.emit("disconnect"),e()})}async signAndSendTransaction(e,t){const r=await this.signTransaction(e);return{signature:await this.connection.sendRawTransaction(r.serialize(),t)}}signTransaction(e){return Yf(this,Zs,Xa).call(this,{method:"signTransaction",params:e})}signAllTransactions(e){return Promise.all(e.map(t=>this.signTransaction(t)))}async signRawTransactionMulti(e){return(await Yf(this,Zs,Xa).call(this,{method:"signRawTransactionMulti",params:{transactions:e.map(t=>{const r=JSON.stringify(t);let n="legacy",i;Uf(t)?(n=t.version,i=ie.Buffer.from(t.message.serialize()).toString("base64")):i=ie.Buffer.from(t.serializeMessage()).toString("base64");const o=ie.Buffer.from(t.serialize({requireAllSignatures:!1,verifySignatures:!1})).toString("base64");return{data:r,raw:o,rawMessage:i,version:n}})}})).map((t,r)=>this.mapSignedTransaction(e[r],t))}async signMessage(e){var t;const r=eu.bufferToHex(e),n=await Yf(this,Zs,Xa).call(this,{method:"signMessage",params:{data:r}});return{signature:ie.Buffer.from(eu.messageToBuffer(n).buffer),publicKey:(t=this.publicKey)==null?void 0:t.toBase58()}}signIn(e){throw new Error("Method not implemented.")}getNetwork(){return eu.NETWORK}mapSignedTransaction(e,t){return e.addSignature(this.publicKey,Ar.decode(t)),e}request(e){throw new Error("Not implemented")}internalRequest(e){return super.request(e)}};let ey=eu;Xf=new WeakMap,Jf=new WeakMap,Qf=new WeakMap,Zs=new WeakSet,Xa=function(e){const t=()=>this.internalRequest(e);return this.mobileAdapter?this.mobileAdapter.request(e,t):t()},ey.NETWORK="solana";var Gs={},lo={},tu={},ru={},nu={},ty={},Ys={},iu={},Hr={};Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.output=Hr.exists=Hr.hash=Hr.bytes=Hr.bool=Hr.number=void 0;function ou(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}Hr.number=ou;function ry(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}Hr.bool=ry;function iB(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Gh(e,...t){if(!iB(e))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}Hr.bytes=Gh;function ny(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ou(e.outputLen),ou(e.blockLen)}Hr.hash=ny;function iy(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}Hr.exists=iy;function oy(e,t){Gh(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Hr.output=oy;const oB={number:ou,bool:ry,bytes:Gh,hash:ny,exists:iy,output:oy};Hr.default=oB;var Ui={},su={};Object.defineProperty(su,"__esModule",{value:!0}),su.crypto=void 0,su.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const t=su,r=z=>new Uint8Array(z.buffer,z.byteOffset,z.byteLength);e.u8=r;const n=z=>new Uint32Array(z.buffer,z.byteOffset,Math.floor(z.byteLength/4));e.u32=n;function i(z){return z instanceof Uint8Array||z!=null&&typeof z=="object"&&z.constructor.name==="Uint8Array"}const o=z=>new DataView(z.buffer,z.byteOffset,z.byteLength);e.createView=o;const s=(z,ee)=>z<<32-ee|z>>>ee;if(e.rotr=s,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!e.isLE)throw new Error("Non little-endian hardware is not supported");const a=Array.from({length:256},(z,ee)=>ee.toString(16).padStart(2,"0"));function c(z){if(!i(z))throw new Error("Uint8Array expected");let ee="";for(let oe=0;oe<z.length;oe++)ee+=a[z[oe]];return ee}e.bytesToHex=c;const u={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function l(z){if(z>=u._0&&z<=u._9)return z-u._0;if(z>=u._A&&z<=u._F)return z-(u._A-10);if(z>=u._a&&z<=u._f)return z-(u._a-10)}function y(z){if(typeof z!="string")throw new Error("hex string expected, got "+typeof z);const ee=z.length,oe=ee/2;if(ee%2)throw new Error("padded hex string expected, got unpadded hex of length "+ee);const Q=new Uint8Array(oe);for(let I=0,g=0;I<oe;I++,g+=2){const f=l(z.charCodeAt(g)),h=l(z.charCodeAt(g+1));if(f===void 0||h===void 0){const m=z[g]+z[g+1];throw new Error('hex string expected, got non-hex character "'+m+'" at index '+g)}Q[I]=f*16+h}return Q}e.hexToBytes=y;const A=async()=>{};e.nextTick=A;async function v(z,ee,oe){let Q=Date.now();for(let I=0;I<z;I++){oe(I);const g=Date.now()-Q;g>=0&&g<ee||(await(0,e.nextTick)(),Q+=g)}}e.asyncLoop=v;function R(z){if(typeof z!="string")throw new Error(`utf8ToBytes expected string, got ${typeof z}`);return new Uint8Array(new TextEncoder().encode(z))}e.utf8ToBytes=R;function O(z){if(typeof z=="string"&&(z=R(z)),!i(z))throw new Error(`expected Uint8Array, got ${typeof z}`);return z}e.toBytes=O;function P(...z){let ee=0;for(let Q=0;Q<z.length;Q++){const I=z[Q];if(!i(I))throw new Error("Uint8Array expected");ee+=I.length}const oe=new Uint8Array(ee);for(let Q=0,I=0;Q<z.length;Q++){const g=z[Q];oe.set(g,I),I+=g.length}return oe}e.concatBytes=P;class H{clone(){return this._cloneInto()}}e.Hash=H;const F={}.toString;function N(z,ee){if(ee!==void 0&&F.call(ee)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(z,ee)}e.checkOpts=N;function $(z){const ee=Q=>z().update(O(Q)).digest(),oe=z();return ee.outputLen=oe.outputLen,ee.blockLen=oe.blockLen,ee.create=()=>z(),ee}e.wrapConstructor=$;function q(z){const ee=(Q,I)=>z(I).update(O(Q)).digest(),oe=z({});return ee.outputLen=oe.outputLen,ee.blockLen=oe.blockLen,ee.create=Q=>z(Q),ee}e.wrapConstructorWithOpts=q;function G(z){const ee=(Q,I)=>z(I).update(O(Q)).digest(),oe=z({});return ee.outputLen=oe.outputLen,ee.blockLen=oe.blockLen,ee.create=Q=>z(Q),ee}e.wrapXOFConstructorWithOpts=G;function Z(z=32){if(t.crypto&&typeof t.crypto.getRandomValues=="function")return t.crypto.getRandomValues(new Uint8Array(z));throw new Error("crypto.getRandomValues must be defined")}e.randomBytes=Z}(Ui),Object.defineProperty(iu,"__esModule",{value:!0}),iu.SHA2=void 0;const Yh=Hr,Ja=Ui;function sB(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,u=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+u,a,n)}class aB extends Ja.Hash{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,Ja.createView)(this.buffer)}update(t){(0,Yh.exists)(this);const{view:r,buffer:n,blockLen:i}=this;t=(0,Ja.toBytes)(t);const o=t.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const c=(0,Ja.createView)(t);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,Yh.exists)(this),(0,Yh.output)(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:o}=this;let{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let y=s;y<i;y++)r[y]=0;sB(n,i-8,BigInt(this.length*8),o),this.process(n,0);const a=(0,Ja.createView)(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<u;y++)a.setUint32(4*y,l[y],o)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%r&&t.buffer.set(n),t}}iu.SHA2=aB,Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.sha224=Ys.sha256=void 0;const cB=iu,qn=Ui,fB=(e,t,r)=>e&t^~e&r,uB=(e,t,r)=>e&t^e&r^t&r,lB=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ho=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),po=new Uint32Array(64);class sy extends cB.SHA2{constructor(){super(64,32,8,!1),this.A=ho[0]|0,this.B=ho[1]|0,this.C=ho[2]|0,this.D=ho[3]|0,this.E=ho[4]|0,this.F=ho[5]|0,this.G=ho[6]|0,this.H=ho[7]|0}get(){const{A:t,B:r,C:n,D:i,E:o,F:s,G:a,H:c}=this;return[t,r,n,i,o,s,a,c]}set(t,r,n,i,o,s,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(t,r){for(let y=0;y<16;y++,r+=4)po[y]=t.getUint32(r,!1);for(let y=16;y<64;y++){const A=po[y-15],v=po[y-2],R=(0,qn.rotr)(A,7)^(0,qn.rotr)(A,18)^A>>>3,O=(0,qn.rotr)(v,17)^(0,qn.rotr)(v,19)^v>>>10;po[y]=O+po[y-7]+R+po[y-16]|0}let{A:n,B:i,C:o,D:s,E:a,F:c,G:u,H:l}=this;for(let y=0;y<64;y++){const A=(0,qn.rotr)(a,6)^(0,qn.rotr)(a,11)^(0,qn.rotr)(a,25),v=l+A+fB(a,c,u)+lB[y]+po[y]|0,O=((0,qn.rotr)(n,2)^(0,qn.rotr)(n,13)^(0,qn.rotr)(n,22))+uB(n,i,o)|0;l=u,u=c,c=a,a=s+v|0,s=o,o=i,i=n,n=v+O|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,i,o,s,a,c,u,l)}roundClean(){po.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class hB extends sy{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}Ys.sha256=(0,qn.wrapConstructor)(()=>new sy),Ys.sha224=(0,qn.wrapConstructor)(()=>new hB);var ht={},ot={};Object.defineProperty(ot,"__esModule",{value:!0}),ot.validateObject=ot.createHmacDrbg=ot.bitMask=ot.bitSet=ot.bitGet=ot.bitLen=ot.utf8ToBytes=ot.equalBytes=ot.concatBytes=ot.ensureBytes=ot.numberToVarBytesBE=ot.numberToBytesLE=ot.numberToBytesBE=ot.bytesToNumberLE=ot.bytesToNumberBE=ot.hexToBytes=ot.hexToNumber=ot.numberToHexUnpadded=ot.bytesToHex=ot.isBytes=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ay=BigInt(0),au=BigInt(1),dB=BigInt(2);function Xs(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}ot.isBytes=Xs;const pB=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Xh(e){if(!Xs(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=pB[e[r]];return t}ot.bytesToHex=Xh;function cy(e){const t=e.toString(16);return t.length&1?`0${t}`:t}ot.numberToHexUnpadded=cy;function Jh(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}ot.hexToNumber=Jh;const Fi={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function fy(e){if(e>=Fi._0&&e<=Fi._9)return e-Fi._0;if(e>=Fi._A&&e<=Fi._F)return e-(Fi._A-10);if(e>=Fi._a&&e<=Fi._f)return e-(Fi._a-10)}function cu(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){const s=fy(e.charCodeAt(o)),a=fy(e.charCodeAt(o+1));if(s===void 0||a===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[i]=s*16+a}return n}ot.hexToBytes=cu;function gB(e){return Jh(Xh(e))}ot.bytesToNumberBE=gB;function yB(e){if(!Xs(e))throw new Error("Uint8Array expected");return Jh(Xh(Uint8Array.from(e).reverse()))}ot.bytesToNumberLE=yB;function uy(e,t){return cu(e.toString(16).padStart(t*2,"0"))}ot.numberToBytesBE=uy;function wB(e,t){return uy(e,t).reverse()}ot.numberToBytesLE=wB;function mB(e){return cu(cy(e))}ot.numberToVarBytesBE=mB;function bB(e,t,r){let n;if(typeof t=="string")try{n=cu(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else if(Xs(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}ot.ensureBytes=bB;function ly(...e){let t=0;for(let i=0;i<e.length;i++){const o=e[i];if(!Xs(o))throw new Error("Uint8Array expected");t+=o.length}let r=new Uint8Array(t),n=0;for(let i=0;i<e.length;i++){const o=e[i];r.set(o,n),n+=o.length}return r}ot.concatBytes=ly;function vB(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}ot.equalBytes=vB;function _B(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}ot.utf8ToBytes=_B;function EB(e){let t;for(t=0;e>ay;e>>=au,t+=1);return t}ot.bitLen=EB;function xB(e,t){return e>>BigInt(t)&au}ot.bitGet=xB;const SB=(e,t,r)=>e|(r?au:ay)<<BigInt(t);ot.bitSet=SB;const AB=e=>(dB<<BigInt(e-1))-au;ot.bitMask=AB;const Qh=e=>new Uint8Array(e),hy=e=>Uint8Array.from(e);function BB(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Qh(e),i=Qh(e),o=0;const s=()=>{n.fill(1),i.fill(0),o=0},a=(...y)=>r(i,n,...y),c=(y=Qh())=>{i=a(hy([0]),y),n=a(),y.length!==0&&(i=a(hy([1]),y),n=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let y=0;const A=[];for(;y<t;){n=a();const v=n.slice();A.push(v),y+=n.length}return ly(...A)};return(y,A)=>{s(),c(y);let v;for(;!(v=A(u()));)c();return s(),v}}ot.createHmacDrbg=BB;const IB={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Xs(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function RB(e,t,r={}){const n=(i,o,s)=>{const a=IB[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const c=e[i];if(!(s&&c===void 0)&&!a(c,e))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${o}`)};for(const[i,o]of Object.entries(t))n(i,o,!1);for(const[i,o]of Object.entries(r))n(i,o,!0);return e}ot.validateObject=RB,Object.defineProperty(ht,"__esModule",{value:!0}),ht.mapHashToField=ht.getMinHashLength=ht.getFieldBytesLength=ht.hashToPrivateScalar=ht.FpSqrtEven=ht.FpSqrtOdd=ht.Field=ht.nLength=ht.FpIsSquare=ht.FpDiv=ht.FpInvertBatch=ht.FpPow=ht.validateField=ht.isNegativeLE=ht.FpSqrt=ht.tonelliShanks=ht.invert=ht.pow2=ht.pow=ht.mod=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Cn=ot,jr=BigInt(0),Jt=BigInt(1),go=BigInt(2),TB=BigInt(3),ed=BigInt(4),dy=BigInt(5),py=BigInt(8);BigInt(9),BigInt(16);function Ln(e,t){const r=e%t;return r>=jr?r:t+r}ht.mod=Ln;function gy(e,t,r){if(r<=jr||t<jr)throw new Error("Expected power/modulo > 0");if(r===Jt)return jr;let n=Jt;for(;t>jr;)t&Jt&&(n=n*e%r),e=e*e%r,t>>=Jt;return n}ht.pow=gy;function kB(e,t,r){let n=e;for(;t-- >jr;)n*=n,n%=r;return n}ht.pow2=kB;function fu(e,t){if(e===jr||t<=jr)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Ln(e,t),n=t,i=jr,o=Jt;for(;r!==jr;){const a=n/r,c=n%r,u=i-o*a;n=r,r=c,i=o,o=u}if(n!==Jt)throw new Error("invert: does not exist");return Ln(i,t)}ht.invert=fu;function yy(e){const t=(e-Jt)/go;let r,n,i;for(r=e-Jt,n=0;r%go===jr;r/=go,n++);for(i=go;i<e&&gy(i,t,e)!==e-Jt;i++);if(n===1){const s=(e+Jt)/ed;return function(c,u){const l=c.pow(u,s);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const o=(r+Jt)/go;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=n,l=a.pow(a.mul(a.ONE,i),r),y=a.pow(c,o),A=a.pow(c,r);for(;!a.eql(A,a.ONE);){if(a.eql(A,a.ZERO))return a.ZERO;let v=1;for(let O=a.sqr(A);v<u&&!a.eql(O,a.ONE);v++)O=a.sqr(O);const R=a.pow(l,Jt<<BigInt(u-v-1));l=a.sqr(R),y=a.mul(y,R),A=a.mul(A,l),u=v}return y}}ht.tonelliShanks=yy;function wy(e){if(e%ed===TB){const t=(e+Jt)/ed;return function(n,i){const o=n.pow(i,t);if(!n.eql(n.sqr(o),i))throw new Error("Cannot find square root");return o}}if(e%py===dy){const t=(e-dy)/py;return function(n,i){const o=n.mul(i,go),s=n.pow(o,t),a=n.mul(i,s),c=n.mul(n.mul(a,go),s),u=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),i))throw new Error("Cannot find square root");return u}}return yy(e)}ht.FpSqrt=wy;const CB=(e,t)=>(Ln(e,t)&Jt)===Jt;ht.isNegativeLE=CB;const LB=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function $B(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=LB.reduce((n,i)=>(n[i]="function",n),t);return(0,Cn.validateObject)(e,r)}ht.validateField=$B;function my(e,t,r){if(r<jr)throw new Error("Expected power > 0");if(r===jr)return e.ONE;if(r===Jt)return t;let n=e.ONE,i=t;for(;r>jr;)r&Jt&&(n=e.mul(n,i)),i=e.sqr(i),r>>=Jt;return n}ht.FpPow=my;function by(e,t){const r=new Array(t.length),n=t.reduce((o,s,a)=>e.is0(s)?o:(r[a]=o,e.mul(o,s)),e.ONE),i=e.inv(n);return t.reduceRight((o,s,a)=>e.is0(s)?o:(r[a]=e.mul(o,r[a]),e.mul(o,s)),i),r}ht.FpInvertBatch=by;function OB(e,t,r){return e.mul(t,typeof r=="bigint"?fu(r,e.ORDER):e.inv(r))}ht.FpDiv=OB;function MB(e){const t=(e.ORDER-Jt)/go;return r=>{const n=e.pow(r,t);return e.eql(n,e.ZERO)||e.eql(n,e.ONE)}}ht.FpIsSquare=MB;function td(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}ht.nLength=td;function NB(e,t,r=!1,n={}){if(e<=jr)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:o}=td(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=wy(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:(0,Cn.bitMask)(i),ZERO:jr,ONE:Jt,create:c=>Ln(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return jr<=c&&c<e},is0:c=>c===jr,isOdd:c=>(c&Jt)===Jt,neg:c=>Ln(-c,e),eql:(c,u)=>c===u,sqr:c=>Ln(c*c,e),add:(c,u)=>Ln(c+u,e),sub:(c,u)=>Ln(c-u,e),mul:(c,u)=>Ln(c*u,e),pow:(c,u)=>my(a,c,u),div:(c,u)=>Ln(c*fu(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>fu(c,e),sqrt:n.sqrt||(c=>s(a,c)),invertBatch:c=>by(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>r?(0,Cn.numberToBytesLE)(c,o):(0,Cn.numberToBytesBE)(c,o),fromBytes:c=>{if(c.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${c.length}`);return r?(0,Cn.bytesToNumberLE)(c):(0,Cn.bytesToNumberBE)(c)}});return Object.freeze(a)}ht.Field=NB;function PB(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)}ht.FpSqrtOdd=PB;function UB(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r}ht.FpSqrtEven=UB;function FB(e,t,r=!1){e=(0,Cn.ensureBytes)("privateHash",e);const n=e.length,i=td(t).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);const o=r?(0,Cn.bytesToNumberLE)(e):(0,Cn.bytesToNumberBE)(e);return Ln(o,t-Jt)+Jt}ht.hashToPrivateScalar=FB;function rd(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}ht.getFieldBytesLength=rd;function vy(e){const t=rd(e);return t+Math.ceil(t/2)}ht.getMinHashLength=vy;function DB(e,t,r=!1){const n=e.length,i=rd(t),o=vy(t);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);const s=r?(0,Cn.bytesToNumberBE)(e):(0,Cn.bytesToNumberLE)(e),a=Ln(s,t-Jt)+Jt;return r?(0,Cn.numberToBytesLE)(a,i):(0,Cn.numberToBytesBE)(a,i)}ht.mapHashToField=DB;var nd={},Js={};Object.defineProperty(Js,"__esModule",{value:!0}),Js.validateBasic=Js.wNAF=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _y=ht,HB=ot,jB=BigInt(0),id=BigInt(1);function zB(e,t){const r=(i,o)=>{const s=o.negate();return i?s:o},n=i=>{const o=Math.ceil(t/i)+1,s=2**(i-1);return{windows:o,windowSize:s}};return{constTimeNegate:r,unsafeLadder(i,o){let s=e.ZERO,a=i;for(;o>jB;)o&id&&(s=s.add(a)),a=a.double(),o>>=id;return s},precomputeWindow(i,o){const{windows:s,windowSize:a}=n(o),c=[];let u=i,l=u;for(let y=0;y<s;y++){l=u,c.push(l);for(let A=1;A<a;A++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(i,o,s){const{windows:a,windowSize:c}=n(i);let u=e.ZERO,l=e.BASE;const y=BigInt(2**i-1),A=2**i,v=BigInt(i);for(let R=0;R<a;R++){const O=R*c;let P=Number(s&y);s>>=v,P>c&&(P-=A,s+=id);const H=O,F=O+Math.abs(P)-1,N=R%2!==0,$=P<0;P===0?l=l.add(r(N,o[H])):u=u.add(r($,o[F]))}return{p:u,f:l}},wNAFCached(i,o,s,a){const c=i._WINDOW_SIZE||1;let u=o.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&o.set(i,a(u))),this.wNAF(c,u,s)}}}Js.wNAF=zB;function qB(e){return(0,_y.validateField)(e.Fp),(0,HB.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,_y.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}Js.validateBasic=qB,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.mapToCurveSimpleSWU=e.SWUFpSqrtRatio=e.weierstrass=e.weierstrassPoints=e.DER=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=ht,r=ot,n=ot,i=Js;function o(F){const N=(0,i.validateBasic)(F);r.validateObject(N,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:$,Fp:q,a:G}=N;if($){if(!q.eql(G,q.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof $!="object"||typeof $.beta!="bigint"||typeof $.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...N})}const{bytesToNumberBE:s,hexToBytes:a}=r;e.DER={Err:class extends Error{constructor(N=""){super(N)}},_parseInt(F){const{Err:N}=e.DER;if(F.length<2||F[0]!==2)throw new N("Invalid signature integer tag");const $=F[1],q=F.subarray(2,$+2);if(!$||q.length!==$)throw new N("Invalid signature integer: wrong length");if(q[0]&128)throw new N("Invalid signature integer: negative");if(q[0]===0&&!(q[1]&128))throw new N("Invalid signature integer: unnecessary leading zero");return{d:s(q),l:F.subarray($+2)}},toSig(F){const{Err:N}=e.DER,$=typeof F=="string"?a(F):F;if(!r.isBytes($))throw new Error("ui8a expected");let q=$.length;if(q<2||$[0]!=48)throw new N("Invalid signature tag");if($[1]!==q-2)throw new N("Invalid signature: incorrect length");const{d:G,l:Z}=e.DER._parseInt($.subarray(2)),{d:z,l:ee}=e.DER._parseInt(Z);if(ee.length)throw new N("Invalid signature: left bytes after parsing");return{r:G,s:z}},hexFromSig(F){const N=Q=>Number.parseInt(Q[0],16)&8?"00"+Q:Q,$=Q=>{const I=Q.toString(16);return I.length&1?`0${I}`:I},q=N($(F.s)),G=N($(F.r)),Z=q.length/2,z=G.length/2,ee=$(Z),oe=$(z);return`30${$(z+Z+4)}02${oe}${G}02${ee}${q}`}};const c=BigInt(0),u=BigInt(1),l=BigInt(2),y=BigInt(3),A=BigInt(4);function v(F){const N=o(F),{Fp:$}=N,q=N.toBytes||((m,_,E)=>{const x=_.toAffine();return r.concatBytes(Uint8Array.from([4]),$.toBytes(x.x),$.toBytes(x.y))}),G=N.fromBytes||(m=>{const _=m.subarray(1),E=$.fromBytes(_.subarray(0,$.BYTES)),x=$.fromBytes(_.subarray($.BYTES,2*$.BYTES));return{x:E,y:x}});function Z(m){const{a:_,b:E}=N,x=$.sqr(m),T=$.mul(x,m);return $.add($.add(T,$.mul(m,_)),E)}if(!$.eql($.sqr(N.Gy),Z(N.Gx)))throw new Error("bad generator point: equation left != right");function z(m){return typeof m=="bigint"&&c<m&&m<N.n}function ee(m){if(!z(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function oe(m){const{allowedPrivateKeyLengths:_,nByteLength:E,wrapPrivateKey:x,n:T}=N;if(_&&typeof m!="bigint"){if(r.isBytes(m)&&(m=r.bytesToHex(m)),typeof m!="string"||!_.includes(m.length))throw new Error("Invalid key");m=m.padStart(E*2,"0")}let B;try{B=typeof m=="bigint"?m:r.bytesToNumberBE((0,n.ensureBytes)("private key",m,E))}catch{throw new Error(`private key must be ${E} bytes, hex or bigint, not ${typeof m}`)}return x&&(B=t.mod(B,T)),ee(B),B}const Q=new Map;function I(m){if(!(m instanceof g))throw new Error("ProjectivePoint expected")}class g{constructor(_,E,x){if(this.px=_,this.py=E,this.pz=x,_==null||!$.isValid(_))throw new Error("x required");if(E==null||!$.isValid(E))throw new Error("y required");if(x==null||!$.isValid(x))throw new Error("z required")}static fromAffine(_){const{x:E,y:x}=_||{};if(!_||!$.isValid(E)||!$.isValid(x))throw new Error("invalid affine point");if(_ instanceof g)throw new Error("projective point not allowed");const T=B=>$.eql(B,$.ZERO);return T(E)&&T(x)?g.ZERO:new g(E,x,$.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(_){const E=$.invertBatch(_.map(x=>x.pz));return _.map((x,T)=>x.toAffine(E[T])).map(g.fromAffine)}static fromHex(_){const E=g.fromAffine(G((0,n.ensureBytes)("pointHex",_)));return E.assertValidity(),E}static fromPrivateKey(_){return g.BASE.multiply(oe(_))}_setWindowSize(_){this._WINDOW_SIZE=_,Q.delete(this)}assertValidity(){if(this.is0()){if(N.allowInfinityPoint&&!$.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:_,y:E}=this.toAffine();if(!$.isValid(_)||!$.isValid(E))throw new Error("bad point: x or y not FE");const x=$.sqr(E),T=Z(_);if(!$.eql(x,T))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:_}=this.toAffine();if($.isOdd)return!$.isOdd(_);throw new Error("Field doesn't support isOdd")}equals(_){I(_);const{px:E,py:x,pz:T}=this,{px:B,py:d,pz:k}=_,W=$.eql($.mul(E,k),$.mul(B,T)),K=$.eql($.mul(x,k),$.mul(d,T));return W&&K}negate(){return new g(this.px,$.neg(this.py),this.pz)}double(){const{a:_,b:E}=N,x=$.mul(E,y),{px:T,py:B,pz:d}=this;let k=$.ZERO,W=$.ZERO,K=$.ZERO,re=$.mul(T,T),xe=$.mul(B,B),be=$.mul(d,d),ge=$.mul(T,B);return ge=$.add(ge,ge),K=$.mul(T,d),K=$.add(K,K),k=$.mul(_,K),W=$.mul(x,be),W=$.add(k,W),k=$.sub(xe,W),W=$.add(xe,W),W=$.mul(k,W),k=$.mul(ge,k),K=$.mul(x,K),be=$.mul(_,be),ge=$.sub(re,be),ge=$.mul(_,ge),ge=$.add(ge,K),K=$.add(re,re),re=$.add(K,re),re=$.add(re,be),re=$.mul(re,ge),W=$.add(W,re),be=$.mul(B,d),be=$.add(be,be),re=$.mul(be,ge),k=$.sub(k,re),K=$.mul(be,xe),K=$.add(K,K),K=$.add(K,K),new g(k,W,K)}add(_){I(_);const{px:E,py:x,pz:T}=this,{px:B,py:d,pz:k}=_;let W=$.ZERO,K=$.ZERO,re=$.ZERO;const xe=N.a,be=$.mul(N.b,y);let ge=$.mul(E,B),tt=$.mul(x,d),Ue=$.mul(T,k),Pe=$.add(E,x),pe=$.add(B,d);Pe=$.mul(Pe,pe),pe=$.add(ge,tt),Pe=$.sub(Pe,pe),pe=$.add(E,T);let we=$.add(B,k);return pe=$.mul(pe,we),we=$.add(ge,Ue),pe=$.sub(pe,we),we=$.add(x,T),W=$.add(d,k),we=$.mul(we,W),W=$.add(tt,Ue),we=$.sub(we,W),re=$.mul(xe,pe),W=$.mul(be,Ue),re=$.add(W,re),W=$.sub(tt,re),re=$.add(tt,re),K=$.mul(W,re),tt=$.add(ge,ge),tt=$.add(tt,ge),Ue=$.mul(xe,Ue),pe=$.mul(be,pe),tt=$.add(tt,Ue),Ue=$.sub(ge,Ue),Ue=$.mul(xe,Ue),pe=$.add(pe,Ue),ge=$.mul(tt,pe),K=$.add(K,ge),ge=$.mul(we,pe),W=$.mul(Pe,W),W=$.sub(W,ge),ge=$.mul(Pe,tt),re=$.mul(we,re),re=$.add(re,ge),new g(W,K,re)}subtract(_){return this.add(_.negate())}is0(){return this.equals(g.ZERO)}wNAF(_){return h.wNAFCached(this,Q,_,E=>{const x=$.invertBatch(E.map(T=>T.pz));return E.map((T,B)=>T.toAffine(x[B])).map(g.fromAffine)})}multiplyUnsafe(_){const E=g.ZERO;if(_===c)return E;if(ee(_),_===u)return this;const{endo:x}=N;if(!x)return h.unsafeLadder(this,_);let{k1neg:T,k1:B,k2neg:d,k2:k}=x.splitScalar(_),W=E,K=E,re=this;for(;B>c||k>c;)B&u&&(W=W.add(re)),k&u&&(K=K.add(re)),re=re.double(),B>>=u,k>>=u;return T&&(W=W.negate()),d&&(K=K.negate()),K=new g($.mul(K.px,x.beta),K.py,K.pz),W.add(K)}multiply(_){ee(_);let E=_,x,T;const{endo:B}=N;if(B){const{k1neg:d,k1:k,k2neg:W,k2:K}=B.splitScalar(E);let{p:re,f:xe}=this.wNAF(k),{p:be,f:ge}=this.wNAF(K);re=h.constTimeNegate(d,re),be=h.constTimeNegate(W,be),be=new g($.mul(be.px,B.beta),be.py,be.pz),x=re.add(be),T=xe.add(ge)}else{const{p:d,f:k}=this.wNAF(E);x=d,T=k}return g.normalizeZ([x,T])[0]}multiplyAndAddUnsafe(_,E,x){const T=g.BASE,B=(k,W)=>W===c||W===u||!k.equals(T)?k.multiplyUnsafe(W):k.multiply(W),d=B(this,E).add(B(_,x));return d.is0()?void 0:d}toAffine(_){const{px:E,py:x,pz:T}=this,B=this.is0();_==null&&(_=B?$.ONE:$.inv(T));const d=$.mul(E,_),k=$.mul(x,_),W=$.mul(T,_);if(B)return{x:$.ZERO,y:$.ZERO};if(!$.eql(W,$.ONE))throw new Error("invZ was invalid");return{x:d,y:k}}isTorsionFree(){const{h:_,isTorsionFree:E}=N;if(_===u)return!0;if(E)return E(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:_,clearCofactor:E}=N;return _===u?this:E?E(g,this):this.multiplyUnsafe(N.h)}toRawBytes(_=!0){return this.assertValidity(),q(g,this,_)}toHex(_=!0){return r.bytesToHex(this.toRawBytes(_))}}g.BASE=new g(N.Gx,N.Gy,$.ONE),g.ZERO=new g($.ZERO,$.ONE,$.ZERO);const f=N.nBitLength,h=(0,i.wNAF)(g,N.endo?Math.ceil(f/2):f);return{CURVE:N,ProjectivePoint:g,normPrivateKeyToScalar:oe,weierstrassEquation:Z,isWithinCurveOrder:z}}e.weierstrassPoints=v;function R(F){const N=(0,i.validateBasic)(F);return r.validateObject(N,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...N})}function O(F){const N=R(F),{Fp:$,n:q}=N,G=$.BYTES+1,Z=2*$.BYTES+1;function z(pe){return c<pe&&pe<$.ORDER}function ee(pe){return t.mod(pe,q)}function oe(pe){return t.invert(pe,q)}const{ProjectivePoint:Q,normPrivateKeyToScalar:I,weierstrassEquation:g,isWithinCurveOrder:f}=v({...N,toBytes(pe,we,ke){const vt=we.toAffine(),He=$.toBytes(vt.x),it=r.concatBytes;return ke?it(Uint8Array.from([we.hasEvenY()?2:3]),He):it(Uint8Array.from([4]),He,$.toBytes(vt.y))},fromBytes(pe){const we=pe.length,ke=pe[0],vt=pe.subarray(1);if(we===G&&(ke===2||ke===3)){const He=r.bytesToNumberBE(vt);if(!z(He))throw new Error("Point is not on curve");const it=g(He);let Ht=$.sqrt(it);const ut=(Ht&u)===u;return(ke&1)===1!==ut&&(Ht=$.neg(Ht)),{x:He,y:Ht}}else if(we===Z&&ke===4){const He=$.fromBytes(vt.subarray(0,$.BYTES)),it=$.fromBytes(vt.subarray($.BYTES,2*$.BYTES));return{x:He,y:it}}else throw new Error(`Point of length ${we} was invalid. Expected ${G} compressed bytes or ${Z} uncompressed bytes`)}}),h=pe=>r.bytesToHex(r.numberToBytesBE(pe,N.nByteLength));function m(pe){const we=q>>u;return pe>we}function _(pe){return m(pe)?ee(-pe):pe}const E=(pe,we,ke)=>r.bytesToNumberBE(pe.slice(we,ke));class x{constructor(we,ke,vt){this.r=we,this.s=ke,this.recovery=vt,this.assertValidity()}static fromCompact(we){const ke=N.nByteLength;return we=(0,n.ensureBytes)("compactSignature",we,ke*2),new x(E(we,0,ke),E(we,ke,2*ke))}static fromDER(we){const{r:ke,s:vt}=e.DER.toSig((0,n.ensureBytes)("DER",we));return new x(ke,vt)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(we){return new x(this.r,this.s,we)}recoverPublicKey(we){const{r:ke,s:vt,recovery:He}=this,it=K((0,n.ensureBytes)("msgHash",we));if(He==null||![0,1,2,3].includes(He))throw new Error("recovery id invalid");const Ht=He===2||He===3?ke+N.n:ke;if(Ht>=$.ORDER)throw new Error("recovery id 2 or 3 invalid");const ut=He&1?"03":"02",pt=Q.fromHex(ut+h(Ht)),Wt=oe(Ht),xt=ee(-it*Wt),At=ee(vt*Wt),Xt=Q.BASE.multiplyAndAddUnsafe(pt,xt,At);if(!Xt)throw new Error("point at infinify");return Xt.assertValidity(),Xt}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new x(this.r,ee(-this.s),this.recovery):this}toDERRawBytes(){return r.hexToBytes(this.toDERHex())}toDERHex(){return e.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return r.hexToBytes(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const T={isValidPrivateKey(pe){try{return I(pe),!0}catch{return!1}},normPrivateKeyToScalar:I,randomPrivateKey:()=>{const pe=t.getMinHashLength(N.n);return t.mapHashToField(N.randomBytes(pe),N.n)},precompute(pe=8,we=Q.BASE){return we._setWindowSize(pe),we.multiply(BigInt(3)),we}};function B(pe,we=!0){return Q.fromPrivateKey(pe).toRawBytes(we)}function d(pe){const we=r.isBytes(pe),ke=typeof pe=="string",vt=(we||ke)&&pe.length;return we?vt===G||vt===Z:ke?vt===2*G||vt===2*Z:pe instanceof Q}function k(pe,we,ke=!0){if(d(pe))throw new Error("first arg must be private key");if(!d(we))throw new Error("second arg must be public key");return Q.fromHex(we).multiply(I(pe)).toRawBytes(ke)}const W=N.bits2int||function(pe){const we=r.bytesToNumberBE(pe),ke=pe.length*8-N.nBitLength;return ke>0?we>>BigInt(ke):we},K=N.bits2int_modN||function(pe){return ee(W(pe))},re=r.bitMask(N.nBitLength);function xe(pe){if(typeof pe!="bigint")throw new Error("bigint expected");if(!(c<=pe&&pe<re))throw new Error(`bigint expected < 2^${N.nBitLength}`);return r.numberToBytesBE(pe,N.nByteLength)}function be(pe,we,ke=ge){if(["recovered","canonical"].some(C=>C in ke))throw new Error("sign() legacy options not supported");const{hash:vt,randomBytes:He}=N;let{lowS:it,prehash:Ht,extraEntropy:ut}=ke;it==null&&(it=!0),pe=(0,n.ensureBytes)("msgHash",pe),Ht&&(pe=(0,n.ensureBytes)("prehashed msgHash",vt(pe)));const pt=K(pe),Wt=I(we),xt=[xe(Wt),xe(pt)];if(ut!=null){const C=ut===!0?He($.BYTES):ut;xt.push((0,n.ensureBytes)("extraEntropy",C))}const At=r.concatBytes(...xt),Xt=pt;function Tt(C){const w=W(C);if(!f(w))return;const b=oe(w),D=Q.BASE.multiply(w).toAffine(),V=ee(D.x);if(V===c)return;const X=ee(b*ee(Xt+V*Wt));if(X===c)return;let ae=(D.x===V?0:2)|Number(D.y&u),Ze=X;return it&&m(X)&&(Ze=_(X),ae^=1),new x(V,Ze,ae)}return{seed:At,k2sig:Tt}}const ge={lowS:N.lowS,prehash:!1},tt={lowS:N.lowS,prehash:!1};function Ue(pe,we,ke=ge){const{seed:vt,k2sig:He}=be(pe,we,ke),it=N;return r.createHmacDrbg(it.hash.outputLen,it.nByteLength,it.hmac)(vt,He)}Q.BASE._setWindowSize(8);function Pe(pe,we,ke,vt=tt){const He=pe;if(we=(0,n.ensureBytes)("msgHash",we),ke=(0,n.ensureBytes)("publicKey",ke),"strict"in vt)throw new Error("options.strict was renamed to lowS");const{lowS:it,prehash:Ht}=vt;let ut,pt;try{if(typeof He=="string"||r.isBytes(He))try{ut=x.fromDER(He)}catch(D){if(!(D instanceof e.DER.Err))throw D;ut=x.fromCompact(He)}else if(typeof He=="object"&&typeof He.r=="bigint"&&typeof He.s=="bigint"){const{r:D,s:V}=He;ut=new x(D,V)}else throw new Error("PARSE");pt=Q.fromHex(ke)}catch(D){if(D.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(it&&ut.hasHighS())return!1;Ht&&(we=N.hash(we));const{r:Wt,s:xt}=ut,At=K(we),Xt=oe(xt),Tt=ee(At*Xt),C=ee(Wt*Xt),w=Q.BASE.multiplyAndAddUnsafe(pt,Tt,C)?.toAffine();return w?ee(w.x)===Wt:!1}return{CURVE:N,getPublicKey:B,getSharedSecret:k,sign:Ue,verify:Pe,ProjectivePoint:Q,Signature:x,utils:T}}e.weierstrass=O;function P(F,N){const $=F.ORDER;let q=c;for(let m=$-u;m%l===c;m/=l)q+=u;const G=q,Z=l<<G-u-u,z=Z*l,ee=($-u)/z,oe=(ee-u)/l,Q=z-u,I=Z,g=F.pow(N,ee),f=F.pow(N,(ee+u)/l);let h=(m,_)=>{let E=g,x=F.pow(_,Q),T=F.sqr(x);T=F.mul(T,_);let B=F.mul(m,T);B=F.pow(B,oe),B=F.mul(B,x),x=F.mul(B,_),T=F.mul(B,m);let d=F.mul(T,x);B=F.pow(d,I);let k=F.eql(B,F.ONE);x=F.mul(T,f),B=F.mul(d,E),T=F.cmov(x,T,k),d=F.cmov(B,d,k);for(let W=G;W>u;W--){let K=W-l;K=l<<K-u;let re=F.pow(d,K);const xe=F.eql(re,F.ONE);x=F.mul(T,E),E=F.mul(E,E),re=F.mul(d,E),T=F.cmov(x,T,xe),d=F.cmov(re,d,xe)}return{isValid:k,value:T}};if(F.ORDER%A===y){const m=(F.ORDER-y)/A,_=F.sqrt(F.neg(N));h=(E,x)=>{let T=F.sqr(x);const B=F.mul(E,x);T=F.mul(T,B);let d=F.pow(T,m);d=F.mul(d,B);const k=F.mul(d,_),W=F.mul(F.sqr(d),x),K=F.eql(W,E);let re=F.cmov(k,d,K);return{isValid:K,value:re}}}return h}e.SWUFpSqrtRatio=P;function H(F,N){if(t.validateField(F),!F.isValid(N.A)||!F.isValid(N.B)||!F.isValid(N.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const $=P(F,N.Z);if(!F.isOdd)throw new Error("Fp.isOdd is not implemented!");return q=>{let G,Z,z,ee,oe,Q,I,g;G=F.sqr(q),G=F.mul(G,N.Z),Z=F.sqr(G),Z=F.add(Z,G),z=F.add(Z,F.ONE),z=F.mul(z,N.B),ee=F.cmov(N.Z,F.neg(Z),!F.eql(Z,F.ZERO)),ee=F.mul(ee,N.A),Z=F.sqr(z),Q=F.sqr(ee),oe=F.mul(Q,N.A),Z=F.add(Z,oe),Z=F.mul(Z,z),Q=F.mul(Q,ee),oe=F.mul(Q,N.B),Z=F.add(Z,oe),I=F.mul(G,z);const{isValid:f,value:h}=$(Z,Q);g=F.mul(G,q),g=F.mul(g,h),I=F.cmov(I,z,f),g=F.cmov(g,h,f);const m=F.isOdd(q)===F.isOdd(g);return g=F.cmov(F.neg(g),g,m),I=F.div(I,ee),{x:I,y:g}}}e.mapToCurveSimpleSWU=H}(nd);var Vn={};Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.createHasher=Vn.isogenyMap=Vn.hash_to_field=Vn.expand_message_xof=Vn.expand_message_xmd=void 0;const VB=ht,$n=ot;function WB(e){if((0,$n.isBytes)(e))return e;if(typeof e=="string")return(0,$n.utf8ToBytes)(e);throw new Error("DST must be Uint8Array or string")}const KB=$n.bytesToNumberBE;function yo(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=e&255,e>>>=8;return new Uint8Array(r)}function ZB(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function Qa(e){if(!(0,$n.isBytes)(e))throw new Error("Uint8Array expected")}function od(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function Ey(e,t,r,n){Qa(e),Qa(t),od(r),t.length>255&&(t=n((0,$n.concatBytes)((0,$n.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:o}=n,s=Math.ceil(r/i);if(s>255)throw new Error("Invalid xmd length");const a=(0,$n.concatBytes)(t,yo(t.length,1)),c=yo(0,o),u=yo(r,2),l=new Array(s),y=n((0,$n.concatBytes)(c,e,u,yo(0,1),a));l[0]=n((0,$n.concatBytes)(y,yo(1,1),a));for(let v=1;v<=s;v++){const R=[ZB(y,l[v-1]),yo(v+1,1),a];l[v]=n((0,$n.concatBytes)(...R))}return(0,$n.concatBytes)(...l).slice(0,r)}Vn.expand_message_xmd=Ey;function xy(e,t,r,n,i){if(Qa(e),Qa(t),od(r),t.length>255){const o=Math.ceil(2*n/8);t=i.create({dkLen:o}).update((0,$n.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(yo(r,2)).update(t).update(yo(t.length,1)).digest()}Vn.expand_message_xof=xy;function sd(e,t,r){(0,$n.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:n,k:i,m:o,hash:s,expand:a,DST:c}=r;Qa(e),od(t);const u=WB(c),l=n.toString(2).length,y=Math.ceil((l+i)/8),A=t*o*y;let v;if(a==="xmd")v=Ey(e,u,A,s);else if(a==="xof")v=xy(e,u,A,i,s);else if(a==="_internal_pass")v=e;else throw new Error('expand must be "xmd" or "xof"');const R=new Array(t);for(let O=0;O<t;O++){const P=new Array(o);for(let H=0;H<o;H++){const F=y*(H+O*o),N=v.subarray(F,F+y);P[H]=(0,VB.mod)(KB(N),n)}R[O]=P}return R}Vn.hash_to_field=sd;function GB(e,t){const r=t.map(n=>Array.from(n).reverse());return(n,i)=>{const[o,s,a,c]=r.map(u=>u.reduce((l,y)=>e.add(e.mul(l,n),y)));return n=e.div(o,s),i=e.mul(i,e.div(a,c)),{x:n,y:i}}}Vn.isogenyMap=GB;function YB(e,t,r){if(typeof t!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){const o=sd(n,2,{...r,DST:r.DST,...i}),s=e.fromAffine(t(o[0])),a=e.fromAffine(t(o[1])),c=s.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(n,i){const o=sd(n,1,{...r,DST:r.encodeDST,...i}),s=e.fromAffine(t(o[0])).clearCofactor();return s.assertValidity(),s}}}Vn.createHasher=YB;var Qs={},Sy={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=e.HMAC=void 0;const t=Hr,r=Ui;class n extends r.Hash{constructor(s,a){super(),this.finished=!1,this.destroyed=!1,(0,t.hash)(s);const c=(0,r.toBytes)(a);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const u=this.blockLen,l=new Uint8Array(u);l.set(c.length>u?s.create().update(c).digest():c);for(let y=0;y<l.length;y++)l[y]^=54;this.iHash.update(l),this.oHash=s.create();for(let y=0;y<l.length;y++)l[y]^=106;this.oHash.update(l),l.fill(0)}update(s){return(0,t.exists)(this),this.iHash.update(s),this}digestInto(s){(0,t.exists)(this),(0,t.bytes)(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:a,iHash:c,finished:u,destroyed:l,blockLen:y,outputLen:A}=this;return s=s,s.finished=u,s.destroyed=l,s.blockLen=y,s.outputLen=A,s.oHash=a._cloneInto(s.oHash),s.iHash=c._cloneInto(s.iHash),s}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.HMAC=n;const i=(o,s,a)=>new n(o,s).update(a).digest();e.hmac=i,e.hmac.create=(o,s)=>new n(o,s)})(Sy),Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.createCurve=Qs.getHash=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const XB=Sy,Ay=Ui,JB=nd;function By(e){return{hash:e,hmac:(t,...r)=>(0,XB.hmac)(e,t,(0,Ay.concatBytes)(...r)),randomBytes:Ay.randomBytes}}Qs.getHash=By;function QB(e,t){const r=n=>(0,JB.weierstrass)({...e,...By(n)});return Object.freeze({...r(t),create:r})}Qs.createCurve=QB,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.encodeToCurve=e.hashToCurve=e.schnorr=e.secp256k1=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=Ys,r=Ui,n=ht,i=nd,o=ot,s=Vn,a=Qs,c=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),u=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),l=BigInt(1),y=BigInt(2),A=(x,T)=>(x+T/y)/T;function v(x){const T=c,B=BigInt(3),d=BigInt(6),k=BigInt(11),W=BigInt(22),K=BigInt(23),re=BigInt(44),xe=BigInt(88),be=x*x*x%T,ge=be*be*x%T,tt=(0,n.pow2)(ge,B,T)*ge%T,Ue=(0,n.pow2)(tt,B,T)*ge%T,Pe=(0,n.pow2)(Ue,y,T)*be%T,pe=(0,n.pow2)(Pe,k,T)*Pe%T,we=(0,n.pow2)(pe,W,T)*pe%T,ke=(0,n.pow2)(we,re,T)*we%T,vt=(0,n.pow2)(ke,xe,T)*ke%T,He=(0,n.pow2)(vt,re,T)*we%T,it=(0,n.pow2)(He,B,T)*ge%T,Ht=(0,n.pow2)(it,K,T)*pe%T,ut=(0,n.pow2)(Ht,d,T)*be%T,pt=(0,n.pow2)(ut,y,T);if(!R.eql(R.sqr(pt),x))throw new Error("Cannot find square root");return pt}const R=(0,n.Field)(c,void 0,void 0,{sqrt:v});e.secp256k1=(0,a.createCurve)({a:BigInt(0),b:BigInt(7),Fp:R,n:u,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:x=>{const T=u,B=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),d=-l*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),k=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),W=B,K=BigInt("0x100000000000000000000000000000000"),re=A(W*x,T),xe=A(-d*x,T);let be=(0,n.mod)(x-re*B-xe*k,T),ge=(0,n.mod)(-re*d-xe*W,T);const tt=be>K,Ue=ge>K;if(tt&&(be=T-be),Ue&&(ge=T-ge),be>K||ge>K)throw new Error("splitScalar: Endomorphism failed, k="+x);return{k1neg:tt,k1:be,k2neg:Ue,k2:ge}}}},t.sha256);const O=BigInt(0),P=x=>typeof x=="bigint"&&O<x&&x<c,H=x=>typeof x=="bigint"&&O<x&&x<u,F={};function N(x,...T){let B=F[x];if(B===void 0){const d=(0,t.sha256)(Uint8Array.from(x,k=>k.charCodeAt(0)));B=(0,o.concatBytes)(d,d),F[x]=B}return(0,t.sha256)((0,o.concatBytes)(B,...T))}const $=x=>x.toRawBytes(!0).slice(1),q=x=>(0,o.numberToBytesBE)(x,32),G=x=>(0,n.mod)(x,c),Z=x=>(0,n.mod)(x,u),z=e.secp256k1.ProjectivePoint,ee=(x,T,B)=>z.BASE.multiplyAndAddUnsafe(x,T,B);function oe(x){let T=e.secp256k1.utils.normPrivateKeyToScalar(x),B=z.fromPrivateKey(T);return{scalar:B.hasEvenY()?T:Z(-T),bytes:$(B)}}function Q(x){if(!P(x))throw new Error("bad x: need 0 < x < p");const T=G(x*x),B=G(T*x+BigInt(7));let d=v(B);d%y!==O&&(d=G(-d));const k=new z(x,d,l);return k.assertValidity(),k}function I(...x){return Z((0,o.bytesToNumberBE)(N("BIP0340/challenge",...x)))}function g(x){return oe(x).bytes}function f(x,T,B=(0,r.randomBytes)(32)){const d=(0,o.ensureBytes)("message",x),{bytes:k,scalar:W}=oe(T),K=(0,o.ensureBytes)("auxRand",B,32),re=q(W^(0,o.bytesToNumberBE)(N("BIP0340/aux",K))),xe=N("BIP0340/nonce",re,k,d),be=Z((0,o.bytesToNumberBE)(xe));if(be===O)throw new Error("sign failed: k is zero");const{bytes:ge,scalar:tt}=oe(be),Ue=I(ge,k,d),Pe=new Uint8Array(64);if(Pe.set(ge,0),Pe.set(q(Z(tt+Ue*W)),32),!h(Pe,d,k))throw new Error("sign: Invalid signature produced");return Pe}function h(x,T,B){const d=(0,o.ensureBytes)("signature",x,64),k=(0,o.ensureBytes)("message",T),W=(0,o.ensureBytes)("publicKey",B,32);try{const K=Q((0,o.bytesToNumberBE)(W)),re=(0,o.bytesToNumberBE)(d.subarray(0,32));if(!P(re))return!1;const xe=(0,o.bytesToNumberBE)(d.subarray(32,64));if(!H(xe))return!1;const be=I(q(re),$(K),k),ge=ee(K,xe,Z(-be));return!(!ge||!ge.hasEvenY()||ge.toAffine().x!==re)}catch{return!1}}e.schnorr=(()=>({getPublicKey:g,sign:f,verify:h,utils:{randomPrivateKey:e.secp256k1.utils.randomPrivateKey,lift_x:Q,pointToBytes:$,numberToBytesBE:o.numberToBytesBE,bytesToNumberBE:o.bytesToNumberBE,taggedHash:N,mod:n.mod}}))();const m=(()=>(0,s.isogenyMap)(R,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(x=>x.map(T=>BigInt(T)))))(),_=(()=>(0,i.mapToCurveSimpleSWU)(R,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:R.create(BigInt("-11"))}))(),E=(()=>(0,s.createHasher)(e.secp256k1.ProjectivePoint,x=>{const{x:T,y:B}=_(R.create(x[0]));return m(T,B)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:R.ORDER,m:1,k:128,expand:"xmd",hash:t.sha256}))();e.hashToCurve=(()=>E.hashToCurve)(),e.encodeToCurve=(()=>E.encodeToCurve)()}(ty),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.secp256k1=void 0;var t=ty;Object.defineProperty(e,"secp256k1",{enumerable:!0,get:function(){return t.secp256k1}})}(nu),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MAX_WITHDRAWALS_PER_PAYLOAD=e.RLP_EMPTY_STRING=e.KECCAK256_RLP=e.KECCAK256_RLP_S=e.KECCAK256_RLP_ARRAY=e.KECCAK256_RLP_ARRAY_S=e.KECCAK256_NULL=e.KECCAK256_NULL_S=e.TWO_POW256=e.SECP256K1_ORDER_DIV_2=e.SECP256K1_ORDER=e.MAX_INTEGER_BIGINT=e.MAX_INTEGER=e.MAX_UINT64=void 0;const t=ie,r=nu;e.MAX_UINT64=BigInt("0xffffffffffffffff"),e.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),e.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),e.SECP256K1_ORDER=r.secp256k1.CURVE.n,e.SECP256K1_ORDER_DIV_2=r.secp256k1.CURVE.n/BigInt(2),e.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.KECCAK256_NULL=t.Buffer.from(e.KECCAK256_NULL_S,"hex"),e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.KECCAK256_RLP_ARRAY=t.Buffer.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.KECCAK256_RLP=t.Buffer.from(e.KECCAK256_RLP_S,"hex"),e.RLP_EMPTY_STRING=t.Buffer.from([128]),e.MAX_WITHDRAWALS_PER_PAYLOAD=16}(ru);var uu={};Object.defineProperty(uu,"__esModule",{value:!0}),uu.GWEI_TO_WEI=void 0,uu.GWEI_TO_WEI=BigInt(1e9);var ad={},vi={};Object.defineProperty(vi,"__esModule",{value:!0}),vi.RLP=vi.utils=vi.decode=vi.encode=void 0;function cd(e){if(Array.isArray(e)){const r=[];let n=0;for(let i=0;i<e.length;i++){const o=cd(e[i]);r.push(o),n+=o.length}return ud(Ry(n,192),...r)}const t=Oy(e);return t.length===1&&t[0]<128?t:ud(Ry(t.length,128),t)}vi.encode=cd;function ea(e,t,r){if(r>e.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,r)}function Iy(e){if(e[0]===0)throw new Error("invalid RLP: extra zeros");return Cy(ky(e))}function Ry(e,t){if(e<56)return Uint8Array.from([e+t]);const r=ld(e),n=r.length/2,i=ld(t+55+n);return Uint8Array.from(lu(i+r))}function Ty(e,t=!1){if(typeof e>"u"||e===null||e.length===0)return Uint8Array.from([]);const r=Oy(e),n=fd(r);if(t)return n;if(n.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return n.data}vi.decode=Ty;function fd(e){let t,r,n,i,o;const s=[],a=e[0];if(a<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(a<=183){if(t=a-127,a===128?n=Uint8Array.from([]):n=ea(e,1,t),t===2&&n[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:n,remainder:e.slice(t)}}else if(a<=191){if(r=a-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(t=Iy(ea(e,1,r)),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return n=ea(e,r,t+r),{data:n,remainder:e.slice(t+r)}}else if(a<=247){for(t=a-191,i=ea(e,1,t);i.length;)o=fd(i),s.push(o.data),i=o.remainder;return{data:s,remainder:e.slice(t)}}else{if(r=a-246,t=Iy(ea(e,1,r)),t<56)throw new Error("invalid RLP: encoded list too short");const c=r+t;if(c>e.length)throw new Error("invalid RLP: total length is larger than the data");for(i=ea(e,r,c);i.length;)o=fd(i),s.push(o.data),i=o.remainder;return{data:s,remainder:e.slice(c)}}}const eI=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ky(e){let t="";for(let r=0;r<e.length;r++)t+=eI[e[r]];return t}function Cy(e){const t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t}function lu(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=r*2;t[r]=Cy(e.slice(n,n+2))}return t}function ud(...e){if(e.length===1)return e[0];const t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const o=e[n];r.set(o,i),i+=o.length}return r}function Ly(e){return new TextEncoder().encode(e)}function ld(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");const t=e.toString(16);return t.length%2?`0${t}`:t}function tI(e){return e.length%2?`0${e}`:e}function $y(e){return e.length>=2&&e[0]==="0"&&e[1]==="x"}function rI(e){return typeof e!="string"?e:$y(e)?e.slice(2):e}function Oy(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")return $y(e)?lu(tI(rI(e))):Ly(e);if(typeof e=="number"||typeof e=="bigint")return e?lu(ld(e)):Uint8Array.from([]);if(e==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof e)}vi.utils={bytesToHex:ky,concatBytes:ud,hexToBytes:lu,utf8ToBytes:Ly},vi.RLP={encode:cd,decode:Ty};var Wn={},Qt={},st={};Object.defineProperty(st,"__esModule",{value:!0}),st.add5L=st.add5H=st.add4H=st.add4L=st.add3H=st.add3L=st.add=st.rotlBL=st.rotlBH=st.rotlSL=st.rotlSH=st.rotr32L=st.rotr32H=st.rotrBL=st.rotrBH=st.rotrSL=st.rotrSH=st.shrSL=st.shrSH=st.toBig=st.split=st.fromBig=void 0;const hu=BigInt(2**32-1),hd=BigInt(32);function dd(e,t=!1){return t?{h:Number(e&hu),l:Number(e>>hd&hu)}:{h:Number(e>>hd&hu)|0,l:Number(e&hu)|0}}st.fromBig=dd;function My(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=dd(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]}st.split=My;const Ny=(e,t)=>BigInt(e>>>0)<<hd|BigInt(t>>>0);st.toBig=Ny;const Py=(e,t,r)=>e>>>r;st.shrSH=Py;const Uy=(e,t,r)=>e<<32-r|t>>>r;st.shrSL=Uy;const Fy=(e,t,r)=>e>>>r|t<<32-r;st.rotrSH=Fy;const Dy=(e,t,r)=>e<<32-r|t>>>r;st.rotrSL=Dy;const Hy=(e,t,r)=>e<<64-r|t>>>r-32;st.rotrBH=Hy;const jy=(e,t,r)=>e>>>r-32|t<<64-r;st.rotrBL=jy;const zy=(e,t)=>t;st.rotr32H=zy;const qy=(e,t)=>e;st.rotr32L=qy;const Vy=(e,t,r)=>e<<r|t>>>32-r;st.rotlSH=Vy;const Wy=(e,t,r)=>t<<r|e>>>32-r;st.rotlSL=Wy;const Ky=(e,t,r)=>t<<r-32|e>>>64-r;st.rotlBH=Ky;const Zy=(e,t,r)=>e<<r-32|t>>>64-r;st.rotlBL=Zy;function Gy(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}st.add=Gy;const Yy=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);st.add3L=Yy;const Xy=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;st.add3H=Xy;const Jy=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);st.add4L=Jy;const Qy=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;st.add4H=Qy;const ew=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);st.add5L=ew;const tw=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0;st.add5H=tw;const nI={fromBig:dd,split:My,toBig:Ny,shrSH:Py,shrSL:Uy,rotrSH:Fy,rotrSL:Dy,rotrBH:Hy,rotrBL:jy,rotr32H:zy,rotr32L:qy,rotlSH:Vy,rotlSL:Wy,rotlBH:Ky,rotlBL:Zy,add:Gy,add3L:Yy,add3H:Xy,add4L:Jy,add4H:Qy,add5H:tw,add5L:ew};st.default=nI,Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.shake256=Qt.shake128=Qt.keccak_512=Qt.keccak_384=Qt.keccak_256=Qt.keccak_224=Qt.sha3_512=Qt.sha3_384=Qt.sha3_256=Qt.sha3_224=Qt.Keccak=Qt.keccakP=void 0;const ta=Hr,ec=st,tc=Ui,[rw,nw,iw]=[[],[],[]],iI=BigInt(0),rc=BigInt(1),oI=BigInt(2),sI=BigInt(7),aI=BigInt(256),cI=BigInt(113);for(let e=0,t=rc,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],rw.push(2*(5*n+r)),nw.push((e+1)*(e+2)/2%64);let i=iI;for(let o=0;o<7;o++)t=(t<<rc^(t>>sI)*cI)%aI,t&oI&&(i^=rc<<(rc<<BigInt(o))-rc);iw.push(i)}const[fI,uI]=(0,ec.split)(iw,!0),ow=(e,t,r)=>r>32?(0,ec.rotlBH)(e,t,r):(0,ec.rotlSH)(e,t,r),sw=(e,t,r)=>r>32?(0,ec.rotlBL)(e,t,r):(0,ec.rotlSL)(e,t,r);function aw(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let s=0;s<10;s++)r[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,c=(s+2)%10,u=r[c],l=r[c+1],y=ow(u,l,1)^r[a],A=sw(u,l,1)^r[a+1];for(let v=0;v<50;v+=10)e[s+v]^=y,e[s+v+1]^=A}let i=e[2],o=e[3];for(let s=0;s<24;s++){const a=nw[s],c=ow(i,o,a),u=sw(i,o,a),l=rw[s];i=e[l],o=e[l+1],e[l]=c,e[l+1]=u}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=e[s+a];for(let a=0;a<10;a++)e[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=fI[n],e[1]^=uI[n]}r.fill(0)}Qt.keccakP=aw;class nc extends tc.Hash{constructor(t,r,n,i=!1,o=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,ta.number)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,tc.u32)(this.state)}keccak(){aw(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){(0,ta.exists)(this);const{blockLen:r,state:n}=this;t=(0,tc.toBytes)(t);const i=t.length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=t[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,r&128&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){(0,ta.exists)(this,!1),(0,ta.bytes)(t),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,o=t.length;i<o;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,o-i);t.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,ta.number)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,ta.output)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return t||(t=new nc(r,n,i,s,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=i,t.enableXOF=s,t.destroyed=this.destroyed,t}}Qt.Keccak=nc;const wo=(e,t,r)=>(0,tc.wrapConstructor)(()=>new nc(t,e,r));Qt.sha3_224=wo(6,144,224/8),Qt.sha3_256=wo(6,136,256/8),Qt.sha3_384=wo(6,104,384/8),Qt.sha3_512=wo(6,72,512/8),Qt.keccak_224=wo(1,144,224/8),Qt.keccak_256=wo(1,136,256/8),Qt.keccak_384=wo(1,104,384/8),Qt.keccak_512=wo(1,72,512/8);const cw=(e,t,r)=>(0,tc.wrapXOFConstructorWithOpts)((n={})=>new nc(t,e,n.dkLen===void 0?r:n.dkLen,!0));Qt.shake128=cw(31,168,128/8),Qt.shake256=cw(31,136,256/8);function pd(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var du={exports:{}};(function(e,t){var r=ft&&ft.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=t.wrapHash=t.equalsBytes=t.hexToBytes=t.bytesToUtf8=t.utf8ToBytes=t.createView=t.concatBytes=t.toHex=t.bytesToHex=t.assertBytes=t.assertBool=void 0;const n=r(Hr),i=Ui,o=n.default.bool;t.assertBool=o;const s=n.default.bytes;t.assertBytes=s;var a=Ui;Object.defineProperty(t,"bytesToHex",{enumerable:!0,get:function(){return a.bytesToHex}}),Object.defineProperty(t,"toHex",{enumerable:!0,get:function(){return a.bytesToHex}}),Object.defineProperty(t,"concatBytes",{enumerable:!0,get:function(){return a.concatBytes}}),Object.defineProperty(t,"createView",{enumerable:!0,get:function(){return a.createView}}),Object.defineProperty(t,"utf8ToBytes",{enumerable:!0,get:function(){return a.utf8ToBytes}});function c(A){if(!(A instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof A}`);return new TextDecoder().decode(A)}t.bytesToUtf8=c;function u(A){const v=A.startsWith("0x")?A.substring(2):A;return(0,i.hexToBytes)(v)}t.hexToBytes=u;function l(A,v){if(A.length!==v.length)return!1;for(let R=0;R<A.length;R++)if(A[R]!==v[R])return!1;return!0}t.equalsBytes=l;function y(A){return v=>(n.default.bytes(v),A(v))}t.wrapHash=y,t.crypto=(()=>{const A=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,v=typeof pd=="function"&&pd.bind(e);return{node:v&&!A?v("crypto"):void 0,web:A}})()})(du,du.exports),Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.keccak512=Wn.keccak384=Wn.keccak256=Wn.keccak224=void 0;const ic=Qt,pu=du.exports;Wn.keccak224=(0,pu.wrapHash)(ic.keccak_224),Wn.keccak256=(()=>{const e=(0,pu.wrapHash)(ic.keccak_256);return e.create=ic.keccak_256.create,e})(),Wn.keccak384=(0,pu.wrapHash)(ic.keccak_384),Wn.keccak512=(0,pu.wrapHash)(ic.keccak_512);var rs={},Kn={},er={};Object.defineProperty(er,"__esModule",{value:!0}),er.isHexString=er.getKeys=er.fromAscii=er.fromUtf8=er.toAscii=er.arrayContainsArray=er.getBinarySize=er.padToEven=er.stripHexPrefix=er.isHexPrefixed=void 0;function fw(e){if(typeof e!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof e}`);return e[0]==="0"&&e[1]==="x"}er.isHexPrefixed=fw;const lI=e=>{if(typeof e!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof e}`);return fw(e)?e.slice(2):e};er.stripHexPrefix=lI;function uw(e){let t=e;if(typeof t!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof t}`);return t.length%2&&(t=`0${t}`),t}er.padToEven=uw;function hI(e){if(typeof e!="string")throw new Error(`[getBinarySize] method requires input type 'string', received ${typeof e}`);return ie.Buffer.byteLength(e,"utf8")}er.getBinarySize=hI;function dI(e,t,r){if(Array.isArray(e)!==!0)throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof e}'`);if(Array.isArray(t)!==!0)throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof t}'`);return t[r===!0?"some":"every"](n=>e.indexOf(n)>=0)}er.arrayContainsArray=dI;function pI(e){let t="",r=0;const n=e.length;for(e.substring(0,2)==="0x"&&(r=2);r<n;r+=2){const i=parseInt(e.substr(r,2),16);t+=String.fromCharCode(i)}return t}er.toAscii=pI;function gI(e){const t=ie.Buffer.from(e,"utf8");return`0x${uw(t.toString("hex")).replace(/^0+|0+$/g,"")}`}er.fromUtf8=gI;function yI(e){let t="";for(let r=0;r<e.length;r++){const i=e.charCodeAt(r).toString(16);t+=i.length<2?`0${i}`:i}return`0x${t}`}er.fromAscii=yI;function wI(e,t,r){if(!Array.isArray(e))throw new Error(`[getKeys] method expects input 'params' to be an array, got ${typeof e}`);if(typeof t!="string")throw new Error(`[getKeys] method expects input 'key' to be type 'string', got ${typeof e}`);const n=[];for(let i=0;i<e.length;i++){let o=e[i][t];if(r===!0&&!o)o="";else if(typeof o!="string")throw new Error(`invalid abi - expected type 'string', received ${typeof o}`);n.push(o)}return n}er.getKeys=wI;function mI(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||typeof t<"u"&&t>0&&e.length!==2+2*t)}er.isHexString=mI,Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.assertIsString=Kn.assertIsArray=Kn.assertIsBuffer=Kn.assertIsHexString=void 0;const bI=er,vI=function(e){if(!(0,bI.isHexString)(e)){const t=`This method only supports 0x-prefixed hex strings but input was: ${e}`;throw new Error(t)}};Kn.assertIsHexString=vI;const _I=function(e){if(!ie.Buffer.isBuffer(e)){const t=`This method only supports Buffer but input was: ${e}`;throw new Error(t)}};Kn.assertIsBuffer=_I;const EI=function(e){if(!Array.isArray(e)){const t=`This method only supports number arrays but input was: ${e}`;throw new Error(t)}};Kn.assertIsArray=EI;const xI=function(e){if(typeof e!="string"){const t=`This method only supports strings but input was: ${e}`;throw new Error(t)}};Kn.assertIsString=xI,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.intToUnpaddedBuffer=e.bigIntToUnpaddedBuffer=e.bigIntToHex=e.bufArrToArr=e.arrToBufArr=e.validateNoLeadingZeroes=e.baToJSON=e.toUtf8=e.short=e.addHexPrefix=e.toUnsigned=e.fromSigned=e.bufferToInt=e.bigIntToBuffer=e.bufferToBigInt=e.bufferToHex=e.toBuffer=e.unpadHexString=e.unpadArray=e.unpadBuffer=e.setLengthRight=e.setLengthLeft=e.zeros=e.intToBuffer=e.intToHex=void 0;const t=Kn,r=er,n=function(f){if(!Number.isSafeInteger(f)||f<0)throw new Error(`Received an invalid integer type: ${f}`);return`0x${f.toString(16)}`};e.intToHex=n;const i=function(f){const h=(0,e.intToHex)(f);return ie.Buffer.from((0,r.padToEven)(h.slice(2)),"hex")};e.intToBuffer=i;const o=function(f){return ie.Buffer.allocUnsafe(f).fill(0)};e.zeros=o;const s=function(f,h,m){const _=(0,e.zeros)(h);return m?f.length<h?(f.copy(_),_):f.slice(0,h):f.length<h?(f.copy(_,h-f.length),_):f.slice(-h)},a=function(f,h){return(0,t.assertIsBuffer)(f),s(f,h,!1)};e.setLengthLeft=a;const c=function(f,h){return(0,t.assertIsBuffer)(f),s(f,h,!0)};e.setLengthRight=c;const u=function(f){let h=f[0];for(;f.length>0&&h.toString()==="0";)f=f.slice(1),h=f[0];return f},l=function(f){return(0,t.assertIsBuffer)(f),u(f)};e.unpadBuffer=l;const y=function(f){return(0,t.assertIsArray)(f),u(f)};e.unpadArray=y;const A=function(f){return(0,t.assertIsHexString)(f),f=(0,r.stripHexPrefix)(f),"0x"+u(f)};e.unpadHexString=A;const v=function(f){if(f==null)return ie.Buffer.allocUnsafe(0);if(ie.Buffer.isBuffer(f)||Array.isArray(f)||f instanceof Uint8Array)return ie.Buffer.from(f);if(typeof f=="string"){if(!(0,r.isHexString)(f))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${f}`);return ie.Buffer.from((0,r.padToEven)((0,r.stripHexPrefix)(f)),"hex")}if(typeof f=="number")return(0,e.intToBuffer)(f);if(typeof f=="bigint"){if(f<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${f}`);let h=f.toString(16);return h.length%2&&(h="0"+h),ie.Buffer.from(h,"hex")}if(f.toArray)return ie.Buffer.from(f.toArray());if(f.toBuffer)return ie.Buffer.from(f.toBuffer());throw new Error("invalid type")};e.toBuffer=v;const R=function(f){return f=(0,e.toBuffer)(f),"0x"+f.toString("hex")};e.bufferToHex=R;function O(f){const h=(0,e.bufferToHex)(f);return BigInt(h==="0x"?0:h)}e.bufferToBigInt=O;function P(f){return(0,e.toBuffer)("0x"+f.toString(16))}e.bigIntToBuffer=P;const H=function(f){const h=Number(O(f));if(!Number.isSafeInteger(h))throw new Error("Number exceeds 53 bits");return h};e.bufferToInt=H;const F=function(f){return BigInt.asIntN(256,O(f))};e.fromSigned=F;const N=function(f){return P(BigInt.asUintN(256,f))};e.toUnsigned=N;const $=function(f){return typeof f!="string"||(0,r.isHexPrefixed)(f)?f:"0x"+f};e.addHexPrefix=$;function q(f,h=50){const m=ie.Buffer.isBuffer(f)?f.toString("hex"):f;return m.length<=h?m:m.slice(0,h)+"\u2026"}e.short=q;const G=function(f){const h=/^(00)+|(00)+$/g;if(f=(0,r.stripHexPrefix)(f),f.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return ie.Buffer.from(f.replace(h,""),"hex").toString("utf8")};e.toUtf8=G;const Z=function(f){if(ie.Buffer.isBuffer(f))return`0x${f.toString("hex")}`;if(f instanceof Array){const h=[];for(let m=0;m<f.length;m++)h.push((0,e.baToJSON)(f[m]));return h}};e.baToJSON=Z;const z=function(f){for(const[h,m]of Object.entries(f))if(m!==void 0&&m.length>0&&m[0]===0)throw new Error(`${h} cannot have leading zeroes, received: ${m.toString("hex")}`)};e.validateNoLeadingZeroes=z;function ee(f){return Array.isArray(f)?f.map(h=>ee(h)):ie.Buffer.from(f)}e.arrToBufArr=ee;function oe(f){return Array.isArray(f)?f.map(h=>oe(h)):Uint8Array.from(f??[])}e.bufArrToArr=oe;const Q=f=>"0x"+f.toString(16);e.bigIntToHex=Q;function I(f){return(0,e.unpadBuffer)(P(f))}e.bigIntToUnpaddedBuffer=I;function g(f){return(0,e.unpadBuffer)((0,e.intToBuffer)(f))}e.intToUnpaddedBuffer=g}(rs),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.accountBodyToRLP=e.accountBodyToSlim=e.accountBodyFromSlim=e.isZeroAddress=e.zeroAddress=e.importPublic=e.privateToAddress=e.privateToPublic=e.publicToAddress=e.pubToAddress=e.isValidPublic=e.isValidPrivate=e.generateAddress2=e.generateAddress=e.isValidChecksumAddress=e.toChecksumAddress=e.isValidAddress=e.Account=void 0;const t=vi,r=Wn,n=nu,i=du.exports,o=rs,s=ru,a=Kn,c=er,u=BigInt(0);class l{constructor(g=u,f=u,h=s.KECCAK256_RLP,m=s.KECCAK256_NULL){this.nonce=g,this.balance=f,this.storageRoot=h,this.codeHash=m,this._validate()}static fromAccountData(g){const{nonce:f,balance:h,storageRoot:m,codeHash:_}=g;return new l(f!==void 0?(0,o.bufferToBigInt)((0,o.toBuffer)(f)):void 0,h!==void 0?(0,o.bufferToBigInt)((0,o.toBuffer)(h)):void 0,m!==void 0?(0,o.toBuffer)(m):void 0,_!==void 0?(0,o.toBuffer)(_):void 0)}static fromRlpSerializedAccount(g){const f=(0,o.arrToBufArr)(t.RLP.decode(Uint8Array.from(g)));if(!Array.isArray(f))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(f)}static fromValuesArray(g){const[f,h,m,_]=g;return new l((0,o.bufferToBigInt)(f),(0,o.bufferToBigInt)(h),m,_)}_validate(){if(this.nonce<u)throw new Error("nonce must be greater than zero");if(this.balance<u)throw new Error("balance must be greater than zero");if(this.storageRoot.length!==32)throw new Error("storageRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")}raw(){return[(0,o.bigIntToUnpaddedBuffer)(this.nonce),(0,o.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return ie.Buffer.from(t.RLP.encode((0,o.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(s.KECCAK256_NULL)}isEmpty(){return this.balance===u&&this.nonce===u&&this.codeHash.equals(s.KECCAK256_NULL)}}e.Account=l;const y=function(I){try{(0,a.assertIsString)(I)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(I)};e.isValidAddress=y;const A=function(I,g){(0,a.assertIsHexString)(I);const f=(0,c.stripHexPrefix)(I).toLowerCase();let h="";g!==void 0&&(h=(0,o.bufferToBigInt)((0,o.toBuffer)(g)).toString()+"0x");const m=ie.Buffer.from(h+f,"utf8"),_=(0,i.bytesToHex)((0,r.keccak256)(m));let E="0x";for(let x=0;x<f.length;x++)parseInt(_[x],16)>=8?E+=f[x].toUpperCase():E+=f[x];return E};e.toChecksumAddress=A;const v=function(I,g){return(0,e.isValidAddress)(I)&&(0,e.toChecksumAddress)(I,g)===I};e.isValidChecksumAddress=v;const R=function(I,g){return(0,a.assertIsBuffer)(I),(0,a.assertIsBuffer)(g),(0,o.bufferToBigInt)(g)===BigInt(0)?ie.Buffer.from((0,r.keccak256)(t.RLP.encode((0,o.bufArrToArr)([I,null])))).slice(-20):ie.Buffer.from((0,r.keccak256)(t.RLP.encode((0,o.bufArrToArr)([I,g])))).slice(-20)};e.generateAddress=R;const O=function(I,g,f){if((0,a.assertIsBuffer)(I),(0,a.assertIsBuffer)(g),(0,a.assertIsBuffer)(f),I.length!==20)throw new Error("Expected from to be of length 20");if(g.length!==32)throw new Error("Expected salt to be of length 32");const h=(0,r.keccak256)(ie.Buffer.concat([ie.Buffer.from("ff","hex"),I,g,(0,r.keccak256)(f)]));return(0,o.toBuffer)(h).slice(-20)};e.generateAddress2=O;const P=function(I){return n.secp256k1.utils.isValidPrivateKey(I)};e.isValidPrivate=P;const H=function(I,g=!1){if((0,a.assertIsBuffer)(I),I.length===64)try{return n.secp256k1.ProjectivePoint.fromHex(ie.Buffer.concat([ie.Buffer.from([4]),I])),!0}catch{return!1}if(!g)return!1;try{return n.secp256k1.ProjectivePoint.fromHex(I),!0}catch{return!1}};e.isValidPublic=H;const F=function(I,g=!1){if((0,a.assertIsBuffer)(I),g&&I.length!==64&&(I=ie.Buffer.from(n.secp256k1.ProjectivePoint.fromHex(I).toRawBytes(!1).slice(1))),I.length!==64)throw new Error("Expected pubKey to be of length 64");return ie.Buffer.from((0,r.keccak256)(I)).slice(-20)};e.pubToAddress=F,e.publicToAddress=e.pubToAddress;const N=function(I){return(0,a.assertIsBuffer)(I),ie.Buffer.from(n.secp256k1.ProjectivePoint.fromPrivateKey(I).toRawBytes(!1).slice(1))};e.privateToPublic=N;const $=function(I){return(0,e.publicToAddress)((0,e.privateToPublic)(I))};e.privateToAddress=$;const q=function(I){return(0,a.assertIsBuffer)(I),I.length!==64&&(I=ie.Buffer.from(n.secp256k1.ProjectivePoint.fromHex(I).toRawBytes(!1).slice(1))),I};e.importPublic=q;const G=function(){const g=(0,o.zeros)(20);return(0,o.bufferToHex)(g)};e.zeroAddress=G;const Z=function(I){try{(0,a.assertIsString)(I)}catch{return!1}return(0,e.zeroAddress)()===I};e.isZeroAddress=Z;function z(I){const[g,f,h,m]=I;return[g,f,(0,o.arrToBufArr)(h).length===0?s.KECCAK256_RLP:h,(0,o.arrToBufArr)(m).length===0?s.KECCAK256_NULL:m]}e.accountBodyFromSlim=z;const ee=new Uint8Array(0);function oe(I){const[g,f,h,m]=I;return[g,f,(0,o.arrToBufArr)(h).equals(s.KECCAK256_RLP)?ee:h,(0,o.arrToBufArr)(m).equals(s.KECCAK256_NULL)?ee:m]}e.accountBodyToSlim=oe;function Q(I,g=!0){const f=g?z(I):I;return(0,o.arrToBufArr)(t.RLP.encode(f))}e.accountBodyToRLP=Q}(ad);var oc={};Object.defineProperty(oc,"__esModule",{value:!0}),oc.Address=void 0;const sc=ad,gu=rs;class Di{constructor(t){if(t.length!==20)throw new Error("Invalid address length");this.buf=t}static zero(){return new Di((0,gu.zeros)(20))}static fromString(t){if(!(0,sc.isValidAddress)(t))throw new Error("Invalid address");return new Di((0,gu.toBuffer)(t))}static fromPublicKey(t){if(!ie.Buffer.isBuffer(t))throw new Error("Public key should be Buffer");const r=(0,sc.pubToAddress)(t);return new Di(r)}static fromPrivateKey(t){if(!ie.Buffer.isBuffer(t))throw new Error("Private key should be Buffer");const r=(0,sc.privateToAddress)(t);return new Di(r)}static generate(t,r){if(typeof r!="bigint")throw new Error("Expected nonce to be a bigint");return new Di((0,sc.generateAddress)(t.buf,(0,gu.bigIntToBuffer)(r)))}static generate2(t,r,n){if(!ie.Buffer.isBuffer(r))throw new Error("Expected salt to be a Buffer");if(!ie.Buffer.isBuffer(n))throw new Error("Expected initCode to be a Buffer");return new Di((0,sc.generateAddress2)(t.buf,r,n))}equals(t){return this.buf.equals(t.buf)}isZero(){return this.equals(Di.zero())}isPrecompileOrSystemAddress(){const t=(0,gu.bufferToBigInt)(this.buf),r=BigInt(0),n=BigInt("0xffff");return t>=r&&t<=n}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return ie.Buffer.from(this.buf)}}oc.Address=Di;var yu={},gd={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toType=e.TypeOutput=void 0;const t=rs,r=er;var n;(function(o){o[o.Number=0]="Number",o[o.BigInt=1]="BigInt",o[o.Buffer=2]="Buffer",o[o.PrefixedHexString=3]="PrefixedHexString"})(n=e.TypeOutput||(e.TypeOutput={}));function i(o,s){if(o===null)return null;if(o===void 0)return;if(typeof o=="string"&&!(0,r.isHexString)(o))throw new Error(`A string must be provided with a 0x-prefix, given: ${o}`);if(typeof o=="number"&&!Number.isSafeInteger(o))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const a=(0,t.toBuffer)(o);switch(s){case n.Buffer:return a;case n.BigInt:return(0,t.bufferToBigInt)(a);case n.Number:{const c=(0,t.bufferToBigInt)(a);if(c>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(c)}case n.PrefixedHexString:return(0,t.bufferToHex)(a);default:throw new Error("unknown outputType")}}e.toType=i})(gd),Object.defineProperty(yu,"__esModule",{value:!0}),yu.Withdrawal=void 0;const lw=oc,yd=rs,br=gd;class ac{constructor(t,r,n,i){this.index=t,this.validatorIndex=r,this.address=n,this.amount=i}static fromWithdrawalData(t){const{index:r,validatorIndex:n,address:i,amount:o}=t,s=(0,br.toType)(r,br.TypeOutput.BigInt),a=(0,br.toType)(n,br.TypeOutput.BigInt),c=new lw.Address((0,br.toType)(i,br.TypeOutput.Buffer)),u=(0,br.toType)(o,br.TypeOutput.BigInt);return new ac(s,a,c,u)}static fromValuesArray(t){if(t.length!==4)throw Error(`Invalid withdrawalArray length expected=4 actual=${t.length}`);const[r,n,i,o]=t;return ac.fromWithdrawalData({index:r,validatorIndex:n,address:i,amount:o})}static toBufferArray(t){const{index:r,validatorIndex:n,address:i,amount:o}=t,s=(0,br.toType)(r,br.TypeOutput.BigInt)===BigInt(0)?ie.Buffer.alloc(0):(0,br.toType)(r,br.TypeOutput.Buffer),a=(0,br.toType)(n,br.TypeOutput.BigInt)===BigInt(0)?ie.Buffer.alloc(0):(0,br.toType)(n,br.TypeOutput.Buffer);let c;i instanceof lw.Address?c=i.buf:c=(0,br.toType)(i,br.TypeOutput.Buffer);const u=(0,br.toType)(o,br.TypeOutput.BigInt)===BigInt(0)?ie.Buffer.alloc(0):(0,br.toType)(o,br.TypeOutput.Buffer);return[s,a,c,u]}raw(){return ac.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,yd.bigIntToHex)(this.index),validatorIndex:(0,yd.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,yd.bigIntToHex)(this.amount)}}}yu.Withdrawal=ac;var an={};Object.defineProperty(an,"__esModule",{value:!0}),an.hashPersonalMessage=an.isValidSignature=an.fromRpcSig=an.toCompactSig=an.toRpcSig=an.ecrecover=an.ecsign=void 0;const SI=Wn,hw=nu,bn=rs,wd=ru,AI=Kn;function BI(e,t,r){const n=hw.secp256k1.sign(e,t),i=n.toCompactRawBytes(),o=ie.Buffer.from(i.slice(0,32)),s=ie.Buffer.from(i.slice(32,64)),a=r===void 0?BigInt(n.recovery+27):BigInt(n.recovery+35)+BigInt(r)*BigInt(2);return{r:o,s,v:a}}an.ecsign=BI;function wu(e,t){return e===BigInt(0)||e===BigInt(1)?e:t===void 0?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}function mu(e){return e===BigInt(0)||e===BigInt(1)}const II=function(e,t,r,n,i){const o=ie.Buffer.concat([(0,bn.setLengthLeft)(r,32),(0,bn.setLengthLeft)(n,32)],64),s=wu(t,i);if(!mu(s))throw new Error("Invalid signature v value");const c=hw.secp256k1.Signature.fromCompact(o).addRecoveryBit(Number(s)).recoverPublicKey(e);return ie.Buffer.from(c.toRawBytes(!1).slice(1))};an.ecrecover=II;const RI=function(e,t,r,n){const i=wu(e,n);if(!mu(i))throw new Error("Invalid signature v value");return(0,bn.bufferToHex)(ie.Buffer.concat([(0,bn.setLengthLeft)(t,32),(0,bn.setLengthLeft)(r,32),(0,bn.toBuffer)(e)]))};an.toRpcSig=RI;const TI=function(e,t,r,n){const i=wu(e,n);if(!mu(i))throw new Error("Invalid signature v value");let o=r;return(e>BigInt(28)&&e%BigInt(2)===BigInt(1)||e===BigInt(1)||e===BigInt(28))&&(o=ie.Buffer.from(r),o[0]|=128),(0,bn.bufferToHex)(ie.Buffer.concat([(0,bn.setLengthLeft)(t,32),(0,bn.setLengthLeft)(o,32)]))};an.toCompactSig=TI;const kI=function(e){const t=(0,bn.toBuffer)(e);let r,n,i;if(t.length>=65)r=t.slice(0,32),n=t.slice(32,64),i=(0,bn.bufferToBigInt)(t.slice(64));else if(t.length===64)r=t.slice(0,32),n=t.slice(32,64),i=BigInt((0,bn.bufferToInt)(t.slice(32,33))>>7),n[0]&=127;else throw new Error("Invalid signature length");return i<27&&(i=i+BigInt(27)),{v:i,r,s:n}};an.fromRpcSig=kI;const CI=function(e,t,r,n=!0,i){if(t.length!==32||r.length!==32||!mu(wu(e,i)))return!1;const o=(0,bn.bufferToBigInt)(t),s=(0,bn.bufferToBigInt)(r);return!(o===BigInt(0)||o>=wd.SECP256K1_ORDER||s===BigInt(0)||s>=wd.SECP256K1_ORDER||n&&s>=wd.SECP256K1_ORDER_DIV_2)};an.isValidSignature=CI;const LI=function(e){(0,AI.assertIsBuffer)(e);const t=ie.Buffer.from(`Ethereum Signed Message:
${e.length}`,"utf-8");return ie.Buffer.from((0,SI.keccak256)(ie.Buffer.concat([t,e])))};an.hashPersonalMessage=LI;var dw={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.compactBytesToNibbles=e.bytesToNibbles=e.nibblesToCompactBytes=e.nibblesToBytes=e.hasTerminator=void 0;const t=s=>s.length>0&&s[s.length-1]===16;e.hasTerminator=t;const r=(s,a)=>{for(let c=0,u=0;u<s.length;c+=1,u+=2)a[c]=s[u]<<4|s[u+1]};e.nibblesToBytes=r;const n=s=>{let a=0;(0,e.hasTerminator)(s)&&(a=1,s=s.subarray(0,s.length-1));const c=new Uint8Array(s.length/2+1);return c[0]=a<<5,(s.length&1)===1&&(c[0]|=16,c[0]|=s[0],s=s.subarray(1)),(0,e.nibblesToBytes)(s,c.subarray(1)),c};e.nibblesToCompactBytes=n;const i=s=>{const a=s.length*2+1,c=new Uint8Array(a);for(let u=0;u<s.length;u++){const l=s[u];c[u*2]=l/16,c[u*2+1]=l%16}return c[a-1]=16,c};e.bytesToNibbles=i;const o=s=>{if(s.length===0)return s;let a=(0,e.bytesToNibbles)(s);a[0]<2&&(a=a.subarray(0,a.length-1));const c=2-(a[0]&1);return a.subarray(c)};e.compactBytesToNibbles=o})(dw);var bu={};Object.defineProperty(bu,"__esModule",{value:!0}),bu.AsyncEventEmitter=void 0;const $I=Dn.exports;async function OI(e,t,r){let n;for await(const i of t)try{i.length<2?i.call(e,r):await new Promise((o,s)=>{i.call(e,r,a=>{a?s(a):o()})})}catch(o){n=o}if(n)throw n}class MI extends $I.EventEmitter{emit(t,...r){let[n,i]=r;const o=this;let s=o._events[t]??[];return i===void 0&&typeof n=="function"&&(i=n,n=void 0),(t==="newListener"||t==="removeListener")&&(n={event:n,fn:i},i=void 0),s=Array.isArray(s)?s:[s],OI(o,s.slice(),n).then(i).catch(i),o.listenerCount(t)>0}once(t,r){const n=this;let i;if(typeof r!="function")throw new TypeError("listener must be a function");return r.length>=2?i=function(o,s){n.removeListener(t,i),r(o,s)}:i=function(o){n.removeListener(t,i),r(o,i)},n.on(t,i),n}first(t,r){let n=this._events[t]??[];if(typeof r!="function")throw new TypeError("listener must be a function");return Array.isArray(n)||(this._events[t]=n=[n]),n.unshift(r),this}before(t,r,n){return this.beforeOrAfter(t,r,n)}after(t,r,n){return this.beforeOrAfter(t,r,n,"after")}beforeOrAfter(t,r,n,i){let o=this._events[t]??[],s,a;const c=i==="after"?1:0;if(typeof n!="function")throw new TypeError("listener must be a function");if(typeof r!="function")throw new TypeError("target must be a function");for(Array.isArray(o)||(this._events[t]=o=[o]),a=o.length,s=o.length;s--;)if(o[s]===r){a=s+c;break}return o.splice(a,0,n),this}on(t,r){return super.on(t,r)}addListener(t,r){return super.addListener(t,r)}prependListener(t,r){return super.prependListener(t,r)}prependOnceListener(t,r){return super.prependOnceListener(t,r)}removeAllListeners(t){return super.removeAllListeners(t)}removeListener(t,r){return super.removeListener(t,r)}eventNames(){return super.eventNames()}listeners(t){return super.listeners(t)}listenerCount(t){return super.listenerCount(t)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(t){return super.setMaxListeners(t)}}bu.AsyncEventEmitter=MI;var vu={};Object.defineProperty(vu,"__esModule",{value:!0}),vu.Lock=void 0;class NI{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(t=>this.promiseResolverQueue.push(t))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(this.permits===1&&this.promiseResolverQueue.length>0){this.permits-=1;const t=this.promiseResolverQueue.shift();t&&t(!0)}}}vu.Lock=NI;var ra={},ns={},pr=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},_i=[],Zn=[],PI=typeof Uint8Array<"u"?Uint8Array:Array,md=!1;function pw(){md=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)_i[t]=e[t],Zn[e.charCodeAt(t)]=t;Zn["-".charCodeAt(0)]=62,Zn["_".charCodeAt(0)]=63}function UI(e){md||pw();var t,r,n,i,o,s,a=e.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o=e[a-2]==="="?2:e[a-1]==="="?1:0,s=new PI(a*3/4-o),n=o>0?a-4:a;var c=0;for(t=0,r=0;t<n;t+=4,r+=3)i=Zn[e.charCodeAt(t)]<<18|Zn[e.charCodeAt(t+1)]<<12|Zn[e.charCodeAt(t+2)]<<6|Zn[e.charCodeAt(t+3)],s[c++]=i>>16&255,s[c++]=i>>8&255,s[c++]=i&255;return o===2?(i=Zn[e.charCodeAt(t)]<<2|Zn[e.charCodeAt(t+1)]>>4,s[c++]=i&255):o===1&&(i=Zn[e.charCodeAt(t)]<<10|Zn[e.charCodeAt(t+1)]<<4|Zn[e.charCodeAt(t+2)]>>2,s[c++]=i>>8&255,s[c++]=i&255),s}function FI(e){return _i[e>>18&63]+_i[e>>12&63]+_i[e>>6&63]+_i[e&63]}function DI(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(FI(n));return i.join("")}function gw(e){md||pw();for(var t,r=e.length,n=r%3,i="",o=[],s=16383,a=0,c=r-n;a<c;a+=s)o.push(DI(e,a,a+s>c?c:a+s));return n===1?(t=e[r-1],i+=_i[t>>2],i+=_i[t<<4&63],i+="=="):n===2&&(t=(e[r-2]<<8)+e[r-1],i+=_i[t>>10],i+=_i[t>>4&63],i+=_i[t<<2&63],i+="="),o.push(i),o.join("")}function _u(e,t,r,n,i){var o,s,a=i*8-n-1,c=(1<<a)-1,u=c>>1,l=-7,y=r?i-1:0,A=r?-1:1,v=e[t+y];for(y+=A,o=v&(1<<-l)-1,v>>=-l,l+=a;l>0;o=o*256+e[t+y],y+=A,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=s*256+e[t+y],y+=A,l-=8);if(o===0)o=1-u;else{if(o===c)return s?NaN:(v?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-u}return(v?-1:1)*s*Math.pow(2,o-n)}function yw(e,t,r,n,i,o){var s,a,c,u=o*8-i-1,l=(1<<u)-1,y=l>>1,A=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:o-1,R=n?1:-1,O=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+y>=1?t+=A/c:t+=A*Math.pow(2,1-y),t*c>=2&&(s++,c/=2),s+y>=l?(a=0,s=l):s+y>=1?(a=(t*c-1)*Math.pow(2,i),s=s+y):(a=t*Math.pow(2,y-1)*Math.pow(2,i),s=0));i>=8;e[r+v]=a&255,v+=R,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+v]=s&255,v+=R,s/=256,u-=8);e[r+v-R]|=O*128}var HI={}.toString,ww=Array.isArray||function(e){return HI.call(e)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var jI=50;le.TYPED_ARRAY_SUPPORT=pr.TYPED_ARRAY_SUPPORT!==void 0?pr.TYPED_ARRAY_SUPPORT:!0,Eu();function Eu(){return le.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Hi(e,t){if(Eu()<t)throw new RangeError("Invalid typed array length");return le.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=le.prototype):(e===null&&(e=new le(t)),e.length=t),e}function le(e,t,r){if(!le.TYPED_ARRAY_SUPPORT&&!(this instanceof le))return new le(e,t,r);if(typeof e=="number"){if(typeof t=="string")throw new Error("If encoding is specified then the first argument must be a string");return bd(this,e)}return mw(this,e,t,r)}le.poolSize=8192,le._augment=function(e){return e.__proto__=le.prototype,e};function mw(e,t,r,n){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer?VI(e,t,r,n):typeof t=="string"?qI(e,t,r):WI(e,t)}le.from=function(e,t,r){return mw(null,e,t,r)},le.TYPED_ARRAY_SUPPORT&&(le.prototype.__proto__=Uint8Array.prototype,le.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&le[Symbol.species]);function bw(e){if(typeof e!="number")throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function zI(e,t,r,n){return bw(t),t<=0?Hi(e,t):r!==void 0?typeof n=="string"?Hi(e,t).fill(r,n):Hi(e,t).fill(r):Hi(e,t)}le.alloc=function(e,t,r){return zI(null,e,t,r)};function bd(e,t){if(bw(t),e=Hi(e,t<0?0:_d(t)|0),!le.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}le.allocUnsafe=function(e){return bd(null,e)},le.allocUnsafeSlow=function(e){return bd(null,e)};function qI(e,t,r){if((typeof r!="string"||r==="")&&(r="utf8"),!le.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=vw(t,r)|0;e=Hi(e,n);var i=e.write(t,r);return i!==n&&(e=e.slice(0,i)),e}function vd(e,t){var r=t.length<0?0:_d(t.length)|0;e=Hi(e,r);for(var n=0;n<r;n+=1)e[n]=t[n]&255;return e}function VI(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return r===void 0&&n===void 0?t=new Uint8Array(t):n===void 0?t=new Uint8Array(t,r):t=new Uint8Array(t,r,n),le.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=le.prototype):e=vd(e,t),e}function WI(e,t){if(Ei(t)){var r=_d(t.length)|0;return e=Hi(e,r),e.length===0||t.copy(e,0,0,r),e}if(t){if(typeof ArrayBuffer<"u"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||l8(t.length)?Hi(e,0):vd(e,t);if(t.type==="Buffer"&&ww(t.data))return vd(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function _d(e){if(e>=Eu())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Eu().toString(16)+" bytes");return e|0}le.isBuffer=h8;function Ei(e){return!!(e!=null&&e._isBuffer)}le.compare=function(t,r){if(!Ei(t)||!Ei(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var n=t.length,i=r.length,o=0,s=Math.min(n,i);o<s;++o)if(t[o]!==r[o]){n=t[o],i=r[o];break}return n<i?-1:i<n?1:0},le.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},le.concat=function(t,r){if(!ww(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return le.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<t.length;++n)r+=t[n].length;var i=le.allocUnsafe(r),o=0;for(n=0;n<t.length;++n){var s=t[n];if(!Ei(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,o),o+=s.length}return i};function vw(e,t){if(Ei(e))return e.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;typeof e!="string"&&(e=""+e);var r=e.length;if(r===0)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return Au(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Tw(e).length;default:if(n)return Au(e).length;t=(""+t).toLowerCase(),n=!0}}le.byteLength=vw;function KI(e,t,r){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return n8(this,t,r);case"utf8":case"utf-8":return Sw(this,t,r);case"ascii":return t8(this,t,r);case"latin1":case"binary":return r8(this,t,r);case"base64":return QI(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i8(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}le.prototype._isBuffer=!0;function is(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}le.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)is(this,r,r+1);return this},le.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)is(this,r,r+3),is(this,r+1,r+2);return this},le.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)is(this,r,r+7),is(this,r+1,r+6),is(this,r+2,r+5),is(this,r+3,r+4);return this},le.prototype.toString=function(){var t=this.length|0;return t===0?"":arguments.length===0?Sw(this,0,t):KI.apply(this,arguments)},le.prototype.equals=function(t){if(!Ei(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:le.compare(this,t)===0},le.prototype.inspect=function(){var t="",r=jI;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},le.prototype.compare=function(t,r,n,i,o){if(!Ei(t))throw new TypeError("Argument must be a Buffer");if(r===void 0&&(r=0),n===void 0&&(n=t?t.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===t)return 0;for(var s=o-i,a=n-r,c=Math.min(s,a),u=this.slice(i,o),l=t.slice(r,n),y=0;y<c;++y)if(u[y]!==l[y]){s=u[y],a=l[y];break}return s<a?-1:a<s?1:0};function _w(e,t,r,n,i){if(e.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof t=="string"&&(t=le.from(t,n)),Ei(t))return t.length===0?-1:Ew(e,t,r,n,i);if(typeof t=="number")return t=t&255,le.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):Ew(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Ew(e,t,r,n,i){var o=1,s=e.length,a=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;o=2,s/=2,a/=2,r/=2}function c(v,R){return o===1?v[R]:v.readUInt16BE(R*o)}var u;if(i){var l=-1;for(u=r;u<s;u++)if(c(e,u)===c(t,l===-1?0:u-l)){if(l===-1&&(l=u),u-l+1===a)return l*o}else l!==-1&&(u-=u-l),l=-1}else for(r+a>s&&(r=s-a),u=r;u>=0;u--){for(var y=!0,A=0;A<a;A++)if(c(e,u+A)!==c(t,A)){y=!1;break}if(y)return u}return-1}le.prototype.includes=function(t,r,n){return this.indexOf(t,r,n)!==-1},le.prototype.indexOf=function(t,r,n){return _w(this,t,r,n,!0)},le.prototype.lastIndexOf=function(t,r,n){return _w(this,t,r,n,!1)};function ZI(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(s*2,2),16);if(isNaN(a))return s;e[r+s]=a}return s}function GI(e,t,r,n){return Bu(Au(t,e.length-r),e,r,n)}function xw(e,t,r,n){return Bu(f8(t),e,r,n)}function YI(e,t,r,n){return xw(e,t,r,n)}function XI(e,t,r,n){return Bu(Tw(t),e,r,n)}function JI(e,t,r,n){return Bu(u8(t,e.length-r),e,r,n)}le.prototype.write=function(t,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-r;if((n===void 0||n>o)&&(n=o),t.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return ZI(this,t,r,n);case"utf8":case"utf-8":return GI(this,t,r,n);case"ascii":return xw(this,t,r,n);case"latin1":case"binary":return YI(this,t,r,n);case"base64":return XI(this,t,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return JI(this,t,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}},le.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function QI(e,t,r){return t===0&&r===e.length?gw(e):gw(e.slice(t,r))}function Sw(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o=e[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=r){var c,u,l,y;switch(a){case 1:o<128&&(s=o);break;case 2:c=e[i+1],(c&192)===128&&(y=(o&31)<<6|c&63,y>127&&(s=y));break;case 3:c=e[i+1],u=e[i+2],(c&192)===128&&(u&192)===128&&(y=(o&15)<<12|(c&63)<<6|u&63,y>2047&&(y<55296||y>57343)&&(s=y));break;case 4:c=e[i+1],u=e[i+2],l=e[i+3],(c&192)===128&&(u&192)===128&&(l&192)===128&&(y=(o&15)<<18|(c&63)<<12|(u&63)<<6|l&63,y>65535&&y<1114112&&(s=y))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=a}return e8(n)}var Aw=4096;function e8(e){var t=e.length;if(t<=Aw)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=Aw));return r}function t8(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]&127);return n}function r8(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function n8(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=c8(e[o]);return i}function i8(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}le.prototype.slice=function(t,r){var n=this.length;t=~~t,r=r===void 0?n:~~r,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<t&&(r=t);var i;if(le.TYPED_ARRAY_SUPPORT)i=this.subarray(t,r),i.__proto__=le.prototype;else{var o=r-t;i=new le(o,void 0);for(var s=0;s<o;++s)i[s]=this[s+t]}return i};function zr(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}le.prototype.readUIntLE=function(t,r,n){t=t|0,r=r|0,n||zr(t,r,this.length);for(var i=this[t],o=1,s=0;++s<r&&(o*=256);)i+=this[t+s]*o;return i},le.prototype.readUIntBE=function(t,r,n){t=t|0,r=r|0,n||zr(t,r,this.length);for(var i=this[t+--r],o=1;r>0&&(o*=256);)i+=this[t+--r]*o;return i},le.prototype.readUInt8=function(t,r){return r||zr(t,1,this.length),this[t]},le.prototype.readUInt16LE=function(t,r){return r||zr(t,2,this.length),this[t]|this[t+1]<<8},le.prototype.readUInt16BE=function(t,r){return r||zr(t,2,this.length),this[t]<<8|this[t+1]},le.prototype.readUInt32LE=function(t,r){return r||zr(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216},le.prototype.readUInt32BE=function(t,r){return r||zr(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])},le.prototype.readIntLE=function(t,r,n){t=t|0,r=r|0,n||zr(t,r,this.length);for(var i=this[t],o=1,s=0;++s<r&&(o*=256);)i+=this[t+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i},le.prototype.readIntBE=function(t,r,n){t=t|0,r=r|0,n||zr(t,r,this.length);for(var i=r,o=1,s=this[t+--i];i>0&&(o*=256);)s+=this[t+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*r)),s},le.prototype.readInt8=function(t,r){return r||zr(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]},le.prototype.readInt16LE=function(t,r){r||zr(t,2,this.length);var n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n},le.prototype.readInt16BE=function(t,r){r||zr(t,2,this.length);var n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n},le.prototype.readInt32LE=function(t,r){return r||zr(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},le.prototype.readInt32BE=function(t,r){return r||zr(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},le.prototype.readFloatLE=function(t,r){return r||zr(t,4,this.length),_u(this,t,!0,23,4)},le.prototype.readFloatBE=function(t,r){return r||zr(t,4,this.length),_u(this,t,!1,23,4)},le.prototype.readDoubleLE=function(t,r){return r||zr(t,8,this.length),_u(this,t,!0,52,8)},le.prototype.readDoubleBE=function(t,r){return r||zr(t,8,this.length),_u(this,t,!1,52,8)};function vn(e,t,r,n,i,o){if(!Ei(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}le.prototype.writeUIntLE=function(t,r,n,i){if(t=+t,r=r|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;vn(this,t,r,n,o,0)}var s=1,a=0;for(this[r]=t&255;++a<n&&(s*=256);)this[r+a]=t/s&255;return r+n},le.prototype.writeUIntBE=function(t,r,n,i){if(t=+t,r=r|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;vn(this,t,r,n,o,0)}var s=n-1,a=1;for(this[r+s]=t&255;--s>=0&&(a*=256);)this[r+s]=t/a&255;return r+n},le.prototype.writeUInt8=function(t,r,n){return t=+t,r=r|0,n||vn(this,t,r,1,255,0),le.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=t&255,r+1};function xu(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}le.prototype.writeUInt16LE=function(t,r,n){return t=+t,r=r|0,n||vn(this,t,r,2,65535,0),le.TYPED_ARRAY_SUPPORT?(this[r]=t&255,this[r+1]=t>>>8):xu(this,t,r,!0),r+2},le.prototype.writeUInt16BE=function(t,r,n){return t=+t,r=r|0,n||vn(this,t,r,2,65535,0),le.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=t&255):xu(this,t,r,!1),r+2};function Su(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>(n?i:3-i)*8&255}le.prototype.writeUInt32LE=function(t,r,n){return t=+t,r=r|0,n||vn(this,t,r,4,4294967295,0),le.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=t&255):Su(this,t,r,!0),r+4},le.prototype.writeUInt32BE=function(t,r,n){return t=+t,r=r|0,n||vn(this,t,r,4,4294967295,0),le.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255):Su(this,t,r,!1),r+4},le.prototype.writeIntLE=function(t,r,n,i){if(t=+t,r=r|0,!i){var o=Math.pow(2,8*n-1);vn(this,t,r,n,o-1,-o)}var s=0,a=1,c=0;for(this[r]=t&255;++s<n&&(a*=256);)t<0&&c===0&&this[r+s-1]!==0&&(c=1),this[r+s]=(t/a>>0)-c&255;return r+n},le.prototype.writeIntBE=function(t,r,n,i){if(t=+t,r=r|0,!i){var o=Math.pow(2,8*n-1);vn(this,t,r,n,o-1,-o)}var s=n-1,a=1,c=0;for(this[r+s]=t&255;--s>=0&&(a*=256);)t<0&&c===0&&this[r+s+1]!==0&&(c=1),this[r+s]=(t/a>>0)-c&255;return r+n},le.prototype.writeInt8=function(t,r,n){return t=+t,r=r|0,n||vn(this,t,r,1,127,-128),le.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=t&255,r+1},le.prototype.writeInt16LE=function(t,r,n){return t=+t,r=r|0,n||vn(this,t,r,2,32767,-32768),le.TYPED_ARRAY_SUPPORT?(this[r]=t&255,this[r+1]=t>>>8):xu(this,t,r,!0),r+2},le.prototype.writeInt16BE=function(t,r,n){return t=+t,r=r|0,n||vn(this,t,r,2,32767,-32768),le.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=t&255):xu(this,t,r,!1),r+2},le.prototype.writeInt32LE=function(t,r,n){return t=+t,r=r|0,n||vn(this,t,r,4,2147483647,-2147483648),le.TYPED_ARRAY_SUPPORT?(this[r]=t&255,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):Su(this,t,r,!0),r+4},le.prototype.writeInt32BE=function(t,r,n){return t=+t,r=r|0,n||vn(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),le.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255):Su(this,t,r,!1),r+4};function Bw(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Iw(e,t,r,n,i){return i||Bw(e,t,r,4),yw(e,t,r,n,23,4),r+4}le.prototype.writeFloatLE=function(t,r,n){return Iw(this,t,r,!0,n)},le.prototype.writeFloatBE=function(t,r,n){return Iw(this,t,r,!1,n)};function Rw(e,t,r,n,i){return i||Bw(e,t,r,8),yw(e,t,r,n,52,8),r+8}le.prototype.writeDoubleLE=function(t,r,n){return Rw(this,t,r,!0,n)},le.prototype.writeDoubleBE=function(t,r,n){return Rw(this,t,r,!1,n)},le.prototype.copy=function(t,r,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),r>=t.length&&(r=t.length),r||(r=0),i>0&&i<n&&(i=n),i===n||t.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-r<i-n&&(i=t.length-r+n);var o=i-n,s;if(this===t&&n<r&&r<i)for(s=o-1;s>=0;--s)t[s+r]=this[s+n];else if(o<1e3||!le.TYPED_ARRAY_SUPPORT)for(s=0;s<o;++s)t[s+r]=this[s+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),r);return o},le.prototype.fill=function(t,r,n,i){if(typeof t=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),t.length===1){var o=t.charCodeAt(0);o<256&&(t=o)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!le.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof t=="number"&&(t=t&255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);var s;if(typeof t=="number")for(s=r;s<n;++s)this[s]=t;else{var a=Ei(t)?t:Au(new le(t,i).toString()),c=a.length;for(s=0;s<n-r;++s)this[s+r]=a[s%c]}return this};var o8=/[^+\/0-9A-Za-z-_]/g;function s8(e){if(e=a8(e).replace(o8,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function a8(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function c8(e){return e<16?"0"+e.toString(16):e.toString(16)}function Au(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function f8(e){for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r)&255);return t}function u8(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function Tw(e){return UI(s8(e))}function Bu(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function l8(e){return e!==e}function h8(e){return e!=null&&(!!e._isBuffer||kw(e)||d8(e))}function kw(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function d8(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&kw(e.slice(0,0))}function Cw(){throw new Error("setTimeout has not been defined")}function Lw(){throw new Error("clearTimeout has not been defined")}var mo=Cw,bo=Lw;typeof pr.setTimeout=="function"&&(mo=setTimeout),typeof pr.clearTimeout=="function"&&(bo=clearTimeout);function $w(e){if(mo===setTimeout)return setTimeout(e,0);if((mo===Cw||!mo)&&setTimeout)return mo=setTimeout,setTimeout(e,0);try{return mo(e,0)}catch{try{return mo.call(null,e,0)}catch{return mo.call(this,e,0)}}}function p8(e){if(bo===clearTimeout)return clearTimeout(e);if((bo===Lw||!bo)&&clearTimeout)return bo=clearTimeout,clearTimeout(e);try{return bo(e)}catch{try{return bo.call(null,e)}catch{return bo.call(this,e)}}}var ji=[],na=!1,os,Iu=-1;function g8(){!na||!os||(na=!1,os.length?ji=os.concat(ji):Iu=-1,ji.length&&Ow())}function Ow(){if(!na){var e=$w(g8);na=!0;for(var t=ji.length;t;){for(os=ji,ji=[];++Iu<t;)os&&os[Iu].run();Iu=-1,t=ji.length}os=null,na=!1,p8(e)}}function On(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];ji.push(new Mw(e,t)),ji.length===1&&!na&&$w(Ow)}function Mw(e,t){this.fun=e,this.array=t}Mw.prototype.run=function(){this.fun.apply(null,this.array)};var y8="browser",w8="browser",m8=!0,b8={},v8=[],_8="",E8={},x8={},S8={};function ss(){}var A8=ss,B8=ss,I8=ss,R8=ss,T8=ss,k8=ss,C8=ss;function L8(e){throw new Error("process.binding is not supported")}function $8(){return"/"}function O8(e){throw new Error("process.chdir is not supported")}function M8(){return 0}var ia=pr.performance||{},N8=ia.now||ia.mozNow||ia.msNow||ia.oNow||ia.webkitNow||function(){return new Date().getTime()};function P8(e){var t=N8.call(ia)*.001,r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r=r-e[0],n=n-e[1],n<0&&(r--,n+=1e9)),[r,n]}var U8=new Date;function F8(){var e=new Date,t=e-U8;return t/1e3}var _n={nextTick:On,title:y8,browser:m8,env:b8,argv:v8,version:_8,versions:E8,on:A8,addListener:B8,once:I8,off:R8,removeListener:T8,removeAllListeners:k8,emit:C8,binding:L8,cwd:$8,chdir:O8,umask:M8,hrtime:P8,platform:w8,release:x8,config:S8,uptime:F8},Ed=fc(pr.fetch)&&fc(pr.ReadableStream),cc;function D8(){if(typeof cc<"u")return cc;try{new pr.Blob([new ArrayBuffer(1)]),cc=!0}catch{cc=!1}return cc}var as;function xd(e){as||(as=new pr.XMLHttpRequest,as.open("GET",pr.location.host?"/":"https://example.com"));try{return as.responseType=e,as.responseType===e}catch{return!1}}var Sd=typeof pr.ArrayBuffer<"u",H8=Sd&&fc(pr.ArrayBuffer.prototype.slice),j8=Sd&&xd("arraybuffer"),z8=!Ed&&H8&&xd("ms-stream"),q8=!Ed&&Sd&&xd("moz-chunked-arraybuffer"),Nw=fc(as.overrideMimeType),V8=fc(pr.VBArray);function fc(e){return typeof e=="function"}as=null;var Ad;typeof Object.create=="function"?Ad=function(t,r){t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:Ad=function(t,r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t};var qr=Ad,Pw=Object.getOwnPropertyDescriptors||function(t){for(var r=Object.keys(t),n={},i=0;i<r.length;i++)n[r[i]]=Object.getOwnPropertyDescriptor(t,r[i]);return n},W8=/%[sdj%]/g;function Ru(e){if(!vo(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(xi(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,i=n.length,o=String(e).replace(W8,function(a){if(a==="%%")return"%";if(r>=i)return a;switch(a){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return a}}),s=n[r];r<i;s=n[++r])zi(s)||!qi(s)?o+=" "+s:o+=" "+xi(s);return o}function Tu(e,t){if(Si(pr.process))return function(){return Tu(e,t).apply(this,arguments)};if(_n.noDeprecation===!0)return e;var r=!1;function n(){if(!r){if(_n.throwDeprecation)throw new Error(t);_n.traceDeprecation?console.trace(t):console.error(t),r=!0}return e.apply(this,arguments)}return n}var ku={},Bd;function Id(e){if(Si(Bd)&&(Bd=_n.env.NODE_DEBUG||""),e=e.toUpperCase(),!ku[e])if(new RegExp("\\b"+e+"\\b","i").test(Bd)){var t=0;ku[e]=function(){var r=Ru.apply(null,arguments);console.error("%s %d: %s",e,t,r)}}else ku[e]=function(){};return ku[e]}function xi(e,t){var r={seen:[],stylize:Z8};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),Lu(t)?r.showHidden=t:t&&Md(r,t),Si(r.showHidden)&&(r.showHidden=!1),Si(r.depth)&&(r.depth=2),Si(r.colors)&&(r.colors=!1),Si(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=K8),Cu(r,e,r.depth)}xi.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},xi.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function K8(e,t){var r=xi.styles[t];return r?"\x1B["+xi.colors[r][0]+"m"+e+"\x1B["+xi.colors[r][1]+"m":e}function Z8(e,t){return e}function G8(e){var t={};return e.forEach(function(r,n){t[r]=!0}),t}function Cu(e,t,r){if(e.customInspect&&t&&hc(t.inspect)&&t.inspect!==xi&&!(t.constructor&&t.constructor.prototype===t)){var n=t.inspect(r,e);return vo(n)||(n=Cu(e,n,r)),n}var i=Y8(e,t);if(i)return i;var o=Object.keys(t),s=G8(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),lc(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return Rd(t);if(o.length===0){if(hc(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(uc(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if($u(t))return e.stylize(Date.prototype.toString.call(t),"date");if(lc(t))return Rd(t)}var c="",u=!1,l=["{","}"];if(kd(t)&&(u=!0,l=["[","]"]),hc(t)){var y=t.name?": "+t.name:"";c=" [Function"+y+"]"}if(uc(t)&&(c=" "+RegExp.prototype.toString.call(t)),$u(t)&&(c=" "+Date.prototype.toUTCString.call(t)),lc(t)&&(c=" "+Rd(t)),o.length===0&&(!u||t.length==0))return l[0]+c+l[1];if(r<0)return uc(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var A;return u?A=X8(e,t,r,s,o):A=o.map(function(v){return Td(e,t,r,s,v,u)}),e.seen.pop(),J8(A,c,l)}function Y8(e,t){if(Si(t))return e.stylize("undefined","undefined");if(vo(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(Ld(t))return e.stylize(""+t,"number");if(Lu(t))return e.stylize(""+t,"boolean");if(zi(t))return e.stylize("null","null")}function Rd(e){return"["+Error.prototype.toString.call(e)+"]"}function X8(e,t,r,n,i){for(var o=[],s=0,a=t.length;s<a;++s)jw(t,String(s))?o.push(Td(e,t,r,n,String(s),!0)):o.push("");return i.forEach(function(c){c.match(/^\d+$/)||o.push(Td(e,t,r,n,c,!0))}),o}function Td(e,t,r,n,i,o){var s,a,c;if(c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},c.get?c.set?a=e.stylize("[Getter/Setter]","special"):a=e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),jw(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(zi(r)?a=Cu(e,c.value,null):a=Cu(e,c.value,r-1),a.indexOf(`
`)>-1&&(o?a=a.split(`
`).map(function(u){return"  "+u}).join(`
`).substr(2):a=`
`+a.split(`
`).map(function(u){return"   "+u}).join(`
`))):a=e.stylize("[Circular]","special")),Si(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function J8(e,t,r){var n=e.reduce(function(i,o){return o.indexOf(`
`)>=0,i+o.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?r[0]+(t===""?"":t+`
 `)+" "+e.join(`,
  `)+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function kd(e){return Array.isArray(e)}function Lu(e){return typeof e=="boolean"}function zi(e){return e===null}function Cd(e){return e==null}function Ld(e){return typeof e=="number"}function vo(e){return typeof e=="string"}function Uw(e){return typeof e=="symbol"}function Si(e){return e===void 0}function uc(e){return qi(e)&&$d(e)==="[object RegExp]"}function qi(e){return typeof e=="object"&&e!==null}function $u(e){return qi(e)&&$d(e)==="[object Date]"}function lc(e){return qi(e)&&($d(e)==="[object Error]"||e instanceof Error)}function hc(e){return typeof e=="function"}function Fw(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e>"u"}function Dw(e){return le.isBuffer(e)}function $d(e){return Object.prototype.toString.call(e)}function Od(e){return e<10?"0"+e.toString(10):e.toString(10)}var Q8=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function eR(){var e=new Date,t=[Od(e.getHours()),Od(e.getMinutes()),Od(e.getSeconds())].join(":");return[e.getDate(),Q8[e.getMonth()],t].join(" ")}function Hw(){console.log("%s - %s",eR(),Ru.apply(null,arguments))}function Md(e,t){if(!t||!qi(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function jw(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var cs=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function Nd(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(cs&&e[cs]){var t=e[cs];if(typeof t!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,cs,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var r,n,i=new Promise(function(a,c){r=a,n=c}),o=[],s=0;s<arguments.length;s++)o.push(arguments[s]);o.push(function(a,c){a?n(a):r(c)});try{e.apply(this,o)}catch(a){n(a)}return i}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),cs&&Object.defineProperty(t,cs,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,Pw(e))}Nd.custom=cs;function tR(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}function zw(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');function t(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};e.apply(this,r).then(function(a){_n.nextTick(s.bind(null,null,a))},function(a){_n.nextTick(tR.bind(null,a,s))})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,Pw(e)),t}var rR={inherits:qr,_extend:Md,log:Hw,isBuffer:Dw,isPrimitive:Fw,isFunction:hc,isError:lc,isDate:$u,isObject:qi,isRegExp:uc,isUndefined:Si,isSymbol:Uw,isString:vo,isNumber:Ld,isNullOrUndefined:Cd,isNull:zi,isBoolean:Lu,isArray:kd,inspect:xi,deprecate:Tu,format:Ru,debuglog:Id,promisify:Nd,callbackify:zw},nR=Object.freeze({__proto__:null,format:Ru,deprecate:Tu,debuglog:Id,inspect:xi,isArray:kd,isBoolean:Lu,isNull:zi,isNullOrUndefined:Cd,isNumber:Ld,isString:vo,isSymbol:Uw,isUndefined:Si,isRegExp:uc,isObject:qi,isDate:$u,isError:lc,isFunction:hc,isPrimitive:Fw,isBuffer:Dw,log:Hw,inherits:qr,_extend:Md,promisify:Nd,callbackify:zw,default:rR});function fs(){this.head=null,this.tail=null,this.length=0}fs.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},fs.prototype.unshift=function(e){var t={data:e,next:this.head};this.length===0&&(this.tail=t),this.head=t,++this.length},fs.prototype.shift=function(){if(this.length!==0){var e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},fs.prototype.clear=function(){this.head=this.tail=null,this.length=0},fs.prototype.join=function(e){if(this.length===0)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},fs.prototype.concat=function(e){if(this.length===0)return ie.Buffer.alloc(0);if(this.length===1)return this.head.data;for(var t=ie.Buffer.allocUnsafe(e>>>0),r=this.head,n=0;r;)r.data.copy(t,n),n+=r.data.length,r=r.next;return t};var Pd=gf.exports.Buffer,qw=Pd.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function iR(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function oR(e){var t=iR(e);if(typeof t!="string"&&(Pd.isEncoding===qw||!qw(e)))throw new Error("Unknown encoding: "+e);return t||e}var Vw=dc;function dc(e){this.encoding=oR(e);var t;switch(this.encoding){case"utf16le":this.text=lR,this.end=hR,t=4;break;case"utf8":this.fillLast=cR,t=4;break;case"base64":this.text=dR,this.end=pR,t=3;break;default:this.write=gR,this.end=yR;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Pd.allocUnsafe(t)}dc.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},dc.prototype.end=uR,dc.prototype.text=fR,dc.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function Ud(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function sR(e,t,r){var n=t.length-1;if(n<r)return 0;var i=Ud(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=Ud(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=Ud(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function aR(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function cR(e){var t=this.lastTotal-this.lastNeed,r=aR(this,e);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function fR(e,t){var r=sR(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function uR(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function lR(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function hR(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function dR(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function pR(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function gR(e){return e.toString(this.encoding)}function yR(e){return e&&e.length?this.write(e):""}ar.ReadableState=Ww;var Vt=Id("stream");qr(ar,Dn.exports);function wR(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function mR(e,t){return e.listeners(t).length}function Ww(e,t){e=e||{},this.objectMode=!!e.objectMode,t instanceof Gn&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new fs,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(this.decoder=new Vw(e.encoding),this.encoding=e.encoding)}function ar(e){if(!(this instanceof ar))return new ar(e);this._readableState=new Ww(e,this),this.readable=!0,e&&typeof e.read=="function"&&(this._read=e.read),Dn.exports.call(this)}ar.prototype.push=function(e,t){var r=this._readableState;return!r.objectMode&&typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=le.from(e,t),t="")),Kw(this,r,e,t,!1)},ar.prototype.unshift=function(e){var t=this._readableState;return Kw(this,t,e,"",!0)},ar.prototype.isPaused=function(){return this._readableState.flowing===!1};function Kw(e,t,r,n,i){var o=_R(t,r);if(o)e.emit("error",o);else if(r===null)t.reading=!1,ER(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&i){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else{var c;t.decoder&&!i&&!n&&(r=t.decoder.write(r),c=!t.objectMode&&r.length===0),i||(t.reading=!1),c||(t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&Ou(e))),xR(e,t)}else i||(t.reading=!1);return bR(t)}function bR(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}ar.prototype.setEncoding=function(e){return this._readableState.decoder=new Vw(e),this._readableState.encoding=e,this};var Zw=8388608;function vR(e){return e>=Zw?e=Zw:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function Gw(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=vR(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}ar.prototype.read=function(e){Vt("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return Vt("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?Dd(this):Ou(this),null;if(e=Gw(e,t),e===0&&t.ended)return t.length===0&&Dd(this),null;var n=t.needReadable;Vt("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,Vt("length less than watermark",n)),t.ended||t.reading?(n=!1,Vt("reading or ended",n)):n&&(Vt("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Gw(r,t)));var i;return e>0?i=Xw(e,t):i=null,i===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Dd(this)),i!==null&&this.emit("data",i),i};function _R(e,t){var r=null;return!le.isBuffer(t)&&typeof t!="string"&&t!==null&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function ER(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,Ou(e)}}function Ou(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(Vt("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?On(Yw,e):Yw(e))}function Yw(e){Vt("emit readable"),e.emit("readable"),Fd(e)}function xR(e,t){t.readingMore||(t.readingMore=!0,On(SR,e,t))}function SR(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(Vt("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}ar.prototype._read=function(e){this.emit("error",new Error("not implemented"))},ar.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,Vt("pipe count=%d opts=%j",n.pipesCount,t);var i=!t||t.end!==!1,o=i?a:l;n.endEmitted?On(o):r.once("end",o),e.on("unpipe",s);function s(H){Vt("onunpipe"),H===r&&l()}function a(){Vt("onend"),e.end()}var c=AR(r);e.on("drain",c);var u=!1;function l(){Vt("cleanup"),e.removeListener("close",R),e.removeListener("finish",O),e.removeListener("drain",c),e.removeListener("error",v),e.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",l),r.removeListener("data",A),u=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&c()}var y=!1;r.on("data",A);function A(H){Vt("ondata"),y=!1;var F=e.write(H);F===!1&&!y&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&Jw(n.pipes,e)!==-1)&&!u&&(Vt("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,y=!0),r.pause())}function v(H){Vt("onerror",H),P(),e.removeListener("error",v),mR(e,"error")===0&&e.emit("error",H)}wR(e,"error",v);function R(){e.removeListener("finish",O),P()}e.once("close",R);function O(){Vt("onfinish"),e.removeListener("close",R),P()}e.once("finish",O);function P(){Vt("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(Vt("pipe resume"),r.resume()),e};function AR(e){return function(){var t=e._readableState;Vt("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&e.listeners("data").length&&(t.flowing=!0,Fd(e))}}ar.prototype.unpipe=function(e){var t=this._readableState;if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var o=Jw(t.pipes,e);return o===-1?this:(t.pipes.splice(o,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},ar.prototype.on=function(e,t){var r=Dn.exports.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&Ou(this):On(BR,this))}return r},ar.prototype.addListener=ar.prototype.on;function BR(e){Vt("readable nexttick read 0"),e.read(0)}ar.prototype.resume=function(){var e=this._readableState;return e.flowing||(Vt("resume"),e.flowing=!0,IR(this,e)),this};function IR(e,t){t.resumeScheduled||(t.resumeScheduled=!0,On(RR,e,t))}function RR(e,t){t.reading||(Vt("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),Fd(e),t.flowing&&!t.reading&&e.read(0)}ar.prototype.pause=function(){return Vt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Vt("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Fd(e){var t=e._readableState;for(Vt("flow",t.flowing);t.flowing&&e.read()!==null;);}ar.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;e.on("end",function(){if(Vt("wrapped end"),t.decoder&&!t.ended){var s=t.decoder.end();s&&s.length&&n.push(s)}n.push(null)}),e.on("data",function(s){if(Vt("wrapped data"),t.decoder&&(s=t.decoder.write(s)),!(t.objectMode&&s==null)&&!(!t.objectMode&&(!s||!s.length))){var a=n.push(s);a||(r=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(s){return function(){return e[s].apply(e,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return $R(o,function(s){e.on(s,n.emit.bind(n,s))}),n._read=function(s){Vt("wrapped _read",s),r&&(r=!1,e.resume())},n},ar._fromList=Xw;function Xw(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=TR(e,t.buffer,t.decoder),r}function TR(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?kR(e,t):CR(e,t),n}function kR(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),e-=s,e===0){s===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++n}return t.length-=n,i}function CR(e,t){var r=le.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,s),e-=s,e===0){s===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++i}return t.length-=i,r}function Dd(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,On(LR,t,e))}function LR(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function $R(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}function Jw(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}Lr.WritableState=Hd,qr(Lr,Dn.exports.EventEmitter);function OR(){}function MR(e,t,r){this.chunk=e,this.encoding=t,this.callback=r,this.next=null}function Hd(e,t){Object.defineProperty(this,"buffer",{get:Tu(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),e=e||{},this.objectMode=!!e.objectMode,t instanceof Gn&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=e.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(o){jR(t,o)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new im(this)}Hd.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};function Lr(e){if(!(this instanceof Lr)&&!(this instanceof Gn))return new Lr(e);this._writableState=new Hd(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev)),Dn.exports.EventEmitter.call(this)}Lr.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function NR(e,t){var r=new Error("write after end");e.emit("error",r),On(t,r)}function PR(e,t,r,n){var i=!0,o=!1;return r===null?o=new TypeError("May not write null values to stream"):!ie.Buffer.isBuffer(r)&&typeof r!="string"&&r!==void 0&&!t.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),On(n,o),i=!1),i}Lr.prototype.write=function(e,t,r){var n=this._writableState,i=!1;return typeof t=="function"&&(r=t,t=null),ie.Buffer.isBuffer(e)?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=OR),n.ended?NR(this,r):PR(this,n,e,r)&&(n.pendingcb++,i=FR(this,n,e,t,r)),i},Lr.prototype.cork=function(){var e=this._writableState;e.corked++},Lr.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&em(this,e))},Lr.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this};function UR(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=ie.Buffer.from(t,r)),t}function FR(e,t,r,n,i){r=UR(t,r,n),ie.Buffer.isBuffer(r)&&(n="buffer");var o=t.objectMode?1:r.length;t.length+=o;var s=t.length<t.highWaterMark;if(s||(t.needDrain=!0),t.writing||t.corked){var a=t.lastBufferedRequest;t.lastBufferedRequest=new MR(r,n,i),a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else jd(e,t,!1,o,r,n,i);return s}function jd(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function DR(e,t,r,n,i){--t.pendingcb,r?On(i,n):i(n),e._writableState.errorEmitted=!0,e.emit("error",n)}function HR(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function jR(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(HR(r),t)DR(e,r,n,t,i);else{var o=tm(r);!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&em(e,r),n?On(Qw,e,r,o,i):Qw(e,r,o,i)}}function Qw(e,t,r,n){r||zR(e,t),t.pendingcb--,n(),nm(e,t)}function zR(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function em(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var s=0;r;)i[s]=r,r=r.next,s+=1;jd(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new im(t)}else{for(;r;){var a=r.chunk,c=r.encoding,u=r.callback,l=t.objectMode?1:a.length;if(jd(e,t,!1,l,a,c,u),r=r.next,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}Lr.prototype._write=function(e,t,r){r(new Error("not implemented"))},Lr.prototype._writev=null,Lr.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&qR(this,n,r)};function tm(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function rm(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function nm(e,t){var r=tm(t);return r&&(t.pendingcb===0?(rm(e,t),t.finished=!0,e.emit("finish")):rm(e,t)),r}function qR(e,t,r){t.ending=!0,nm(e,t),r&&(t.finished?On(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function im(e){var t=this;this.next=null,this.entry=null,this.finish=function(r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}qr(Gn,ar);for(var om=Object.keys(Lr.prototype),zd=0;zd<om.length;zd++){var qd=om[zd];Gn.prototype[qd]||(Gn.prototype[qd]=Lr.prototype[qd])}function Gn(e){if(!(this instanceof Gn))return new Gn(e);ar.call(this,e),Lr.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",VR)}function VR(){this.allowHalfOpen||this._writableState.ended||On(WR,this)}function WR(e){e.end()}qr(Yn,Gn);function KR(e){this.afterTransform=function(t,r){return ZR(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function ZR(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,r!=null&&e.push(r),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function Yn(e){if(!(this instanceof Yn))return new Yn(e);Gn.call(this,e),this._transformState=new KR(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(r){sm(t,r)}):sm(t)})}Yn.prototype.push=function(e,t){return this._transformState.needTransform=!1,Gn.prototype.push.call(this,e,t)},Yn.prototype._transform=function(e,t,r){throw new Error("Not implemented")},Yn.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Yn.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};function sm(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=e._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}qr(pc,Yn);function pc(e){if(!(this instanceof pc))return new pc(e);Yn.call(this,e)}pc.prototype._transform=function(e,t,r){r(null,e)},qr(Vi,Dn.exports),Vi.Readable=ar,Vi.Writable=Lr,Vi.Duplex=Gn,Vi.Transform=Yn,Vi.PassThrough=pc,Vi.Stream=Vi;function Vi(){Dn.exports.call(this)}Vi.prototype.pipe=function(e,t){var r=this;function n(l){e.writable&&e.write(l)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}e.on("drain",i),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",s),r.on("close",a));var o=!1;function s(){o||(o=!0,e.end())}function a(){o||(o=!0,typeof e.destroy=="function"&&e.destroy())}function c(l){if(u(),Dn.exports.listenerCount(this,"error")===0)throw l}r.on("error",c),e.on("error",c);function u(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",a),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e};var us={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4};function Mu(e,t,r){var n=this;ar.call(n),n._mode=r,n.headers={},n.rawHeaders=[],n.trailers={},n.rawTrailers=[],n.on("end",function(){_n.nextTick(function(){n.emit("close")})});var i;if(r==="fetch"){n._fetchResponse=t,n.url=t.url,n.statusCode=t.status,n.statusMessage=t.statusText;for(var o,s,a=t.headers[Symbol.iterator]();o=(s=a.next()).value,!s.done;)n.headers[o[0].toLowerCase()]=o[1],n.rawHeaders.push(o[0],o[1]);var c=t.body.getReader();i=function(){c.read().then(function(A){if(!n._destroyed){if(A.done){n.push(null);return}n.push(new le(A.value)),i()}})},i()}else{n._xhr=e,n._pos=0,n.url=e.responseURL,n.statusCode=e.status,n.statusMessage=e.statusText;var u=e.getAllResponseHeaders().split(/\r?\n/);if(u.forEach(function(A){var v=A.match(/^([^:]+):\s*(.*)/);if(v){var R=v[1].toLowerCase();R==="set-cookie"?(n.headers[R]===void 0&&(n.headers[R]=[]),n.headers[R].push(v[2])):n.headers[R]!==void 0?n.headers[R]+=", "+v[2]:n.headers[R]=v[2],n.rawHeaders.push(v[1],v[2])}}),n._charset="x-user-defined",!Nw){var l=n.rawHeaders["mime-type"];if(l){var y=l.match(/;\s*charset=([^;])(;|$)/);y&&(n._charset=y[1].toLowerCase())}n._charset||(n._charset="utf-8")}}}qr(Mu,ar),Mu.prototype._read=function(){},Mu.prototype._onXHRProgress=function(){var e=this,t=e._xhr,r=null;switch(e._mode){case"text:vbarray":if(t.readyState!==us.DONE)break;try{r=new pr.VBArray(t.responseBody).toArray()}catch{}if(r!==null){e.push(new le(r));break}case"text":try{r=t.responseText}catch{e._mode="text:vbarray";break}if(r.length>e._pos){var n=r.substr(e._pos);if(e._charset==="x-user-defined"){for(var i=new le(n.length),o=0;o<n.length;o++)i[o]=n.charCodeAt(o)&255;e.push(i)}else e.push(n,e._charset);e._pos=r.length}break;case"arraybuffer":if(t.readyState!==us.DONE||!t.response)break;r=t.response,e.push(new le(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=t.response,t.readyState!==us.LOADING||!r)break;e.push(new le(new Uint8Array(r)));break;case"ms-stream":if(r=t.response,t.readyState!==us.LOADING)break;var s=new pr.MSStreamReader;s.onprogress=function(){s.result.byteLength>e._pos&&(e.push(new le(new Uint8Array(s.result.slice(e._pos)))),e._pos=s.result.byteLength)},s.onload=function(){e.push(null)},s.readAsArrayBuffer(r);break}e._xhr.readyState===us.DONE&&e._mode!=="ms-stream"&&e.push(null)};function GR(e){if(e instanceof Uint8Array){if(e.byteOffset===0&&e.byteLength===e.buffer.byteLength)return e.buffer;if(typeof e.buffer.slice=="function")return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(ie.isBuffer(e)){for(var t=new Uint8Array(e.length),r=e.length,n=0;n<r;n++)t[n]=e[n];return t.buffer}else throw new Error("Argument must be a Buffer")}function YR(e,t){return Ed&&t?"fetch":q8?"moz-chunked-arraybuffer":z8?"ms-stream":j8&&e?"arraybuffer":V8&&e?"text:vbarray":"text"}function Xr(e){var t=this;Lr.call(t),t._opts=e,t._body=[],t._headers={},e.auth&&t.setHeader("Authorization","Basic "+new le(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(i){t.setHeader(i,e.headers[i])});var r,n=!0;if(e.mode==="disable-fetch")n=!1,r=!0;else if(e.mode==="prefer-streaming")r=!1;else if(e.mode==="allow-wrong-content-type")r=!Nw;else if(!e.mode||e.mode==="default"||e.mode==="prefer-fast")r=!0;else throw new Error("Invalid value for opts.mode");t._mode=YR(r,n),t.on("finish",function(){t._onFinish()})}qr(Xr,Lr);var XR=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];Xr.prototype.setHeader=function(e,t){var r=this,n=e.toLowerCase();XR.indexOf(n)===-1&&(r._headers[n]={name:e,value:t})},Xr.prototype.getHeader=function(e){var t=this;return t._headers[e.toLowerCase()].value},Xr.prototype.removeHeader=function(e){var t=this;delete t._headers[e.toLowerCase()]},Xr.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts,r=e._headers,n;if((t.method==="POST"||t.method==="PUT"||t.method==="PATCH")&&(D8()?n=new pr.Blob(e._body.map(function(s){return GR(s)}),{type:(r["content-type"]||{}).value||""}):n=le.concat(e._body).toString()),e._mode==="fetch"){var i=Object.keys(r).map(function(s){return[r[s].name,r[s].value]});pr.fetch(e._opts.url,{method:e._opts.method,headers:i,body:n,mode:"cors",credentials:t.withCredentials?"include":"same-origin"}).then(function(s){e._fetchResponse=s,e._connect()},function(s){e.emit("error",s)})}else{var o=e._xhr=new pr.XMLHttpRequest;try{o.open(e._opts.method,e._opts.url,!0)}catch(s){_n.nextTick(function(){e.emit("error",s)});return}"responseType"in o&&(o.responseType=e._mode.split(":")[0]),"withCredentials"in o&&(o.withCredentials=!!t.withCredentials),e._mode==="text"&&"overrideMimeType"in o&&o.overrideMimeType("text/plain; charset=x-user-defined"),Object.keys(r).forEach(function(s){o.setRequestHeader(r[s].name,r[s].value)}),e._response=null,o.onreadystatechange=function(){switch(o.readyState){case us.LOADING:case us.DONE:e._onXHRProgress();break}},e._mode==="moz-chunked-arraybuffer"&&(o.onprogress=function(){e._onXHRProgress()}),o.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{o.send(n)}catch(s){_n.nextTick(function(){e.emit("error",s)});return}}}};function JR(e){try{var t=e.status;return t!==null&&t!==0}catch{return!1}}Xr.prototype._onXHRProgress=function(){var e=this;!JR(e._xhr)||e._destroyed||(e._response||e._connect(),e._response._onXHRProgress())},Xr.prototype._connect=function(){var e=this;e._destroyed||(e._response=new Mu(e._xhr,e._fetchResponse,e._mode),e.emit("response",e._response))},Xr.prototype._write=function(e,t,r){var n=this;n._body.push(e),r()},Xr.prototype.abort=Xr.prototype.destroy=function(){var e=this;e._destroyed=!0,e._response&&(e._response._destroyed=!0),e._xhr&&e._xhr.abort()},Xr.prototype.end=function(e,t,r){var n=this;typeof e=="function"&&(r=e,e=void 0),Lr.prototype.end.call(n,e,t,r)},Xr.prototype.flushHeaders=function(){},Xr.prototype.setTimeout=function(){},Xr.prototype.setNoDelay=function(){},Xr.prototype.setSocketKeepAlive=function(){};const Vd=2147483647,gc=36,am=1,Wd=26,QR=38,eT=700,tT=72,rT=128,nT="-",iT=/[^\0-\x7F]/,oT=/[\x2E\u3002\uFF0E\uFF61]/g,sT={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Kd=gc-am,oa=Math.floor,Zd=String.fromCharCode;function cm(e){throw new RangeError(sT[e])}function aT(e,t){const r=[];let n=e.length;for(;n--;)r[n]=t(e[n]);return r}function cT(e,t){const r=e.split("@");let n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(oT,".");const i=e.split("."),o=aT(i,t).join(".");return n+o}function fT(e){const t=[];let r=0;const n=e.length;for(;r<n;){const i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){const o=e.charCodeAt(r++);(o&64512)==56320?t.push(((i&1023)<<10)+(o&1023)+65536):(t.push(i),r--)}else t.push(i)}return t}const fm=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},uT=function(e,t,r){let n=0;for(e=r?oa(e/eT):e>>1,e+=oa(e/t);e>Kd*Wd>>1;n+=gc)e=oa(e/Kd);return oa(n+(Kd+1)*e/(e+QR))},lT=function(e){const t=[];e=fT(e);const r=e.length;let n=rT,i=0,o=tT;for(const c of e)c<128&&t.push(Zd(c));const s=t.length;let a=s;for(s&&t.push(nT);a<r;){let c=Vd;for(const l of e)l>=n&&l<c&&(c=l);const u=a+1;c-n>oa((Vd-i)/u)&&cm("overflow"),i+=(c-n)*u,n=c;for(const l of e)if(l<n&&++i>Vd&&cm("overflow"),l===n){let y=i;for(let A=gc;;A+=gc){const v=A<=o?am:A>=o+Wd?Wd:A-o;if(y<v)break;const R=y-v,O=gc-v;t.push(Zd(fm(v+R%O,0))),y=oa(R/O)}t.push(Zd(fm(y,0))),o=uT(i,u,a===s),i=0,++a}++i,++n}return t.join("")},hT=function(e){return cT(e,function(t){return iT.test(t)?"xn--"+lT(t):t})};function dT(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var um=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function yc(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}function pT(e,t,r,n){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?lm(gT(e),function(i){var o=encodeURIComponent(yc(i))+r;return um(e[i])?lm(e[i],function(s){return o+encodeURIComponent(yc(s))}).join(t):o+encodeURIComponent(yc(e[i]))}).join(t):n?encodeURIComponent(yc(n))+r+encodeURIComponent(yc(e)):""}function lm(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var gT=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t};function hm(e,t,r,n){t=t||"&",r=r||"=";var i={};if(typeof e!="string"||e.length===0)return i;var o=/\+/g;e=e.split(t);var s=1e3;n&&typeof n.maxKeys=="number"&&(s=n.maxKeys);var a=e.length;s>0&&a>s&&(a=s);for(var c=0;c<a;++c){var u=e[c].replace(o,"%20"),l=u.indexOf(r),y,A,v,R;l>=0?(y=u.substr(0,l),A=u.substr(l+1)):(y=u,A=""),v=decodeURIComponent(y),R=decodeURIComponent(A),dT(i,v)?um(i[v])?i[v].push(R):i[v]=[i[v],R]:i[v]=R}return i}const dm=pr.URL,pm=pr.URLSearchParams;var yT={parse:ls,resolve:_m,resolveObject:Em,fileURLToPath:bm,format:vm,Url:Mn,URL:dm,URLSearchParams:pm};function Mn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var wT=/^([a-z0-9.+-]+:)/i,mT=/:[0-9]*$/,bT=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,vT=["<",">",'"',"`"," ","\r",`
`,"	"],_T=["{","}","|","\\","^","`"].concat(vT),Gd=["'"].concat(_T),gm=["%","/","?",";","#"].concat(Gd),ym=["/","?","#"],ET=255,wm=/^[+a-z0-9A-Z_-]{0,63}$/,xT=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ST={javascript:!0,"javascript:":!0},Yd={javascript:!0,"javascript:":!0},sa={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function ls(e,t,r){if(e&&qi(e)&&e instanceof Mn)return e;var n=new Mn;return n.parse(e,t,r),n}Mn.prototype.parse=function(e,t,r){return mm(this,e,t,r)};function mm(e,t,r,n){if(!vo(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),o=i!==-1&&i<t.indexOf("#")?"?":"#",s=t.split(o),a=/\\/g;s[0]=s[0].replace(a,"/"),t=s.join(o);var c=t;if(c=c.trim(),!n&&t.split("#").length===1){var u=bT.exec(c);if(u)return e.path=c,e.href=c,e.pathname=u[1],u[2]?(e.search=u[2],r?e.query=hm(e.search.substr(1)):e.query=e.search.substr(1)):r&&(e.search="",e.query={}),e}var l=wT.exec(c);if(l){l=l[0];var y=l.toLowerCase();e.protocol=y,c=c.substr(l.length)}if(n||l||c.match(/^\/\/[^@\/]+@[^@\/]+/)){var A=c.substr(0,2)==="//";A&&!(l&&Yd[l])&&(c=c.substr(2),e.slashes=!0)}var v,R,O,P;if(!Yd[l]&&(A||l&&!sa[l])){var H=-1;for(v=0;v<ym.length;v++)R=c.indexOf(ym[v]),R!==-1&&(H===-1||R<H)&&(H=R);var F,N;for(H===-1?N=c.lastIndexOf("@"):N=c.lastIndexOf("@",H),N!==-1&&(F=c.slice(0,N),c=c.slice(N+1),e.auth=decodeURIComponent(F)),H=-1,v=0;v<gm.length;v++)R=c.indexOf(gm[v]),R!==-1&&(H===-1||R<H)&&(H=R);H===-1&&(H=c.length),e.host=c.slice(0,H),c=c.slice(H),xm(e),e.hostname=e.hostname||"";var $=e.hostname[0]==="["&&e.hostname[e.hostname.length-1]==="]";if(!$){var q=e.hostname.split(/\./);for(v=0,O=q.length;v<O;v++){var G=q[v];if(G&&!G.match(wm)){for(var Z="",z=0,ee=G.length;z<ee;z++)G.charCodeAt(z)>127?Z+="x":Z+=G[z];if(!Z.match(wm)){var oe=q.slice(0,v),Q=q.slice(v+1),I=G.match(xT);I&&(oe.push(I[1]),Q.unshift(I[2])),Q.length&&(c="/"+Q.join(".")+c),e.hostname=oe.join(".");break}}}}e.hostname.length>ET?e.hostname="":e.hostname=e.hostname.toLowerCase(),$||(e.hostname=hT(e.hostname)),P=e.port?":"+e.port:"";var g=e.hostname||"";e.host=g+P,e.href+=e.host,$&&(e.hostname=e.hostname.substr(1,e.hostname.length-2),c[0]!=="/"&&(c="/"+c))}if(!ST[y])for(v=0,O=Gd.length;v<O;v++){var f=Gd[v];if(c.indexOf(f)!==-1){var h=encodeURIComponent(f);h===f&&(h=escape(f)),c=c.split(f).join(h)}}var m=c.indexOf("#");m!==-1&&(e.hash=c.substr(m),c=c.slice(0,m));var _=c.indexOf("?");if(_!==-1?(e.search=c.substr(_),e.query=c.substr(_+1),r&&(e.query=hm(e.query)),c=c.slice(0,_)):r&&(e.search="",e.query={}),c&&(e.pathname=c),sa[y]&&e.hostname&&!e.pathname&&(e.pathname="/"),e.pathname||e.search){P=e.pathname||"";var E=e.search||"";e.path=P+E}return e.href=Xd(e),e}function bm(e){if(typeof e=="string")e=new Mn().parse(e);else if(!(e instanceof Mn))throw new TypeError('The "path" argument must be of type string or an instance of URL. Received type '+typeof e+String(e));if(e.protocol!=="file:")throw new TypeError("The URL must be of scheme file");return AT(e)}function AT(e){const t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){const n=t.codePointAt(r+2)|32;if(t[r+1]==="2"&&n===102)throw new TypeError("must not include encoded / characters")}return decodeURIComponent(t)}function vm(e){return vo(e)&&(e=mm({},e)),Xd(e)}function Xd(e){var t=e.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var r=e.protocol||"",n=e.pathname||"",i=e.hash||"",o=!1,s="";e.host?o=t+e.host:e.hostname&&(o=t+(e.hostname.indexOf(":")===-1?e.hostname:"["+this.hostname+"]"),e.port&&(o+=":"+e.port)),e.query&&qi(e.query)&&Object.keys(e.query).length&&(s=pT(e.query));var a=e.search||s&&"?"+s||"";return r&&r.substr(-1)!==":"&&(r+=":"),e.slashes||(!r||sa[r])&&o!==!1?(o="//"+(o||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):o||(o=""),i&&i.charAt(0)!=="#"&&(i="#"+i),a&&a.charAt(0)!=="?"&&(a="?"+a),n=n.replace(/[?#]/g,function(c){return encodeURIComponent(c)}),a=a.replace("#","%23"),r+o+n+a+i}Mn.prototype.format=function(){return Xd(this)};function _m(e,t){return ls(e,!1,!0).resolve(t)}Mn.prototype.resolve=function(e){return this.resolveObject(ls(e,!1,!0)).format()};function Em(e,t){return e?ls(e,!1,!0).resolveObject(t):t}Mn.prototype.resolveObject=function(e){if(vo(e)){var t=new Mn;t.parse(e,!1,!0),e=t}for(var r=new Mn,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];r[o]=this[o]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),a=0;a<s.length;a++){var c=s[a];c!=="protocol"&&(r[c]=e[c])}return sa[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}var u;if(e.protocol&&e.protocol!==r.protocol){if(!sa[e.protocol]){for(var l=Object.keys(e),y=0;y<l.length;y++){var A=l[y];r[A]=e[A]}return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!Yd[e.protocol]){for(u=(e.pathname||"").split("/");u.length&&!(e.host=u.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),u[0]!==""&&u.unshift(""),u.length<2&&u.unshift(""),r.pathname=u.join("/")}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var v=r.pathname||"",R=r.search||"";r.path=v+R}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var O=r.pathname&&r.pathname.charAt(0)==="/",P=e.host||e.pathname&&e.pathname.charAt(0)==="/",H=P||O||r.host&&e.pathname,F=H,N=r.pathname&&r.pathname.split("/")||[],$=r.protocol&&!sa[r.protocol];u=e.pathname&&e.pathname.split("/")||[],$&&(r.hostname="",r.port=null,r.host&&(N[0]===""?N[0]=r.host:N.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(u[0]===""?u[0]=e.host:u.unshift(e.host)),e.host=null),H=H&&(u[0]===""||N[0]===""));var q;if(P)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,N=u;else if(u.length)N||(N=[]),N.pop(),N=N.concat(u),r.search=e.search,r.query=e.query;else if(!Cd(e.search))return $&&(r.hostname=r.host=N.shift(),q=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1,q&&(r.auth=q.shift(),r.host=r.hostname=q.shift())),r.search=e.search,r.query=e.query,(!zi(r.pathname)||!zi(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!N.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var G=N.slice(-1)[0],Z=(r.host||e.host||N.length>1)&&(G==="."||G==="..")||G==="",z=0,ee=N.length;ee>=0;ee--)G=N[ee],G==="."?N.splice(ee,1):G===".."?(N.splice(ee,1),z++):z&&(N.splice(ee,1),z--);if(!H&&!F)for(;z--;z)N.unshift("..");H&&N[0]!==""&&(!N[0]||N[0].charAt(0)!=="/")&&N.unshift(""),Z&&N.join("/").substr(-1)!=="/"&&N.push("");var oe=N[0]===""||N[0]&&N[0].charAt(0)==="/";return $&&(r.hostname=r.host=oe?"":N.length?N.shift():"",q=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1,q&&(r.auth=q.shift(),r.host=r.hostname=q.shift())),H=H||r.host&&N.length,H&&!oe&&N.unshift(""),N.length?r.pathname=N.join("/"):(r.pathname=null,r.path=null),(!zi(r.pathname)||!zi(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},Mn.prototype.parseHost=function(){return xm(this)};function xm(e){var t=e.host,r=mT.exec(t);r&&(r=r[0],r!==":"&&(e.port=r.substr(1)),t=t.substr(0,t.length-r.length)),t&&(e.hostname=t)}var BT=Object.freeze({__proto__:null,parse:ls,resolve:_m,resolveObject:Em,fileURLToPath:bm,format:vm,URL:dm,URLSearchParams:pm,default:yT,Url:Mn});function Jd(e,t){typeof e=="string"&&(e=ls(e));var r=pr.location.protocol.search(/^https?:$/)===-1?"http:":"",n=e.protocol||r,i=e.hostname||e.host,o=e.port,s=e.path||"/";i&&i.indexOf(":")!==-1&&(i="["+i+"]"),e.url=(i?n+"//"+i:"")+(o?":"+o:"")+s,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var a=new Xr(e);return t&&a.on("response",t),a}function Sm(e,t){var r=Jd(e,t);return r.end(),r}function Qd(){}Qd.defaultMaxSockets=4;var Am=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],Bm={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},IT={request:Jd,get:Sm,Agent:Qd,METHODS:Am,STATUS_CODES:Bm},RT=Object.freeze({__proto__:null,request:Jd,get:Sm,Agent:Qd,METHODS:Am,STATUS_CODES:Bm,default:IT}),TT=Un(RT);function e0(e,t){typeof e=="string"&&(e=ls(e));var r=pr.location.protocol.search(/^https?:$/)===-1?"http:":"",n=e.protocol||r,i=e.hostname||e.host,o=e.port,s=e.path||"/";i&&i.indexOf(":")!==-1&&(i="["+i+"]"),e.url=(i?n+"//"+i:"")+(o?":"+o:"")+s,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var a=new Xr(e);return t&&a.on("response",t),a}function Im(e,t){var r=e0(e,t);return r.end(),r}function t0(){}t0.defaultMaxSockets=4;var Rm=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],Tm={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},kT={request:e0,get:Im,Agent:t0,METHODS:Rm,STATUS_CODES:Tm},CT=Object.freeze({__proto__:null,request:e0,get:Im,Agent:t0,METHODS:Rm,STATUS_CODES:Tm,default:kT}),LT=Un(CT),km={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function $T(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function Wi(e,t,r,n,i){if(t.subarray&&e.subarray){e.set(t.subarray(r,r+n),i);return}for(var o=0;o<n;o++)e[i+o]=t[r+o]}var Nu=Uint8Array,Xn=Uint16Array,Pu=Int32Array,OT=4,Cm=0,Lm=1,MT=2;function aa(e){for(var t=e.length;--t>=0;)e[t]=0}var NT=0,$m=1,PT=2,UT=3,FT=258,r0=29,wc=256,mc=wc+1+r0,ca=30,n0=19,Om=2*mc+1,hs=15,i0=16,DT=7,o0=256,Mm=16,Nm=17,Pm=18,s0=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Uu=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],HT=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Um=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],jT=512,Ki=new Array((mc+2)*2);aa(Ki);var bc=new Array(ca*2);aa(bc);var vc=new Array(jT);aa(vc);var _c=new Array(FT-UT+1);aa(_c);var a0=new Array(r0);aa(a0);var Fu=new Array(ca);aa(Fu);function c0(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}var Fm,Dm,Hm;function f0(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function jm(e){return e<256?vc[e]:vc[256+(e>>>7)]}function Ec(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}function En(e,t,r){e.bi_valid>i0-r?(e.bi_buf|=t<<e.bi_valid&65535,Ec(e,e.bi_buf),e.bi_buf=t>>i0-e.bi_valid,e.bi_valid+=r-i0):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function Ai(e,t,r){En(e,r[t*2],r[t*2+1])}function zm(e,t){var r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1}function zT(e){e.bi_valid===16?(Ec(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function qT(e,t){var r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,c=t.stat_desc.max_length,u,l,y,A,v,R,O=0;for(A=0;A<=hs;A++)e.bl_count[A]=0;for(r[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<Om;u++)l=e.heap[u],A=r[r[l*2+1]*2+1]+1,A>c&&(A=c,O++),r[l*2+1]=A,!(l>n)&&(e.bl_count[A]++,v=0,l>=a&&(v=s[l-a]),R=r[l*2],e.opt_len+=R*(A+v),o&&(e.static_len+=R*(i[l*2+1]+v)));if(O!==0){do{for(A=c-1;e.bl_count[A]===0;)A--;e.bl_count[A]--,e.bl_count[A+1]+=2,e.bl_count[c]--,O-=2}while(O>0);for(A=c;A!==0;A--)for(l=e.bl_count[A];l!==0;)y=e.heap[--u],!(y>n)&&(r[y*2+1]!==A&&(e.opt_len+=(A-r[y*2+1])*r[y*2],r[y*2+1]=A),l--)}}function qm(e,t,r){var n=new Array(hs+1),i=0,o,s;for(o=1;o<=hs;o++)n[o]=i=i+r[o-1]<<1;for(s=0;s<=t;s++){var a=e[s*2+1];a!==0&&(e[s*2]=zm(n[a]++,a))}}function VT(){var e,t,r,n,i,o=new Array(hs+1);for(r=0,n=0;n<r0-1;n++)for(a0[n]=r,e=0;e<1<<s0[n];e++)_c[r++]=n;for(_c[r-1]=n,i=0,n=0;n<16;n++)for(Fu[n]=i,e=0;e<1<<Uu[n];e++)vc[i++]=n;for(i>>=7;n<ca;n++)for(Fu[n]=i<<7,e=0;e<1<<Uu[n]-7;e++)vc[256+i++]=n;for(t=0;t<=hs;t++)o[t]=0;for(e=0;e<=143;)Ki[e*2+1]=8,e++,o[8]++;for(;e<=255;)Ki[e*2+1]=9,e++,o[9]++;for(;e<=279;)Ki[e*2+1]=7,e++,o[7]++;for(;e<=287;)Ki[e*2+1]=8,e++,o[8]++;for(qm(Ki,mc+1,o),e=0;e<ca;e++)bc[e*2+1]=5,bc[e*2]=zm(e,5);Fm=new c0(Ki,s0,wc+1,mc,hs),Dm=new c0(bc,Uu,0,ca,hs),Hm=new c0(new Array(0),HT,0,n0,DT)}function Vm(e){var t;for(t=0;t<mc;t++)e.dyn_ltree[t*2]=0;for(t=0;t<ca;t++)e.dyn_dtree[t*2]=0;for(t=0;t<n0;t++)e.bl_tree[t*2]=0;e.dyn_ltree[o0*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Wm(e){e.bi_valid>8?Ec(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function WT(e,t,r,n){Wm(e),n&&(Ec(e,r),Ec(e,~r)),Wi(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}function Km(e,t,r,n){var i=t*2,o=r*2;return e[i]<e[o]||e[i]===e[o]&&n[t]<=n[r]}function u0(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&Km(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!Km(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function Zm(e,t,r){var n,i,o=0,s,a;if(e.last_lit!==0)do n=e.pending_buf[e.d_buf+o*2]<<8|e.pending_buf[e.d_buf+o*2+1],i=e.pending_buf[e.l_buf+o],o++,n===0?Ai(e,i,t):(s=_c[i],Ai(e,s+wc+1,t),a=s0[s],a!==0&&(i-=a0[s],En(e,i,a)),n--,s=jm(n),Ai(e,s,r),a=Uu[s],a!==0&&(n-=Fu[s],En(e,n,a)));while(o<e.last_lit);Ai(e,o0,t)}function l0(e,t){var r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems,s,a,c=-1,u;for(e.heap_len=0,e.heap_max=Om,s=0;s<o;s++)r[s*2]!==0?(e.heap[++e.heap_len]=c=s,e.depth[s]=0):r[s*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,r[u*2]=1,e.depth[u]=0,e.opt_len--,i&&(e.static_len-=n[u*2+1]);for(t.max_code=c,s=e.heap_len>>1;s>=1;s--)u0(e,r,s);u=o;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],u0(e,r,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,r[u*2]=r[s*2]+r[a*2],e.depth[u]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,r[s*2+1]=r[a*2+1]=u,e.heap[1]=u++,u0(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],qT(e,t),qm(r,c,e.bl_count)}function Gm(e,t,r){var n,i=-1,o,s=t[0*2+1],a=0,c=7,u=4;for(s===0&&(c=138,u=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)o=s,s=t[(n+1)*2+1],!(++a<c&&o===s)&&(a<u?e.bl_tree[o*2]+=a:o!==0?(o!==i&&e.bl_tree[o*2]++,e.bl_tree[Mm*2]++):a<=10?e.bl_tree[Nm*2]++:e.bl_tree[Pm*2]++,a=0,i=o,s===0?(c=138,u=3):o===s?(c=6,u=3):(c=7,u=4))}function Ym(e,t,r){var n,i=-1,o,s=t[0*2+1],a=0,c=7,u=4;for(s===0&&(c=138,u=3),n=0;n<=r;n++)if(o=s,s=t[(n+1)*2+1],!(++a<c&&o===s)){if(a<u)do Ai(e,o,e.bl_tree);while(--a!==0);else o!==0?(o!==i&&(Ai(e,o,e.bl_tree),a--),Ai(e,Mm,e.bl_tree),En(e,a-3,2)):a<=10?(Ai(e,Nm,e.bl_tree),En(e,a-3,3)):(Ai(e,Pm,e.bl_tree),En(e,a-11,7));a=0,i=o,s===0?(c=138,u=3):o===s?(c=6,u=3):(c=7,u=4)}}function KT(e){var t;for(Gm(e,e.dyn_ltree,e.l_desc.max_code),Gm(e,e.dyn_dtree,e.d_desc.max_code),l0(e,e.bl_desc),t=n0-1;t>=3&&e.bl_tree[Um[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}function ZT(e,t,r,n){var i;for(En(e,t-257,5),En(e,r-1,5),En(e,n-4,4),i=0;i<n;i++)En(e,e.bl_tree[Um[i]*2+1],3);Ym(e,e.dyn_ltree,t-1),Ym(e,e.dyn_dtree,r-1)}function GT(e){var t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return Cm;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Lm;for(r=32;r<wc;r++)if(e.dyn_ltree[r*2]!==0)return Lm;return Cm}var Xm=!1;function YT(e){Xm||(VT(),Xm=!0),e.l_desc=new f0(e.dyn_ltree,Fm),e.d_desc=new f0(e.dyn_dtree,Dm),e.bl_desc=new f0(e.bl_tree,Hm),e.bi_buf=0,e.bi_valid=0,Vm(e)}function Jm(e,t,r,n){En(e,(NT<<1)+(n?1:0),3),WT(e,t,r,!0)}function XT(e){En(e,$m<<1,3),Ai(e,o0,Ki),zT(e)}function JT(e,t,r,n){var i,o,s=0;e.level>0?(e.strm.data_type===MT&&(e.strm.data_type=GT(e)),l0(e,e.l_desc),l0(e,e.d_desc),s=KT(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=i&&(i=o)):i=o=r+5,r+4<=i&&t!==-1?Jm(e,t,r,n):e.strategy===OT||o===i?(En(e,($m<<1)+(n?1:0),3),Zm(e,Ki,bc)):(En(e,(PT<<1)+(n?1:0),3),ZT(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),Zm(e,e.dyn_ltree,e.dyn_dtree)),Vm(e),n&&Wm(e)}function _o(e,t,r){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=r&255,e.last_lit++,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(_c[r]+wc+1)*2]++,e.dyn_dtree[jm(t)*2]++),e.last_lit===e.lit_bufsize-1}function h0(e,t,r,n){for(var i=e&65535|0,o=e>>>16&65535|0,s=0;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+t[n++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0}function QT(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t}var e4=QT();function Vr(e,t,r,n){var i=e4,o=n+r;e^=-1;for(var s=n;s<o;s++)e=e>>>8^i[(e^t[s])&255];return e^-1}var ds=0,t4=1,r4=3,Eo=4,Qm=5,xo=0,eb=1,So=-2,n4=-3,d0=-5,i4=-1,o4=1,Du=2,s4=3,a4=4,c4=2,p0=8,f4=9,u4=29,l4=256,g0=l4+1+u4,h4=30,d4=19,p4=2*g0+1,g4=15,Ft=3,Ao=258,oi=Ao+Ft+1,y4=32,y0=42,w0=69,Hu=73,ju=91,zu=103,ps=113,xc=666,$r=1,Sc=2,gs=3,fa=4,w4=3;function Bo(e,t){return e.msg=km[t],t}function tb(e){return(e<<1)-(e>4?9:0)}function ys(e){for(var t=e.length;--t>=0;)e[t]=0}function Io(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(Wi(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))}function Jr(e,t){JT(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Io(e.strm)}function Pt(e,t){e.pending_buf[e.pending++]=t}function Ac(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}function m4(e,t,r,n){var i=e.avail_in;return i>n&&(i=n),i===0?0:(e.avail_in-=i,Wi(t,e.input,e.next_in,i,r),e.state.wrap===1?e.adler=h0(e.adler,t,i,r):e.state.wrap===2&&(e.adler=Vr(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)}function rb(e,t){var r=e.max_chain_length,n=e.strstart,i,o,s=e.prev_length,a=e.nice_match,c=e.strstart>e.w_size-oi?e.strstart-(e.w_size-oi):0,u=e.window,l=e.w_mask,y=e.prev,A=e.strstart+Ao,v=u[n+s-1],R=u[n+s];e.prev_length>=e.good_match&&(r>>=2),a>e.lookahead&&(a=e.lookahead);do if(i=t,!(u[i+s]!==R||u[i+s-1]!==v||u[i]!==u[n]||u[++i]!==u[n+1])){n+=2,i++;do;while(u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&n<A);if(o=Ao-(A-n),n=A-Ao,o>s){if(e.match_start=t,s=o,o>=a)break;v=u[n+s-1],R=u[n+s]}}while((t=y[t&l])>c&&--r!==0);return s<=e.lookahead?s:e.lookahead}function Bc(e){var t=e.w_size,r,n,i,o,s;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-oi)){Wi(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=e.hash_size,r=n;do i=e.head[--r],e.head[r]=i>=t?i-t:0;while(--n);n=t,r=n;do i=e.prev[--r],e.prev[r]=i>=t?i-t:0;while(--n);o+=t}if(e.strm.avail_in===0)break;if(n=m4(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=n,e.lookahead+e.insert>=Ft)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+Ft-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<Ft)););}while(e.lookahead<oi&&e.strm.avail_in!==0)}function b4(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Bc(e),e.lookahead===0&&t===ds)return $r;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((e.strstart===0||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,Jr(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-oi&&(Jr(e,!1),e.strm.avail_out===0))return $r}return e.insert=0,t===Eo?(Jr(e,!0),e.strm.avail_out===0?gs:fa):(e.strstart>e.block_start&&(Jr(e,!1),e.strm.avail_out===0),$r)}function m0(e,t){for(var r,n;;){if(e.lookahead<oi){if(Bc(e),e.lookahead<oi&&t===ds)return $r;if(e.lookahead===0)break}if(r=0,e.lookahead>=Ft&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Ft-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-oi&&(e.match_length=rb(e,r)),e.match_length>=Ft)if(n=_o(e,e.strstart-e.match_start,e.match_length-Ft),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Ft){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Ft-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=_o(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Jr(e,!1),e.strm.avail_out===0))return $r}return e.insert=e.strstart<Ft-1?e.strstart:Ft-1,t===Eo?(Jr(e,!0),e.strm.avail_out===0?gs:fa):e.last_lit&&(Jr(e,!1),e.strm.avail_out===0)?$r:Sc}function ua(e,t){for(var r,n,i;;){if(e.lookahead<oi){if(Bc(e),e.lookahead<oi&&t===ds)return $r;if(e.lookahead===0)break}if(r=0,e.lookahead>=Ft&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Ft-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Ft-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-oi&&(e.match_length=rb(e,r),e.match_length<=5&&(e.strategy===o4||e.match_length===Ft&&e.strstart-e.match_start>4096)&&(e.match_length=Ft-1)),e.prev_length>=Ft&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-Ft,n=_o(e,e.strstart-1-e.prev_match,e.prev_length-Ft),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Ft-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Ft-1,e.strstart++,n&&(Jr(e,!1),e.strm.avail_out===0))return $r}else if(e.match_available){if(n=_o(e,0,e.window[e.strstart-1]),n&&Jr(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return $r}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=_o(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Ft-1?e.strstart:Ft-1,t===Eo?(Jr(e,!0),e.strm.avail_out===0?gs:fa):e.last_lit&&(Jr(e,!1),e.strm.avail_out===0)?$r:Sc}function v4(e,t){for(var r,n,i,o,s=e.window;;){if(e.lookahead<=Ao){if(Bc(e),e.lookahead<=Ao&&t===ds)return $r;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Ft&&e.strstart>0&&(i=e.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){o=e.strstart+Ao;do;while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<o);e.match_length=Ao-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Ft?(r=_o(e,1,e.match_length-Ft),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=_o(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Jr(e,!1),e.strm.avail_out===0))return $r}return e.insert=0,t===Eo?(Jr(e,!0),e.strm.avail_out===0?gs:fa):e.last_lit&&(Jr(e,!1),e.strm.avail_out===0)?$r:Sc}function _4(e,t){for(var r;;){if(e.lookahead===0&&(Bc(e),e.lookahead===0)){if(t===ds)return $r;break}if(e.match_length=0,r=_o(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Jr(e,!1),e.strm.avail_out===0))return $r}return e.insert=0,t===Eo?(Jr(e,!0),e.strm.avail_out===0?gs:fa):e.last_lit&&(Jr(e,!1),e.strm.avail_out===0)?$r:Sc}function Bi(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}var la;la=[new Bi(0,0,0,0,b4),new Bi(4,4,8,4,m0),new Bi(4,5,16,8,m0),new Bi(4,6,32,32,m0),new Bi(4,4,16,16,ua),new Bi(8,16,32,32,ua),new Bi(8,16,128,128,ua),new Bi(8,32,128,256,ua),new Bi(32,128,258,1024,ua),new Bi(32,258,258,4096,ua)];function E4(e){e.window_size=2*e.w_size,ys(e.head),e.max_lazy_match=la[e.level].max_lazy,e.good_match=la[e.level].good_length,e.nice_match=la[e.level].nice_length,e.max_chain_length=la[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Ft-1,e.match_available=0,e.ins_h=0}function x4(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=p0,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Xn(p4*2),this.dyn_dtree=new Xn((2*h4+1)*2),this.bl_tree=new Xn((2*d4+1)*2),ys(this.dyn_ltree),ys(this.dyn_dtree),ys(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Xn(g4+1),this.heap=new Xn(2*g0+1),ys(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Xn(2*g0+1),ys(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function S4(e){var t;return!e||!e.state?Bo(e,So):(e.total_in=e.total_out=0,e.data_type=c4,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?y0:ps,e.adler=t.wrap===2?0:1,t.last_flush=ds,YT(t),xo)}function nb(e){var t=S4(e);return t===xo&&E4(e.state),t}function A4(e,t,r,n,i,o){if(!e)return So;var s=1;if(t===i4&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>f4||r!==p0||n<8||n>15||t<0||t>9||o<0||o>a4)return Bo(e,So);n===8&&(n=9);var a=new x4;return e.state=a,a.strm=e,a.wrap=s,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Ft-1)/Ft),a.window=new Nu(a.w_size*2),a.head=new Xn(a.hash_size),a.prev=new Xn(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Nu(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=(1+2)*a.lit_bufsize,a.level=t,a.strategy=o,a.method=r,nb(e)}function B4(e,t){var r,n,i,o;if(!e||!e.state||t>Qm||t<0)return e?Bo(e,So):So;if(n=e.state,!e.output||!e.input&&e.avail_in!==0||n.status===xc&&t!==Eo)return Bo(e,e.avail_out===0?d0:So);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===y0)if(n.wrap===2)e.adler=0,Pt(n,31),Pt(n,139),Pt(n,8),n.gzhead?(Pt(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Pt(n,n.gzhead.time&255),Pt(n,n.gzhead.time>>8&255),Pt(n,n.gzhead.time>>16&255),Pt(n,n.gzhead.time>>24&255),Pt(n,n.level===9?2:n.strategy>=Du||n.level<2?4:0),Pt(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Pt(n,n.gzhead.extra.length&255),Pt(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Vr(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=w0):(Pt(n,0),Pt(n,0),Pt(n,0),Pt(n,0),Pt(n,0),Pt(n,n.level===9?2:n.strategy>=Du||n.level<2?4:0),Pt(n,w4),n.status=ps);else{var s=p0+(n.w_bits-8<<4)<<8,a=-1;n.strategy>=Du||n.level<2?a=0:n.level<6?a=1:n.level===6?a=2:a=3,s|=a<<6,n.strstart!==0&&(s|=y4),s+=31-s%31,n.status=ps,Ac(n,s),n.strstart!==0&&(Ac(n,e.adler>>>16),Ac(n,e.adler&65535)),e.adler=1}if(n.status===w0)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(n.gzhead.extra.length&65535)&&!(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=Vr(e.adler,n.pending_buf,n.pending-i,i)),Io(e),i=n.pending,n.pending===n.pending_buf_size));)Pt(n,n.gzhead.extra[n.gzindex]&255),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(e.adler=Vr(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=Hu)}else n.status=Hu;if(n.status===Hu)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=Vr(e.adler,n.pending_buf,n.pending-i,i)),Io(e),i=n.pending,n.pending===n.pending_buf_size)){o=1;break}n.gzindex<n.gzhead.name.length?o=n.gzhead.name.charCodeAt(n.gzindex++)&255:o=0,Pt(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=Vr(e.adler,n.pending_buf,n.pending-i,i)),o===0&&(n.gzindex=0,n.status=ju)}else n.status=ju;if(n.status===ju)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=Vr(e.adler,n.pending_buf,n.pending-i,i)),Io(e),i=n.pending,n.pending===n.pending_buf_size)){o=1;break}n.gzindex<n.gzhead.comment.length?o=n.gzhead.comment.charCodeAt(n.gzindex++)&255:o=0,Pt(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=Vr(e.adler,n.pending_buf,n.pending-i,i)),o===0&&(n.status=zu)}else n.status=zu;if(n.status===zu&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&Io(e),n.pending+2<=n.pending_buf_size&&(Pt(n,e.adler&255),Pt(n,e.adler>>8&255),e.adler=0,n.status=ps)):n.status=ps),n.pending!==0){if(Io(e),e.avail_out===0)return n.last_flush=-1,xo}else if(e.avail_in===0&&tb(t)<=tb(r)&&t!==Eo)return Bo(e,d0);if(n.status===xc&&e.avail_in!==0)return Bo(e,d0);if(e.avail_in!==0||n.lookahead!==0||t!==ds&&n.status!==xc){var c=n.strategy===Du?_4(n,t):n.strategy===s4?v4(n,t):la[n.level].func(n,t);if((c===gs||c===fa)&&(n.status=xc),c===$r||c===gs)return e.avail_out===0&&(n.last_flush=-1),xo;if(c===Sc&&(t===t4?XT(n):t!==Qm&&(Jm(n,0,0,!1),t===r4&&(ys(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Io(e),e.avail_out===0))return n.last_flush=-1,xo}return t!==Eo?xo:n.wrap<=0?eb:(n.wrap===2?(Pt(n,e.adler&255),Pt(n,e.adler>>8&255),Pt(n,e.adler>>16&255),Pt(n,e.adler>>24&255),Pt(n,e.total_in&255),Pt(n,e.total_in>>8&255),Pt(n,e.total_in>>16&255),Pt(n,e.total_in>>24&255)):(Ac(n,e.adler>>>16),Ac(n,e.adler&65535)),Io(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?xo:eb)}function I4(e){var t;return!e||!e.state?So:(t=e.state.status,t!==y0&&t!==w0&&t!==Hu&&t!==ju&&t!==zu&&t!==ps&&t!==xc?Bo(e,So):(e.state=null,t===ps?Bo(e,n4):xo))}var qu=30,R4=12;function T4(e,t){var r,n,i,o,s,a,c,u,l,y,A,v,R,O,P,H,F,N,$,q,G,Z,z,ee,oe;r=e.state,n=e.next_in,ee=e.input,i=n+(e.avail_in-5),o=e.next_out,oe=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),c=r.dmax,u=r.wsize,l=r.whave,y=r.wnext,A=r.window,v=r.hold,R=r.bits,O=r.lencode,P=r.distcode,H=(1<<r.lenbits)-1,F=(1<<r.distbits)-1;e:do{R<15&&(v+=ee[n++]<<R,R+=8,v+=ee[n++]<<R,R+=8),N=O[v&H];t:for(;;){if($=N>>>24,v>>>=$,R-=$,$=N>>>16&255,$===0)oe[o++]=N&65535;else if($&16){q=N&65535,$&=15,$&&(R<$&&(v+=ee[n++]<<R,R+=8),q+=v&(1<<$)-1,v>>>=$,R-=$),R<15&&(v+=ee[n++]<<R,R+=8,v+=ee[n++]<<R,R+=8),N=P[v&F];r:for(;;){if($=N>>>24,v>>>=$,R-=$,$=N>>>16&255,$&16){if(G=N&65535,$&=15,R<$&&(v+=ee[n++]<<R,R+=8,R<$&&(v+=ee[n++]<<R,R+=8)),G+=v&(1<<$)-1,G>c){e.msg="invalid distance too far back",r.mode=qu;break e}if(v>>>=$,R-=$,$=o-s,G>$){if($=G-$,$>l&&r.sane){e.msg="invalid distance too far back",r.mode=qu;break e}if(Z=0,z=A,y===0){if(Z+=u-$,$<q){q-=$;do oe[o++]=A[Z++];while(--$);Z=o-G,z=oe}}else if(y<$){if(Z+=u+y-$,$-=y,$<q){q-=$;do oe[o++]=A[Z++];while(--$);if(Z=0,y<q){$=y,q-=$;do oe[o++]=A[Z++];while(--$);Z=o-G,z=oe}}}else if(Z+=y-$,$<q){q-=$;do oe[o++]=A[Z++];while(--$);Z=o-G,z=oe}for(;q>2;)oe[o++]=z[Z++],oe[o++]=z[Z++],oe[o++]=z[Z++],q-=3;q&&(oe[o++]=z[Z++],q>1&&(oe[o++]=z[Z++]))}else{Z=o-G;do oe[o++]=oe[Z++],oe[o++]=oe[Z++],oe[o++]=oe[Z++],q-=3;while(q>2);q&&(oe[o++]=oe[Z++],q>1&&(oe[o++]=oe[Z++]))}}else if($&64){e.msg="invalid distance code",r.mode=qu;break e}else{N=P[(N&65535)+(v&(1<<$)-1)];continue r}break}}else if($&64)if($&32){r.mode=R4;break e}else{e.msg="invalid literal/length code",r.mode=qu;break e}else{N=O[(N&65535)+(v&(1<<$)-1)];continue t}break}}while(n<i&&o<a);q=R>>3,n-=q,R-=q<<3,v&=(1<<R)-1,e.next_in=n,e.next_out=o,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=o<a?257+(a-o):257-(o-a),r.hold=v,r.bits=R}var ha=15,ib=852,ob=592,sb=0,b0=1,ab=2,k4=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],C4=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],L4=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],$4=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function Ic(e,t,r,n,i,o,s,a){var c=a.bits,u=0,l=0,y=0,A=0,v=0,R=0,O=0,P=0,H=0,F=0,N,$,q,G,Z,z=null,ee=0,oe,Q=new Xn(ha+1),I=new Xn(ha+1),g=null,f=0,h,m,_;for(u=0;u<=ha;u++)Q[u]=0;for(l=0;l<n;l++)Q[t[r+l]]++;for(v=c,A=ha;A>=1&&Q[A]===0;A--);if(v>A&&(v=A),A===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,a.bits=1,0;for(y=1;y<A&&Q[y]===0;y++);for(v<y&&(v=y),P=1,u=1;u<=ha;u++)if(P<<=1,P-=Q[u],P<0)return-1;if(P>0&&(e===sb||A!==1))return-1;for(I[1]=0,u=1;u<ha;u++)I[u+1]=I[u]+Q[u];for(l=0;l<n;l++)t[r+l]!==0&&(s[I[t[r+l]]++]=l);if(e===sb?(z=g=s,oe=19):e===b0?(z=k4,ee-=257,g=C4,f-=257,oe=256):(z=L4,g=$4,oe=-1),F=0,l=0,u=y,Z=o,R=v,O=0,q=-1,H=1<<v,G=H-1,e===b0&&H>ib||e===ab&&H>ob)return 1;for(;;){h=u-O,s[l]<oe?(m=0,_=s[l]):s[l]>oe?(m=g[f+s[l]],_=z[ee+s[l]]):(m=32+64,_=0),N=1<<u-O,$=1<<R,y=$;do $-=N,i[Z+(F>>O)+$]=h<<24|m<<16|_|0;while($!==0);for(N=1<<u-1;F&N;)N>>=1;if(N!==0?(F&=N-1,F+=N):F=0,l++,--Q[u]===0){if(u===A)break;u=t[r+s[l]]}if(u>v&&(F&G)!==q){for(O===0&&(O=v),Z+=y,R=u-O,P=1<<R;R+O<A&&(P-=Q[R+O],!(P<=0));)R++,P<<=1;if(H+=1<<R,e===b0&&H>ib||e===ab&&H>ob)return 1;q=F&G,i[q]=v<<24|R<<16|Z-o|0}}return F!==0&&(i[Z+F]=u-O<<24|64<<16|0),a.bits=v,0}var O4=0,cb=1,fb=2,ub=4,M4=5,Vu=6,Rc=0,N4=1,P4=2,Ro=-2,U4=-3,F4=-4,D4=-5,lb=8,hb=1,db=2,pb=3,gb=4,yb=5,wb=6,mb=7,bb=8,vb=9,_b=10,Eb=11,Zi=12,v0=13,xb=14,_0=15,Sb=16,Ab=17,Bb=18,Ib=19,Wu=20,Ku=21,Rb=22,Tb=23,kb=24,Cb=25,Lb=26,E0=27,$b=28,Ob=29,cr=30,H4=31,j4=32,z4=852,q4=592;function Mb(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function V4(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Xn(320),this.work=new Xn(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function W4(e){var t;return!e||!e.state?Ro:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=hb,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Pu(z4),t.distcode=t.distdyn=new Pu(q4),t.sane=1,t.back=-1,Rc)}function Nb(e){var t;return!e||!e.state?Ro:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,W4(e))}function K4(e,t){var r,n;return!e||!e.state||(n=e.state,t<0?(r=0,t=-t):(r=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?Ro:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,Nb(e))}function Z4(e,t){var r,n;return e?(n=new V4,e.state=n,n.window=null,r=K4(e,t),r!==Rc&&(e.state=null),r):Ro}var Pb=!0,x0,S0;function G4(e){if(Pb){var t;for(x0=new Pu(512),S0=new Pu(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ic(cb,e.lens,0,288,x0,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ic(fb,e.lens,0,32,S0,0,e.work,{bits:5}),Pb=!1}e.lencode=x0,e.lenbits=9,e.distcode=S0,e.distbits=5}function Y4(e,t,r,n){var i,o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Nu(o.wsize)),n>=o.wsize?(Wi(o.window,t,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),Wi(o.window,t,r-n,i,o.wnext),n-=i,n?(Wi(o.window,t,r-n,n,0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}function X4(e,t){var r,n,i,o,s,a,c,u,l,y,A,v,R,O,P=0,H,F,N,$,q,G,Z,z,ee=new Nu(4),oe,Q,I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return Ro;r=e.state,r.mode===Zi&&(r.mode=v0),s=e.next_out,i=e.output,c=e.avail_out,o=e.next_in,n=e.input,a=e.avail_in,u=r.hold,l=r.bits,y=a,A=c,z=Rc;e:for(;;)switch(r.mode){case hb:if(r.wrap===0){r.mode=v0;break}for(;l<16;){if(a===0)break e;a--,u+=n[o++]<<l,l+=8}if(r.wrap&2&&u===35615){r.check=0,ee[0]=u&255,ee[1]=u>>>8&255,r.check=Vr(r.check,ee,2,0),u=0,l=0,r.mode=db;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=cr;break}if((u&15)!==lb){e.msg="unknown compression method",r.mode=cr;break}if(u>>>=4,l-=4,Z=(u&15)+8,r.wbits===0)r.wbits=Z;else if(Z>r.wbits){e.msg="invalid window size",r.mode=cr;break}r.dmax=1<<Z,e.adler=r.check=1,r.mode=u&512?_b:Zi,u=0,l=0;break;case db:for(;l<16;){if(a===0)break e;a--,u+=n[o++]<<l,l+=8}if(r.flags=u,(r.flags&255)!==lb){e.msg="unknown compression method",r.mode=cr;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=cr;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&(ee[0]=u&255,ee[1]=u>>>8&255,r.check=Vr(r.check,ee,2,0)),u=0,l=0,r.mode=pb;case pb:for(;l<32;){if(a===0)break e;a--,u+=n[o++]<<l,l+=8}r.head&&(r.head.time=u),r.flags&512&&(ee[0]=u&255,ee[1]=u>>>8&255,ee[2]=u>>>16&255,ee[3]=u>>>24&255,r.check=Vr(r.check,ee,4,0)),u=0,l=0,r.mode=gb;case gb:for(;l<16;){if(a===0)break e;a--,u+=n[o++]<<l,l+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&(ee[0]=u&255,ee[1]=u>>>8&255,r.check=Vr(r.check,ee,2,0)),u=0,l=0,r.mode=yb;case yb:if(r.flags&1024){for(;l<16;){if(a===0)break e;a--,u+=n[o++]<<l,l+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&(ee[0]=u&255,ee[1]=u>>>8&255,r.check=Vr(r.check,ee,2,0)),u=0,l=0}else r.head&&(r.head.extra=null);r.mode=wb;case wb:if(r.flags&1024&&(v=r.length,v>a&&(v=a),v&&(r.head&&(Z=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),Wi(r.head.extra,n,o,v,Z)),r.flags&512&&(r.check=Vr(r.check,n,v,o)),a-=v,o+=v,r.length-=v),r.length))break e;r.length=0,r.mode=mb;case mb:if(r.flags&2048){if(a===0)break e;v=0;do Z=n[o+v++],r.head&&Z&&r.length<65536&&(r.head.name+=String.fromCharCode(Z));while(Z&&v<a);if(r.flags&512&&(r.check=Vr(r.check,n,v,o)),a-=v,o+=v,Z)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=bb;case bb:if(r.flags&4096){if(a===0)break e;v=0;do Z=n[o+v++],r.head&&Z&&r.length<65536&&(r.head.comment+=String.fromCharCode(Z));while(Z&&v<a);if(r.flags&512&&(r.check=Vr(r.check,n,v,o)),a-=v,o+=v,Z)break e}else r.head&&(r.head.comment=null);r.mode=vb;case vb:if(r.flags&512){for(;l<16;){if(a===0)break e;a--,u+=n[o++]<<l,l+=8}if(u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=cr;break}u=0,l=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Zi;break;case _b:for(;l<32;){if(a===0)break e;a--,u+=n[o++]<<l,l+=8}e.adler=r.check=Mb(u),u=0,l=0,r.mode=Eb;case Eb:if(r.havedict===0)return e.next_out=s,e.avail_out=c,e.next_in=o,e.avail_in=a,r.hold=u,r.bits=l,P4;e.adler=r.check=1,r.mode=Zi;case Zi:if(t===M4||t===Vu)break e;case v0:if(r.last){u>>>=l&7,l-=l&7,r.mode=E0;break}for(;l<3;){if(a===0)break e;a--,u+=n[o++]<<l,l+=8}switch(r.last=u&1,u>>>=1,l-=1,u&3){case 0:r.mode=xb;break;case 1:if(G4(r),r.mode=Wu,t===Vu){u>>>=2,l-=2;break e}break;case 2:r.mode=Ab;break;case 3:e.msg="invalid block type",r.mode=cr}u>>>=2,l-=2;break;case xb:for(u>>>=l&7,l-=l&7;l<32;){if(a===0)break e;a--,u+=n[o++]<<l,l+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=cr;break}if(r.length=u&65535,u=0,l=0,r.mode=_0,t===Vu)break e;case _0:r.mode=Sb;case Sb:if(v=r.length,v){if(v>a&&(v=a),v>c&&(v=c),v===0)break e;Wi(i,n,o,v,s),a-=v,o+=v,c-=v,s+=v,r.length-=v;break}r.mode=Zi;break;case Ab:for(;l<14;){if(a===0)break e;a--,u+=n[o++]<<l,l+=8}if(r.nlen=(u&31)+257,u>>>=5,l-=5,r.ndist=(u&31)+1,u>>>=5,l-=5,r.ncode=(u&15)+4,u>>>=4,l-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=cr;break}r.have=0,r.mode=Bb;case Bb:for(;r.have<r.ncode;){for(;l<3;){if(a===0)break e;a--,u+=n[o++]<<l,l+=8}r.lens[I[r.have++]]=u&7,u>>>=3,l-=3}for(;r.have<19;)r.lens[I[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,oe={bits:r.lenbits},z=Ic(O4,r.lens,0,19,r.lencode,0,r.work,oe),r.lenbits=oe.bits,z){e.msg="invalid code lengths set",r.mode=cr;break}r.have=0,r.mode=Ib;case Ib:for(;r.have<r.nlen+r.ndist;){for(;P=r.lencode[u&(1<<r.lenbits)-1],H=P>>>24,F=P>>>16&255,N=P&65535,!(H<=l);){if(a===0)break e;a--,u+=n[o++]<<l,l+=8}if(N<16)u>>>=H,l-=H,r.lens[r.have++]=N;else{if(N===16){for(Q=H+2;l<Q;){if(a===0)break e;a--,u+=n[o++]<<l,l+=8}if(u>>>=H,l-=H,r.have===0){e.msg="invalid bit length repeat",r.mode=cr;break}Z=r.lens[r.have-1],v=3+(u&3),u>>>=2,l-=2}else if(N===17){for(Q=H+3;l<Q;){if(a===0)break e;a--,u+=n[o++]<<l,l+=8}u>>>=H,l-=H,Z=0,v=3+(u&7),u>>>=3,l-=3}else{for(Q=H+7;l<Q;){if(a===0)break e;a--,u+=n[o++]<<l,l+=8}u>>>=H,l-=H,Z=0,v=11+(u&127),u>>>=7,l-=7}if(r.have+v>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=cr;break}for(;v--;)r.lens[r.have++]=Z}}if(r.mode===cr)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=cr;break}if(r.lenbits=9,oe={bits:r.lenbits},z=Ic(cb,r.lens,0,r.nlen,r.lencode,0,r.work,oe),r.lenbits=oe.bits,z){e.msg="invalid literal/lengths set",r.mode=cr;break}if(r.distbits=6,r.distcode=r.distdyn,oe={bits:r.distbits},z=Ic(fb,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,oe),r.distbits=oe.bits,z){e.msg="invalid distances set",r.mode=cr;break}if(r.mode=Wu,t===Vu)break e;case Wu:r.mode=Ku;case Ku:if(a>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=o,e.avail_in=a,r.hold=u,r.bits=l,T4(e,A),s=e.next_out,i=e.output,c=e.avail_out,o=e.next_in,n=e.input,a=e.avail_in,u=r.hold,l=r.bits,r.mode===Zi&&(r.back=-1);break}for(r.back=0;P=r.lencode[u&(1<<r.lenbits)-1],H=P>>>24,F=P>>>16&255,N=P&65535,!(H<=l);){if(a===0)break e;a--,u+=n[o++]<<l,l+=8}if(F&&!(F&240)){for($=H,q=F,G=N;P=r.lencode[G+((u&(1<<$+q)-1)>>$)],H=P>>>24,F=P>>>16&255,N=P&65535,!($+H<=l);){if(a===0)break e;a--,u+=n[o++]<<l,l+=8}u>>>=$,l-=$,r.back+=$}if(u>>>=H,l-=H,r.back+=H,r.length=N,F===0){r.mode=Lb;break}if(F&32){r.back=-1,r.mode=Zi;break}if(F&64){e.msg="invalid literal/length code",r.mode=cr;break}r.extra=F&15,r.mode=Rb;case Rb:if(r.extra){for(Q=r.extra;l<Q;){if(a===0)break e;a--,u+=n[o++]<<l,l+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=Tb;case Tb:for(;P=r.distcode[u&(1<<r.distbits)-1],H=P>>>24,F=P>>>16&255,N=P&65535,!(H<=l);){if(a===0)break e;a--,u+=n[o++]<<l,l+=8}if(!(F&240)){for($=H,q=F,G=N;P=r.distcode[G+((u&(1<<$+q)-1)>>$)],H=P>>>24,F=P>>>16&255,N=P&65535,!($+H<=l);){if(a===0)break e;a--,u+=n[o++]<<l,l+=8}u>>>=$,l-=$,r.back+=$}if(u>>>=H,l-=H,r.back+=H,F&64){e.msg="invalid distance code",r.mode=cr;break}r.offset=N,r.extra=F&15,r.mode=kb;case kb:if(r.extra){for(Q=r.extra;l<Q;){if(a===0)break e;a--,u+=n[o++]<<l,l+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=cr;break}r.mode=Cb;case Cb:if(c===0)break e;if(v=A-c,r.offset>v){if(v=r.offset-v,v>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=cr;break}v>r.wnext?(v-=r.wnext,R=r.wsize-v):R=r.wnext-v,v>r.length&&(v=r.length),O=r.window}else O=i,R=s-r.offset,v=r.length;v>c&&(v=c),c-=v,r.length-=v;do i[s++]=O[R++];while(--v);r.length===0&&(r.mode=Ku);break;case Lb:if(c===0)break e;i[s++]=r.length,c--,r.mode=Ku;break;case E0:if(r.wrap){for(;l<32;){if(a===0)break e;a--,u|=n[o++]<<l,l+=8}if(A-=c,e.total_out+=A,r.total+=A,A&&(e.adler=r.check=r.flags?Vr(r.check,i,A,s-A):h0(r.check,i,A,s-A)),A=c,(r.flags?u:Mb(u))!==r.check){e.msg="incorrect data check",r.mode=cr;break}u=0,l=0}r.mode=$b;case $b:if(r.wrap&&r.flags){for(;l<32;){if(a===0)break e;a--,u+=n[o++]<<l,l+=8}if(u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=cr;break}u=0,l=0}r.mode=Ob;case Ob:z=N4;break e;case cr:z=U4;break e;case H4:return F4;case j4:default:return Ro}return e.next_out=s,e.avail_out=c,e.next_in=o,e.avail_in=a,r.hold=u,r.bits=l,(r.wsize||A!==e.avail_out&&r.mode<cr&&(r.mode<E0||t!==ub))&&Y4(e,e.output,e.next_out,A-e.avail_out),y-=e.avail_in,A-=e.avail_out,e.total_in+=y,e.total_out+=A,r.total+=A,r.wrap&&A&&(e.adler=r.check=r.flags?Vr(r.check,i,A,e.next_out-A):h0(r.check,i,A,e.next_out-A)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Zi?128:0)+(r.mode===Wu||r.mode===_0?256:0),(y===0&&A===0||t===ub)&&z===Rc&&(z=D4),z}function J4(e){if(!e||!e.state)return Ro;var t=e.state;return t.window&&(t.window=null),e.state=null,Rc}var A0=0,da=1,Zu=2,Tc=3,Gu=4,pa=5,kc=6,Cc=7,Ub=0,Fb=1,Db=2,Hb=3,B0=4,jb=5,Q4=6,Yu=0,zb=1,qb=2,e5=-1,t5=-2,r5=-3,Vb=-5,n5=0,i5=1,o5=9,s5=-1,a5=1,c5=2,f5=3,u5=4,l5=0,h5=0,d5=1,p5=2,Wb=8;function si(e){if(e<da||e>Cc)throw new TypeError("Bad argument");this.mode=e,this.init_done=!1,this.write_in_progress=!1,this.pending_close=!1,this.windowBits=0,this.level=0,this.memLevel=0,this.strategy=0,this.dictionary=null}si.prototype.init=function(e,t,r,n,i){this.windowBits=e,this.level=t,this.memLevel=r,this.strategy=n,(this.mode===Tc||this.mode===Gu)&&(this.windowBits+=16),this.mode===Cc&&(this.windowBits+=32),(this.mode===pa||this.mode===kc)&&(this.windowBits=-this.windowBits),this.strm=new $T;var o;switch(this.mode){case da:case Tc:case pa:o=A4(this.strm,this.level,Wb,this.windowBits,this.memLevel,this.strategy);break;case Zu:case Gu:case kc:case Cc:o=Z4(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}if(o!==Yu){this._error(o);return}this.write_in_progress=!1,this.init_done=!0},si.prototype.params=function(){throw new Error("deflateParams Not supported")},si.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(this.mode===A0)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")},si.prototype.write=function(e,t,r,n,i,o,s){this._writeCheck(),this.write_in_progress=!0;var a=this;return _n.nextTick(function(){a.write_in_progress=!1;var c=a._write(e,t,r,n,i,o,s);a.callback(c[0],c[1]),a.pending_close&&a.close()}),this};function g5(e,t){for(var r=0;r<e.length;r++)this[t+r]=e[r]}si.prototype.writeSync=function(e,t,r,n,i,o,s){return this._writeCheck(),this._write(e,t,r,n,i,o,s)},si.prototype._write=function(e,t,r,n,i,o,s){if(this.write_in_progress=!0,e!==Ub&&e!==Fb&&e!==Db&&e!==Hb&&e!==B0&&e!==jb)throw new Error("Invalid flush value");t==null&&(t=new le(0),n=0,r=0),i._set?i.set=i._set:i.set=g5;var a=this.strm;a.avail_in=n,a.input=t,a.next_in=r,a.avail_out=s,a.output=i,a.next_out=o;var c;switch(this.mode){case da:case Tc:case pa:c=B4(a,e);break;case Cc:case Zu:case Gu:case kc:c=X4(a,e);break;default:throw new Error("Unknown mode "+this.mode)}return this._checkError(c,a,e)||this._error(c),this.write_in_progress=!1,[a.avail_in,a.avail_out]},si.prototype._checkError=function(e,t,r){switch(e){case Yu:case Vb:if(t.avail_out!==0&&r===B0)return!1;break;case zb:break;case qb:return!1;default:return!1}return!0},si.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,this.mode===da||this.mode===Tc||this.mode===pa?I4(this.strm):J4(this.strm),this.mode=A0};var Xu;si.prototype.reset=function(){switch(this.mode){case da:case pa:Xu=nb(this.strm);break;case Zu:case kc:Xu=Nb(this.strm);break}Xu!==Yu&&this._error(Xu)},si.prototype._error=function(e){this.onerror(km[e]+": "+this.strm.msg,e),this.write_in_progress=!1,this.pending_close&&this.close()};var Kb=Object.freeze({__proto__:null,NONE:A0,DEFLATE:da,INFLATE:Zu,GZIP:Tc,GUNZIP:Gu,DEFLATERAW:pa,INFLATERAW:kc,UNZIP:Cc,Z_NO_FLUSH:Ub,Z_PARTIAL_FLUSH:Fb,Z_SYNC_FLUSH:Db,Z_FULL_FLUSH:Hb,Z_FINISH:B0,Z_BLOCK:jb,Z_TREES:Q4,Z_OK:Yu,Z_STREAM_END:zb,Z_NEED_DICT:qb,Z_ERRNO:e5,Z_STREAM_ERROR:t5,Z_DATA_ERROR:r5,Z_BUF_ERROR:Vb,Z_NO_COMPRESSION:n5,Z_BEST_SPEED:i5,Z_BEST_COMPRESSION:o5,Z_DEFAULT_COMPRESSION:s5,Z_FILTERED:a5,Z_HUFFMAN_ONLY:c5,Z_RLE:f5,Z_FIXED:u5,Z_DEFAULT_STRATEGY:l5,Z_BINARY:h5,Z_TEXT:d5,Z_UNKNOWN:p5,Z_DEFLATED:Wb,Zlib:si});function y5(e,t){if(!e)throw new Error(t)}var Oe={};Object.keys(Kb).forEach(function(e){Oe[e]=Kb[e]}),Oe.Z_MIN_WINDOWBITS=8,Oe.Z_MAX_WINDOWBITS=15,Oe.Z_DEFAULT_WINDOWBITS=15,Oe.Z_MIN_CHUNK=64,Oe.Z_MAX_CHUNK=1/0,Oe.Z_DEFAULT_CHUNK=16*1024,Oe.Z_MIN_MEMLEVEL=1,Oe.Z_MAX_MEMLEVEL=9,Oe.Z_DEFAULT_MEMLEVEL=8,Oe.Z_MIN_LEVEL=-1,Oe.Z_MAX_LEVEL=9,Oe.Z_DEFAULT_LEVEL=Oe.Z_DEFAULT_COMPRESSION;var ga={Z_OK:Oe.Z_OK,Z_STREAM_END:Oe.Z_STREAM_END,Z_NEED_DICT:Oe.Z_NEED_DICT,Z_ERRNO:Oe.Z_ERRNO,Z_STREAM_ERROR:Oe.Z_STREAM_ERROR,Z_DATA_ERROR:Oe.Z_DATA_ERROR,Z_MEM_ERROR:Oe.Z_MEM_ERROR,Z_BUF_ERROR:Oe.Z_BUF_ERROR,Z_VERSION_ERROR:Oe.Z_VERSION_ERROR};Object.keys(ga).forEach(function(e){ga[ga[e]]=e});function Zb(e){return new To(e)}function Gb(e){return new ko(e)}function Yb(e){return new $o(e)}function Xb(e){return new Oo(e)}function Jb(e){return new Co(e)}function Qb(e){return new Lo(e)}function ev(e){return new Mo(e)}function tv(e,t,r){return typeof t=="function"&&(r=t,t={}),ws(new To(t),e,r)}function rv(e,t){return ms(new To(t),e)}function nv(e,t,r){return typeof t=="function"&&(r=t,t={}),ws(new Co(t),e,r)}function iv(e,t){return ms(new Co(t),e)}function ov(e,t,r){return typeof t=="function"&&(r=t,t={}),ws(new $o(t),e,r)}function sv(e,t){return ms(new $o(t),e)}function av(e,t,r){return typeof t=="function"&&(r=t,t={}),ws(new Mo(t),e,r)}function cv(e,t){return ms(new Mo(t),e)}function fv(e,t,r){return typeof t=="function"&&(r=t,t={}),ws(new ko(t),e,r)}function uv(e,t){return ms(new ko(t),e)}function lv(e,t,r){return typeof t=="function"&&(r=t,t={}),ws(new Lo(t),e,r)}function hv(e,t){return ms(new Lo(t),e)}function dv(e,t,r){return typeof t=="function"&&(r=t,t={}),ws(new Oo(t),e,r)}function pv(e,t){return ms(new Oo(t),e)}function ws(e,t,r){var n=[],i=0;e.on("error",s),e.on("end",a),e.end(t),o();function o(){for(var c;(c=e.read())!==null;)n.push(c),i+=c.length;e.once("readable",o)}function s(c){e.removeListener("end",a),e.removeListener("readable",o),r(c)}function a(){var c=le.concat(n,i);n=[],r(null,c),e.close()}}function ms(e,t){if(typeof t=="string"&&(t=new le(t)),!le.isBuffer(t))throw new TypeError("Not a string or buffer");var r=Oe.Z_FINISH;return e._processChunk(t,r)}function To(e){if(!(this instanceof To))return new To(e);fr.call(this,e,Oe.DEFLATE)}function ko(e){if(!(this instanceof ko))return new ko(e);fr.call(this,e,Oe.INFLATE)}function Co(e){if(!(this instanceof Co))return new Co(e);fr.call(this,e,Oe.GZIP)}function Lo(e){if(!(this instanceof Lo))return new Lo(e);fr.call(this,e,Oe.GUNZIP)}function $o(e){if(!(this instanceof $o))return new $o(e);fr.call(this,e,Oe.DEFLATERAW)}function Oo(e){if(!(this instanceof Oo))return new Oo(e);fr.call(this,e,Oe.INFLATERAW)}function Mo(e){if(!(this instanceof Mo))return new Mo(e);fr.call(this,e,Oe.UNZIP)}function fr(e,t){if(this._opts=e=e||{},this._chunkSize=e.chunkSize||Oe.Z_DEFAULT_CHUNK,Yn.call(this,e),e.flush&&e.flush!==Oe.Z_NO_FLUSH&&e.flush!==Oe.Z_PARTIAL_FLUSH&&e.flush!==Oe.Z_SYNC_FLUSH&&e.flush!==Oe.Z_FULL_FLUSH&&e.flush!==Oe.Z_FINISH&&e.flush!==Oe.Z_BLOCK)throw new Error("Invalid flush flag: "+e.flush);if(this._flushFlag=e.flush||Oe.Z_NO_FLUSH,e.chunkSize&&(e.chunkSize<Oe.Z_MIN_CHUNK||e.chunkSize>Oe.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<Oe.Z_MIN_WINDOWBITS||e.windowBits>Oe.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<Oe.Z_MIN_LEVEL||e.level>Oe.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<Oe.Z_MIN_MEMLEVEL||e.memLevel>Oe.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=Oe.Z_FILTERED&&e.strategy!=Oe.Z_HUFFMAN_ONLY&&e.strategy!=Oe.Z_RLE&&e.strategy!=Oe.Z_FIXED&&e.strategy!=Oe.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!le.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._binding=new Oe.Zlib(t);var r=this;this._hadError=!1,this._binding.onerror=function(o,s){r._binding=null,r._hadError=!0;var a=new Error(o);a.errno=s,a.code=ga[s],r.emit("error",a)};var n=Oe.Z_DEFAULT_COMPRESSION;typeof e.level=="number"&&(n=e.level);var i=Oe.Z_DEFAULT_STRATEGY;typeof e.strategy=="number"&&(i=e.strategy),this._binding.init(e.windowBits||Oe.Z_DEFAULT_WINDOWBITS,n,e.memLevel||Oe.Z_DEFAULT_MEMLEVEL,i,e.dictionary),this._buffer=new le(this._chunkSize),this._offset=0,this._closed=!1,this._level=n,this._strategy=i,this.once("end",this.close)}qr(fr,Yn),fr.prototype.params=function(e,t,r){if(e<Oe.Z_MIN_LEVEL||e>Oe.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+e);if(t!=Oe.Z_FILTERED&&t!=Oe.Z_HUFFMAN_ONLY&&t!=Oe.Z_RLE&&t!=Oe.Z_FIXED&&t!=Oe.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+t);if(this._level!==e||this._strategy!==t){var n=this;this.flush(Oe.Z_SYNC_FLUSH,function(){n._binding.params(e,t),n._hadError||(n._level=e,n._strategy=t,r&&r())})}else _n.nextTick(r)},fr.prototype.reset=function(){return this._binding.reset()},fr.prototype._flush=function(e){this._transform(new le(0),"",e)},fr.prototype.flush=function(e,t){var r=this._writableState;if((typeof e=="function"||e===void 0&&!t)&&(t=e,e=Oe.Z_FULL_FLUSH),r.ended)t&&_n.nextTick(t);else if(r.ending)t&&this.once("end",t);else if(r.needDrain){var n=this;this.once("drain",function(){n.flush(t)})}else this._flushFlag=e,this.write(new le(0),"",t)},fr.prototype.close=function(e){if(e&&_n.nextTick(e),!this._closed){this._closed=!0,this._binding.close();var t=this;_n.nextTick(function(){t.emit("close")})}},fr.prototype._transform=function(e,t,r){var n,i=this._writableState,o=i.ending||i.ended,s=o&&(!e||i.length===e.length);if(!e===null&&!le.isBuffer(e))return r(new Error("invalid input"));s?n=Oe.Z_FINISH:(n=this._flushFlag,e.length>=i.length&&(this._flushFlag=this._opts.flush||Oe.Z_NO_FLUSH)),this._processChunk(e,n,r)},fr.prototype._processChunk=function(e,t,r){var n=e&&e.length,i=this._chunkSize-this._offset,o=0,s=this,a=typeof r=="function";if(!a){var c=[],u=0,l;this.on("error",function(O){l=O});do var y=this._binding.writeSync(t,e,o,n,this._buffer,this._offset,i);while(!this._hadError&&R(y[0],y[1]));if(this._hadError)throw l;var A=le.concat(c,u);return this.close(),A}var v=this._binding.write(t,e,o,n,this._buffer,this._offset,i);v.buffer=e,v.callback=R;function R(O,P){if(!s._hadError){var H=i-P;if(y5(H>=0,"have should not go down"),H>0){var F=s._buffer.slice(s._offset,s._offset+H);s._offset+=H,a?s.push(F):(c.push(F),u+=F.length)}if((P===0||s._offset>=s._chunkSize)&&(i=s._chunkSize,s._offset=0,s._buffer=new le(s._chunkSize)),P===0){if(o+=n-O,n=O,!a)return!0;var N=s._binding.write(t,e,o,n,s._buffer,s._offset,s._chunkSize);N.callback=R,N.buffer=e;return}if(!a)return!1;r()}}},qr(To,fr),qr(ko,fr),qr(Co,fr),qr(Lo,fr),qr($o,fr),qr(Oo,fr),qr(Mo,fr);var w5={codes:ga,createDeflate:Zb,createInflate:Gb,createDeflateRaw:Yb,createInflateRaw:Xb,createGzip:Jb,createGunzip:Qb,createUnzip:ev,deflate:tv,deflateSync:rv,gzip:nv,gzipSync:iv,deflateRaw:ov,deflateRawSync:sv,unzip:av,unzipSync:cv,inflate:fv,inflateSync:uv,gunzip:lv,gunzipSync:hv,inflateRaw:dv,inflateRawSync:pv,Deflate:To,Inflate:ko,Gzip:Co,Gunzip:Lo,DeflateRaw:$o,InflateRaw:Oo,Unzip:Mo,Zlib:fr},m5=Object.freeze({__proto__:null,codes:ga,createDeflate:Zb,createInflate:Gb,createDeflateRaw:Yb,createInflateRaw:Xb,createGzip:Jb,createGunzip:Qb,createUnzip:ev,deflate:tv,deflateSync:rv,gzip:nv,gzipSync:iv,deflateRaw:ov,deflateRawSync:sv,unzip:av,unzipSync:cv,inflate:fv,inflateSync:uv,gunzip:lv,gunzipSync:hv,inflateRaw:dv,inflateRawSync:pv,Deflate:To,Inflate:ko,Gzip:Co,Gunzip:Lo,DeflateRaw:$o,InflateRaw:Oo,Unzip:Mo,Zlib:fr,default:w5}),b5=Un(m5),v5=Un(nR),_5=Un(BT);Object.defineProperty(ns,"__esModule",{value:!0}),ns.InvalidStatusCodeError=ns.InvalidCertError=void 0;const gv=Object.freeze({redirect:!0,expectStatusCode:200,headers:{},full:!1,keepAlive:!0,cors:!1,referrer:!1,sslAllowSelfSigned:!1,_redirectCount:0});class I0 extends Error{constructor(t,r){super(t),this.fingerprint256=r}}ns.InvalidCertError=I0;class R0 extends Error{constructor(t){super(`Request Failed. Status Code: ${t}`),this.statusCode=t}}ns.InvalidStatusCodeError=R0;function yv(e,t){if(!t||t==="text"||t==="json")try{let r=new TextDecoder("utf8",{fatal:!0}).decode(e);if(t==="text")return r;try{return JSON.parse(r)}catch(n){if(t==="json")throw n;return r}}catch(r){if(t==="text"||t==="json")throw r}return e}let wv={};function T0(e,t){let r={...gv,...t};const n=TT,i=LT,o=b5,{promisify:s}=v5,{resolve:a}=_5,c=!!/^https/.test(e);let u={method:r.method||"GET",headers:{"Accept-Encoding":"gzip, deflate, br"}};const l=A=>A.replace(/:| /g,"").toLowerCase();if(r.keepAlive){const A={keepAlive:!0,keepAliveMsecs:3e4,maxFreeSockets:1024,maxCachedSessions:1024},v=[c,c&&r.sslPinnedCertificates?.map(R=>l(R)).sort()].join();u.agent=wv[v]||(wv[v]=new(c?i:n).Agent(A))}r.type==="json"&&(u.headers["Content-Type"]="application/json"),r.data&&(r.method||(u.method="POST"),u.body=r.type==="json"?JSON.stringify(r.data):r.data),u.headers={...u.headers,...r.headers},r.sslAllowSelfSigned&&(u.rejectUnauthorized=!1);const y=async A=>{const v=A.statusCode;if(r.redirect&&300<=v&&v<400&&A.headers.location){if(r._redirectCount==10)throw new Error("Request failed. Too much redirects.");return r._redirectCount+=1,await T0(a(e,A.headers.location),r)}if(r.expectStatusCode&&v!==r.expectStatusCode)throw A.resume(),new R0(v);let R=[];for await(const F of A)R.push(F);let O=ie.Buffer.concat(R);const P=A.headers["content-encoding"];P==="br"&&(O=await s(o.brotliDecompress)(O)),(P==="gzip"||P==="deflate")&&(O=await s(o.unzip)(O));const H=yv(O,r.type);return r.full?{headers:A.headers,status:v,body:H}:H};return new Promise((A,v)=>{const R=async F=>{if(F&&F.code==="DEPTH_ZERO_SELF_SIGNED_CERT")try{await T0(e,{...r,sslAllowSelfSigned:!0,sslPinnedCertificates:[]})}catch(N){N&&N.fingerprint256&&(F=new I0(`Self-signed SSL certificate: ${N.fingerprint256}`,N.fingerprint256))}v(F)},O=(c?i:n).request(e,u,F=>{F.on("error",R),(async()=>{try{A(await y(F))}catch(N){v(N)}})()});O.on("error",R);const P=r.sslPinnedCertificates?.map(F=>l(F)),H=F=>{const N=l(F.getPeerCertificate()?.fingerprint256||"");if(!(!N&&F.isSessionReused())&&!P.includes(N))return O.emit("error",new I0(`Invalid SSL certificate: ${N} Expected: ${P}`,N)),O.abort()};r.sslPinnedCertificates&&O.on("socket",F=>{F.listeners("secureConnect").map($=>($.name||"").replace("bound ","")).includes("mfetchSecureConnect")||F.on("secureConnect",H.bind(null,F))}),r.keepAlive&&O.setNoDelay(!0),u.body&&O.write(u.body),O.end()})}const E5=new Set(["Accept","Accept-Language","Content-Language","Content-Type"].map(e=>e.toLowerCase())),x5=new Set(["Accept-Charset","Accept-Encoding","Access-Control-Request-Headers","Access-Control-Request-Method","Connection","Content-Length","Cookie","Cookie2","Date","DNT","Expect","Host","Keep-Alive","Origin","Referer","TE","Trailer","Transfer-Encoding","Upgrade","Via"].map(e=>e.toLowerCase()));async function S5(e,t){let r={...gv,...t};const n=new Headers;r.type==="json"&&n.set("Content-Type","application/json");let i=new URL(e);if(i.username){const c=btoa(`${i.username}:${i.password}`);n.set("Authorization",`Basic ${c}`),i.username="",i.password=""}e=""+i;for(let c in r.headers){const u=c.toLowerCase();(E5.has(u)||r.cors&&!x5.has(u))&&n.set(c,r.headers[c])}let o={headers:n,redirect:r.redirect?"follow":"manual"};r.referrer||(o.referrerPolicy="no-referrer"),r.cors&&(o.mode="cors"),r.data&&(r.method||(o.method="POST"),o.body=r.type==="json"?JSON.stringify(r.data):r.data);const s=await fetch(e,o);if(r.expectStatusCode&&s.status!==r.expectStatusCode)throw new R0(s.status);const a=yv(new Uint8Array(await s.arrayBuffer()),r.type);return r.full?{headers:Object.fromEntries(s.headers.entries()),status:s.status,body:a}:a}const A5=!!(typeof process=="object"&&process.versions&&process.versions.node&&process.versions.v8);function B5(e,t){return(A5?T0:S5)(e,t)}ns.default=B5,Object.defineProperty(ra,"__esModule",{value:!0}),ra.getProvider=ra.fetchFromProvider=void 0;const I5=ns,R5=async(e,t)=>(await(0,I5.default)(e,{headers:{"content-type":"application/json"},type:"json",data:{method:t.method,params:t.params,jsonrpc:"2.0",id:1}})).result;ra.fetchFromProvider=R5;const T5=e=>{if(typeof e=="string")return e;if(e?.connection?.url!==void 0)return e.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")};ra.getProvider=T5,function(e){var t=ft&&ft.__createBinding||(Object.create?function(i,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(i,a,c)}:function(i,o,s,a){a===void 0&&(a=s),i[a]=o[s]}),r=ft&&ft.__exportStar||function(i,o){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&t(o,i,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.toAscii=e.stripHexPrefix=e.padToEven=e.isHexString=e.isHexPrefixed=e.getKeys=e.getBinarySize=e.fromUtf8=e.fromAscii=e.arrayContainsArray=void 0,r(ru,e),r(uu,e),r(ad,e),r(oc,e),r(yu,e),r(an,e),r(rs,e),r(gd,e),r(dw,e),r(bu,e);var n=er;Object.defineProperty(e,"arrayContainsArray",{enumerable:!0,get:function(){return n.arrayContainsArray}}),Object.defineProperty(e,"fromAscii",{enumerable:!0,get:function(){return n.fromAscii}}),Object.defineProperty(e,"fromUtf8",{enumerable:!0,get:function(){return n.fromUtf8}}),Object.defineProperty(e,"getBinarySize",{enumerable:!0,get:function(){return n.getBinarySize}}),Object.defineProperty(e,"getKeys",{enumerable:!0,get:function(){return n.getKeys}}),Object.defineProperty(e,"isHexPrefixed",{enumerable:!0,get:function(){return n.isHexPrefixed}}),Object.defineProperty(e,"isHexString",{enumerable:!0,get:function(){return n.isHexString}}),Object.defineProperty(e,"padToEven",{enumerable:!0,get:function(){return n.padToEven}}),Object.defineProperty(e,"stripHexPrefix",{enumerable:!0,get:function(){return n.stripHexPrefix}}),Object.defineProperty(e,"toAscii",{enumerable:!0,get:function(){return n.toAscii}}),r(vu,e),r(ra,e)}(tu);var Qr={},se={},ya={},Rt={},Jn={},No={},dn={};Object.defineProperty(dn,"__esModule",{value:!0});function k5(e,t){return e??t()}function C5(e){return Array.isArray(e)&&e.length>0}function L5(e){return e==null}function $5(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}var O5=(e,t)=>Object.hasOwnProperty.call(e,t);function M5(e){return Object.getOwnPropertyNames(e)}var mv=(e=>(e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date",e))(mv||{}),bv=/"|\\|\n|\r|\t/gu;function N5(e){if(typeof e!="object"||e===null)return!1;try{let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch{return!1}}function vv(e){return e.charCodeAt(0)<=127}function P5(e){return e.split("").reduce((r,n)=>vv(n)?r+1:r+2,0)+k5(e.match(bv),()=>[]).length}function U5(e){return e.toString().length}dn.isNonEmptyArray=C5,dn.isNullOrUndefined=L5,dn.isObject=$5,dn.hasProperty=O5,dn.getKnownPropertyNames=M5,dn.JsonSize=mv,dn.ESCAPE_CHARACTERS_REGEXP=bv,dn.isPlainObject=N5,dn.isASCII=vv,dn.calculateStringSize=P5,dn.calculateNumberSize=U5;class k0 extends Error{constructor(t,{cause:r}={}){super(t),this.name=k0.name,r&&(this.cause=r),this.message=t}}var F5=Object.freeze({__proto__:null,ErrorWithCause:k0}),D5=Un(F5);const H5=(e,t)=>{if(!e||!t||!(e instanceof Error)||!(t.prototype instanceof Error)&&t!==Error)return;const r=new Set;let n=e;for(;n&&!r.has(n);){if(r.add(n),n instanceof t)return n;n=Ju(n)}},Ju=e=>{if(!(!e||typeof e!="object"||!("cause"in e)))if(typeof e.cause=="function"){const t=e.cause();return t instanceof Error?t:void 0}else return e.cause instanceof Error?e.cause:void 0},_v=(e,t)=>{if(!(e instanceof Error))return"";const r=e.stack||"";if(t.has(e))return r+`
causes have become circular...`;const n=Ju(e);return n?(t.add(e),r+`
caused by: `+_v(n,t)):r},j5=e=>_v(e,new Set),Ev=(e,t,r)=>{if(!(e instanceof Error))return"";const n=r?"":e.message||"";if(t.has(e))return n+": ...";const i=Ju(e);if(i){t.add(e);const o="cause"in e&&typeof e.cause=="function";return n+(o?"":": ")+Ev(i,t,o)}else return n};var z5=Object.freeze({__proto__:null,findCauseByReference:H5,getErrorCause:Ju,stackWithCauses:j5,messageWithCauses:e=>Ev(e,new Set)}),q5=Un(z5);const{ErrorWithCause:V5}=D5,{findCauseByReference:W5,getErrorCause:K5,messageWithCauses:Z5,stackWithCauses:G5}=q5;var Y5={ErrorWithCause:V5,findCauseByReference:W5,getErrorCause:K5,stackWithCauses:G5,messageWithCauses:Z5};Object.defineProperty(No,"__esModule",{value:!0});var xv=dn,X5=Y5;function J5(e){return e instanceof Error||xv.isObject.call(void 0,e)&&e.constructor.name==="Error"}function Sv(e){return typeof e=="object"&&e!==null&&"code"in e}function Av(e){return typeof e=="object"&&e!==null&&"message"in e}function Q5(e){return typeof e=="object"&&e!==null&&"stack"in e}function ek(e){return Av(e)&&typeof e.message=="string"?e.message:xv.isNullOrUndefined.call(void 0,e)?"":String(e)}function tk(e,t){if(J5(e)){let r;return Error.length===2?r=new Error(t,{cause:e}):r=new X5.ErrorWithCause(t,{cause:e}),Sv(e)&&(r.code=e.code),r}return t.length>0?new Error(`${String(e)}: ${t}`):new Error(String(e))}No.isErrorWithCode=Sv,No.isErrorWithMessage=Av,No.isErrorWithStack=Q5,No.getErrorMessage=ek,No.wrapError=tk;class Bv extends TypeError{constructor(t,r){let n;const{message:i,explanation:o,...s}=t,{path:a}=t,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??c),o!=null&&(this.cause=c),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...r()])}}function rk(e){return Qn(e)&&typeof e[Symbol.iterator]=="function"}function Qn(e){return typeof e=="object"&&e!=null}function Iv(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Or(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function nk(e){const{done:t,value:r}=e.next();return t?void 0:r}function ik(e,t,r,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:o}=t,{type:s}=r,{refinement:a,message:c=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${Or(n)}\``}=e;return{value:n,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:c}}function*C0(e,t,r,n){rk(e)||(e=[e]);for(const i of e){const o=ik(i,t,r,n);o&&(yield o)}}function*L0(e,t,r={}){const{path:n=[],branch:i=[e],coerce:o=!1,mask:s=!1}=r,a={path:n,branch:i};if(o&&(e=t.coercer(e,a),s&&t.type!=="type"&&Qn(t.schema)&&Qn(e)&&!Array.isArray(e)))for(const u in e)t.schema[u]===void 0&&delete e[u];let c="valid";for(const u of t.validator(e,a))u.explanation=r.message,c="not_valid",yield[u,void 0];for(let[u,l,y]of t.entries(e,a)){const A=L0(l,y,{path:u===void 0?n:[...n,u],branch:u===void 0?i:[...i,l],coerce:o,mask:s,message:r.message});for(const v of A)v[0]?(c=v[0].refinement!=null?"not_refined":"not_valid",yield[v[0],void 0]):o&&(l=v[1],u===void 0?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):Qn(e)&&(l!==void 0||u in e)&&(e[u]=l))}if(c!=="not_valid")for(const u of t.refiner(e,a))u.explanation=r.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,e])}class Br{constructor(t){const{type:r,schema:n,validator:i,refiner:o,coercer:s=c=>c,entries:a=function*(){}}=t;this.type=r,this.schema=n,this.entries=a,this.coercer=s,i?this.validator=(c,u)=>{const l=i(c,u);return C0(l,u,this,c)}:this.validator=()=>[],o?this.refiner=(c,u)=>{const l=o(c,u);return C0(l,u,this,c)}:this.refiner=()=>[]}assert(t,r){return Rv(t,this,r)}create(t,r){return Tv(t,this,r)}is(t){return $0(t,this)}mask(t,r){return kv(t,this,r)}validate(t,r={}){return wa(t,this,r)}}function Rv(e,t,r){const n=wa(e,t,{message:r});if(n[0])throw n[0]}function Tv(e,t,r){const n=wa(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function kv(e,t,r){const n=wa(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function $0(e,t){return!wa(e,t)[0]}function wa(e,t,r={}){const n=L0(e,t,r),i=nk(n);return i[0]?[new Bv(i[0],function*(){for(const s of n)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function ok(...e){const t=e[0].type==="type",r=e.map(i=>i.schema),n=Object.assign({},...r);return t?$c(n):Lc(n)}function xn(e,t){return new Br({type:e,schema:null,validator:t})}function sk(e,t){return new Br({...e,refiner:(r,n)=>r===void 0||e.refiner(r,n),validator(r,n){return r===void 0?!0:(t(r,n),e.validator(r,n))}})}function ak(e){return new Br({type:"dynamic",schema:null,*entries(t,r){yield*e(t,r).entries(t,r)},validator(t,r){return e(t,r).validator(t,r)},coercer(t,r){return e(t,r).coercer(t,r)},refiner(t,r){return e(t,r).refiner(t,r)}})}function ck(e){let t;return new Br({type:"lazy",schema:null,*entries(r,n){t??(t=e()),yield*t.entries(r,n)},validator(r,n){return t??(t=e()),t.validator(r,n)},coercer(r,n){return t??(t=e()),t.coercer(r,n)},refiner(r,n){return t??(t=e()),t.refiner(r,n)}})}function fk(e,t){const{schema:r}=e,n={...r};for(const i of t)delete n[i];switch(e.type){case"type":return $c(n);default:return Lc(n)}}function uk(e){const t=e instanceof Br,r=t?{...e.schema}:{...e};for(const n in r)r[n]=Cv(r[n]);return t&&e.type==="type"?$c(r):Lc(r)}function lk(e,t){const{schema:r}=e,n={};for(const i of t)n[i]=r[i];switch(e.type){case"type":return $c(n);default:return Lc(n)}}function hk(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),xn(e,t)}function dk(){return xn("any",()=>!0)}function pk(e){return new Br({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Or(t)}`}})}function gk(){return xn("bigint",e=>typeof e=="bigint")}function yk(){return xn("boolean",e=>typeof e=="boolean")}function wk(){return xn("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${Or(e)}`)}function mk(e){const t={},r=e.map(n=>Or(n)).join();for(const n of e)t[n]=n;return new Br({type:"enums",schema:t,validator(n){return e.includes(n)||`Expected one of \`${r}\`, but received: ${Or(n)}`}})}function bk(){return xn("func",e=>typeof e=="function"||`Expected a function, but received: ${Or(e)}`)}function vk(e){return xn("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${Or(t)}`)}function _k(){return xn("integer",e=>typeof e=="number"&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${Or(e)}`)}function Ek(e){return new Br({type:"intersection",schema:null,*entries(t,r){for(const n of e)yield*n.entries(t,r)},*validator(t,r){for(const n of e)yield*n.validator(t,r)},*refiner(t,r){for(const n of e)yield*n.refiner(t,r)}})}function xk(e){const t=Or(e),r=typeof e;return new Br({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?e:null,validator(n){return n===e||`Expected the literal \`${t}\`, but received: ${Or(n)}`}})}function Sk(e,t){return new Br({type:"map",schema:null,*entries(r){if(e&&t&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,e],yield[n,i,t]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${Or(r)}`}})}function O0(){return xn("never",()=>!1)}function Ak(e){return new Br({...e,validator:(t,r)=>t===null||e.validator(t,r),refiner:(t,r)=>t===null||e.refiner(t,r)})}function Bk(){return xn("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${Or(e)}`)}function Lc(e){const t=e?Object.keys(e):[],r=O0();return new Br({type:"object",schema:e||null,*entries(n){if(e&&Qn(n)){const i=new Set(Object.keys(n));for(const o of t)i.delete(o),yield[o,n[o],e[o]];for(const o of i)yield[o,n[o],r]}},validator(n){return Qn(n)||`Expected an object, but received: ${Or(n)}`},coercer(n){return Qn(n)?{...n}:n}})}function Cv(e){return new Br({...e,validator:(t,r)=>t===void 0||e.validator(t,r),refiner:(t,r)=>t===void 0||e.refiner(t,r)})}function Ik(e,t){return new Br({type:"record",schema:null,*entries(r){if(Qn(r))for(const n in r){const i=r[n];yield[n,n,e],yield[n,i,t]}},validator(r){return Qn(r)||`Expected an object, but received: ${Or(r)}`}})}function Rk(){return xn("regexp",e=>e instanceof RegExp)}function Tk(e){return new Br({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const r of t)yield[r,r,e]},coercer(t){return t instanceof Set?new Set(t):t},validator(t){return t instanceof Set||`Expected a \`Set\` object, but received: ${Or(t)}`}})}function Lv(){return xn("string",e=>typeof e=="string"||`Expected a string, but received: ${Or(e)}`)}function kk(e){const t=O0();return new Br({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${Or(r)}`}})}function $c(e){const t=Object.keys(e);return new Br({type:"type",schema:e,*entries(r){if(Qn(r))for(const n of t)yield[n,r[n],e[n]]},validator(r){return Qn(r)||`Expected an object, but received: ${Or(r)}`},coercer(r){return Qn(r)?{...r}:r}})}function Ck(e){const t=e.map(r=>r.type).join(" | ");return new Br({type:"union",schema:null,coercer(r){for(const n of e){const[i,o]=n.validate(r,{coerce:!0});if(!i)return o}return r},validator(r,n){const i=[];for(const o of e){const[...s]=L0(r,o,n),[a]=s;if(a[0])for(const[c]of s)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Or(r)}`,...i]}})}function $v(){return xn("unknown",()=>!0)}function M0(e,t,r){return new Br({...e,coercer:(n,i)=>$0(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}function Lk(e,t,r={}){return M0(e,$v(),n=>{const i=typeof t=="function"?t():t;if(n===void 0)return i;if(!r.strict&&Iv(n)&&Iv(i)){const o={...n};let s=!1;for(const a in i)o[a]===void 0&&(o[a]=i[a],s=!0);if(s)return o}return n})}function $k(e){return M0(e,Lv(),t=>t.trim())}function Ok(e){return bs(e,"empty",t=>{const r=Ov(t);return r===0||`Expected an empty ${e.type} but received one with a size of \`${r}\``})}function Ov(e){return e instanceof Map||e instanceof Set?e.size:e.length}function Mk(e,t,r={}){const{exclusive:n}=r;return bs(e,"max",i=>n?i<t:i<=t||`Expected a ${e.type} less than ${n?"":"or equal to "}${t} but received \`${i}\``)}function Nk(e,t,r={}){const{exclusive:n}=r;return bs(e,"min",i=>n?i>t:i>=t||`Expected a ${e.type} greater than ${n?"":"or equal to "}${t} but received \`${i}\``)}function Pk(e){return bs(e,"nonempty",t=>Ov(t)>0||`Expected a nonempty ${e.type} but received an empty one`)}function Uk(e,t){return bs(e,"pattern",r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`)}function Fk(e,t,r=t){const n=`Expected a ${e.type}`,i=t===r?`of \`${t}\``:`between \`${t}\` and \`${r}\``;return bs(e,"size",o=>{if(typeof o=="number"||o instanceof Date)return t<=o&&o<=r||`${n} ${i} but received \`${o}\``;if(o instanceof Map||o instanceof Set){const{size:s}=o;return t<=s&&s<=r||`${n} with a size ${i} but received one with a size of \`${s}\``}else{const{length:s}=o;return t<=s&&s<=r||`${n} with a length ${i} but received one with a length of \`${s}\``}})}function bs(e,t,r){return new Br({...e,*refiner(n,i){yield*e.refiner(n,i);const o=r(n,i),s=C0(o,i,e,n);for(const a of s)yield{...a,refinement:t}}})}var Dk=Object.freeze({__proto__:null,Struct:Br,StructError:Bv,any:dk,array:pk,assert:Rv,assign:ok,bigint:gk,boolean:yk,coerce:M0,create:Tv,date:wk,defaulted:Lk,define:xn,deprecated:sk,dynamic:ak,empty:Ok,enums:mk,func:bk,instance:vk,integer:_k,intersection:Ek,is:$0,lazy:ck,literal:xk,map:Sk,mask:kv,max:Mk,min:Nk,never:O0,nonempty:Pk,nullable:Ak,number:Bk,object:Lc,omit:fk,optional:Cv,partial:uk,pattern:Uk,pick:lk,record:Ik,refine:bs,regexp:Rk,set:Tk,size:Fk,string:Lv,struct:hk,trimmed:$k,tuple:kk,type:$c,union:Ck,unknown:$v,validate:wa}),Po=Un(Dk);Object.defineProperty(Jn,"__esModule",{value:!0});function Hk(e){let t,r=e[0],n=1;for(;n<e.length;){const i=e[n],o=e[n+1];if(n+=2,(i==="optionalAccess"||i==="optionalCall")&&r==null)return;i==="access"||i==="optionalAccess"?(t=r,r=o(r)):(i==="call"||i==="optionalCall")&&(r=o((...s)=>r.call(t,...s)),t=void 0)}return r}var jk=No,zk=Po;function qk(e){return typeof Hk([e,"optionalAccess",t=>t.prototype,"optionalAccess",t=>t.constructor,"optionalAccess",t=>t.name])=="string"}function Vk(e){return jk.getErrorMessage.call(void 0,e).replace(/\.$/u,"")}function Mv(e,t){return qk(e)?new e({message:t}):e({message:t})}var N0=class extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}};function Wk(e,t="Assertion failed.",r=N0){if(!e)throw t instanceof Error?t:Mv(r,t)}function Kk(e,t,r="Assertion failed",n=N0){try{zk.assert.call(void 0,e,t)}catch(i){throw Mv(n,`${r}: ${Vk(i)}.`)}}function Zk(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}Jn.AssertionError=N0,Jn.assert=Wk,Jn.assertStruct=Kk,Jn.assertExhaustive=Zk;var tr={},Wr={};Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.output=Wr.exists=Wr.hash=Wr.bytes=Wr.bool=Wr.number=Wr.isBytes=void 0;function Qu(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}Wr.number=Qu;function Nv(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}Wr.bool=Nv;function Pv(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}Wr.isBytes=Pv;function P0(e,...t){if(!Pv(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}Wr.bytes=P0;function Uv(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Qu(e.outputLen),Qu(e.blockLen)}Wr.hash=Uv;function Fv(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}Wr.exists=Fv;function Dv(e,t){P0(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Wr.output=Dv;const Gk={number:Qu,bool:Nv,bytes:P0,hash:Uv,exists:Fv,output:Dv};Wr.default=Gk;var at={};Object.defineProperty(at,"__esModule",{value:!0}),at.add5L=at.add5H=at.add4H=at.add4L=at.add3H=at.add3L=at.add=at.rotlBL=at.rotlBH=at.rotlSL=at.rotlSH=at.rotr32L=at.rotr32H=at.rotrBL=at.rotrBH=at.rotrSL=at.rotrSH=at.shrSL=at.shrSH=at.toBig=at.split=at.fromBig=void 0;const el=BigInt(2**32-1),U0=BigInt(32);function F0(e,t=!1){return t?{h:Number(e&el),l:Number(e>>U0&el)}:{h:Number(e>>U0&el)|0,l:Number(e&el)|0}}at.fromBig=F0;function Hv(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=F0(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]}at.split=Hv;const jv=(e,t)=>BigInt(e>>>0)<<U0|BigInt(t>>>0);at.toBig=jv;const zv=(e,t,r)=>e>>>r;at.shrSH=zv;const qv=(e,t,r)=>e<<32-r|t>>>r;at.shrSL=qv;const Vv=(e,t,r)=>e>>>r|t<<32-r;at.rotrSH=Vv;const Wv=(e,t,r)=>e<<32-r|t>>>r;at.rotrSL=Wv;const Kv=(e,t,r)=>e<<64-r|t>>>r-32;at.rotrBH=Kv;const Zv=(e,t,r)=>e>>>r-32|t<<64-r;at.rotrBL=Zv;const Gv=(e,t)=>t;at.rotr32H=Gv;const Yv=(e,t)=>e;at.rotr32L=Yv;const Xv=(e,t,r)=>e<<r|t>>>32-r;at.rotlSH=Xv;const Jv=(e,t,r)=>t<<r|e>>>32-r;at.rotlSL=Jv;const Qv=(e,t,r)=>t<<r-32|e>>>64-r;at.rotlBH=Qv;const e_=(e,t,r)=>e<<r-32|t>>>64-r;at.rotlBL=e_;function t_(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}at.add=t_;const r_=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);at.add3L=r_;const n_=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;at.add3H=n_;const i_=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);at.add4L=i_;const o_=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;at.add4H=o_;const s_=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);at.add5L=s_;const a_=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0;at.add5H=a_;const Yk={fromBig:F0,split:Hv,toBig:jv,shrSH:zv,shrSL:qv,rotrSH:Vv,rotrSL:Wv,rotrBH:Kv,rotrBL:Zv,rotr32H:Gv,rotr32L:Yv,rotlSH:Xv,rotlSL:Jv,rotlBH:Qv,rotlBL:e_,add:t_,add3L:r_,add3H:n_,add4L:i_,add4H:o_,add5H:a_,add5L:s_};at.default=Yk;var c_={},tl={};Object.defineProperty(tl,"__esModule",{value:!0}),tl.crypto=void 0,tl.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.byteSwap32=e.byteSwapIfBE=e.byteSwap=e.isLE=e.rotl=e.rotr=e.createView=e.u32=e.u8=e.isBytes=void 0;const t=tl,r=Wr;function n(I){return I instanceof Uint8Array||I!=null&&typeof I=="object"&&I.constructor.name==="Uint8Array"}e.isBytes=n;const i=I=>new Uint8Array(I.buffer,I.byteOffset,I.byteLength);e.u8=i;const o=I=>new Uint32Array(I.buffer,I.byteOffset,Math.floor(I.byteLength/4));e.u32=o;const s=I=>new DataView(I.buffer,I.byteOffset,I.byteLength);e.createView=s;const a=(I,g)=>I<<32-g|I>>>g;e.rotr=a;const c=(I,g)=>I<<g|I>>>32-g>>>0;e.rotl=c,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const u=I=>I<<24&4278190080|I<<8&16711680|I>>>8&65280|I>>>24&255;e.byteSwap=u,e.byteSwapIfBE=e.isLE?I=>I:I=>(0,e.byteSwap)(I);function l(I){for(let g=0;g<I.length;g++)I[g]=(0,e.byteSwap)(I[g])}e.byteSwap32=l;const y=Array.from({length:256},(I,g)=>g.toString(16).padStart(2,"0"));function A(I){(0,r.bytes)(I);let g="";for(let f=0;f<I.length;f++)g+=y[I[f]];return g}e.bytesToHex=A;const v={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function R(I){if(I>=v._0&&I<=v._9)return I-v._0;if(I>=v._A&&I<=v._F)return I-(v._A-10);if(I>=v._a&&I<=v._f)return I-(v._a-10)}function O(I){if(typeof I!="string")throw new Error("hex string expected, got "+typeof I);const g=I.length,f=g/2;if(g%2)throw new Error("padded hex string expected, got unpadded hex of length "+g);const h=new Uint8Array(f);for(let m=0,_=0;m<f;m++,_+=2){const E=R(I.charCodeAt(_)),x=R(I.charCodeAt(_+1));if(E===void 0||x===void 0){const T=I[_]+I[_+1];throw new Error('hex string expected, got non-hex character "'+T+'" at index '+_)}h[m]=E*16+x}return h}e.hexToBytes=O;const P=async()=>{};e.nextTick=P;async function H(I,g,f){let h=Date.now();for(let m=0;m<I;m++){f(m);const _=Date.now()-h;_>=0&&_<g||(await(0,e.nextTick)(),h+=_)}}e.asyncLoop=H;function F(I){if(typeof I!="string")throw new Error(`utf8ToBytes expected string, got ${typeof I}`);return new Uint8Array(new TextEncoder().encode(I))}e.utf8ToBytes=F;function N(I){return typeof I=="string"&&(I=F(I)),(0,r.bytes)(I),I}e.toBytes=N;function $(...I){let g=0;for(let h=0;h<I.length;h++){const m=I[h];(0,r.bytes)(m),g+=m.length}const f=new Uint8Array(g);for(let h=0,m=0;h<I.length;h++){const _=I[h];f.set(_,m),m+=_.length}return f}e.concatBytes=$;class q{clone(){return this._cloneInto()}}e.Hash=q;const G={}.toString;function Z(I,g){if(g!==void 0&&G.call(g)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(I,g)}e.checkOpts=Z;function z(I){const g=h=>I().update(N(h)).digest(),f=I();return g.outputLen=f.outputLen,g.blockLen=f.blockLen,g.create=()=>I(),g}e.wrapConstructor=z;function ee(I){const g=(h,m)=>I(m).update(N(h)).digest(),f=I({});return g.outputLen=f.outputLen,g.blockLen=f.blockLen,g.create=h=>I(h),g}e.wrapConstructorWithOpts=ee;function oe(I){const g=(h,m)=>I(m).update(N(h)).digest(),f=I({});return g.outputLen=f.outputLen,g.blockLen=f.blockLen,g.create=h=>I(h),g}e.wrapXOFConstructorWithOpts=oe;function Q(I=32){if(t.crypto&&typeof t.crypto.getRandomValues=="function")return t.crypto.getRandomValues(new Uint8Array(I));throw new Error("crypto.getRandomValues must be defined")}e.randomBytes=Q}(c_),Object.defineProperty(tr,"__esModule",{value:!0}),tr.shake256=tr.shake128=tr.keccak_512=tr.keccak_384=tr.keccak_256=tr.keccak_224=tr.sha3_512=tr.sha3_384=tr.sha3_256=tr.sha3_224=tr.Keccak=tr.keccakP=void 0;const ma=Wr,Oc=at,Gi=c_,f_=[],u_=[],l_=[],Xk=BigInt(0),Mc=BigInt(1),Jk=BigInt(2),Qk=BigInt(7),eC=BigInt(256),tC=BigInt(113);for(let e=0,t=Mc,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],f_.push(2*(5*n+r)),u_.push((e+1)*(e+2)/2%64);let i=Xk;for(let o=0;o<7;o++)t=(t<<Mc^(t>>Qk)*tC)%eC,t&Jk&&(i^=Mc<<(Mc<<BigInt(o))-Mc);l_.push(i)}const[rC,nC]=(0,Oc.split)(l_,!0),h_=(e,t,r)=>r>32?(0,Oc.rotlBH)(e,t,r):(0,Oc.rotlSH)(e,t,r),d_=(e,t,r)=>r>32?(0,Oc.rotlBL)(e,t,r):(0,Oc.rotlSL)(e,t,r);function p_(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let s=0;s<10;s++)r[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,c=(s+2)%10,u=r[c],l=r[c+1],y=h_(u,l,1)^r[a],A=d_(u,l,1)^r[a+1];for(let v=0;v<50;v+=10)e[s+v]^=y,e[s+v+1]^=A}let i=e[2],o=e[3];for(let s=0;s<24;s++){const a=u_[s],c=h_(i,o,a),u=d_(i,o,a),l=f_[s];i=e[l],o=e[l+1],e[l]=c,e[l+1]=u}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=e[s+a];for(let a=0;a<10;a++)e[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=rC[n],e[1]^=nC[n]}r.fill(0)}tr.keccakP=p_;class Nc extends Gi.Hash{constructor(t,r,n,i=!1,o=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,ma.number)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Gi.u32)(this.state)}keccak(){Gi.isLE||(0,Gi.byteSwap32)(this.state32),p_(this.state32,this.rounds),Gi.isLE||(0,Gi.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(t){(0,ma.exists)(this);const{blockLen:r,state:n}=this;t=(0,Gi.toBytes)(t);const i=t.length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=t[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,r&128&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){(0,ma.exists)(this,!1),(0,ma.bytes)(t),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,o=t.length;i<o;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,o-i);t.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,ma.number)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,ma.output)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return t||(t=new Nc(r,n,i,s,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=i,t.enableXOF=s,t.destroyed=this.destroyed,t}}tr.Keccak=Nc;const Uo=(e,t,r)=>(0,Gi.wrapConstructor)(()=>new Nc(t,e,r));tr.sha3_224=Uo(6,144,224/8),tr.sha3_256=Uo(6,136,256/8),tr.sha3_384=Uo(6,104,384/8),tr.sha3_512=Uo(6,72,512/8),tr.keccak_224=Uo(1,144,224/8),tr.keccak_256=Uo(1,136,256/8),tr.keccak_384=Uo(1,104,384/8),tr.keccak_512=Uo(1,72,512/8);const g_=(e,t,r)=>(0,Gi.wrapXOFConstructorWithOpts)((n={})=>new Nc(t,e,n.dkLen===void 0?r:n.dkLen,!0));tr.shake128=g_(31,168,128/8),tr.shake256=g_(31,136,256/8);var D0={};(function(e){/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.bytes=e.stringToBytes=e.str=e.bytesToString=e.hex=e.utf8=e.bech32m=e.bech32=e.base58check=e.createBase58check=e.base58xmr=e.base58xrp=e.base58flickr=e.base58=e.base64urlnopad=e.base64url=e.base64nopad=e.base64=e.base32crockford=e.base32hex=e.base32=e.base16=e.utils=e.assertNumber=void 0;function t(I){if(!Number.isSafeInteger(I))throw new Error(`Wrong integer: ${I}`)}e.assertNumber=t;function r(I){return I instanceof Uint8Array||I!=null&&typeof I=="object"&&I.constructor.name==="Uint8Array"}function n(...I){const g=_=>_,f=(_,E)=>x=>_(E(x)),h=I.map(_=>_.encode).reduceRight(f,g),m=I.map(_=>_.decode).reduce(f,g);return{encode:h,decode:m}}function i(I){return{encode:g=>{if(!Array.isArray(g)||g.length&&typeof g[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return g.map(f=>{if(t(f),f<0||f>=I.length)throw new Error(`Digit index outside alphabet: ${f} (alphabet: ${I.length})`);return I[f]})},decode:g=>{if(!Array.isArray(g)||g.length&&typeof g[0]!="string")throw new Error("alphabet.decode input should be array of strings");return g.map(f=>{if(typeof f!="string")throw new Error(`alphabet.decode: not string element=${f}`);const h=I.indexOf(f);if(h===-1)throw new Error(`Unknown letter: "${f}". Allowed: ${I}`);return h})}}}function o(I=""){if(typeof I!="string")throw new Error("join separator should be string");return{encode:g=>{if(!Array.isArray(g)||g.length&&typeof g[0]!="string")throw new Error("join.encode input should be array of strings");for(let f of g)if(typeof f!="string")throw new Error(`join.encode: non-string input=${f}`);return g.join(I)},decode:g=>{if(typeof g!="string")throw new Error("join.decode input should be string");return g.split(I)}}}function s(I,g="="){if(t(I),typeof g!="string")throw new Error("padding chr should be string");return{encode(f){if(!Array.isArray(f)||f.length&&typeof f[0]!="string")throw new Error("padding.encode input should be array of strings");for(let h of f)if(typeof h!="string")throw new Error(`padding.encode: non-string input=${h}`);for(;f.length*I%8;)f.push(g);return f},decode(f){if(!Array.isArray(f)||f.length&&typeof f[0]!="string")throw new Error("padding.encode input should be array of strings");for(let m of f)if(typeof m!="string")throw new Error(`padding.decode: non-string input=${m}`);let h=f.length;if(h*I%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;h>0&&f[h-1]===g;h--)if(!((h-1)*I%8))throw new Error("Invalid padding: string has too much padding");return f.slice(0,h)}}}function a(I){if(typeof I!="function")throw new Error("normalize fn should be function");return{encode:g=>g,decode:g=>I(g)}}function c(I,g,f){if(g<2)throw new Error(`convertRadix: wrong from=${g}, base cannot be less than 2`);if(f<2)throw new Error(`convertRadix: wrong to=${f}, base cannot be less than 2`);if(!Array.isArray(I))throw new Error("convertRadix: data should be array");if(!I.length)return[];let h=0;const m=[],_=Array.from(I);for(_.forEach(E=>{if(t(E),E<0||E>=g)throw new Error(`Wrong integer: ${E}`)});;){let E=0,x=!0;for(let T=h;T<_.length;T++){const B=_[T],d=g*E+B;if(!Number.isSafeInteger(d)||g*E/g!==E||d-B!==g*E)throw new Error("convertRadix: carry overflow");E=d%f;const k=Math.floor(d/f);if(_[T]=k,!Number.isSafeInteger(k)||k*f+E!==d)throw new Error("convertRadix: carry overflow");if(x)k?x=!1:h=T;else continue}if(m.push(E),x)break}for(let E=0;E<I.length-1&&I[E]===0;E++)m.push(0);return m.reverse()}const u=(I,g)=>g?u(g,I%g):I,l=(I,g)=>I+(g-u(I,g));function y(I,g,f,h){if(!Array.isArray(I))throw new Error("convertRadix2: data should be array");if(g<=0||g>32)throw new Error(`convertRadix2: wrong from=${g}`);if(f<=0||f>32)throw new Error(`convertRadix2: wrong to=${f}`);if(l(g,f)>32)throw new Error(`convertRadix2: carry overflow from=${g} to=${f} carryBits=${l(g,f)}`);let m=0,_=0;const E=2**f-1,x=[];for(const T of I){if(t(T),T>=2**g)throw new Error(`convertRadix2: invalid data word=${T} from=${g}`);if(m=m<<g|T,_+g>32)throw new Error(`convertRadix2: carry overflow pos=${_} from=${g}`);for(_+=g;_>=f;_-=f)x.push((m>>_-f&E)>>>0);m&=2**_-1}if(m=m<<f-_&E,!h&&_>=g)throw new Error("Excess padding");if(!h&&m)throw new Error(`Non-zero padding: ${m}`);return h&&_>0&&x.push(m>>>0),x}function A(I){return t(I),{encode:g=>{if(!r(g))throw new Error("radix.encode input should be Uint8Array");return c(Array.from(g),2**8,I)},decode:g=>{if(!Array.isArray(g)||g.length&&typeof g[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(c(g,I,2**8))}}}function v(I,g=!1){if(t(I),I<=0||I>32)throw new Error("radix2: bits should be in (0..32]");if(l(8,I)>32||l(I,8)>32)throw new Error("radix2: carry overflow");return{encode:f=>{if(!r(f))throw new Error("radix2.encode input should be Uint8Array");return y(Array.from(f),8,I,!g)},decode:f=>{if(!Array.isArray(f)||f.length&&typeof f[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(y(f,I,8,g))}}}function R(I){if(typeof I!="function")throw new Error("unsafeWrapper fn should be function");return function(...g){try{return I.apply(null,g)}catch{}}}function O(I,g){if(t(I),typeof g!="function")throw new Error("checksum fn should be function");return{encode(f){if(!r(f))throw new Error("checksum.encode: input should be Uint8Array");const h=g(f).slice(0,I),m=new Uint8Array(f.length+I);return m.set(f),m.set(h,f.length),m},decode(f){if(!r(f))throw new Error("checksum.decode: input should be Uint8Array");const h=f.slice(0,-I),m=g(h).slice(0,I),_=f.slice(-I);for(let E=0;E<I;E++)if(m[E]!==_[E])throw new Error("Invalid checksum");return h}}}e.utils={alphabet:i,chain:n,checksum:O,convertRadix:c,convertRadix2:y,radix:A,radix2:v,join:o,padding:s},e.base16=n(v(4),i("0123456789ABCDEF"),o("")),e.base32=n(v(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),s(5),o("")),e.base32hex=n(v(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),s(5),o("")),e.base32crockford=n(v(5),i("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),o(""),a(I=>I.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),e.base64=n(v(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),s(6),o("")),e.base64nopad=n(v(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o("")),e.base64url=n(v(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),s(6),o("")),e.base64urlnopad=n(v(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),o(""));const P=I=>n(A(58),i(I),o(""));e.base58=P("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),e.base58flickr=P("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),e.base58xrp=P("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const H=[0,2,3,5,6,7,9,10,11];e.base58xmr={encode(I){let g="";for(let f=0;f<I.length;f+=8){const h=I.subarray(f,f+8);g+=e.base58.encode(h).padStart(H[h.length],"1")}return g},decode(I){let g=[];for(let f=0;f<I.length;f+=11){const h=I.slice(f,f+11),m=H.indexOf(h.length),_=e.base58.decode(h);for(let E=0;E<_.length-m;E++)if(_[E]!==0)throw new Error("base58xmr: wrong padding");g=g.concat(Array.from(_.slice(_.length-m)))}return Uint8Array.from(g)}};const F=I=>n(O(4,g=>I(I(g))),e.base58);e.createBase58check=F,e.base58check=e.createBase58check;const N=n(i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),o("")),$=[996825010,642813549,513874426,1027748829,705979059];function q(I){const g=I>>25;let f=(I&33554431)<<5;for(let h=0;h<$.length;h++)(g>>h&1)===1&&(f^=$[h]);return f}function G(I,g,f=1){const h=I.length;let m=1;for(let _=0;_<h;_++){const E=I.charCodeAt(_);if(E<33||E>126)throw new Error(`Invalid prefix (${I})`);m=q(m)^E>>5}m=q(m);for(let _=0;_<h;_++)m=q(m)^I.charCodeAt(_)&31;for(let _ of g)m=q(m)^_;for(let _=0;_<6;_++)m=q(m);return m^=f,N.encode(y([m%2**30],30,5,!1))}function Z(I){const g=I==="bech32"?1:734539939,f=v(5),h=f.decode,m=f.encode,_=R(h);function E(d,k,W=90){if(typeof d!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof d}`);if(!Array.isArray(k)||k.length&&typeof k[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof k}`);if(d.length===0)throw new TypeError(`Invalid prefix length ${d.length}`);const K=d.length+7+k.length;if(W!==!1&&K>W)throw new TypeError(`Length ${K} exceeds limit ${W}`);const re=d.toLowerCase(),xe=G(re,k,g);return`${re}1${N.encode(k)}${xe}`}function x(d,k=90){if(typeof d!="string")throw new Error(`bech32.decode input should be string, not ${typeof d}`);if(d.length<8||k!==!1&&d.length>k)throw new TypeError(`Wrong string length: ${d.length} (${d}). Expected (8..${k})`);const W=d.toLowerCase();if(d!==W&&d!==d.toUpperCase())throw new Error("String must be lowercase or uppercase");const K=W.lastIndexOf("1");if(K===0||K===-1)throw new Error('Letter "1" must be present between prefix and data only');const re=W.slice(0,K),xe=W.slice(K+1);if(xe.length<6)throw new Error("Data must be at least 6 characters long");const be=N.decode(xe).slice(0,-6),ge=G(re,be,g);if(!xe.endsWith(ge))throw new Error(`Invalid checksum in ${d}: expected "${ge}"`);return{prefix:re,words:be}}const T=R(x);function B(d){const{prefix:k,words:W}=x(d,!1);return{prefix:k,words:W,bytes:h(W)}}return{encode:E,decode:x,decodeToBytes:B,decodeUnsafe:T,fromWords:h,fromWordsUnsafe:_,toWords:m}}e.bech32=Z("bech32"),e.bech32m=Z("bech32m"),e.utf8={encode:I=>new TextDecoder().decode(I),decode:I=>new TextEncoder().encode(I)},e.hex=n(v(4),i("0123456789abcdef"),o(""),a(I=>{if(typeof I!="string"||I.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof I} with length ${I.length}`);return I.toLowerCase()}));const z={utf8:e.utf8,hex:e.hex,base16:e.base16,base32:e.base32,base64:e.base64,base64url:e.base64url,base58:e.base58,base58xmr:e.base58xmr},ee="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",oe=(I,g)=>{if(typeof I!="string"||!z.hasOwnProperty(I))throw new TypeError(ee);if(!r(g))throw new TypeError("bytesToString() expects Uint8Array");return z[I].encode(g)};e.bytesToString=oe,e.str=e.bytesToString;const Q=(I,g)=>{if(!z.hasOwnProperty(I))throw new TypeError(ee);if(typeof g!="string")throw new TypeError("stringToBytes() expects string");return z[I].decode(g)};e.stringToBytes=Q,e.bytes=e.stringToBytes})(D0),Object.defineProperty(Rt,"__esModule",{value:!0});function iC(e){let t,r=e[0],n=1;for(;n<e.length;){const i=e[n],o=e[n+1];if(n+=2,(i==="optionalAccess"||i==="optionalCall")&&r==null)return;i==="access"||i==="optionalAccess"?(t=r,r=o(r)):(i==="call"||i==="optionalCall")&&(r=o((...s)=>r.call(t,...s)),t=void 0)}return r}var Kr=Jn,oC=tr,pn=Po,y_=D0,w_=48,m_=58,b_=87;function sC(){const e=[];return()=>{if(e.length===0)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}var aC=sC();function H0(e){return e instanceof Uint8Array}function vs(e){Kr.assert.call(void 0,H0(e),"Value must be a Uint8Array.")}function j0(e){if(vs(e),e.length===0)return"0x";const t=aC(),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return $_(r.join(""))}function v_(e){vs(e);const t=j0(e);return BigInt(t)}function cC(e){vs(e);let t=BigInt(0);for(const r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(e.length*8,t)}function fC(e){vs(e);const t=v_(e);return Kr.assert.call(void 0,t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)}function uC(e){return vs(e),new TextDecoder().decode(e)}function lC(e){return vs(e),y_.base64.encode(e)}function rl(e){if(iC([e,"optionalAccess",i=>i.toLowerCase,"optionalCall",i=>i()])==="0x")return new Uint8Array;k_(e);const t=nl(e).toLowerCase(),r=t.length%2===0?t:`0${t}`,n=new Uint8Array(r.length/2);for(let i=0;i<n.length;i++){const o=r.charCodeAt(i*2),s=r.charCodeAt(i*2+1),a=o-(o<m_?w_:b_),c=s-(s<m_?w_:b_);n[i]=a*16+c}return n}function __(e){Kr.assert.call(void 0,typeof e=="bigint","Value must be a bigint."),Kr.assert.call(void 0,e>=BigInt(0),"Value must be a non-negative bigint.");const t=e.toString(16);return rl(t)}function hC(e,t){Kr.assert.call(void 0,t>0);const r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(t*8+-1))}function dC(e,t){Kr.assert.call(void 0,typeof e=="bigint","Value must be a bigint."),Kr.assert.call(void 0,typeof t=="number","Byte length must be a number."),Kr.assert.call(void 0,t>0,"Byte length must be greater than 0."),Kr.assert.call(void 0,hC(e,t),"Byte length is too small to represent the given value.");let r=e;const n=new Uint8Array(t);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}function E_(e){Kr.assert.call(void 0,typeof e=="number","Value must be a number."),Kr.assert.call(void 0,e>=0,"Value must be a non-negative number."),Kr.assert.call(void 0,Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");const t=e.toString(16);return rl(t)}function x_(e){return Kr.assert.call(void 0,typeof e=="string","Value must be a string."),new TextEncoder().encode(e)}function pC(e){return Kr.assert.call(void 0,typeof e=="string","Value must be a string."),y_.base64.decode(e)}function S_(e){if(typeof e=="bigint")return __(e);if(typeof e=="number")return E_(e);if(typeof e=="string")return e.startsWith("0x")?rl(e):x_(e);if(H0(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}function gC(e){const t=new Array(e.length);let r=0;for(let i=0;i<e.length;i++){const o=S_(e[i]);t[i]=o,r+=o.length}const n=new Uint8Array(r);for(let i=0,o=0;i<t.length;i++)n.set(t[i],o),o+=t[i].length;return n}function yC(e){if(typeof ie.Buffer<"u"&&e instanceof ie.Buffer){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}var A_=pn.pattern.call(void 0,pn.string.call(void 0),/^(?:0x)?[0-9a-f]+$/iu),B_=pn.pattern.call(void 0,pn.string.call(void 0),/^0x[0-9a-f]+$/iu),I_=pn.pattern.call(void 0,pn.string.call(void 0),/^0x[0-9a-f]{40}$/u),z0=pn.pattern.call(void 0,pn.string.call(void 0),/^0x[0-9a-fA-F]{40}$/u);function R_(e){return pn.is.call(void 0,e,A_)}function T_(e){return pn.is.call(void 0,e,B_)}function k_(e){Kr.assert.call(void 0,R_(e),"Value must be a hexadecimal string.")}function wC(e){Kr.assert.call(void 0,T_(e),'Value must be a hexadecimal string, starting with "0x".')}function mC(e){return pn.is.call(void 0,e,I_)||L_(e)}function C_(e){Kr.assert.call(void 0,pn.is.call(void 0,e,z0),"Invalid hex address.");const t=nl(e.toLowerCase()),r=nl(j0(oC.keccak_256.call(void 0,t)));return`0x${t.split("").map((n,i)=>{const o=r[i];return Kr.assert.call(void 0,pn.is.call(void 0,o,pn.string.call(void 0)),"Hash shorter than address."),parseInt(o,16)>7?n.toUpperCase():n}).join("")}`}function L_(e){return pn.is.call(void 0,e,z0)?C_(e)===e:!1}function $_(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`}function nl(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}Rt.HexStruct=A_,Rt.StrictHexStruct=B_,Rt.HexAddressStruct=I_,Rt.HexChecksumAddressStruct=z0,Rt.isHexString=R_,Rt.isStrictHexString=T_,Rt.assertIsHexString=k_,Rt.assertIsStrictHexString=wC,Rt.isValidHexAddress=mC,Rt.getChecksumAddress=C_,Rt.isValidChecksumAddress=L_,Rt.add0x=$_,Rt.remove0x=nl,Rt.isBytes=H0,Rt.assertIsBytes=vs,Rt.bytesToHex=j0,Rt.bytesToBigInt=v_,Rt.bytesToSignedBigInt=cC,Rt.bytesToNumber=fC,Rt.bytesToString=uC,Rt.bytesToBase64=lC,Rt.hexToBytes=rl,Rt.bigIntToBytes=__,Rt.signedBigIntToBytes=dC,Rt.numberToBytes=E_,Rt.stringToBytes=x_,Rt.base64ToBytes=pC,Rt.valueToBytes=S_,Rt.concatBytes=gC,Rt.createDataView=yC,Object.defineProperty(ya,"__esModule",{value:!0});var Pc=Rt,ba=Jn,bC=e=>(ba.assert.call(void 0,typeof e=="number","Value must be a number."),ba.assert.call(void 0,e>=0,"Value must be a non-negative number."),ba.assert.call(void 0,Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),Pc.add0x.call(void 0,e.toString(16))),vC=e=>(ba.assert.call(void 0,typeof e=="bigint","Value must be a bigint."),ba.assert.call(void 0,e>=0,"Value must be a non-negative bigint."),Pc.add0x.call(void 0,e.toString(16))),_C=e=>{Pc.assertIsHexString.call(void 0,e);const t=parseInt(e,16);return ba.assert.call(void 0,Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t},EC=e=>(Pc.assertIsHexString.call(void 0,e),BigInt(Pc.add0x.call(void 0,e)));ya.numberToHex=bC,ya.bigIntToHex=vC,ya.hexToNumber=_C,ya.hexToBigInt=EC;var q0={};Object.defineProperty(q0,"__esModule",{value:!0});function xC({suppressUnhandledRejection:e=!1}={}){let t,r;const n=new Promise((i,o)=>{t=i,r=o});return e&&n.catch(i=>{}),{promise:n,resolve:t,reject:r}}q0.createDeferredPromise=xC;var Uc={};Object.defineProperty(Uc,"__esModule",{value:!0});var O_=(e=>(e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year",e))(O_||{}),SC=e=>Number.isInteger(e)&&e>=0,M_=(e,t)=>{if(!SC(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};function AC(e,t){return M_(e,"count"),e*t}function BC(e){return M_(e,"timestamp"),Date.now()-e}Uc.Duration=O_,Uc.inMilliseconds=AC,Uc.timeSince=BC;var ai={},_s={exports:{}};const IC="2.0.0",N_=256,RC=Number.MAX_SAFE_INTEGER||9007199254740991,TC=16,kC=N_-6;var il={MAX_LENGTH:N_,MAX_SAFE_COMPONENT_LENGTH:TC,MAX_SAFE_BUILD_LENGTH:kC,MAX_SAFE_INTEGER:RC,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:IC,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},ol=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=il,o=ol;t=e.exports={};const s=t.re=[],a=t.safeRe=[],c=t.src=[],u=t.t={};let l=0;const y="[a-zA-Z0-9-]",A=[["\\s",1],["\\d",i],[y,n]],v=O=>{for(const[P,H]of A)O=O.split(`${P}*`).join(`${P}{0,${H}}`).split(`${P}+`).join(`${P}{1,${H}}`);return O},R=(O,P,H)=>{const F=v(P),N=l++;o(O,N,P),u[O]=N,c[N]=P,s[N]=new RegExp(P,H?"g":void 0),a[N]=new RegExp(F,H?"g":void 0)};R("NUMERICIDENTIFIER","0|[1-9]\\d*"),R("NUMERICIDENTIFIERLOOSE","\\d+"),R("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${y}*`),R("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),R("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),R("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),R("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),R("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),R("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),R("BUILDIDENTIFIER",`${y}+`),R("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),R("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),R("FULL",`^${c[u.FULLPLAIN]}$`),R("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),R("LOOSE",`^${c[u.LOOSEPLAIN]}$`),R("GTLT","((?:<|>)?=?)"),R("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),R("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),R("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),R("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),R("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),R("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),R("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),R("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),R("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?(?:${c[u.BUILD]})?(?:$|[^\\d])`),R("COERCERTL",c[u.COERCE],!0),R("COERCERTLFULL",c[u.COERCEFULL],!0),R("LONETILDE","(?:~>?)"),R("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",R("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),R("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),R("LONECARET","(?:\\^)"),R("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",R("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),R("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),R("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),R("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),R("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",R("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),R("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),R("STAR","(<|>)?=?\\s*\\*"),R("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),R("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(_s,_s.exports);const CC=Object.freeze({loose:!0}),LC=Object.freeze({});var V0=e=>e?typeof e!="object"?CC:e:LC;const P_=/^[0-9]+$/,U_=(e,t)=>{const r=P_.test(e),n=P_.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1};var F_={compareIdentifiers:U_,rcompareIdentifiers:(e,t)=>U_(t,e)};const sl=ol,{MAX_LENGTH:D_,MAX_SAFE_INTEGER:al}=il,{safeRe:H_,t:j_}=_s.exports,$C=V0,{compareIdentifiers:va}=F_;class ci{constructor(t,r){if(r=$C(r),t instanceof ci){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>D_)throw new TypeError(`version is longer than ${D_} characters`);sl("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?H_[j_.LOOSE]:H_[j_.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>al||this.major<0)throw new TypeError("Invalid major version");if(this.minor>al||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>al||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const o=+i;if(o>=0&&o<al)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(sl("SemVer.compare",this.version,this.options,t),!(t instanceof ci)){if(typeof t=="string"&&t===this.version)return 0;t=new ci(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof ci||(t=new ci(t,this.options)),va(this.major,t.major)||va(this.minor,t.minor)||va(this.patch,t.patch)}comparePre(t){if(t instanceof ci||(t=new ci(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=t.prerelease[r];if(sl("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return va(n,i)}while(++r)}compareBuild(t){t instanceof ci||(t=new ci(t,this.options));let r=0;do{const n=this.build[r],i=t.build[r];if(sl("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return va(n,i)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let o=[r,i];n===!1&&(o=[r]),va(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}var gn=ci;const z_=gn;var _a=(e,t,r=!1)=>{if(e instanceof z_)return e;try{return new z_(e,t)}catch(n){if(!r)return null;throw n}};const OC=_a;var MC=(e,t)=>{const r=OC(e,t);return r?r.version:null};const NC=_a;var PC=(e,t)=>{const r=NC(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};const q_=gn;var UC=(e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new q_(e instanceof q_?e.version:e,r).inc(t,n,i).version}catch{return null}};const V_=_a;var FC=(e,t)=>{const r=V_(e,null,!0),n=V_(t,null,!0),i=r.compare(n);if(i===0)return null;const o=i>0,s=o?r:n,a=o?n:r,c=!!s.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":s.patch?"patch":s.minor?"minor":"major";const l=c?"pre":"";return r.major!==n.major?l+"major":r.minor!==n.minor?l+"minor":r.patch!==n.patch?l+"patch":"prerelease"};const DC=gn;var HC=(e,t)=>new DC(e,t).major;const jC=gn;var zC=(e,t)=>new jC(e,t).minor;const qC=gn;var VC=(e,t)=>new qC(e,t).patch;const WC=_a;var KC=(e,t)=>{const r=WC(e,t);return r&&r.prerelease.length?r.prerelease:null};const W_=gn;var fi=(e,t,r)=>new W_(e,r).compare(new W_(t,r));const ZC=fi;var GC=(e,t,r)=>ZC(t,e,r);const YC=fi;var XC=(e,t)=>YC(e,t,!0);const K_=gn;var W0=(e,t,r)=>{const n=new K_(e,r),i=new K_(t,r);return n.compare(i)||n.compareBuild(i)};const JC=W0;var QC=(e,t)=>e.sort((r,n)=>JC(r,n,t));const eL=W0;var tL=(e,t)=>e.sort((r,n)=>eL(n,r,t));const rL=fi;var cl=(e,t,r)=>rL(e,t,r)>0;const nL=fi;var K0=(e,t,r)=>nL(e,t,r)<0;const iL=fi;var Z_=(e,t,r)=>iL(e,t,r)===0;const oL=fi;var G_=(e,t,r)=>oL(e,t,r)!==0;const sL=fi;var Z0=(e,t,r)=>sL(e,t,r)>=0;const aL=fi;var G0=(e,t,r)=>aL(e,t,r)<=0;const cL=Z_,fL=G_,uL=cl,lL=Z0,hL=K0,dL=G0;var Y_=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return cL(e,r,n);case"!=":return fL(e,r,n);case">":return uL(e,r,n);case">=":return lL(e,r,n);case"<":return hL(e,r,n);case"<=":return dL(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};const pL=gn,gL=_a,{safeRe:fl,t:ul}=_s.exports;var yL=(e,t)=>{if(e instanceof pL)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?fl[ul.COERCEFULL]:fl[ul.COERCE]);else{const c=t.includePrerelease?fl[ul.COERCERTLFULL]:fl[ul.COERCERTL];let u;for(;(u=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),c.lastIndex=u.index+u[1].length+u[2].length;c.lastIndex=-1}if(r===null)return null;const n=r[2],i=r[3]||"0",o=r[4]||"0",s=t.includePrerelease&&r[5]?`-${r[5]}`:"",a=t.includePrerelease&&r[6]?`+${r[6]}`:"";return gL(`${n}.${i}.${o}${s}${a}`,t)},Y0,X_;function wL(){if(X_)return Y0;X_=1;class e{constructor(){this.max=1e3,this.map=new Map}get(r){const n=this.map.get(r);if(n!==void 0)return this.map.delete(r),this.map.set(r,n),n}delete(r){return this.map.delete(r)}set(r,n){if(!this.delete(r)&&n!==void 0){if(this.map.size>=this.max){const o=this.map.keys().next().value;this.delete(o)}this.map.set(r,n)}return this}}return Y0=e,Y0}var X0,J_;function ui(){if(J_)return X0;J_=1;class e{constructor(f,h){if(h=n(h),f instanceof e)return f.loose===!!h.loose&&f.includePrerelease===!!h.includePrerelease?f:new e(f.raw,h);if(f instanceof i)return this.raw=f.value,this.set=[[f]],this.format(),this;if(this.options=h,this.loose=!!h.loose,this.includePrerelease=!!h.includePrerelease,this.raw=f.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(m=>this.parseRange(m.trim())).filter(m=>m.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const m=this.set[0];if(this.set=this.set.filter(_=>!R(_[0])),this.set.length===0)this.set=[m];else if(this.set.length>1){for(const _ of this.set)if(_.length===1&&O(_[0])){this.set=[_];break}}}this.format()}format(){return this.range=this.set.map(f=>f.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(f){const m=((this.options.includePrerelease&&A)|(this.options.loose&&v))+":"+f,_=r.get(m);if(_)return _;const E=this.options.loose,x=E?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];f=f.replace(x,Q(this.options.includePrerelease)),o("hyphen replace",f),f=f.replace(a[c.COMPARATORTRIM],u),o("comparator trim",f),f=f.replace(a[c.TILDETRIM],l),o("tilde trim",f),f=f.replace(a[c.CARETTRIM],y),o("caret trim",f);let T=f.split(" ").map(W=>H(W,this.options)).join(" ").split(/\s+/).map(W=>oe(W,this.options));E&&(T=T.filter(W=>(o("loose invalid filter",W,this.options),!!W.match(a[c.COMPARATORLOOSE])))),o("range list",T);const B=new Map,d=T.map(W=>new i(W,this.options));for(const W of d){if(R(W))return[W];B.set(W.value,W)}B.size>1&&B.has("")&&B.delete("");const k=[...B.values()];return r.set(m,k),k}intersects(f,h){if(!(f instanceof e))throw new TypeError("a Range is required");return this.set.some(m=>P(m,h)&&f.set.some(_=>P(_,h)&&m.every(E=>_.every(x=>E.intersects(x,h)))))}test(f){if(!f)return!1;if(typeof f=="string")try{f=new s(f,this.options)}catch{return!1}for(let h=0;h<this.set.length;h++)if(I(this.set[h],f,this.options))return!0;return!1}}X0=e;const t=wL(),r=new t,n=V0,i=ll(),o=ol,s=gn,{safeRe:a,t:c,comparatorTrimReplace:u,tildeTrimReplace:l,caretTrimReplace:y}=_s.exports,{FLAG_INCLUDE_PRERELEASE:A,FLAG_LOOSE:v}=il,R=g=>g.value==="<0.0.0-0",O=g=>g.value==="",P=(g,f)=>{let h=!0;const m=g.slice();let _=m.pop();for(;h&&m.length;)h=m.every(E=>_.intersects(E,f)),_=m.pop();return h},H=(g,f)=>(o("comp",g,f),g=q(g,f),o("caret",g),g=N(g,f),o("tildes",g),g=Z(g,f),o("xrange",g),g=ee(g,f),o("stars",g),g),F=g=>!g||g.toLowerCase()==="x"||g==="*",N=(g,f)=>g.trim().split(/\s+/).map(h=>$(h,f)).join(" "),$=(g,f)=>{const h=f.loose?a[c.TILDELOOSE]:a[c.TILDE];return g.replace(h,(m,_,E,x,T)=>{o("tilde",g,m,_,E,x,T);let B;return F(_)?B="":F(E)?B=`>=${_}.0.0 <${+_+1}.0.0-0`:F(x)?B=`>=${_}.${E}.0 <${_}.${+E+1}.0-0`:T?(o("replaceTilde pr",T),B=`>=${_}.${E}.${x}-${T} <${_}.${+E+1}.0-0`):B=`>=${_}.${E}.${x} <${_}.${+E+1}.0-0`,o("tilde return",B),B})},q=(g,f)=>g.trim().split(/\s+/).map(h=>G(h,f)).join(" "),G=(g,f)=>{o("caret",g,f);const h=f.loose?a[c.CARETLOOSE]:a[c.CARET],m=f.includePrerelease?"-0":"";return g.replace(h,(_,E,x,T,B)=>{o("caret",g,_,E,x,T,B);let d;return F(E)?d="":F(x)?d=`>=${E}.0.0${m} <${+E+1}.0.0-0`:F(T)?E==="0"?d=`>=${E}.${x}.0${m} <${E}.${+x+1}.0-0`:d=`>=${E}.${x}.0${m} <${+E+1}.0.0-0`:B?(o("replaceCaret pr",B),E==="0"?x==="0"?d=`>=${E}.${x}.${T}-${B} <${E}.${x}.${+T+1}-0`:d=`>=${E}.${x}.${T}-${B} <${E}.${+x+1}.0-0`:d=`>=${E}.${x}.${T}-${B} <${+E+1}.0.0-0`):(o("no pr"),E==="0"?x==="0"?d=`>=${E}.${x}.${T}${m} <${E}.${x}.${+T+1}-0`:d=`>=${E}.${x}.${T}${m} <${E}.${+x+1}.0-0`:d=`>=${E}.${x}.${T} <${+E+1}.0.0-0`),o("caret return",d),d})},Z=(g,f)=>(o("replaceXRanges",g,f),g.split(/\s+/).map(h=>z(h,f)).join(" ")),z=(g,f)=>{g=g.trim();const h=f.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return g.replace(h,(m,_,E,x,T,B)=>{o("xRange",g,m,_,E,x,T,B);const d=F(E),k=d||F(x),W=k||F(T),K=W;return _==="="&&K&&(_=""),B=f.includePrerelease?"-0":"",d?_===">"||_==="<"?m="<0.0.0-0":m="*":_&&K?(k&&(x=0),T=0,_===">"?(_=">=",k?(E=+E+1,x=0,T=0):(x=+x+1,T=0)):_==="<="&&(_="<",k?E=+E+1:x=+x+1),_==="<"&&(B="-0"),m=`${_+E}.${x}.${T}${B}`):k?m=`>=${E}.0.0${B} <${+E+1}.0.0-0`:W&&(m=`>=${E}.${x}.0${B} <${E}.${+x+1}.0-0`),o("xRange return",m),m})},ee=(g,f)=>(o("replaceStars",g,f),g.trim().replace(a[c.STAR],"")),oe=(g,f)=>(o("replaceGTE0",g,f),g.trim().replace(a[f.includePrerelease?c.GTE0PRE:c.GTE0],"")),Q=g=>(f,h,m,_,E,x,T,B,d,k,W,K)=>(F(m)?h="":F(_)?h=`>=${m}.0.0${g?"-0":""}`:F(E)?h=`>=${m}.${_}.0${g?"-0":""}`:x?h=`>=${h}`:h=`>=${h}${g?"-0":""}`,F(d)?B="":F(k)?B=`<${+d+1}.0.0-0`:F(W)?B=`<${d}.${+k+1}.0-0`:K?B=`<=${d}.${k}.${W}-${K}`:g?B=`<${d}.${k}.${+W+1}-0`:B=`<=${B}`,`${h} ${B}`.trim()),I=(g,f,h)=>{for(let m=0;m<g.length;m++)if(!g[m].test(f))return!1;if(f.prerelease.length&&!h.includePrerelease){for(let m=0;m<g.length;m++)if(o(g[m].semver),g[m].semver!==i.ANY&&g[m].semver.prerelease.length>0){const _=g[m].semver;if(_.major===f.major&&_.minor===f.minor&&_.patch===f.patch)return!0}return!1}return!0};return X0}var J0,Q_;function ll(){if(Q_)return J0;Q_=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(l,y){if(y=r(y),l instanceof t){if(l.loose===!!y.loose)return l;l=l.value}l=l.trim().split(/\s+/).join(" "),s("comparator",l,y),this.options=y,this.loose=!!y.loose,this.parse(l),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(l){const y=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],A=l.match(y);if(!A)throw new TypeError(`Invalid comparator: ${l}`);this.operator=A[1]!==void 0?A[1]:"",this.operator==="="&&(this.operator=""),A[2]?this.semver=new a(A[2],this.options.loose):this.semver=e}toString(){return this.value}test(l){if(s("Comparator.test",l,this.options.loose),this.semver===e||l===e)return!0;if(typeof l=="string")try{l=new a(l,this.options)}catch{return!1}return o(l,this.operator,this.semver,this.options)}intersects(l,y){if(!(l instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(l.value,y).test(this.value):l.operator===""?l.value===""?!0:new c(this.value,y).test(l.semver):(y=r(y),y.includePrerelease&&(this.value==="<0.0.0-0"||l.value==="<0.0.0-0")||!y.includePrerelease&&(this.value.startsWith("<0.0.0")||l.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&l.operator.startsWith(">")||this.operator.startsWith("<")&&l.operator.startsWith("<")||this.semver.version===l.semver.version&&this.operator.includes("=")&&l.operator.includes("=")||o(this.semver,"<",l.semver,y)&&this.operator.startsWith(">")&&l.operator.startsWith("<")||o(this.semver,">",l.semver,y)&&this.operator.startsWith("<")&&l.operator.startsWith(">")))}}J0=t;const r=V0,{safeRe:n,t:i}=_s.exports,o=Y_,s=ol,a=gn,c=ui();return J0}const mL=ui();var hl=(e,t,r)=>{try{t=new mL(t,r)}catch{return!1}return t.test(e)};const bL=ui();var vL=(e,t)=>new bL(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));const _L=gn,EL=ui();var xL=(e,t,r)=>{let n=null,i=null,o=null;try{o=new EL(t,r)}catch{return null}return e.forEach(s=>{o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new _L(n,r))}),n};const SL=gn,AL=ui();var BL=(e,t,r)=>{let n=null,i=null,o=null;try{o=new AL(t,r)}catch{return null}return e.forEach(s=>{o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new SL(n,r))}),n};const Q0=gn,IL=ui(),e2=cl;var RL=(e,t)=>{e=new IL(e,t);let r=new Q0("0.0.0");if(e.test(r)||(r=new Q0("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const i=e.set[n];let o=null;i.forEach(s=>{const a=new Q0(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!o||e2(a,o))&&(o=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!r||e2(r,o))&&(r=o)}return r&&e.test(r)?r:null};const TL=ui();var kL=(e,t)=>{try{return new TL(e,t).range||"*"}catch{return null}};const CL=gn,t2=ll(),{ANY:LL}=t2,$L=ui(),OL=hl,r2=cl,n2=K0,ML=G0,NL=Z0;var ep=(e,t,r,n)=>{e=new CL(e,n),t=new $L(t,n);let i,o,s,a,c;switch(r){case">":i=r2,o=ML,s=n2,a=">",c=">=";break;case"<":i=n2,o=NL,s=r2,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(OL(e,t,n))return!1;for(let u=0;u<t.set.length;++u){const l=t.set[u];let y=null,A=null;if(l.forEach(v=>{v.semver===LL&&(v=new t2(">=0.0.0")),y=y||v,A=A||v,i(v.semver,y.semver,n)?y=v:s(v.semver,A.semver,n)&&(A=v)}),y.operator===a||y.operator===c||(!A.operator||A.operator===a)&&o(e,A.semver))return!1;if(A.operator===c&&s(e,A.semver))return!1}return!0};const PL=ep;var UL=(e,t,r)=>PL(e,t,">",r);const FL=ep;var DL=(e,t,r)=>FL(e,t,"<",r);const i2=ui();var HL=(e,t,r)=>(e=new i2(e,r),t=new i2(t,r),e.intersects(t,r));const jL=hl,zL=fi;var qL=(e,t,r)=>{const n=[];let i=null,o=null;const s=e.sort((l,y)=>zL(l,y,r));for(const l of s)jL(l,t,r)?(o=l,i||(i=l)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);const a=[];for(const[l,y]of n)l===y?a.push(l):!y&&l===s[0]?a.push("*"):y?l===s[0]?a.push(`<=${y}`):a.push(`${l} - ${y}`):a.push(`>=${l}`);const c=a.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return c.length<u.length?c:t};const o2=ui(),tp=ll(),{ANY:rp}=tp,Fc=hl,np=fi,VL=(e,t,r={})=>{if(e===t)return!0;e=new o2(e,r),t=new o2(t,r);let n=!1;e:for(const i of e.set){for(const o of t.set){const s=KL(i,o,r);if(n=n||s!==null,s)continue e}if(n)return!1}return!0},WL=[new tp(">=0.0.0-0")],s2=[new tp(">=0.0.0")],KL=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===rp){if(t.length===1&&t[0].semver===rp)return!0;r.includePrerelease?e=WL:e=s2}if(t.length===1&&t[0].semver===rp){if(r.includePrerelease)return!0;t=s2}const n=new Set;let i,o;for(const v of e)v.operator===">"||v.operator===">="?i=a2(i,v,r):v.operator==="<"||v.operator==="<="?o=c2(o,v,r):n.add(v.semver);if(n.size>1)return null;let s;if(i&&o){if(s=np(i.semver,o.semver,r),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(const v of n){if(i&&!Fc(v,String(i),r)||o&&!Fc(v,String(o),r))return null;for(const R of t)if(!Fc(v,String(R),r))return!1;return!0}let a,c,u,l,y=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,A=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;y&&y.prerelease.length===1&&o.operator==="<"&&y.prerelease[0]===0&&(y=!1);for(const v of t){if(l=l||v.operator===">"||v.operator===">=",u=u||v.operator==="<"||v.operator==="<=",i){if(A&&v.semver.prerelease&&v.semver.prerelease.length&&v.semver.major===A.major&&v.semver.minor===A.minor&&v.semver.patch===A.patch&&(A=!1),v.operator===">"||v.operator===">="){if(a=a2(i,v,r),a===v&&a!==i)return!1}else if(i.operator===">="&&!Fc(i.semver,String(v),r))return!1}if(o){if(y&&v.semver.prerelease&&v.semver.prerelease.length&&v.semver.major===y.major&&v.semver.minor===y.minor&&v.semver.patch===y.patch&&(y=!1),v.operator==="<"||v.operator==="<="){if(c=c2(o,v,r),c===v&&c!==o)return!1}else if(o.operator==="<="&&!Fc(o.semver,String(v),r))return!1}if(!v.operator&&(o||i)&&s!==0)return!1}return!(i&&u&&!o&&s!==0||o&&l&&!i&&s!==0||A||y)},a2=(e,t,r)=>{if(!e)return t;const n=np(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},c2=(e,t,r)=>{if(!e)return t;const n=np(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var ZL=VL;const ip=_s.exports,f2=il,GL=gn,u2=F_,YL=_a,XL=MC,JL=PC,QL=UC,e$=FC,t$=HC,r$=zC,n$=VC,i$=KC,o$=fi,s$=GC,a$=XC,c$=W0,f$=QC,u$=tL,l$=cl,h$=K0,d$=Z_,p$=G_,g$=Z0,y$=G0,w$=Y_,m$=yL,b$=ll(),v$=ui();var _$={parse:YL,valid:XL,clean:JL,inc:QL,diff:e$,major:t$,minor:r$,patch:n$,prerelease:i$,compare:o$,rcompare:s$,compareLoose:a$,compareBuild:c$,sort:f$,rsort:u$,gt:l$,lt:h$,eq:d$,neq:p$,gte:g$,lte:y$,cmp:w$,coerce:m$,Comparator:b$,Range:v$,satisfies:hl,toComparators:vL,maxSatisfying:xL,minSatisfying:BL,minVersion:RL,validRange:kL,outside:ep,gtr:UL,ltr:DL,intersects:HL,simplifyRange:qL,subset:ZL,SemVer:GL,re:ip.re,src:ip.src,tokens:ip.t,SEMVER_SPEC_VERSION:f2.SEMVER_SPEC_VERSION,RELEASE_TYPES:f2.RELEASE_TYPES,compareIdentifiers:u2.compareIdentifiers,rcompareIdentifiers:u2.rcompareIdentifiers};Object.defineProperty(ai,"__esModule",{value:!0});var l2=Jn,Dc=_$,Ea=Po,op=Ea.refine.call(void 0,Ea.string.call(void 0),"Version",e=>Dc.valid.call(void 0,e)===null?`Expected SemVer version, got "${e}"`:!0),sp=Ea.refine.call(void 0,Ea.string.call(void 0),"Version range",e=>Dc.validRange.call(void 0,e)===null?`Expected SemVer range, got "${e}"`:!0);function E$(e){return Ea.is.call(void 0,e,op)}function x$(e){return Ea.is.call(void 0,e,sp)}function S$(e){l2.assertStruct.call(void 0,e,op)}function A$(e){l2.assertStruct.call(void 0,e,sp)}function B$(e,t){return Dc.gt.call(void 0,e,t)}function I$(e,t){return Dc.gtr.call(void 0,e,t)}function R$(e,t){return Dc.satisfies.call(void 0,e,t,{includePrerelease:!0})}ai.VersionStruct=op,ai.VersionRangeStruct=sp,ai.isValidSemVerVersion=E$,ai.isValidSemVerRange=x$,ai.assertIsSemVerVersion=S$,ai.assertIsSemVerRange=A$,ai.gtVersion=B$,ai.gtRange=I$,ai.satisfiesVersionRange=R$;var It={};Object.defineProperty(It,"__esModule",{value:!0});var Yi=Jn,T$=dn,dt=Po,xa=e=>dt.object.call(void 0,e);function h2({path:e,branch:t}){const r=e[e.length-1];return T$.hasProperty.call(void 0,t[t.length-2],r)}function Hc(e){return new dt.Struct({...e,type:`optional ${e.type}`,validator:(t,r)=>!h2(r)||e.validator(t,r),refiner:(t,r)=>!h2(r)||e.refiner(t,r)})}var k$=()=>dt.define.call(void 0,"finite number",e=>dt.is.call(void 0,e,dt.number.call(void 0))&&Number.isFinite(e)),jc=dt.union.call(void 0,[dt.literal.call(void 0,null),dt.boolean.call(void 0),k$(),dt.string.call(void 0),dt.array.call(void 0,dt.lazy.call(void 0,()=>jc)),dt.record.call(void 0,dt.string.call(void 0),dt.lazy.call(void 0,()=>jc))]),Es=dt.coerce.call(void 0,jc,dt.any.call(void 0),e=>(Yi.assertStruct.call(void 0,e,jc),JSON.parse(JSON.stringify(e,(t,r)=>{if(!(t==="__proto__"||t==="constructor"))return r}))));function C$(e){try{return d2(e),!0}catch{return!1}}function d2(e){return dt.create.call(void 0,e,Es)}function L$(e){Yi.assertStruct.call(void 0,e,Es,"Invalid JSON value");const t=JSON.stringify(e);return new TextEncoder().encode(t).byteLength}var p2="2.0",Sa=dt.literal.call(void 0,p2),zc=dt.nullable.call(void 0,dt.union.call(void 0,[dt.number.call(void 0),dt.string.call(void 0)])),qc=xa({code:dt.integer.call(void 0),message:dt.string.call(void 0),data:Hc(Es),stack:Hc(dt.string.call(void 0))}),ap=dt.union.call(void 0,[dt.record.call(void 0,dt.string.call(void 0),Es),dt.array.call(void 0,Es)]),cp=xa({id:zc,jsonrpc:Sa,method:dt.string.call(void 0),params:Hc(ap)}),fp=xa({jsonrpc:Sa,method:dt.string.call(void 0),params:Hc(ap)});function $$(e){return dt.is.call(void 0,e,fp)}function O$(e,t){Yi.assertStruct.call(void 0,e,fp,"Invalid JSON-RPC notification",t)}function M$(e){return dt.is.call(void 0,e,cp)}function N$(e,t){Yi.assertStruct.call(void 0,e,cp,"Invalid JSON-RPC request",t)}var up=dt.object.call(void 0,{id:zc,jsonrpc:Sa,result:dt.optional.call(void 0,dt.unknown.call(void 0)),error:dt.optional.call(void 0,qc)}),dl=xa({id:zc,jsonrpc:Sa,result:Es}),pl=xa({id:zc,jsonrpc:Sa,error:qc}),lp=dt.union.call(void 0,[dl,pl]);function P$(e){return dt.is.call(void 0,e,up)}function U$(e,t){Yi.assertStruct.call(void 0,e,up,"Invalid pending JSON-RPC response",t)}function F$(e){return dt.is.call(void 0,e,lp)}function D$(e,t){Yi.assertStruct.call(void 0,e,lp,"Invalid JSON-RPC response",t)}function H$(e){return dt.is.call(void 0,e,dl)}function j$(e,t){Yi.assertStruct.call(void 0,e,dl,"Invalid JSON-RPC success response",t)}function z$(e){return dt.is.call(void 0,e,pl)}function q$(e,t){Yi.assertStruct.call(void 0,e,pl,"Invalid JSON-RPC failure response",t)}function V$(e){return dt.is.call(void 0,e,qc)}function W$(e,t){Yi.assertStruct.call(void 0,e,qc,"Invalid JSON-RPC error",t)}function K$(e){const{permitEmptyString:t,permitFractions:r,permitNull:n}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return o=>!!(typeof o=="number"&&(r||Number.isInteger(o))||typeof o=="string"&&(t||o.length>0)||n&&o===null)}It.object=xa,It.exactOptional=Hc,It.UnsafeJsonStruct=jc,It.JsonStruct=Es,It.isValidJson=C$,It.getSafeJson=d2,It.getJsonSize=L$,It.jsonrpc2=p2,It.JsonRpcVersionStruct=Sa,It.JsonRpcIdStruct=zc,It.JsonRpcErrorStruct=qc,It.JsonRpcParamsStruct=ap,It.JsonRpcRequestStruct=cp,It.JsonRpcNotificationStruct=fp,It.isJsonRpcNotification=$$,It.assertIsJsonRpcNotification=O$,It.isJsonRpcRequest=M$,It.assertIsJsonRpcRequest=N$,It.PendingJsonRpcResponseStruct=up,It.JsonRpcSuccessStruct=dl,It.JsonRpcFailureStruct=pl,It.JsonRpcResponseStruct=lp,It.isPendingJsonRpcResponse=P$,It.assertIsPendingJsonRpcResponse=U$,It.isJsonRpcResponse=F$,It.assertIsJsonRpcResponse=D$,It.isJsonRpcSuccess=H$,It.assertIsJsonRpcSuccess=j$,It.isJsonRpcFailure=z$,It.assertIsJsonRpcFailure=q$,It.isJsonRpcError=V$,It.assertIsJsonRpcError=W$,It.getJsonRpcIdValidator=K$;var gl={},hp={exports:{}},dp,g2;function Z$(){if(g2)return dp;g2=1;var e=1e3,t=e*60,r=t*60,n=r*24,i=n*7,o=n*365.25;dp=function(l,y){y=y||{};var A=typeof l;if(A==="string"&&l.length>0)return s(l);if(A==="number"&&isFinite(l))return y.long?c(l):a(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))};function s(l){if(l=String(l),!(l.length>100)){var y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(y){var A=parseFloat(y[1]),v=(y[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return A*o;case"weeks":case"week":case"w":return A*i;case"days":case"day":case"d":return A*n;case"hours":case"hour":case"hrs":case"hr":case"h":return A*r;case"minutes":case"minute":case"mins":case"min":case"m":return A*t;case"seconds":case"second":case"secs":case"sec":case"s":return A*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}function a(l){var y=Math.abs(l);return y>=n?Math.round(l/n)+"d":y>=r?Math.round(l/r)+"h":y>=t?Math.round(l/t)+"m":y>=e?Math.round(l/e)+"s":l+"ms"}function c(l){var y=Math.abs(l);return y>=n?u(l,y,n,"day"):y>=r?u(l,y,r,"hour"):y>=t?u(l,y,t,"minute"):y>=e?u(l,y,e,"second"):l+" ms"}function u(l,y,A,v){var R=y>=A*1.5;return Math.round(l/A)+" "+v+(R?"s":"")}return dp}function G$(e){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=i,r.enabled=s,r.humanize=Z$(),r.destroy=u,Object.keys(e).forEach(l=>{r[l]=e[l]}),r.names=[],r.skips=[],r.formatters={};function t(l){let y=0;for(let A=0;A<l.length;A++)y=(y<<5)-y+l.charCodeAt(A),y|=0;return r.colors[Math.abs(y)%r.colors.length]}r.selectColor=t;function r(l){let y,A=null,v,R;function O(...P){if(!O.enabled)return;const H=O,F=Number(new Date),N=F-(y||F);H.diff=N,H.prev=y,H.curr=F,y=F,P[0]=r.coerce(P[0]),typeof P[0]!="string"&&P.unshift("%O");let $=0;P[0]=P[0].replace(/%([a-zA-Z%])/g,(G,Z)=>{if(G==="%%")return"%";$++;const z=r.formatters[Z];if(typeof z=="function"){const ee=P[$];G=z.call(H,ee),P.splice($,1),$--}return G}),r.formatArgs.call(H,P),(H.log||r.log).apply(H,P)}return O.namespace=l,O.useColors=r.useColors(),O.color=r.selectColor(l),O.extend=n,O.destroy=r.destroy,Object.defineProperty(O,"enabled",{enumerable:!0,configurable:!1,get:()=>A!==null?A:(v!==r.namespaces&&(v=r.namespaces,R=r.enabled(l)),R),set:P=>{A=P}}),typeof r.init=="function"&&r.init(O),O}function n(l,y){const A=r(this.namespace+(typeof y>"u"?":":y)+l);return A.log=this.log,A}function i(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let y;const A=(typeof l=="string"?l:"").split(/[\s,]+/),v=A.length;for(y=0;y<v;y++)A[y]&&(l=A[y].replace(/\*/g,".*?"),l[0]==="-"?r.skips.push(new RegExp("^"+l.slice(1)+"$")):r.names.push(new RegExp("^"+l+"$")))}function o(){const l=[...r.names.map(a),...r.skips.map(a).map(y=>"-"+y)].join(",");return r.enable(""),l}function s(l){if(l[l.length-1]==="*")return!0;let y,A;for(y=0,A=r.skips.length;y<A;y++)if(r.skips[y].test(l))return!1;for(y=0,A=r.names.length;y<A;y++)if(r.names[y].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var Y$=G$;(function(e,t){t.formatArgs=n,t.save=i,t.load=o,t.useColors=r,t.storage=s(),t.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let l=0,y=0;c[0].replace(/%[a-zA-Z%]/g,A=>{A!=="%%"&&(l++,A==="%c"&&(y=l))}),c.splice(y,0,u)}t.log=console.debug||console.log||(()=>{});function i(c){try{c?t.storage.setItem("debug",c):t.storage.removeItem("debug")}catch{}}function o(){let c;try{c=t.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=process.env.DEBUG),c}function s(){try{return localStorage}catch{}}e.exports=Y$(t);const{formatters:a}=e.exports;a.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(hp,hp.exports),Object.defineProperty(gl,"__esModule",{value:!0});function X$(e){return e&&e.__esModule?e:{default:e}}var J$=hp.exports,Q$=X$(J$),eO=Q$.default.call(void 0,"metamask");function tO(e){return eO.extend(e)}function rO(e,t){return e.extend(t)}gl.createProjectLogger=tO,gl.createModuleLogger=rO;var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});function y2(e){let t,r=e[0],n=1;for(;n<e.length;){const i=e[n],o=e[n+1];if(n+=2,(i==="optionalAccess"||i==="optionalCall")&&r==null)return;i==="access"||i==="optionalAccess"?(t=r,r=o(r)):(i==="call"||i==="optionalCall")&&(r=o((...s)=>r.call(t,...s)),t=void 0)}return r}var yn=Po,pp=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,gp=/^[-a-z0-9]{3,8}$/u,yp=/^[-_a-zA-Z0-9]{1,32}$/u,wp=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,w2=/^[-.%a-zA-Z0-9]{1,128}$/u,m2=yn.pattern.call(void 0,yn.string.call(void 0),pp),b2=yn.pattern.call(void 0,yn.string.call(void 0),gp),v2=yn.pattern.call(void 0,yn.string.call(void 0),yp),_2=yn.pattern.call(void 0,yn.string.call(void 0),wp),E2=yn.pattern.call(void 0,yn.string.call(void 0),w2),x2=(e=>(e.Eip155="eip155",e))(x2||{});function nO(e){return yn.is.call(void 0,e,m2)}function S2(e){return yn.is.call(void 0,e,b2)}function A2(e){return yn.is.call(void 0,e,v2)}function iO(e){return yn.is.call(void 0,e,_2)}function oO(e){return yn.is.call(void 0,e,E2)}function sO(e){const t=pp.exec(e);if(!y2([t,"optionalAccess",r=>r.groups]))throw new Error("Invalid CAIP chain ID.");return{namespace:t.groups.namespace,reference:t.groups.reference}}function aO(e){const t=wp.exec(e);if(!y2([t,"optionalAccess",r=>r.groups]))throw new Error("Invalid CAIP account ID.");return{address:t.groups.accountAddress,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}}function cO(e,t){if(!S2(e))throw new Error(`Invalid "namespace", must match: ${gp.toString()}`);if(!A2(t))throw new Error(`Invalid "reference", must match: ${yp.toString()}`);return`${e}:${t}`}Ir.CAIP_CHAIN_ID_REGEX=pp,Ir.CAIP_NAMESPACE_REGEX=gp,Ir.CAIP_REFERENCE_REGEX=yp,Ir.CAIP_ACCOUNT_ID_REGEX=wp,Ir.CAIP_ACCOUNT_ADDRESS_REGEX=w2,Ir.CaipChainIdStruct=m2,Ir.CaipNamespaceStruct=b2,Ir.CaipReferenceStruct=v2,Ir.CaipAccountIdStruct=_2,Ir.CaipAccountAddressStruct=E2,Ir.KnownCaipNamespace=x2,Ir.isCaipChainId=nO,Ir.isCaipNamespace=S2,Ir.isCaipReference=A2,Ir.isCaipAccountId=iO,Ir.isCaipAccountAddress=oO,Ir.parseCaipChainId=sO,Ir.parseCaipAccountId=aO,Ir.toCaipChainId=cO;var mp={},yl={};Object.defineProperty(yl,"__esModule",{value:!0});function B2(e,t){return e??t()}var fO=Jn,uO=Po,lO=(e,t={})=>{const r=B2(t.paddingRequired,()=>!1),n=B2(t.characterSet,()=>"base64");let i;n==="base64"?i=String.raw`[A-Za-z0-9+\/]`:(fO.assert.call(void 0,n==="base64url"),i=String.raw`[-_A-Za-z0-9]`);let o;return r?o=new RegExp(`^(?:${i}{4})*(?:${i}{3}=|${i}{2}==)?$`,"u"):o=new RegExp(`^(?:${i}{4})*(?:${i}{2,3}|${i}{3}=|${i}{2}==)?$`,"u"),uO.pattern.call(void 0,e,o)};yl.base64=lO,Object.defineProperty(mp,"__esModule",{value:!0});var hO=yl,I2=Po,dO=I2.size.call(void 0,hO.base64.call(void 0,I2.string.call(void 0),{paddingRequired:!0}),44,44);mp.ChecksumStruct=dO;var Aa={};Object.defineProperty(Aa,"__esModule",{value:!0});var Ba=Rt,pO=Jn,gr=Po,R2=gr.union.call(void 0,[gr.number.call(void 0),gr.bigint.call(void 0),gr.string.call(void 0),Ba.StrictHexStruct]),gO=gr.coerce.call(void 0,gr.number.call(void 0),R2,Number),yO=gr.coerce.call(void 0,gr.bigint.call(void 0),R2,BigInt);gr.union.call(void 0,[Ba.StrictHexStruct,gr.instance.call(void 0,Uint8Array)]);var wO=gr.coerce.call(void 0,gr.instance.call(void 0,Uint8Array),gr.union.call(void 0,[Ba.StrictHexStruct]),Ba.hexToBytes),mO=gr.coerce.call(void 0,Ba.StrictHexStruct,gr.instance.call(void 0,Uint8Array),Ba.bytesToHex);function bO(e){try{const t=gr.create.call(void 0,e,gO);return pO.assert.call(void 0,Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){throw t instanceof gr.StructError?new Error(`Expected a number-like value, got "${e}".`):t}}function vO(e){try{return gr.create.call(void 0,e,yO)}catch(t){throw t instanceof gr.StructError?new Error(`Expected a number-like value, got "${String(t.value)}".`):t}}function _O(e){if(typeof e=="string"&&e.toLowerCase()==="0x")return new Uint8Array;try{return gr.create.call(void 0,e,wO)}catch(t){throw t instanceof gr.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}function EO(e){if(e instanceof Uint8Array&&e.length===0||typeof e=="string"&&e.toLowerCase()==="0x")return"0x";try{return gr.create.call(void 0,e,mO)}catch(t){throw t instanceof gr.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}Aa.createNumber=bO,Aa.createBigInt=vO,Aa.createBytes=_O,Aa.createHex=EO;var wl={},Vc={};Object.defineProperty(Vc,"__esModule",{value:!0});var T2=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},xO=(e,t,r)=>(T2(e,t,"read from private field"),r?r.call(e):t.get(e)),SO=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},AO=(e,t,r,n)=>(T2(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);Vc.__privateGet=xO,Vc.__privateAdd=SO,Vc.__privateSet=AO,Object.defineProperty(wl,"__esModule",{value:!0});var Mr=Vc,li,bp=class{constructor(e){Mr.__privateAdd.call(void 0,this,li,void 0),Mr.__privateSet.call(void 0,this,li,new Map(e)),Object.freeze(this)}get size(){return Mr.__privateGet.call(void 0,this,li).size}[Symbol.iterator](){return Mr.__privateGet.call(void 0,this,li)[Symbol.iterator]()}entries(){return Mr.__privateGet.call(void 0,this,li).entries()}forEach(e,t){return Mr.__privateGet.call(void 0,this,li).forEach((r,n,i)=>e.call(t,r,n,this))}get(e){return Mr.__privateGet.call(void 0,this,li).get(e)}has(e){return Mr.__privateGet.call(void 0,this,li).has(e)}keys(){return Mr.__privateGet.call(void 0,this,li).keys()}values(){return Mr.__privateGet.call(void 0,this,li).values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,t])=>`${String(e)} => ${String(t)}`).join(", ")} `:""}}`}};li=new WeakMap;var Ii,vp=class{constructor(e){Mr.__privateAdd.call(void 0,this,Ii,void 0),Mr.__privateSet.call(void 0,this,Ii,new Set(e)),Object.freeze(this)}get size(){return Mr.__privateGet.call(void 0,this,Ii).size}[Symbol.iterator](){return Mr.__privateGet.call(void 0,this,Ii)[Symbol.iterator]()}entries(){return Mr.__privateGet.call(void 0,this,Ii).entries()}forEach(e,t){return Mr.__privateGet.call(void 0,this,Ii).forEach((r,n,i)=>e.call(t,r,n,this))}has(e){return Mr.__privateGet.call(void 0,this,Ii).has(e)}keys(){return Mr.__privateGet.call(void 0,this,Ii).keys()}values(){return Mr.__privateGet.call(void 0,this,Ii).values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}};Ii=new WeakMap,Object.freeze(bp),Object.freeze(bp.prototype),Object.freeze(vp),Object.freeze(vp.prototype),wl.FrozenMap=bp,wl.FrozenSet=vp,Object.defineProperty(se,"__esModule",{value:!0});var ml=ya,BO=q0,_p=Uc,Xi=ai,$t=It,k2=gl,Nr=Ir,IO=mp,RO=yl,bl=Aa,Dt=Rt,vl=Jn,Wc=No,hi=dn,C2=wl;se.AssertionError=vl.AssertionError,se.CAIP_ACCOUNT_ADDRESS_REGEX=Nr.CAIP_ACCOUNT_ADDRESS_REGEX,se.CAIP_ACCOUNT_ID_REGEX=Nr.CAIP_ACCOUNT_ID_REGEX,se.CAIP_CHAIN_ID_REGEX=Nr.CAIP_CHAIN_ID_REGEX,se.CAIP_NAMESPACE_REGEX=Nr.CAIP_NAMESPACE_REGEX,se.CAIP_REFERENCE_REGEX=Nr.CAIP_REFERENCE_REGEX,se.CaipAccountAddressStruct=Nr.CaipAccountAddressStruct,se.CaipAccountIdStruct=Nr.CaipAccountIdStruct,se.CaipChainIdStruct=Nr.CaipChainIdStruct,se.CaipNamespaceStruct=Nr.CaipNamespaceStruct,se.CaipReferenceStruct=Nr.CaipReferenceStruct,se.ChecksumStruct=IO.ChecksumStruct,se.Duration=_p.Duration,se.ESCAPE_CHARACTERS_REGEXP=hi.ESCAPE_CHARACTERS_REGEXP,se.FrozenMap=C2.FrozenMap,se.FrozenSet=C2.FrozenSet,se.HexAddressStruct=Dt.HexAddressStruct,se.HexChecksumAddressStruct=Dt.HexChecksumAddressStruct,se.HexStruct=Dt.HexStruct,se.JsonRpcErrorStruct=$t.JsonRpcErrorStruct,se.JsonRpcFailureStruct=$t.JsonRpcFailureStruct,se.JsonRpcIdStruct=$t.JsonRpcIdStruct,se.JsonRpcNotificationStruct=$t.JsonRpcNotificationStruct,se.JsonRpcParamsStruct=$t.JsonRpcParamsStruct,se.JsonRpcRequestStruct=$t.JsonRpcRequestStruct,se.JsonRpcResponseStruct=$t.JsonRpcResponseStruct,se.JsonRpcSuccessStruct=$t.JsonRpcSuccessStruct,se.JsonRpcVersionStruct=$t.JsonRpcVersionStruct,se.JsonSize=hi.JsonSize,se.JsonStruct=$t.JsonStruct,se.KnownCaipNamespace=Nr.KnownCaipNamespace,se.PendingJsonRpcResponseStruct=$t.PendingJsonRpcResponseStruct,se.StrictHexStruct=Dt.StrictHexStruct,se.UnsafeJsonStruct=$t.UnsafeJsonStruct,se.VersionRangeStruct=Xi.VersionRangeStruct,se.VersionStruct=Xi.VersionStruct,se.add0x=Dt.add0x,se.assert=vl.assert,se.assertExhaustive=vl.assertExhaustive,se.assertIsBytes=Dt.assertIsBytes,se.assertIsHexString=Dt.assertIsHexString,se.assertIsJsonRpcError=$t.assertIsJsonRpcError,se.assertIsJsonRpcFailure=$t.assertIsJsonRpcFailure,se.assertIsJsonRpcNotification=$t.assertIsJsonRpcNotification,se.assertIsJsonRpcRequest=$t.assertIsJsonRpcRequest,se.assertIsJsonRpcResponse=$t.assertIsJsonRpcResponse,se.assertIsJsonRpcSuccess=$t.assertIsJsonRpcSuccess,se.assertIsPendingJsonRpcResponse=$t.assertIsPendingJsonRpcResponse,se.assertIsSemVerRange=Xi.assertIsSemVerRange,se.assertIsSemVerVersion=Xi.assertIsSemVerVersion,se.assertIsStrictHexString=Dt.assertIsStrictHexString,se.assertStruct=vl.assertStruct,se.base64=RO.base64,se.base64ToBytes=Dt.base64ToBytes,se.bigIntToBytes=Dt.bigIntToBytes,se.bigIntToHex=ml.bigIntToHex,se.bytesToBase64=Dt.bytesToBase64,se.bytesToBigInt=Dt.bytesToBigInt,se.bytesToHex=Dt.bytesToHex,se.bytesToNumber=Dt.bytesToNumber,se.bytesToSignedBigInt=Dt.bytesToSignedBigInt,se.bytesToString=Dt.bytesToString,se.calculateNumberSize=hi.calculateNumberSize,se.calculateStringSize=hi.calculateStringSize,se.concatBytes=Dt.concatBytes,se.createBigInt=bl.createBigInt,se.createBytes=bl.createBytes,se.createDataView=Dt.createDataView,se.createDeferredPromise=BO.createDeferredPromise,se.createHex=bl.createHex,se.createModuleLogger=k2.createModuleLogger,se.createNumber=bl.createNumber,se.createProjectLogger=k2.createProjectLogger,se.exactOptional=$t.exactOptional,se.getChecksumAddress=Dt.getChecksumAddress,se.getErrorMessage=Wc.getErrorMessage,se.getJsonRpcIdValidator=$t.getJsonRpcIdValidator,se.getJsonSize=$t.getJsonSize,se.getKnownPropertyNames=hi.getKnownPropertyNames,se.getSafeJson=$t.getSafeJson,se.gtRange=Xi.gtRange,se.gtVersion=Xi.gtVersion,se.hasProperty=hi.hasProperty,se.hexToBigInt=ml.hexToBigInt,se.hexToBytes=Dt.hexToBytes,se.hexToNumber=ml.hexToNumber,se.inMilliseconds=_p.inMilliseconds,se.isASCII=hi.isASCII,se.isBytes=Dt.isBytes,se.isCaipAccountAddress=Nr.isCaipAccountAddress,se.isCaipAccountId=Nr.isCaipAccountId,se.isCaipChainId=Nr.isCaipChainId,se.isCaipNamespace=Nr.isCaipNamespace,se.isCaipReference=Nr.isCaipReference,se.isErrorWithCode=Wc.isErrorWithCode,se.isErrorWithMessage=Wc.isErrorWithMessage,se.isErrorWithStack=Wc.isErrorWithStack,se.isHexString=Dt.isHexString,se.isJsonRpcError=$t.isJsonRpcError,se.isJsonRpcFailure=$t.isJsonRpcFailure,se.isJsonRpcNotification=$t.isJsonRpcNotification,se.isJsonRpcRequest=$t.isJsonRpcRequest,se.isJsonRpcResponse=$t.isJsonRpcResponse,se.isJsonRpcSuccess=$t.isJsonRpcSuccess,se.isNonEmptyArray=hi.isNonEmptyArray,se.isNullOrUndefined=hi.isNullOrUndefined,se.isObject=hi.isObject,se.isPendingJsonRpcResponse=$t.isPendingJsonRpcResponse,se.isPlainObject=hi.isPlainObject,se.isStrictHexString=Dt.isStrictHexString,se.isValidChecksumAddress=Dt.isValidChecksumAddress,se.isValidHexAddress=Dt.isValidHexAddress,se.isValidJson=$t.isValidJson,se.isValidSemVerRange=Xi.isValidSemVerRange,se.isValidSemVerVersion=Xi.isValidSemVerVersion,se.jsonrpc2=$t.jsonrpc2,se.numberToBytes=Dt.numberToBytes,se.numberToHex=ml.numberToHex,se.object=$t.object,se.parseCaipAccountId=Nr.parseCaipAccountId,se.parseCaipChainId=Nr.parseCaipChainId,se.remove0x=Dt.remove0x,se.satisfiesVersionRange=Xi.satisfiesVersionRange,se.signedBigIntToBytes=Dt.signedBigIntToBytes,se.stringToBytes=Dt.stringToBytes,se.timeSince=_p.timeSince,se.toCaipChainId=Nr.toCaipChainId,se.valueToBytes=Dt.valueToBytes,se.wrapError=Wc.wrapError,Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.normalize=Qr.recoverPublicKey=Qr.concatSig=Qr.legacyToBuffer=Qr.isNullish=Qr.padWithZeroes=void 0;const Ji=tu,Ia=se;function Ep(e,t){if(e!==""&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(t<0)throw new Error(`Expected a non-negative integer target length. Received: ${t}`);return String.prototype.padStart.call(e,t,"0")}Qr.padWithZeroes=Ep;function L2(e){return e==null}Qr.isNullish=L2;function TO(e){return typeof e=="string"&&!(0,Ji.isHexString)(e)?ie.Buffer.from(e):(0,Ji.toBuffer)(e)}Qr.legacyToBuffer=TO;function kO(e,t,r){const n=(0,Ji.fromSigned)(t),i=(0,Ji.fromSigned)(r),o=(0,Ji.bufferToInt)(e),s=Ep((0,Ji.toUnsigned)(n).toString("hex"),64),a=Ep((0,Ji.toUnsigned)(i).toString("hex"),64),c=(0,Ia.remove0x)((0,Ia.numberToHex)(o));return(0,Ia.add0x)(s.concat(a,c))}Qr.concatSig=kO;function CO(e,t){const r=(0,Ji.fromRpcSig)(t);return(0,Ji.ecrecover)(e,r.v,r.r,r.s)}Qr.recoverPublicKey=CO;function LO(e){if(!L2(e)){if(typeof e=="number"){if(e<0)return"0x";const t=(0,Ia.numberToBytes)(e);e=(0,Ia.bytesToHex)(t)}if(typeof e!="string"){let t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=` received ${typeof e}: ${e}`,new Error(t)}return(0,Ia.add0x)(e.toLowerCase())}}Qr.normalize=LO,Object.defineProperty(lo,"__esModule",{value:!0}),lo.extractPublicKey=lo.recoverPersonalSignature=lo.personalSign=void 0;const Ra=tu,Ri=Qr;function $O({privateKey:e,data:t}){if((0,Ri.isNullish)(t))throw new Error("Missing data parameter");if((0,Ri.isNullish)(e))throw new Error("Missing privateKey parameter");const r=(0,Ri.legacyToBuffer)(t),n=(0,Ra.hashPersonalMessage)(r),i=(0,Ra.ecsign)(n,e);return(0,Ri.concatSig)((0,Ra.toBuffer)(i.v),i.r,i.s)}lo.personalSign=$O;function OO({data:e,signature:t}){if((0,Ri.isNullish)(e))throw new Error("Missing data parameter");if((0,Ri.isNullish)(t))throw new Error("Missing signature parameter");const r=$2(e,t),n=(0,Ra.publicToAddress)(r);return(0,Ra.bufferToHex)(n)}lo.recoverPersonalSignature=OO;function MO({data:e,signature:t}){if((0,Ri.isNullish)(e))throw new Error("Missing data parameter");if((0,Ri.isNullish)(t))throw new Error("Missing signature parameter");return`0x${$2(e,t).toString("hex")}`}lo.extractPublicKey=MO;function $2(e,t){const r=(0,Ra.hashPersonalMessage)((0,Ri.legacyToBuffer)(e));return(0,Ri.recoverPublicKey)(r,t)}var O2={},M2={},N2={},di={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ParserError=e.getErrorStack=e.getErrorMessage=void 0;const t=se,r=o=>typeof o=="string"?o:o instanceof Error||(0,t.isObject)(o)&&(0,t.hasProperty)(o,"message")&&typeof o.message=="string"?o.message:"Unknown error.";e.getErrorMessage=r;const n=o=>{if(o instanceof Error)return o.stack};e.getErrorStack=n;class i extends Error{constructor(s,a){super(s),this.name="ParserError";const c=(0,e.getErrorStack)(a);c&&(this.stack=c)}}e.ParserError=i})(di);var xp={},_l={};Object.defineProperty(_l,"__esModule",{value:!0}),_l.iterate=void 0;const P2=se,NO=function*(e,t=32){for(let r=0;r<e.length;r+=t){const n=o=>{(0,P2.assert)(o>=0,"Cannot skip a negative number of bytes."),(0,P2.assert)(o%t===0,"Length must be a multiple of the size."),r+=o},i=e.subarray(r);yield{skip:n,value:i}}return{skip:()=>{},value:new Uint8Array}};_l.iterate=NO;var Sp={},U2={},Fo={},Do={};Object.defineProperty(Do,"__esModule",{value:!0}),Do.padEnd=Do.padStart=Do.set=void 0;const Ap=se,F2=32,PO=(e,t,r)=>(0,Ap.concatBytes)([e.subarray(0,r),t,e.subarray(r+t.length)]);Do.set=PO;const UO=(e,t=F2)=>{const r=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,Ap.concatBytes)([r,e])};Do.padStart=UO;const FO=(e,t=F2)=>{const r=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,Ap.concatBytes)([e,r])};Do.padEnd=FO,function(e){var t=ft&&ft.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,s,a)}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=ft&&ft.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Do,e)}(Fo),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.address=e.getAddress=void 0;const t=se,r=di,n=Fo,i=o=>{const s=(0,t.createBytes)(o);return(0,t.assert)(s.length<=20,new r.ParserError(`Invalid address value. Expected address to be 20 bytes long, but received ${s.length} bytes.`)),(0,n.padStart)(s,20)};e.getAddress=i,e.address={isDynamic:!1,isType:o=>o==="address",getByteLength(){return 32},encode({buffer:o,value:s,packed:a}){const c=(0,e.getAddress)(s);if(a)return(0,t.concatBytes)([o,c]);const u=(0,n.padStart)(c);return(0,t.concatBytes)([o,u])},decode({value:o}){return(0,t.add0x)((0,t.bytesToHex)(o.slice(12,32)))}}}(U2);var Bp={},El={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fixedBytes=e.getByteLength=void 0;const t=se,r=di,n=Fo,i=/^bytes([0-9]{1,2})$/u,o=s=>{const a=s.match(i)?.[1];(0,t.assert)(a,`Invalid byte length. Expected a number between 1 and 32, but received "${s}".`);const c=Number(a);return(0,t.assert)(c>0&&c<=32,new r.ParserError(`Invalid byte length. Expected a number between 1 and 32, but received "${s}".`)),c};e.getByteLength=o,e.fixedBytes={isDynamic:!1,isType(s){return i.test(s)},getByteLength(){return 32},encode({type:s,buffer:a,value:c,packed:u}){const l=(0,e.getByteLength)(s),y=(0,t.createBytes)(c);return(0,t.assert)(y.length<=l,new r.ParserError(`Expected a value of length ${l}, but received a value of length ${y.length}.`)),u?(0,t.concatBytes)([a,(0,n.padEnd)(y,l)]):(0,t.concatBytes)([a,(0,n.padEnd)(y)])},decode({type:s,value:a}){const c=(0,e.getByteLength)(s);return a.slice(0,c)}}})(El);var Ip={},D2;function H2(){return D2||(D2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.tuple=e.getTupleElements=void 0;const t=se,r=di,n=Op(),i=/^\((.+)\)$/u,o=a=>i.test(a),s=a=>{(0,t.assert)(a.startsWith("(")&&a.endsWith(")"),new r.ParserError(`Invalid tuple type. Expected tuple type, but received "${a}".`));const c=[];let u="",l=0;for(let y=1;y<a.length-1;y++){const A=a[y];A===","&&l===0?(c.push(u.trim()),u=""):(u+=A,A==="("?l+=1:A===")"&&(l-=1))}return u.trim()&&c.push(u.trim()),c};e.getTupleElements=s,e.tuple={isDynamic(a){return(0,e.getTupleElements)(a).some(u=>{const l=(0,n.getParser)(u);return(0,n.isDynamicParser)(l,u)})},isType(a){return o(a)},getByteLength(a){return(0,n.isDynamicParser)(this,a)?32:(0,e.getTupleElements)(a).reduce((u,l)=>u+(0,n.getParser)(l).getByteLength(l),0)},encode({type:a,buffer:c,value:u,packed:l,tight:y}){const A=(0,e.getTupleElements)(a);return(0,n.pack)({types:A,values:u,byteArray:c,packed:l,tight:y})},decode({type:a,value:c,skip:u}){const l=(0,e.getTupleElements)(a),y=this.getByteLength(a)-32;return u(y),(0,n.unpack)(l,c)}}}(Ip)),Ip}var j2;function DO(){return j2||(j2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.array=e.getTupleType=e.getArrayType=e.isArrayType=void 0;const t=se,r=di,n=Op(),i=Fo,o=El,s=H2(),a=/^(?<type>.*)\[(?<length>\d*?)\]$/u,c=y=>a.test(y);e.isArrayType=c;const u=y=>{const A=y.match(a);return(0,t.assert)(A?.groups?.type,new r.ParserError(`Invalid array type. Expected an array type, but received "${y}".`)),[A.groups.type,A.groups.length?parseInt(A.groups.length,10):void 0]};e.getArrayType=u;const l=(y,A)=>`(${new Array(A).fill(y).join(",")})`;e.getTupleType=l,e.array={isDynamic(y){const[A,v]=(0,e.getArrayType)(y);return v===void 0||(0,n.isDynamicParser)((0,n.getParser)(A),A)},isType(y){return(0,e.isArrayType)(y)},getByteLength(y){(0,t.assert)((0,e.isArrayType)(y),new r.ParserError(`Expected an array type, but received "${y}".`));const[A,v]=(0,e.getArrayType)(y);return!(0,n.isDynamicParser)(this,y)&&v!==void 0?s.tuple.getByteLength((0,e.getTupleType)(A,v)):32},encode({type:y,buffer:A,value:v,packed:R,tight:O}){const[P,H]=(0,e.getArrayType)(y);if((0,t.assert)(!R||!(0,e.isArrayType)(P),new r.ParserError("Cannot pack nested arrays.")),R&&(0,n.isDynamicParser)((0,n.getParser)(P),P))return(0,n.pack)({types:new Array(v.length).fill(P),values:v,byteArray:A,packed:R,arrayPacked:!0,tight:O});if(H)return(0,t.assert)(H===v.length,new r.ParserError(`Array length does not match type length. Expected a length of ${H}, but received ${v.length}.`)),s.tuple.encode({type:(0,e.getTupleType)(P,H),buffer:A,value:v,packed:o.fixedBytes.isType(P)&&O,tight:O});if(R)return(0,n.pack)({types:new Array(v.length).fill(P),values:v,byteArray:A,packed:o.fixedBytes.isType(P)&&O,arrayPacked:!0,tight:O});const F=(0,i.padStart)((0,t.numberToBytes)(v.length));return(0,n.pack)({types:new Array(v.length).fill(P),values:v,byteArray:(0,t.concatBytes)([A,F]),packed:R,tight:O})},decode({type:y,value:A,...v}){const[R,O]=(0,e.getArrayType)(y);if(O){const H=s.tuple.decode({type:(0,e.getTupleType)(R,O),value:A,...v});return(0,t.assert)(H.length===O,new r.ParserError(`Array length does not match type length. Expected a length of ${O}, but received ${H.length}.`)),H}const P=(0,t.bytesToNumber)(A.subarray(0,32));return(0,n.unpack)(new Array(P).fill(R),A.subarray(32))}}}(Bp)),Bp}var z2={};class q2 extends TypeError{constructor(t,r){let n;const{message:i,explanation:o,...s}=t,{path:a}=t,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??c),o!=null&&(this.cause=c),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...r()])}}function HO(e){return ei(e)&&typeof e[Symbol.iterator]=="function"}function ei(e){return typeof e=="object"&&e!=null}function V2(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Pr(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function jO(e){const{done:t,value:r}=e.next();return t?void 0:r}function zO(e,t,r,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:o}=t,{type:s}=r,{refinement:a,message:c=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${Pr(n)}\``}=e;return{value:n,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:c}}function*Rp(e,t,r,n){HO(e)||(e=[e]);for(const i of e){const o=zO(i,t,r,n);o&&(yield o)}}function*Tp(e,t,r={}){const{path:n=[],branch:i=[e],coerce:o=!1,mask:s=!1}=r,a={path:n,branch:i};if(o&&(e=t.coercer(e,a),s&&t.type!=="type"&&ei(t.schema)&&ei(e)&&!Array.isArray(e)))for(const u in e)t.schema[u]===void 0&&delete e[u];let c="valid";for(const u of t.validator(e,a))u.explanation=r.message,c="not_valid",yield[u,void 0];for(let[u,l,y]of t.entries(e,a)){const A=Tp(l,y,{path:u===void 0?n:[...n,u],branch:u===void 0?i:[...i,l],coerce:o,mask:s,message:r.message});for(const v of A)v[0]?(c=v[0].refinement!=null?"not_refined":"not_valid",yield[v[0],void 0]):o&&(l=v[1],u===void 0?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):ei(e)&&(l!==void 0||u in e)&&(e[u]=l))}if(c!=="not_valid")for(const u of t.refiner(e,a))u.explanation=r.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,e])}class Rr{constructor(t){const{type:r,schema:n,validator:i,refiner:o,coercer:s=c=>c,entries:a=function*(){}}=t;this.type=r,this.schema=n,this.entries=a,this.coercer=s,i?this.validator=(c,u)=>{const l=i(c,u);return Rp(l,u,this,c)}:this.validator=()=>[],o?this.refiner=(c,u)=>{const l=o(c,u);return Rp(l,u,this,c)}:this.refiner=()=>[]}assert(t,r){return W2(t,this,r)}create(t,r){return K2(t,this,r)}is(t){return kp(t,this)}mask(t,r){return Z2(t,this,r)}validate(t,r={}){return Ta(t,this,r)}}function W2(e,t,r){const n=Ta(e,t,{message:r});if(n[0])throw n[0]}function K2(e,t,r){const n=Ta(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function Z2(e,t,r){const n=Ta(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function kp(e,t){return!Ta(e,t)[0]}function Ta(e,t,r={}){const n=Tp(e,t,r),i=jO(n);return i[0]?[new q2(i[0],function*(){for(const s of n)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function qO(...e){const t=e[0].type==="type",r=e.map(i=>i.schema),n=Object.assign({},...r);return t?Zc(n):Kc(n)}function Sn(e,t){return new Rr({type:e,schema:null,validator:t})}function VO(e,t){return new Rr({...e,refiner:(r,n)=>r===void 0||e.refiner(r,n),validator(r,n){return r===void 0?!0:(t(r,n),e.validator(r,n))}})}function WO(e){return new Rr({type:"dynamic",schema:null,*entries(t,r){yield*e(t,r).entries(t,r)},validator(t,r){return e(t,r).validator(t,r)},coercer(t,r){return e(t,r).coercer(t,r)},refiner(t,r){return e(t,r).refiner(t,r)}})}function KO(e){let t;return new Rr({type:"lazy",schema:null,*entries(r,n){t??(t=e()),yield*t.entries(r,n)},validator(r,n){return t??(t=e()),t.validator(r,n)},coercer(r,n){return t??(t=e()),t.coercer(r,n)},refiner(r,n){return t??(t=e()),t.refiner(r,n)}})}function ZO(e,t){const{schema:r}=e,n={...r};for(const i of t)delete n[i];switch(e.type){case"type":return Zc(n);default:return Kc(n)}}function GO(e){const t=e instanceof Rr,r=t?{...e.schema}:{...e};for(const n in r)r[n]=G2(r[n]);return t&&e.type==="type"?Zc(r):Kc(r)}function YO(e,t){const{schema:r}=e,n={};for(const i of t)n[i]=r[i];switch(e.type){case"type":return Zc(n);default:return Kc(n)}}function XO(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Sn(e,t)}function JO(){return Sn("any",()=>!0)}function QO(e){return new Rr({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Pr(t)}`}})}function eM(){return Sn("bigint",e=>typeof e=="bigint")}function tM(){return Sn("boolean",e=>typeof e=="boolean")}function rM(){return Sn("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${Pr(e)}`)}function nM(e){const t={},r=e.map(n=>Pr(n)).join();for(const n of e)t[n]=n;return new Rr({type:"enums",schema:t,validator(n){return e.includes(n)||`Expected one of \`${r}\`, but received: ${Pr(n)}`}})}function iM(){return Sn("func",e=>typeof e=="function"||`Expected a function, but received: ${Pr(e)}`)}function oM(e){return Sn("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${Pr(t)}`)}function sM(){return Sn("integer",e=>typeof e=="number"&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${Pr(e)}`)}function aM(e){return new Rr({type:"intersection",schema:null,*entries(t,r){for(const n of e)yield*n.entries(t,r)},*validator(t,r){for(const n of e)yield*n.validator(t,r)},*refiner(t,r){for(const n of e)yield*n.refiner(t,r)}})}function cM(e){const t=Pr(e),r=typeof e;return new Rr({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?e:null,validator(n){return n===e||`Expected the literal \`${t}\`, but received: ${Pr(n)}`}})}function fM(e,t){return new Rr({type:"map",schema:null,*entries(r){if(e&&t&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,e],yield[n,i,t]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${Pr(r)}`}})}function Cp(){return Sn("never",()=>!1)}function uM(e){return new Rr({...e,validator:(t,r)=>t===null||e.validator(t,r),refiner:(t,r)=>t===null||e.refiner(t,r)})}function lM(){return Sn("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${Pr(e)}`)}function Kc(e){const t=e?Object.keys(e):[],r=Cp();return new Rr({type:"object",schema:e||null,*entries(n){if(e&&ei(n)){const i=new Set(Object.keys(n));for(const o of t)i.delete(o),yield[o,n[o],e[o]];for(const o of i)yield[o,n[o],r]}},validator(n){return ei(n)||`Expected an object, but received: ${Pr(n)}`},coercer(n){return ei(n)?{...n}:n}})}function G2(e){return new Rr({...e,validator:(t,r)=>t===void 0||e.validator(t,r),refiner:(t,r)=>t===void 0||e.refiner(t,r)})}function hM(e,t){return new Rr({type:"record",schema:null,*entries(r){if(ei(r))for(const n in r){const i=r[n];yield[n,n,e],yield[n,i,t]}},validator(r){return ei(r)||`Expected an object, but received: ${Pr(r)}`}})}function dM(){return Sn("regexp",e=>e instanceof RegExp)}function pM(e){return new Rr({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const r of t)yield[r,r,e]},coercer(t){return t instanceof Set?new Set(t):t},validator(t){return t instanceof Set||`Expected a \`Set\` object, but received: ${Pr(t)}`}})}function Y2(){return Sn("string",e=>typeof e=="string"||`Expected a string, but received: ${Pr(e)}`)}function gM(e){const t=Cp();return new Rr({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${Pr(r)}`}})}function Zc(e){const t=Object.keys(e);return new Rr({type:"type",schema:e,*entries(r){if(ei(r))for(const n of t)yield[n,r[n],e[n]]},validator(r){return ei(r)||`Expected an object, but received: ${Pr(r)}`},coercer(r){return ei(r)?{...r}:r}})}function yM(e){const t=e.map(r=>r.type).join(" | ");return new Rr({type:"union",schema:null,coercer(r){for(const n of e){const[i,o]=n.validate(r,{coerce:!0});if(!i)return o}return r},validator(r,n){const i=[];for(const o of e){const[...s]=Tp(r,o,n),[a]=s;if(a[0])for(const[c]of s)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Pr(r)}`,...i]}})}function X2(){return Sn("unknown",()=>!0)}function Lp(e,t,r){return new Rr({...e,coercer:(n,i)=>kp(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}function wM(e,t,r={}){return Lp(e,X2(),n=>{const i=typeof t=="function"?t():t;if(n===void 0)return i;if(!r.strict&&V2(n)&&V2(i)){const o={...n};let s=!1;for(const a in i)o[a]===void 0&&(o[a]=i[a],s=!0);if(s)return o}return n})}function mM(e){return Lp(e,Y2(),t=>t.trim())}function bM(e){return xs(e,"empty",t=>{const r=J2(t);return r===0||`Expected an empty ${e.type} but received one with a size of \`${r}\``})}function J2(e){return e instanceof Map||e instanceof Set?e.size:e.length}function vM(e,t,r={}){const{exclusive:n}=r;return xs(e,"max",i=>n?i<t:i<=t||`Expected a ${e.type} less than ${n?"":"or equal to "}${t} but received \`${i}\``)}function _M(e,t,r={}){const{exclusive:n}=r;return xs(e,"min",i=>n?i>t:i>=t||`Expected a ${e.type} greater than ${n?"":"or equal to "}${t} but received \`${i}\``)}function EM(e){return xs(e,"nonempty",t=>J2(t)>0||`Expected a nonempty ${e.type} but received an empty one`)}function xM(e,t){return xs(e,"pattern",r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`)}function SM(e,t,r=t){const n=`Expected a ${e.type}`,i=t===r?`of \`${t}\``:`between \`${t}\` and \`${r}\``;return xs(e,"size",o=>{if(typeof o=="number"||o instanceof Date)return t<=o&&o<=r||`${n} ${i} but received \`${o}\``;if(o instanceof Map||o instanceof Set){const{size:s}=o;return t<=s&&s<=r||`${n} with a size ${i} but received one with a size of \`${s}\``}else{const{length:s}=o;return t<=s&&s<=r||`${n} with a length ${i} but received one with a length of \`${s}\``}})}function xs(e,t,r){return new Rr({...e,*refiner(n,i){yield*e.refiner(n,i);const o=r(n,i),s=Rp(o,i,e,n);for(const a of s)yield{...a,refinement:t}}})}var AM=Object.freeze({__proto__:null,Struct:Rr,StructError:q2,any:JO,array:QO,assert:W2,assign:qO,bigint:eM,boolean:tM,coerce:Lp,create:K2,date:rM,defaulted:wM,define:Sn,deprecated:VO,dynamic:WO,empty:bM,enums:nM,func:iM,instance:oM,integer:sM,intersection:aM,is:kp,lazy:KO,literal:cM,map:fM,mask:Z2,max:vM,min:_M,never:Cp,nonempty:EM,nullable:uM,number:lM,object:Kc,omit:ZO,optional:G2,partial:GO,pattern:xM,pick:YO,record:hM,refine:xs,regexp:dM,set:pM,size:SM,string:Y2,struct:XO,trimmed:mM,tuple:gM,type:Zc,union:yM,unknown:X2,validate:Ta}),Q2=Un(AM),$p={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.number=e.getBigInt=e.assertNumberLength=e.getLength=e.isSigned=void 0;const t=se,r=di,n=Fo,i=/^u?int(?<length>[0-9]*)?$/u,o=u=>!u.startsWith("u");e.isSigned=o;const s=u=>{if(u==="int"||u==="uint")return 256;const l=u.match(i);(0,t.assert)(l?.groups?.length,new r.ParserError(`Invalid number type. Expected a number type, but received "${u}".`));const y=parseInt(l.groups.length,10);return(0,t.assert)(y>=8&&y<=256,new r.ParserError(`Invalid number length. Expected a number between 8 and 256, but received "${u}".`)),(0,t.assert)(y%8===0,new r.ParserError(`Invalid number length. Expected a multiple of 8, but received "${u}".`)),y};e.getLength=s;const a=(u,l)=>{const y=(0,e.getLength)(l),A=BigInt(2)**BigInt(y-((0,e.isSigned)(l)?1:0))-BigInt(1);if((0,e.isSigned)(l)){(0,t.assert)(u>=-(A+BigInt(1))&&u<=A,new r.ParserError(`Number "${u}" is out of range for type "${l}".`));return}(0,t.assert)(u<=A,new r.ParserError(`Number "${u}" is out of range for type "${l}".`))};e.assertNumberLength=a;const c=u=>{try{return(0,t.createBigInt)(u)}catch{throw new r.ParserError(`Invalid number. Expected a valid number value, but received "${u}".`)}};e.getBigInt=c,e.number={isDynamic:!1,isType(u){return i.test(u)},getByteLength(){return 32},encode({type:u,buffer:l,value:y,packed:A}){const v=(0,e.getBigInt)(y);if((0,e.assertNumberLength)(v,u),(0,e.isSigned)(u)){if(A){const R=(0,e.getLength)(u)/8;return(0,t.concatBytes)([l,(0,t.signedBigIntToBytes)(v,R)])}return(0,t.concatBytes)([l,(0,n.padStart)((0,t.signedBigIntToBytes)(v,32))])}if(A){const R=(0,e.getLength)(u)/8;return(0,t.concatBytes)([l,(0,n.padStart)((0,t.bigIntToBytes)(v),R)])}return(0,t.concatBytes)([l,(0,n.padStart)((0,t.bigIntToBytes)(v))])},decode({type:u,value:l}){const y=l.subarray(0,32);if((0,e.isSigned)(u)){const v=(0,t.bytesToSignedBigInt)(y);return(0,e.assertNumberLength)(v,u),v}const A=(0,t.bytesToBigInt)(y);return(0,e.assertNumberLength)(A,u),A}}})($p),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.bool=e.getBooleanValue=void 0;const t=se,r=Q2,n=di,i=$p,o=(0,r.coerce)((0,r.boolean)(),(0,r.union)([(0,r.literal)("true"),(0,r.literal)("false")]),a=>a==="true"),s=a=>{try{return(0,r.create)(a,o)?BigInt(1):BigInt(0)}catch{throw new n.ParserError(`Invalid boolean value. Expected a boolean literal, or the string "true" or "false", but received "${a}".`)}};e.getBooleanValue=s,e.bool={isDynamic:!1,isType:a=>a==="bool",getByteLength(){return 32},encode({buffer:a,value:c,packed:u,tight:l}){const y=(0,e.getBooleanValue)(c);return u?(0,t.concatBytes)([a,(0,t.bigIntToBytes)(y)]):i.number.encode({type:"uint256",buffer:a,value:y,packed:u,tight:l})},decode(a){return i.number.decode({...a,type:"uint256"})===BigInt(1)}}}(z2);var Gc={};Object.defineProperty(Gc,"__esModule",{value:!0}),Gc.bytes=void 0;const Yc=se,eE=Fo;Gc.bytes={isDynamic:!0,isType:e=>e==="bytes",getByteLength(){return 32},encode({buffer:e,value:t,packed:r}){const n=(0,Yc.createBytes)(t);if(r)return(0,Yc.concatBytes)([e,n]);const i=Math.ceil(n.byteLength/32)*32;return(0,Yc.concatBytes)([e,(0,eE.padStart)((0,Yc.numberToBytes)(n.byteLength)),(0,eE.padEnd)(n,i)])},decode({value:e}){const t=e.subarray(0,32),r=(0,Yc.bytesToNumber)(t);return e.slice(32,32+r)}};var tE={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fn=e.getFunction=void 0;const t=se,r=Q2,n=di,i=El,o=(0,r.coerce)((0,r.object)({address:t.StrictHexStruct,selector:t.StrictHexStruct}),(0,r.union)([t.StrictHexStruct,(0,r.instance)(Uint8Array)]),a=>{const c=(0,t.createBytes)(a);return(0,t.assert)(c.length===24,new n.ParserError(`Invalid Solidity function. Expected function to be 24 bytes long, but received ${c.length} bytes.`)),{address:(0,t.bytesToHex)(c.subarray(0,20)),selector:(0,t.bytesToHex)(c.subarray(20,24))}}),s=a=>{const c=(0,r.create)(a,o);return(0,t.concatBytes)([(0,t.hexToBytes)(c.address),(0,t.hexToBytes)(c.selector)])};e.getFunction=s,e.fn={isDynamic:!1,isType:a=>a==="function",getByteLength(){return 32},encode({buffer:a,value:c,packed:u,tight:l}){const y=(0,e.getFunction)(c);return i.fixedBytes.encode({type:"bytes24",buffer:a,value:y,packed:u,tight:l})},decode({value:a}){return{address:(0,t.bytesToHex)(a.slice(0,20)),selector:(0,t.bytesToHex)(a.slice(20,24))}}}})(tE);var rE={};Object.defineProperty(rE,"__esModule",{value:!0});var xl={};Object.defineProperty(xl,"__esModule",{value:!0}),xl.string=void 0;const nE=se,iE=Gc;xl.string={isDynamic:!0,isType:e=>e==="string",getByteLength(){return 32},encode({buffer:e,value:t,packed:r,tight:n}){return iE.bytes.encode({type:"bytes",buffer:e,value:(0,nE.stringToBytes)(t),packed:r,tight:n})},decode(e){return(0,nE.bytesToString)(iE.bytes.decode(e))}};var oE;function sE(){return oE||(oE=1,function(e){var t=ft&&ft.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,s,a)}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=ft&&ft.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(U2,e),r(DO(),e),r(z2,e),r(Gc,e),r(El,e),r(tE,e),r($p,e),r(rE,e),r(xl,e),r(H2(),e)}(Sp)),Sp}var aE;function Op(){return aE||(aE=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.unpack=e.pack=e.isDynamicParser=e.getParser=void 0;const t=se,r=di,n=_l,i=sE(),o=Fo,s=l=>{const y={address:i.address,array:i.array,bool:i.bool,bytes:i.bytes,fixedBytes:i.fixedBytes,function:i.fn,number:i.number,string:i.string,tuple:i.tuple},A=y[l];if(A)return A;const v=Object.values(y).find(R=>R.isType(l));if(v)return v;throw new r.ParserError(`The type "${l}" is not supported.`)};e.getParser=s;const a=(l,y)=>{const{isDynamic:A}=l;return typeof A=="function"?A(y):A};e.isDynamicParser=a;const c=({types:l,values:y,packed:A=!1,tight:v=!1,arrayPacked:R=!1,byteArray:O=new Uint8Array})=>{(0,t.assert)(l.length===y.length,new r.ParserError(`The number of types (${l.length}) does not match the number of values (${y.length}).`));const{staticBuffer:P,dynamicBuffer:H,pointers:F}=l.reduce(({staticBuffer:q,dynamicBuffer:G,pointers:Z},z,ee)=>{const oe=(0,e.getParser)(z),Q=y[ee];if(A||R||!(0,e.isDynamicParser)(oe,z))return{staticBuffer:oe.encode({buffer:q,value:Q,type:z,packed:A,tight:v}),dynamicBuffer:G,pointers:Z};const I=(0,t.concatBytes)([q,new Uint8Array(32)]),g=oe.encode({buffer:G,value:Q,type:z,packed:A,tight:v});return{staticBuffer:I,dynamicBuffer:g,pointers:[...Z,{position:q.length,pointer:G.length}]}},{staticBuffer:new Uint8Array,dynamicBuffer:new Uint8Array,pointers:[]});(0,t.assert)(!A&&!R||H.length===0,new r.ParserError("Invalid pack state."));const N=P.length,$=F.reduce((q,{pointer:G,position:Z})=>{const z=(0,o.padStart)((0,t.numberToBytes)(N+G));return(0,o.set)(q,z,Z)},P);return(0,t.concatBytes)([O,$,H])};e.pack=c;const u=(l,y)=>{const A=(0,n.iterate)(y);return l.map(v=>{const{value:{value:R,skip:O},done:P}=A.next();(0,t.assert)(!P,new r.ParserError(`The encoded value is invalid for the provided types. Reached end of buffer while attempting to parse "${v}".`));const H=(0,e.getParser)(v);if((0,e.isDynamicParser)(H,v)){const N=(0,t.bytesToNumber)(R.subarray(0,32)),$=y.subarray(N);return H.decode({type:v,value:$,skip:O})}return H.decode({type:v,value:R,skip:O})})};e.unpack=u}(xp)),xp}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeSingle=e.decode=e.encodePacked=e.encodeSingle=e.encode=void 0;const t=se,r=di,n=Op(),i=(u,l,y,A)=>{try{return(0,n.pack)({types:u,values:l,packed:y,tight:A})}catch(v){throw v instanceof r.ParserError?new r.ParserError(`Unable to encode value: ${v.message}`,v):new r.ParserError(`An unexpected error occurred: ${(0,r.getErrorMessage)(v)}`,v)}};e.encode=i;const o=(u,l)=>(0,e.encode)([u],[l]);e.encodeSingle=o;const s=(u,l,y)=>(0,e.encode)(u,l,!0,y);e.encodePacked=s;const a=(u,l)=>{const y=(0,t.createBytes)(l);try{return(0,n.unpack)(u,y)}catch(A){throw A instanceof r.ParserError?new r.ParserError(`Unable to decode value: ${A.message}`,A):new r.ParserError(`An unexpected error occurred: ${(0,r.getErrorMessage)(A)}`,A)}};e.decode=a;const c=(u,l)=>{const y=(0,e.decode)([u],l);return(0,t.assert)(y.length===1,new r.ParserError("Decoded value array has unexpected length.")),y[0]};e.decodeSingle=c})(N2);var cE={},fE={};Object.defineProperty(fE,"__esModule",{value:!0}),function(e){var t=ft&&ft.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,s,a)}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=ft&&ft.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(fE,e)}(cE),function(e){var t=ft&&ft.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,s,a)}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=ft&&ft.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(N2,e),r(di,e),r(cE,e)}(M2),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.recoverTypedSignature=e.signTypedData=e.typedSignatureHash=e.TypedDataUtils=e.TYPED_MESSAGE_SCHEMA=e.SignTypedDataVersion=void 0;const t=tu,r=M2,n=sE(),i=Fo,o=se,s=Wn,a=Qr;var c;(function(I){I.V1="V1",I.V3="V3",I.V4="V4"})(c=e.SignTypedDataVersion||(e.SignTypedDataVersion={})),e.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]};function u(I,g){if(Object.keys(c).includes(I)){if(g&&!g.includes(I))throw new Error(`SignTypedDataVersion not allowed: '${I}'. Allowed versions are: ${g.join(", ")}`)}else throw new Error(`Invalid version: '${I}'`)}function l(I,g){(0,o.assert)(g!==null,`Unable to encode value: Invalid number. Expected a valid number value, but received "${g}".`);const f=BigInt(g),h=(0,n.getLength)(I),m=BigInt(2)**BigInt(h)-BigInt(1);return(0,o.assert)(f>=-m&&f<=m,`Unable to encode value: Number "${g}" is out of range for type "${I}".`),f}function y(I){let g=BigInt(0);for(let f=0;f<I.length;f++){const h=BigInt(I.charCodeAt(f)-48);g*=BigInt(10),h>=49?g+=h-BigInt(49)+BigInt(10):h>=17?g+=h-BigInt(17)+BigInt(10):g+=h}return(0,i.padStart)((0,o.bigIntToBytes)(g),20)}function A(I,g,f,h,m){if(u(m,[c.V3,c.V4]),I[f]!==void 0)return["bytes32",m===c.V4&&h==null?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,t.arrToBufArr)((0,s.keccak256)(v(f,h,I,m)))];if(f==="function")throw new Error('Unsupported or invalid type: "function"');if(h===void 0)throw new Error(`missing value for field ${g} of type ${f}`);if(f==="address"){if(typeof h=="number")return["address",(0,i.padStart)((0,o.numberToBytes)(h),20)];if((0,o.isStrictHexString)(h))return["address",(0,o.add0x)(h)];if(typeof h=="string")return["address",y(h).subarray(0,20)]}if(f==="bool")return["bool",!!h];if(f==="bytes")return typeof h=="number"?h=(0,o.numberToBytes)(h):(0,o.isStrictHexString)(h)||h==="0x"?h=(0,o.hexToBytes)(h):typeof h=="string"&&(h=(0,o.stringToBytes)(h)),["bytes32",(0,t.arrToBufArr)((0,s.keccak256)(h))];if(f.startsWith("bytes")&&f!=="bytes"&&!f.includes("["))return typeof h=="number"?h<0?["bytes32",new Uint8Array(32)]:["bytes32",(0,o.bigIntToBytes)(BigInt(h))]:(0,o.isStrictHexString)(h)?["bytes32",(0,o.hexToBytes)(h)]:["bytes32",h];if(f.startsWith("int")&&!f.includes("[")){const _=l(f,h);return _>=BigInt(0)?["uint256",_]:["int256",_]}if(f==="string")return typeof h=="number"?h=(0,o.numberToBytes)(h):h=(0,o.stringToBytes)(h??""),["bytes32",(0,t.arrToBufArr)((0,s.keccak256)(h))];if(f.endsWith("]")){if(m===c.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const _=f.slice(0,f.lastIndexOf("[")),E=h.map(x=>A(I,g,_,x,m));return["bytes32",(0,t.arrToBufArr)((0,s.keccak256)((0,r.encode)(E.map(([x])=>x),E.map(([,x])=>x))))]}return[f,h]}function v(I,g,f,h){u(h,[c.V3,c.V4]);const m=["bytes32"],_=[H(I,f)];for(const E of f[I]){if(h===c.V3&&g[E.name]===void 0)continue;const[x,T]=A(f,E.name,E.type,g[E.name],h);m.push(x),_.push(T)}return(0,t.arrToBufArr)((0,r.encode)(m,_))}function R(I,g){let f="";const h=O(I,g);h.delete(I);const m=[I,...Array.from(h).sort()];for(const _ of m){if(!g[_])throw new Error(`No type definition specified: ${_}`);f+=`${_}(${g[_].map(({name:x,type:T})=>`${T} ${x}`).join(",")})`}return f}function O(I,g,f=new Set){if(typeof I!="string")throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(I)}`);if([I]=I.match(/^\w*/u),f.has(I)||g[I]===void 0)return f;f.add(I);for(const m of g[I])O(m.type,g,f);return f}function P(I,g,f,h){u(h,[c.V3,c.V4]);const m=v(I,g,f,h),_=(0,s.keccak256)(m);return(0,t.arrToBufArr)(_)}function H(I,g){const f=(0,o.stringToBytes)(R(I,g));return(0,t.arrToBufArr)((0,s.keccak256)(f))}function F(I){const g={};for(const f in e.TYPED_MESSAGE_SCHEMA.properties)I[f]&&(g[f]=I[f]);return"types"in g&&(g.types=Object.assign({EIP712Domain:[]},g.types)),g}function N(I,g){u(g,[c.V3,c.V4]);const f=F(I),{domain:h}=f,m={EIP712Domain:f.types.EIP712Domain};return P("EIP712Domain",h,m,g)}function $(I,g){u(g,[c.V3,c.V4]);const f=F(I),h=[(0,o.hexToBytes)("1901")];return h.push(N(I,g)),f.primaryType!=="EIP712Domain"&&h.push(P(f.primaryType,f.message,f.types,g)),(0,t.arrToBufArr)((0,s.keccak256)((0,o.concatBytes)(h)))}e.TypedDataUtils={encodeData:v,encodeType:R,findTypeDependencies:O,hashStruct:P,hashType:H,sanitizeData:F,eip712Hash:$,eip712DomainHash:N};function q(I){const g=ee(I);return(0,o.bytesToHex)(g)}e.typedSignatureHash=q;function G(I,g){if((0,n.isArrayType)(I)&&Array.isArray(g)){const[f]=(0,n.getArrayType)(I);return g.map(h=>G(f,h))}if(I==="address"){if(typeof g=="number")return(0,i.padStart)((0,o.numberToBytes)(g),20);if((0,o.isStrictHexString)(g))return(0,i.padStart)((0,o.hexToBytes)(g).subarray(0,20),20);if(g instanceof Uint8Array)return(0,i.padStart)(g.subarray(0,20),20)}if(I==="bool")return!!g;if(I.startsWith("bytes")&&I!=="bytes"){const f=(0,n.getByteLength)(I);if(typeof g=="number")return g<0?new Uint8Array:(0,o.numberToBytes)(g).subarray(0,f);if((0,o.isStrictHexString)(g))return(0,o.hexToBytes)(g).subarray(0,f);if(g instanceof Uint8Array)return g.subarray(0,f)}if(I.startsWith("uint")&&typeof g=="number")return Math.abs(g);if(I.startsWith("int")&&typeof g=="number"){const f=(0,n.getLength)(I);return BigInt.asIntN(f,BigInt(g))}return g}function Z(I){return I.map(g=>typeof g=="number"?(0,i.padStart)((0,o.numberToBytes)(g),32):(0,o.isStrictHexString)(g)?(0,i.padStart)((0,o.hexToBytes)(g).subarray(0,32),32):g instanceof Uint8Array?(0,i.padStart)(g.subarray(0,32),32):g)}function z(I,g){return g.map(f=>{if(typeof f=="string"||typeof f=="number"||typeof f=="bigint"){const h=l(I,f);if(h>=BigInt(0))return(0,i.padStart)((0,o.bigIntToBytes)(h),32);const m=(0,n.getLength)(I),_=BigInt.asIntN(m,h);return(0,o.signedBigIntToBytes)(_,32)}return f})}function ee(I){const g=new Error("Expect argument to be non-empty array");if(typeof I!="object"||!("length"in I)||!I.length)throw g;const f=I.map(({name:E,type:x,value:T})=>{if(x==="address[]")return{name:E,type:"bytes32[]",value:Z(T)};if(x.startsWith("int")&&(0,n.isArrayType)(x)){const[B,d]=(0,n.getArrayType)(x);return{name:E,type:`bytes32[${d??""}]`,value:z(B,T)}}return{name:E,type:x,value:G(x,T)}}),h=f.map(E=>E.type!=="bytes"?E.value:(0,a.legacyToBuffer)(E.value)),m=f.map(E=>{if(E.type==="function")throw new Error('Unsupported or invalid type: "function"');return E.type}),_=I.map(E=>{if(!E.name)throw g;return`${E.type} ${E.name}`});return(0,t.arrToBufArr)((0,s.keccak256)((0,r.encodePacked)(["bytes32","bytes32"],[(0,s.keccak256)((0,r.encodePacked)(["string[]"],[_],!0)),(0,s.keccak256)((0,r.encodePacked)(m,h,!0))])))}function oe({privateKey:I,data:g,version:f}){if(u(f),(0,a.isNullish)(g))throw new Error("Missing data parameter");if((0,a.isNullish)(I))throw new Error("Missing private key parameter");const h=f===c.V1?ee(g):e.TypedDataUtils.eip712Hash(g,f),m=(0,t.ecsign)(h,I);return(0,a.concatSig)((0,t.arrToBufArr)((0,o.bigIntToBytes)(m.v)),m.r,m.s)}e.signTypedData=oe;function Q({data:I,signature:g,version:f}){if(u(f),(0,a.isNullish)(I))throw new Error("Missing data parameter");if((0,a.isNullish)(g))throw new Error("Missing signature parameter");const h=f===c.V1?ee(I):e.TypedDataUtils.eip712Hash(I,f),m=(0,a.recoverPublicKey)(h,g),_=(0,t.publicToAddress)(m);return(0,o.bytesToHex)(_)}e.recoverTypedSignature=Q}(O2);var ti={},uE={exports:{}};(function(e){(function(t){var r=function(S){var L,M=new Float64Array(16);if(S)for(L=0;L<S.length;L++)M[L]=S[L];return M},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var s=r(),a=r([1]),c=r([56129,1]),u=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),y=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),A=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),v=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function R(S,L,M,p){S[L]=M>>24&255,S[L+1]=M>>16&255,S[L+2]=M>>8&255,S[L+3]=M&255,S[L+4]=p>>24&255,S[L+5]=p>>16&255,S[L+6]=p>>8&255,S[L+7]=p&255}function O(S,L,M,p,U){var J,Y=0;for(J=0;J<U;J++)Y|=S[L+J]^M[p+J];return(1&Y-1>>>8)-1}function P(S,L,M,p){return O(S,L,M,p,16)}function H(S,L,M,p){return O(S,L,M,p,32)}function F(S,L,M,p){for(var U=p[0]&255|(p[1]&255)<<8|(p[2]&255)<<16|(p[3]&255)<<24,J=M[0]&255|(M[1]&255)<<8|(M[2]&255)<<16|(M[3]&255)<<24,Y=M[4]&255|(M[5]&255)<<8|(M[6]&255)<<16|(M[7]&255)<<24,ue=M[8]&255|(M[9]&255)<<8|(M[10]&255)<<16|(M[11]&255)<<24,_e=M[12]&255|(M[13]&255)<<8|(M[14]&255)<<16|(M[15]&255)<<24,Ae=p[4]&255|(p[5]&255)<<8|(p[6]&255)<<16|(p[7]&255)<<24,Ee=L[0]&255|(L[1]&255)<<8|(L[2]&255)<<16|(L[3]&255)<<24,Bt=L[4]&255|(L[5]&255)<<8|(L[6]&255)<<16|(L[7]&255)<<24,Le=L[8]&255|(L[9]&255)<<8|(L[10]&255)<<16|(L[11]&255)<<24,Ke=L[12]&255|(L[13]&255)<<8|(L[14]&255)<<16|(L[15]&255)<<24,Ye=p[8]&255|(p[9]&255)<<8|(p[10]&255)<<16|(p[11]&255)<<24,lt=M[16]&255|(M[17]&255)<<8|(M[18]&255)<<16|(M[19]&255)<<24,ct=M[20]&255|(M[21]&255)<<8|(M[22]&255)<<16|(M[23]&255)<<24,Xe=M[24]&255|(M[25]&255)<<8|(M[26]&255)<<16|(M[27]&255)<<24,rt=M[28]&255|(M[29]&255)<<8|(M[30]&255)<<16|(M[31]&255)<<24,Je=p[12]&255|(p[13]&255)<<8|(p[14]&255)<<16|(p[15]&255)<<24,$e=U,De=J,Re=Y,Me=ue,Ne=_e,Ie=Ae,ce=Ee,fe=Bt,ye=Le,he=Ke,de=Ye,ve=lt,Ve=ct,gt=Xe,wt=rt,yt=Je,j,Et=0;Et<20;Et+=2)j=$e+Ve|0,Ne^=j<<7|j>>>32-7,j=Ne+$e|0,ye^=j<<9|j>>>32-9,j=ye+Ne|0,Ve^=j<<13|j>>>32-13,j=Ve+ye|0,$e^=j<<18|j>>>32-18,j=Ie+De|0,he^=j<<7|j>>>32-7,j=he+Ie|0,gt^=j<<9|j>>>32-9,j=gt+he|0,De^=j<<13|j>>>32-13,j=De+gt|0,Ie^=j<<18|j>>>32-18,j=de+ce|0,wt^=j<<7|j>>>32-7,j=wt+de|0,Re^=j<<9|j>>>32-9,j=Re+wt|0,ce^=j<<13|j>>>32-13,j=ce+Re|0,de^=j<<18|j>>>32-18,j=yt+ve|0,Me^=j<<7|j>>>32-7,j=Me+yt|0,fe^=j<<9|j>>>32-9,j=fe+Me|0,ve^=j<<13|j>>>32-13,j=ve+fe|0,yt^=j<<18|j>>>32-18,j=$e+Me|0,De^=j<<7|j>>>32-7,j=De+$e|0,Re^=j<<9|j>>>32-9,j=Re+De|0,Me^=j<<13|j>>>32-13,j=Me+Re|0,$e^=j<<18|j>>>32-18,j=Ie+Ne|0,ce^=j<<7|j>>>32-7,j=ce+Ie|0,fe^=j<<9|j>>>32-9,j=fe+ce|0,Ne^=j<<13|j>>>32-13,j=Ne+fe|0,Ie^=j<<18|j>>>32-18,j=de+he|0,ve^=j<<7|j>>>32-7,j=ve+de|0,ye^=j<<9|j>>>32-9,j=ye+ve|0,he^=j<<13|j>>>32-13,j=he+ye|0,de^=j<<18|j>>>32-18,j=yt+wt|0,Ve^=j<<7|j>>>32-7,j=Ve+yt|0,gt^=j<<9|j>>>32-9,j=gt+Ve|0,wt^=j<<13|j>>>32-13,j=wt+gt|0,yt^=j<<18|j>>>32-18;$e=$e+U|0,De=De+J|0,Re=Re+Y|0,Me=Me+ue|0,Ne=Ne+_e|0,Ie=Ie+Ae|0,ce=ce+Ee|0,fe=fe+Bt|0,ye=ye+Le|0,he=he+Ke|0,de=de+Ye|0,ve=ve+lt|0,Ve=Ve+ct|0,gt=gt+Xe|0,wt=wt+rt|0,yt=yt+Je|0,S[0]=$e>>>0&255,S[1]=$e>>>8&255,S[2]=$e>>>16&255,S[3]=$e>>>24&255,S[4]=De>>>0&255,S[5]=De>>>8&255,S[6]=De>>>16&255,S[7]=De>>>24&255,S[8]=Re>>>0&255,S[9]=Re>>>8&255,S[10]=Re>>>16&255,S[11]=Re>>>24&255,S[12]=Me>>>0&255,S[13]=Me>>>8&255,S[14]=Me>>>16&255,S[15]=Me>>>24&255,S[16]=Ne>>>0&255,S[17]=Ne>>>8&255,S[18]=Ne>>>16&255,S[19]=Ne>>>24&255,S[20]=Ie>>>0&255,S[21]=Ie>>>8&255,S[22]=Ie>>>16&255,S[23]=Ie>>>24&255,S[24]=ce>>>0&255,S[25]=ce>>>8&255,S[26]=ce>>>16&255,S[27]=ce>>>24&255,S[28]=fe>>>0&255,S[29]=fe>>>8&255,S[30]=fe>>>16&255,S[31]=fe>>>24&255,S[32]=ye>>>0&255,S[33]=ye>>>8&255,S[34]=ye>>>16&255,S[35]=ye>>>24&255,S[36]=he>>>0&255,S[37]=he>>>8&255,S[38]=he>>>16&255,S[39]=he>>>24&255,S[40]=de>>>0&255,S[41]=de>>>8&255,S[42]=de>>>16&255,S[43]=de>>>24&255,S[44]=ve>>>0&255,S[45]=ve>>>8&255,S[46]=ve>>>16&255,S[47]=ve>>>24&255,S[48]=Ve>>>0&255,S[49]=Ve>>>8&255,S[50]=Ve>>>16&255,S[51]=Ve>>>24&255,S[52]=gt>>>0&255,S[53]=gt>>>8&255,S[54]=gt>>>16&255,S[55]=gt>>>24&255,S[56]=wt>>>0&255,S[57]=wt>>>8&255,S[58]=wt>>>16&255,S[59]=wt>>>24&255,S[60]=yt>>>0&255,S[61]=yt>>>8&255,S[62]=yt>>>16&255,S[63]=yt>>>24&255}function N(S,L,M,p){for(var U=p[0]&255|(p[1]&255)<<8|(p[2]&255)<<16|(p[3]&255)<<24,J=M[0]&255|(M[1]&255)<<8|(M[2]&255)<<16|(M[3]&255)<<24,Y=M[4]&255|(M[5]&255)<<8|(M[6]&255)<<16|(M[7]&255)<<24,ue=M[8]&255|(M[9]&255)<<8|(M[10]&255)<<16|(M[11]&255)<<24,_e=M[12]&255|(M[13]&255)<<8|(M[14]&255)<<16|(M[15]&255)<<24,Ae=p[4]&255|(p[5]&255)<<8|(p[6]&255)<<16|(p[7]&255)<<24,Ee=L[0]&255|(L[1]&255)<<8|(L[2]&255)<<16|(L[3]&255)<<24,Bt=L[4]&255|(L[5]&255)<<8|(L[6]&255)<<16|(L[7]&255)<<24,Le=L[8]&255|(L[9]&255)<<8|(L[10]&255)<<16|(L[11]&255)<<24,Ke=L[12]&255|(L[13]&255)<<8|(L[14]&255)<<16|(L[15]&255)<<24,Ye=p[8]&255|(p[9]&255)<<8|(p[10]&255)<<16|(p[11]&255)<<24,lt=M[16]&255|(M[17]&255)<<8|(M[18]&255)<<16|(M[19]&255)<<24,ct=M[20]&255|(M[21]&255)<<8|(M[22]&255)<<16|(M[23]&255)<<24,Xe=M[24]&255|(M[25]&255)<<8|(M[26]&255)<<16|(M[27]&255)<<24,rt=M[28]&255|(M[29]&255)<<8|(M[30]&255)<<16|(M[31]&255)<<24,Je=p[12]&255|(p[13]&255)<<8|(p[14]&255)<<16|(p[15]&255)<<24,$e=U,De=J,Re=Y,Me=ue,Ne=_e,Ie=Ae,ce=Ee,fe=Bt,ye=Le,he=Ke,de=Ye,ve=lt,Ve=ct,gt=Xe,wt=rt,yt=Je,j,Et=0;Et<20;Et+=2)j=$e+Ve|0,Ne^=j<<7|j>>>32-7,j=Ne+$e|0,ye^=j<<9|j>>>32-9,j=ye+Ne|0,Ve^=j<<13|j>>>32-13,j=Ve+ye|0,$e^=j<<18|j>>>32-18,j=Ie+De|0,he^=j<<7|j>>>32-7,j=he+Ie|0,gt^=j<<9|j>>>32-9,j=gt+he|0,De^=j<<13|j>>>32-13,j=De+gt|0,Ie^=j<<18|j>>>32-18,j=de+ce|0,wt^=j<<7|j>>>32-7,j=wt+de|0,Re^=j<<9|j>>>32-9,j=Re+wt|0,ce^=j<<13|j>>>32-13,j=ce+Re|0,de^=j<<18|j>>>32-18,j=yt+ve|0,Me^=j<<7|j>>>32-7,j=Me+yt|0,fe^=j<<9|j>>>32-9,j=fe+Me|0,ve^=j<<13|j>>>32-13,j=ve+fe|0,yt^=j<<18|j>>>32-18,j=$e+Me|0,De^=j<<7|j>>>32-7,j=De+$e|0,Re^=j<<9|j>>>32-9,j=Re+De|0,Me^=j<<13|j>>>32-13,j=Me+Re|0,$e^=j<<18|j>>>32-18,j=Ie+Ne|0,ce^=j<<7|j>>>32-7,j=ce+Ie|0,fe^=j<<9|j>>>32-9,j=fe+ce|0,Ne^=j<<13|j>>>32-13,j=Ne+fe|0,Ie^=j<<18|j>>>32-18,j=de+he|0,ve^=j<<7|j>>>32-7,j=ve+de|0,ye^=j<<9|j>>>32-9,j=ye+ve|0,he^=j<<13|j>>>32-13,j=he+ye|0,de^=j<<18|j>>>32-18,j=yt+wt|0,Ve^=j<<7|j>>>32-7,j=Ve+yt|0,gt^=j<<9|j>>>32-9,j=gt+Ve|0,wt^=j<<13|j>>>32-13,j=wt+gt|0,yt^=j<<18|j>>>32-18;S[0]=$e>>>0&255,S[1]=$e>>>8&255,S[2]=$e>>>16&255,S[3]=$e>>>24&255,S[4]=Ie>>>0&255,S[5]=Ie>>>8&255,S[6]=Ie>>>16&255,S[7]=Ie>>>24&255,S[8]=de>>>0&255,S[9]=de>>>8&255,S[10]=de>>>16&255,S[11]=de>>>24&255,S[12]=yt>>>0&255,S[13]=yt>>>8&255,S[14]=yt>>>16&255,S[15]=yt>>>24&255,S[16]=ce>>>0&255,S[17]=ce>>>8&255,S[18]=ce>>>16&255,S[19]=ce>>>24&255,S[20]=fe>>>0&255,S[21]=fe>>>8&255,S[22]=fe>>>16&255,S[23]=fe>>>24&255,S[24]=ye>>>0&255,S[25]=ye>>>8&255,S[26]=ye>>>16&255,S[27]=ye>>>24&255,S[28]=he>>>0&255,S[29]=he>>>8&255,S[30]=he>>>16&255,S[31]=he>>>24&255}function $(S,L,M,p){F(S,L,M,p)}function q(S,L,M,p){N(S,L,M,p)}var G=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function Z(S,L,M,p,U,J,Y){var ue=new Uint8Array(16),_e=new Uint8Array(64),Ae,Ee;for(Ee=0;Ee<16;Ee++)ue[Ee]=0;for(Ee=0;Ee<8;Ee++)ue[Ee]=J[Ee];for(;U>=64;){for($(_e,ue,Y,G),Ee=0;Ee<64;Ee++)S[L+Ee]=M[p+Ee]^_e[Ee];for(Ae=1,Ee=8;Ee<16;Ee++)Ae=Ae+(ue[Ee]&255)|0,ue[Ee]=Ae&255,Ae>>>=8;U-=64,L+=64,p+=64}if(U>0)for($(_e,ue,Y,G),Ee=0;Ee<U;Ee++)S[L+Ee]=M[p+Ee]^_e[Ee];return 0}function z(S,L,M,p,U){var J=new Uint8Array(16),Y=new Uint8Array(64),ue,_e;for(_e=0;_e<16;_e++)J[_e]=0;for(_e=0;_e<8;_e++)J[_e]=p[_e];for(;M>=64;){for($(Y,J,U,G),_e=0;_e<64;_e++)S[L+_e]=Y[_e];for(ue=1,_e=8;_e<16;_e++)ue=ue+(J[_e]&255)|0,J[_e]=ue&255,ue>>>=8;M-=64,L+=64}if(M>0)for($(Y,J,U,G),_e=0;_e<M;_e++)S[L+_e]=Y[_e];return 0}function ee(S,L,M,p,U){var J=new Uint8Array(32);q(J,p,U,G);for(var Y=new Uint8Array(8),ue=0;ue<8;ue++)Y[ue]=p[ue+16];return z(S,L,M,Y,J)}function oe(S,L,M,p,U,J,Y){var ue=new Uint8Array(32);q(ue,J,Y,G);for(var _e=new Uint8Array(8),Ae=0;Ae<8;Ae++)_e[Ae]=J[Ae+16];return Z(S,L,M,p,U,_e,ue)}var Q=function(S){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var L,M,p,U,J,Y,ue,_e;L=S[0]&255|(S[1]&255)<<8,this.r[0]=L&8191,M=S[2]&255|(S[3]&255)<<8,this.r[1]=(L>>>13|M<<3)&8191,p=S[4]&255|(S[5]&255)<<8,this.r[2]=(M>>>10|p<<6)&7939,U=S[6]&255|(S[7]&255)<<8,this.r[3]=(p>>>7|U<<9)&8191,J=S[8]&255|(S[9]&255)<<8,this.r[4]=(U>>>4|J<<12)&255,this.r[5]=J>>>1&8190,Y=S[10]&255|(S[11]&255)<<8,this.r[6]=(J>>>14|Y<<2)&8191,ue=S[12]&255|(S[13]&255)<<8,this.r[7]=(Y>>>11|ue<<5)&8065,_e=S[14]&255|(S[15]&255)<<8,this.r[8]=(ue>>>8|_e<<8)&8191,this.r[9]=_e>>>5&127,this.pad[0]=S[16]&255|(S[17]&255)<<8,this.pad[1]=S[18]&255|(S[19]&255)<<8,this.pad[2]=S[20]&255|(S[21]&255)<<8,this.pad[3]=S[22]&255|(S[23]&255)<<8,this.pad[4]=S[24]&255|(S[25]&255)<<8,this.pad[5]=S[26]&255|(S[27]&255)<<8,this.pad[6]=S[28]&255|(S[29]&255)<<8,this.pad[7]=S[30]&255|(S[31]&255)<<8};Q.prototype.blocks=function(S,L,M){for(var p=this.fin?0:2048,U,J,Y,ue,_e,Ae,Ee,Bt,Le,Ke,Ye,lt,ct,Xe,rt,Je,$e,De,Re,Me=this.h[0],Ne=this.h[1],Ie=this.h[2],ce=this.h[3],fe=this.h[4],ye=this.h[5],he=this.h[6],de=this.h[7],ve=this.h[8],Ve=this.h[9],gt=this.r[0],wt=this.r[1],yt=this.r[2],j=this.r[3],Et=this.r[4],Ot=this.r[5],Mt=this.r[6],_t=this.r[7],Ct=this.r[8],Lt=this.r[9];M>=16;)U=S[L+0]&255|(S[L+1]&255)<<8,Me+=U&8191,J=S[L+2]&255|(S[L+3]&255)<<8,Ne+=(U>>>13|J<<3)&8191,Y=S[L+4]&255|(S[L+5]&255)<<8,Ie+=(J>>>10|Y<<6)&8191,ue=S[L+6]&255|(S[L+7]&255)<<8,ce+=(Y>>>7|ue<<9)&8191,_e=S[L+8]&255|(S[L+9]&255)<<8,fe+=(ue>>>4|_e<<12)&8191,ye+=_e>>>1&8191,Ae=S[L+10]&255|(S[L+11]&255)<<8,he+=(_e>>>14|Ae<<2)&8191,Ee=S[L+12]&255|(S[L+13]&255)<<8,de+=(Ae>>>11|Ee<<5)&8191,Bt=S[L+14]&255|(S[L+15]&255)<<8,ve+=(Ee>>>8|Bt<<8)&8191,Ve+=Bt>>>5|p,Le=0,Ke=Le,Ke+=Me*gt,Ke+=Ne*(5*Lt),Ke+=Ie*(5*Ct),Ke+=ce*(5*_t),Ke+=fe*(5*Mt),Le=Ke>>>13,Ke&=8191,Ke+=ye*(5*Ot),Ke+=he*(5*Et),Ke+=de*(5*j),Ke+=ve*(5*yt),Ke+=Ve*(5*wt),Le+=Ke>>>13,Ke&=8191,Ye=Le,Ye+=Me*wt,Ye+=Ne*gt,Ye+=Ie*(5*Lt),Ye+=ce*(5*Ct),Ye+=fe*(5*_t),Le=Ye>>>13,Ye&=8191,Ye+=ye*(5*Mt),Ye+=he*(5*Ot),Ye+=de*(5*Et),Ye+=ve*(5*j),Ye+=Ve*(5*yt),Le+=Ye>>>13,Ye&=8191,lt=Le,lt+=Me*yt,lt+=Ne*wt,lt+=Ie*gt,lt+=ce*(5*Lt),lt+=fe*(5*Ct),Le=lt>>>13,lt&=8191,lt+=ye*(5*_t),lt+=he*(5*Mt),lt+=de*(5*Ot),lt+=ve*(5*Et),lt+=Ve*(5*j),Le+=lt>>>13,lt&=8191,ct=Le,ct+=Me*j,ct+=Ne*yt,ct+=Ie*wt,ct+=ce*gt,ct+=fe*(5*Lt),Le=ct>>>13,ct&=8191,ct+=ye*(5*Ct),ct+=he*(5*_t),ct+=de*(5*Mt),ct+=ve*(5*Ot),ct+=Ve*(5*Et),Le+=ct>>>13,ct&=8191,Xe=Le,Xe+=Me*Et,Xe+=Ne*j,Xe+=Ie*yt,Xe+=ce*wt,Xe+=fe*gt,Le=Xe>>>13,Xe&=8191,Xe+=ye*(5*Lt),Xe+=he*(5*Ct),Xe+=de*(5*_t),Xe+=ve*(5*Mt),Xe+=Ve*(5*Ot),Le+=Xe>>>13,Xe&=8191,rt=Le,rt+=Me*Ot,rt+=Ne*Et,rt+=Ie*j,rt+=ce*yt,rt+=fe*wt,Le=rt>>>13,rt&=8191,rt+=ye*gt,rt+=he*(5*Lt),rt+=de*(5*Ct),rt+=ve*(5*_t),rt+=Ve*(5*Mt),Le+=rt>>>13,rt&=8191,Je=Le,Je+=Me*Mt,Je+=Ne*Ot,Je+=Ie*Et,Je+=ce*j,Je+=fe*yt,Le=Je>>>13,Je&=8191,Je+=ye*wt,Je+=he*gt,Je+=de*(5*Lt),Je+=ve*(5*Ct),Je+=Ve*(5*_t),Le+=Je>>>13,Je&=8191,$e=Le,$e+=Me*_t,$e+=Ne*Mt,$e+=Ie*Ot,$e+=ce*Et,$e+=fe*j,Le=$e>>>13,$e&=8191,$e+=ye*yt,$e+=he*wt,$e+=de*gt,$e+=ve*(5*Lt),$e+=Ve*(5*Ct),Le+=$e>>>13,$e&=8191,De=Le,De+=Me*Ct,De+=Ne*_t,De+=Ie*Mt,De+=ce*Ot,De+=fe*Et,Le=De>>>13,De&=8191,De+=ye*j,De+=he*yt,De+=de*wt,De+=ve*gt,De+=Ve*(5*Lt),Le+=De>>>13,De&=8191,Re=Le,Re+=Me*Lt,Re+=Ne*Ct,Re+=Ie*_t,Re+=ce*Mt,Re+=fe*Ot,Le=Re>>>13,Re&=8191,Re+=ye*Et,Re+=he*j,Re+=de*yt,Re+=ve*wt,Re+=Ve*gt,Le+=Re>>>13,Re&=8191,Le=(Le<<2)+Le|0,Le=Le+Ke|0,Ke=Le&8191,Le=Le>>>13,Ye+=Le,Me=Ke,Ne=Ye,Ie=lt,ce=ct,fe=Xe,ye=rt,he=Je,de=$e,ve=De,Ve=Re,L+=16,M-=16;this.h[0]=Me,this.h[1]=Ne,this.h[2]=Ie,this.h[3]=ce,this.h[4]=fe,this.h[5]=ye,this.h[6]=he,this.h[7]=de,this.h[8]=ve,this.h[9]=Ve},Q.prototype.finish=function(S,L){var M=new Uint16Array(10),p,U,J,Y;if(this.leftover){for(Y=this.leftover,this.buffer[Y++]=1;Y<16;Y++)this.buffer[Y]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(p=this.h[1]>>>13,this.h[1]&=8191,Y=2;Y<10;Y++)this.h[Y]+=p,p=this.h[Y]>>>13,this.h[Y]&=8191;for(this.h[0]+=p*5,p=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=p,p=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=p,M[0]=this.h[0]+5,p=M[0]>>>13,M[0]&=8191,Y=1;Y<10;Y++)M[Y]=this.h[Y]+p,p=M[Y]>>>13,M[Y]&=8191;for(M[9]-=8192,U=(p^1)-1,Y=0;Y<10;Y++)M[Y]&=U;for(U=~U,Y=0;Y<10;Y++)this.h[Y]=this.h[Y]&U|M[Y];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,J=this.h[0]+this.pad[0],this.h[0]=J&65535,Y=1;Y<8;Y++)J=(this.h[Y]+this.pad[Y]|0)+(J>>>16)|0,this.h[Y]=J&65535;S[L+0]=this.h[0]>>>0&255,S[L+1]=this.h[0]>>>8&255,S[L+2]=this.h[1]>>>0&255,S[L+3]=this.h[1]>>>8&255,S[L+4]=this.h[2]>>>0&255,S[L+5]=this.h[2]>>>8&255,S[L+6]=this.h[3]>>>0&255,S[L+7]=this.h[3]>>>8&255,S[L+8]=this.h[4]>>>0&255,S[L+9]=this.h[4]>>>8&255,S[L+10]=this.h[5]>>>0&255,S[L+11]=this.h[5]>>>8&255,S[L+12]=this.h[6]>>>0&255,S[L+13]=this.h[6]>>>8&255,S[L+14]=this.h[7]>>>0&255,S[L+15]=this.h[7]>>>8&255},Q.prototype.update=function(S,L,M){var p,U;if(this.leftover){for(U=16-this.leftover,U>M&&(U=M),p=0;p<U;p++)this.buffer[this.leftover+p]=S[L+p];if(M-=U,L+=U,this.leftover+=U,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(M>=16&&(U=M-M%16,this.blocks(S,L,U),L+=U,M-=U),M){for(p=0;p<M;p++)this.buffer[this.leftover+p]=S[L+p];this.leftover+=M}};function I(S,L,M,p,U,J){var Y=new Q(J);return Y.update(M,p,U),Y.finish(S,L),0}function g(S,L,M,p,U,J){var Y=new Uint8Array(16);return I(Y,0,M,p,U,J),P(S,L,Y,0)}function f(S,L,M,p,U){var J;if(M<32)return-1;for(oe(S,0,L,0,M,p,U),I(S,16,S,32,M-32,S),J=0;J<16;J++)S[J]=0;return 0}function h(S,L,M,p,U){var J,Y=new Uint8Array(32);if(M<32||(ee(Y,0,32,p,U),g(L,16,L,32,M-32,Y)!==0))return-1;for(oe(S,0,L,0,M,p,U),J=0;J<32;J++)S[J]=0;return 0}function m(S,L){var M;for(M=0;M<16;M++)S[M]=L[M]|0}function _(S){var L,M,p=1;for(L=0;L<16;L++)M=S[L]+p+65535,p=Math.floor(M/65536),S[L]=M-p*65536;S[0]+=p-1+37*(p-1)}function E(S,L,M){for(var p,U=~(M-1),J=0;J<16;J++)p=U&(S[J]^L[J]),S[J]^=p,L[J]^=p}function x(S,L){var M,p,U,J=r(),Y=r();for(M=0;M<16;M++)Y[M]=L[M];for(_(Y),_(Y),_(Y),p=0;p<2;p++){for(J[0]=Y[0]-65517,M=1;M<15;M++)J[M]=Y[M]-65535-(J[M-1]>>16&1),J[M-1]&=65535;J[15]=Y[15]-32767-(J[14]>>16&1),U=J[15]>>16&1,J[14]&=65535,E(Y,J,1-U)}for(M=0;M<16;M++)S[2*M]=Y[M]&255,S[2*M+1]=Y[M]>>8}function T(S,L){var M=new Uint8Array(32),p=new Uint8Array(32);return x(M,S),x(p,L),H(M,0,p,0)}function B(S){var L=new Uint8Array(32);return x(L,S),L[0]&1}function d(S,L){var M;for(M=0;M<16;M++)S[M]=L[2*M]+(L[2*M+1]<<8);S[15]&=32767}function k(S,L,M){for(var p=0;p<16;p++)S[p]=L[p]+M[p]}function W(S,L,M){for(var p=0;p<16;p++)S[p]=L[p]-M[p]}function K(S,L,M){var p,U,J=0,Y=0,ue=0,_e=0,Ae=0,Ee=0,Bt=0,Le=0,Ke=0,Ye=0,lt=0,ct=0,Xe=0,rt=0,Je=0,$e=0,De=0,Re=0,Me=0,Ne=0,Ie=0,ce=0,fe=0,ye=0,he=0,de=0,ve=0,Ve=0,gt=0,wt=0,yt=0,j=M[0],Et=M[1],Ot=M[2],Mt=M[3],_t=M[4],Ct=M[5],Lt=M[6],Tr=M[7],Kt=M[8],Er=M[9],xr=M[10],Sr=M[11],Ur=M[12],cn=M[13],fn=M[14],un=M[15];p=L[0],J+=p*j,Y+=p*Et,ue+=p*Ot,_e+=p*Mt,Ae+=p*_t,Ee+=p*Ct,Bt+=p*Lt,Le+=p*Tr,Ke+=p*Kt,Ye+=p*Er,lt+=p*xr,ct+=p*Sr,Xe+=p*Ur,rt+=p*cn,Je+=p*fn,$e+=p*un,p=L[1],Y+=p*j,ue+=p*Et,_e+=p*Ot,Ae+=p*Mt,Ee+=p*_t,Bt+=p*Ct,Le+=p*Lt,Ke+=p*Tr,Ye+=p*Kt,lt+=p*Er,ct+=p*xr,Xe+=p*Sr,rt+=p*Ur,Je+=p*cn,$e+=p*fn,De+=p*un,p=L[2],ue+=p*j,_e+=p*Et,Ae+=p*Ot,Ee+=p*Mt,Bt+=p*_t,Le+=p*Ct,Ke+=p*Lt,Ye+=p*Tr,lt+=p*Kt,ct+=p*Er,Xe+=p*xr,rt+=p*Sr,Je+=p*Ur,$e+=p*cn,De+=p*fn,Re+=p*un,p=L[3],_e+=p*j,Ae+=p*Et,Ee+=p*Ot,Bt+=p*Mt,Le+=p*_t,Ke+=p*Ct,Ye+=p*Lt,lt+=p*Tr,ct+=p*Kt,Xe+=p*Er,rt+=p*xr,Je+=p*Sr,$e+=p*Ur,De+=p*cn,Re+=p*fn,Me+=p*un,p=L[4],Ae+=p*j,Ee+=p*Et,Bt+=p*Ot,Le+=p*Mt,Ke+=p*_t,Ye+=p*Ct,lt+=p*Lt,ct+=p*Tr,Xe+=p*Kt,rt+=p*Er,Je+=p*xr,$e+=p*Sr,De+=p*Ur,Re+=p*cn,Me+=p*fn,Ne+=p*un,p=L[5],Ee+=p*j,Bt+=p*Et,Le+=p*Ot,Ke+=p*Mt,Ye+=p*_t,lt+=p*Ct,ct+=p*Lt,Xe+=p*Tr,rt+=p*Kt,Je+=p*Er,$e+=p*xr,De+=p*Sr,Re+=p*Ur,Me+=p*cn,Ne+=p*fn,Ie+=p*un,p=L[6],Bt+=p*j,Le+=p*Et,Ke+=p*Ot,Ye+=p*Mt,lt+=p*_t,ct+=p*Ct,Xe+=p*Lt,rt+=p*Tr,Je+=p*Kt,$e+=p*Er,De+=p*xr,Re+=p*Sr,Me+=p*Ur,Ne+=p*cn,Ie+=p*fn,ce+=p*un,p=L[7],Le+=p*j,Ke+=p*Et,Ye+=p*Ot,lt+=p*Mt,ct+=p*_t,Xe+=p*Ct,rt+=p*Lt,Je+=p*Tr,$e+=p*Kt,De+=p*Er,Re+=p*xr,Me+=p*Sr,Ne+=p*Ur,Ie+=p*cn,ce+=p*fn,fe+=p*un,p=L[8],Ke+=p*j,Ye+=p*Et,lt+=p*Ot,ct+=p*Mt,Xe+=p*_t,rt+=p*Ct,Je+=p*Lt,$e+=p*Tr,De+=p*Kt,Re+=p*Er,Me+=p*xr,Ne+=p*Sr,Ie+=p*Ur,ce+=p*cn,fe+=p*fn,ye+=p*un,p=L[9],Ye+=p*j,lt+=p*Et,ct+=p*Ot,Xe+=p*Mt,rt+=p*_t,Je+=p*Ct,$e+=p*Lt,De+=p*Tr,Re+=p*Kt,Me+=p*Er,Ne+=p*xr,Ie+=p*Sr,ce+=p*Ur,fe+=p*cn,ye+=p*fn,he+=p*un,p=L[10],lt+=p*j,ct+=p*Et,Xe+=p*Ot,rt+=p*Mt,Je+=p*_t,$e+=p*Ct,De+=p*Lt,Re+=p*Tr,Me+=p*Kt,Ne+=p*Er,Ie+=p*xr,ce+=p*Sr,fe+=p*Ur,ye+=p*cn,he+=p*fn,de+=p*un,p=L[11],ct+=p*j,Xe+=p*Et,rt+=p*Ot,Je+=p*Mt,$e+=p*_t,De+=p*Ct,Re+=p*Lt,Me+=p*Tr,Ne+=p*Kt,Ie+=p*Er,ce+=p*xr,fe+=p*Sr,ye+=p*Ur,he+=p*cn,de+=p*fn,ve+=p*un,p=L[12],Xe+=p*j,rt+=p*Et,Je+=p*Ot,$e+=p*Mt,De+=p*_t,Re+=p*Ct,Me+=p*Lt,Ne+=p*Tr,Ie+=p*Kt,ce+=p*Er,fe+=p*xr,ye+=p*Sr,he+=p*Ur,de+=p*cn,ve+=p*fn,Ve+=p*un,p=L[13],rt+=p*j,Je+=p*Et,$e+=p*Ot,De+=p*Mt,Re+=p*_t,Me+=p*Ct,Ne+=p*Lt,Ie+=p*Tr,ce+=p*Kt,fe+=p*Er,ye+=p*xr,he+=p*Sr,de+=p*Ur,ve+=p*cn,Ve+=p*fn,gt+=p*un,p=L[14],Je+=p*j,$e+=p*Et,De+=p*Ot,Re+=p*Mt,Me+=p*_t,Ne+=p*Ct,Ie+=p*Lt,ce+=p*Tr,fe+=p*Kt,ye+=p*Er,he+=p*xr,de+=p*Sr,ve+=p*Ur,Ve+=p*cn,gt+=p*fn,wt+=p*un,p=L[15],$e+=p*j,De+=p*Et,Re+=p*Ot,Me+=p*Mt,Ne+=p*_t,Ie+=p*Ct,ce+=p*Lt,fe+=p*Tr,ye+=p*Kt,he+=p*Er,de+=p*xr,ve+=p*Sr,Ve+=p*Ur,gt+=p*cn,wt+=p*fn,yt+=p*un,J+=38*De,Y+=38*Re,ue+=38*Me,_e+=38*Ne,Ae+=38*Ie,Ee+=38*ce,Bt+=38*fe,Le+=38*ye,Ke+=38*he,Ye+=38*de,lt+=38*ve,ct+=38*Ve,Xe+=38*gt,rt+=38*wt,Je+=38*yt,U=1,p=J+U+65535,U=Math.floor(p/65536),J=p-U*65536,p=Y+U+65535,U=Math.floor(p/65536),Y=p-U*65536,p=ue+U+65535,U=Math.floor(p/65536),ue=p-U*65536,p=_e+U+65535,U=Math.floor(p/65536),_e=p-U*65536,p=Ae+U+65535,U=Math.floor(p/65536),Ae=p-U*65536,p=Ee+U+65535,U=Math.floor(p/65536),Ee=p-U*65536,p=Bt+U+65535,U=Math.floor(p/65536),Bt=p-U*65536,p=Le+U+65535,U=Math.floor(p/65536),Le=p-U*65536,p=Ke+U+65535,U=Math.floor(p/65536),Ke=p-U*65536,p=Ye+U+65535,U=Math.floor(p/65536),Ye=p-U*65536,p=lt+U+65535,U=Math.floor(p/65536),lt=p-U*65536,p=ct+U+65535,U=Math.floor(p/65536),ct=p-U*65536,p=Xe+U+65535,U=Math.floor(p/65536),Xe=p-U*65536,p=rt+U+65535,U=Math.floor(p/65536),rt=p-U*65536,p=Je+U+65535,U=Math.floor(p/65536),Je=p-U*65536,p=$e+U+65535,U=Math.floor(p/65536),$e=p-U*65536,J+=U-1+37*(U-1),U=1,p=J+U+65535,U=Math.floor(p/65536),J=p-U*65536,p=Y+U+65535,U=Math.floor(p/65536),Y=p-U*65536,p=ue+U+65535,U=Math.floor(p/65536),ue=p-U*65536,p=_e+U+65535,U=Math.floor(p/65536),_e=p-U*65536,p=Ae+U+65535,U=Math.floor(p/65536),Ae=p-U*65536,p=Ee+U+65535,U=Math.floor(p/65536),Ee=p-U*65536,p=Bt+U+65535,U=Math.floor(p/65536),Bt=p-U*65536,p=Le+U+65535,U=Math.floor(p/65536),Le=p-U*65536,p=Ke+U+65535,U=Math.floor(p/65536),Ke=p-U*65536,p=Ye+U+65535,U=Math.floor(p/65536),Ye=p-U*65536,p=lt+U+65535,U=Math.floor(p/65536),lt=p-U*65536,p=ct+U+65535,U=Math.floor(p/65536),ct=p-U*65536,p=Xe+U+65535,U=Math.floor(p/65536),Xe=p-U*65536,p=rt+U+65535,U=Math.floor(p/65536),rt=p-U*65536,p=Je+U+65535,U=Math.floor(p/65536),Je=p-U*65536,p=$e+U+65535,U=Math.floor(p/65536),$e=p-U*65536,J+=U-1+37*(U-1),S[0]=J,S[1]=Y,S[2]=ue,S[3]=_e,S[4]=Ae,S[5]=Ee,S[6]=Bt,S[7]=Le,S[8]=Ke,S[9]=Ye,S[10]=lt,S[11]=ct,S[12]=Xe,S[13]=rt,S[14]=Je,S[15]=$e}function re(S,L){K(S,L,L)}function xe(S,L){var M=r(),p;for(p=0;p<16;p++)M[p]=L[p];for(p=253;p>=0;p--)re(M,M),p!==2&&p!==4&&K(M,M,L);for(p=0;p<16;p++)S[p]=M[p]}function be(S,L){var M=r(),p;for(p=0;p<16;p++)M[p]=L[p];for(p=250;p>=0;p--)re(M,M),p!==1&&K(M,M,L);for(p=0;p<16;p++)S[p]=M[p]}function ge(S,L,M){var p=new Uint8Array(32),U=new Float64Array(80),J,Y,ue=r(),_e=r(),Ae=r(),Ee=r(),Bt=r(),Le=r();for(Y=0;Y<31;Y++)p[Y]=L[Y];for(p[31]=L[31]&127|64,p[0]&=248,d(U,M),Y=0;Y<16;Y++)_e[Y]=U[Y],Ee[Y]=ue[Y]=Ae[Y]=0;for(ue[0]=Ee[0]=1,Y=254;Y>=0;--Y)J=p[Y>>>3]>>>(Y&7)&1,E(ue,_e,J),E(Ae,Ee,J),k(Bt,ue,Ae),W(ue,ue,Ae),k(Ae,_e,Ee),W(_e,_e,Ee),re(Ee,Bt),re(Le,ue),K(ue,Ae,ue),K(Ae,_e,Bt),k(Bt,ue,Ae),W(ue,ue,Ae),re(_e,ue),W(Ae,Ee,Le),K(ue,Ae,c),k(ue,ue,Ee),K(Ae,Ae,ue),K(ue,Ee,Le),K(Ee,_e,U),re(_e,Bt),E(ue,_e,J),E(Ae,Ee,J);for(Y=0;Y<16;Y++)U[Y+16]=ue[Y],U[Y+32]=Ae[Y],U[Y+48]=_e[Y],U[Y+64]=Ee[Y];var Ke=U.subarray(32),Ye=U.subarray(16);return xe(Ke,Ke),K(Ye,Ye,Ke),x(S,Ye),0}function tt(S,L){return ge(S,L,o)}function Ue(S,L){return n(L,32),tt(S,L)}function Pe(S,L,M){var p=new Uint8Array(32);return ge(p,M,L),q(S,i,p,G)}var pe=f,we=h;function ke(S,L,M,p,U,J){var Y=new Uint8Array(32);return Pe(Y,U,J),pe(S,L,M,p,Y)}function vt(S,L,M,p,U,J){var Y=new Uint8Array(32);return Pe(Y,U,J),we(S,L,M,p,Y)}var He=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function it(S,L,M,p){for(var U=new Int32Array(16),J=new Int32Array(16),Y,ue,_e,Ae,Ee,Bt,Le,Ke,Ye,lt,ct,Xe,rt,Je,$e,De,Re,Me,Ne,Ie,ce,fe,ye,he,de,ve,Ve=S[0],gt=S[1],wt=S[2],yt=S[3],j=S[4],Et=S[5],Ot=S[6],Mt=S[7],_t=L[0],Ct=L[1],Lt=L[2],Tr=L[3],Kt=L[4],Er=L[5],xr=L[6],Sr=L[7],Ur=0;p>=128;){for(Ne=0;Ne<16;Ne++)Ie=8*Ne+Ur,U[Ne]=M[Ie+0]<<24|M[Ie+1]<<16|M[Ie+2]<<8|M[Ie+3],J[Ne]=M[Ie+4]<<24|M[Ie+5]<<16|M[Ie+6]<<8|M[Ie+7];for(Ne=0;Ne<80;Ne++)if(Y=Ve,ue=gt,_e=wt,Ae=yt,Ee=j,Bt=Et,Le=Ot,Ke=Mt,Ye=_t,lt=Ct,ct=Lt,Xe=Tr,rt=Kt,Je=Er,$e=xr,De=Sr,ce=Mt,fe=Sr,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=(j>>>14|Kt<<32-14)^(j>>>18|Kt<<32-18)^(Kt>>>41-32|j<<32-(41-32)),fe=(Kt>>>14|j<<32-14)^(Kt>>>18|j<<32-18)^(j>>>41-32|Kt<<32-(41-32)),ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,ce=j&Et^~j&Ot,fe=Kt&Er^~Kt&xr,ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,ce=He[Ne*2],fe=He[Ne*2+1],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,ce=U[Ne%16],fe=J[Ne%16],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,Re=de&65535|ve<<16,Me=ye&65535|he<<16,ce=Re,fe=Me,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=(Ve>>>28|_t<<32-28)^(_t>>>34-32|Ve<<32-(34-32))^(_t>>>39-32|Ve<<32-(39-32)),fe=(_t>>>28|Ve<<32-28)^(Ve>>>34-32|_t<<32-(34-32))^(Ve>>>39-32|_t<<32-(39-32)),ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,ce=Ve&gt^Ve&wt^gt&wt,fe=_t&Ct^_t&Lt^Ct&Lt,ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,Ke=de&65535|ve<<16,De=ye&65535|he<<16,ce=Ae,fe=Xe,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=Re,fe=Me,ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,Ae=de&65535|ve<<16,Xe=ye&65535|he<<16,gt=Y,wt=ue,yt=_e,j=Ae,Et=Ee,Ot=Bt,Mt=Le,Ve=Ke,Ct=Ye,Lt=lt,Tr=ct,Kt=Xe,Er=rt,xr=Je,Sr=$e,_t=De,Ne%16===15)for(Ie=0;Ie<16;Ie++)ce=U[Ie],fe=J[Ie],ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=U[(Ie+9)%16],fe=J[(Ie+9)%16],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,Re=U[(Ie+1)%16],Me=J[(Ie+1)%16],ce=(Re>>>1|Me<<32-1)^(Re>>>8|Me<<32-8)^Re>>>7,fe=(Me>>>1|Re<<32-1)^(Me>>>8|Re<<32-8)^(Me>>>7|Re<<32-7),ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,Re=U[(Ie+14)%16],Me=J[(Ie+14)%16],ce=(Re>>>19|Me<<32-19)^(Me>>>61-32|Re<<32-(61-32))^Re>>>6,fe=(Me>>>19|Re<<32-19)^(Re>>>61-32|Me<<32-(61-32))^(Me>>>6|Re<<32-6),ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,U[Ie]=de&65535|ve<<16,J[Ie]=ye&65535|he<<16;ce=Ve,fe=_t,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=S[0],fe=L[0],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,S[0]=Ve=de&65535|ve<<16,L[0]=_t=ye&65535|he<<16,ce=gt,fe=Ct,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=S[1],fe=L[1],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,S[1]=gt=de&65535|ve<<16,L[1]=Ct=ye&65535|he<<16,ce=wt,fe=Lt,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=S[2],fe=L[2],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,S[2]=wt=de&65535|ve<<16,L[2]=Lt=ye&65535|he<<16,ce=yt,fe=Tr,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=S[3],fe=L[3],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,S[3]=yt=de&65535|ve<<16,L[3]=Tr=ye&65535|he<<16,ce=j,fe=Kt,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=S[4],fe=L[4],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,S[4]=j=de&65535|ve<<16,L[4]=Kt=ye&65535|he<<16,ce=Et,fe=Er,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=S[5],fe=L[5],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,S[5]=Et=de&65535|ve<<16,L[5]=Er=ye&65535|he<<16,ce=Ot,fe=xr,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=S[6],fe=L[6],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,S[6]=Ot=de&65535|ve<<16,L[6]=xr=ye&65535|he<<16,ce=Mt,fe=Sr,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=S[7],fe=L[7],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,S[7]=Mt=de&65535|ve<<16,L[7]=Sr=ye&65535|he<<16,Ur+=128,p-=128}return p}function Ht(S,L,M){var p=new Int32Array(8),U=new Int32Array(8),J=new Uint8Array(256),Y,ue=M;for(p[0]=1779033703,p[1]=3144134277,p[2]=1013904242,p[3]=2773480762,p[4]=1359893119,p[5]=2600822924,p[6]=528734635,p[7]=1541459225,U[0]=4089235720,U[1]=2227873595,U[2]=4271175723,U[3]=1595750129,U[4]=2917565137,U[5]=725511199,U[6]=4215389547,U[7]=327033209,it(p,U,L,M),M%=128,Y=0;Y<M;Y++)J[Y]=L[ue-M+Y];for(J[M]=128,M=256-128*(M<112?1:0),J[M-9]=0,R(J,M-8,ue/536870912|0,ue<<3),it(p,U,J,M),Y=0;Y<8;Y++)R(S,8*Y,p[Y],U[Y]);return 0}function ut(S,L){var M=r(),p=r(),U=r(),J=r(),Y=r(),ue=r(),_e=r(),Ae=r(),Ee=r();W(M,S[1],S[0]),W(Ee,L[1],L[0]),K(M,M,Ee),k(p,S[0],S[1]),k(Ee,L[0],L[1]),K(p,p,Ee),K(U,S[3],L[3]),K(U,U,l),K(J,S[2],L[2]),k(J,J,J),W(Y,p,M),W(ue,J,U),k(_e,J,U),k(Ae,p,M),K(S[0],Y,ue),K(S[1],Ae,_e),K(S[2],_e,ue),K(S[3],Y,Ae)}function pt(S,L,M){var p;for(p=0;p<4;p++)E(S[p],L[p],M)}function Wt(S,L){var M=r(),p=r(),U=r();xe(U,L[2]),K(M,L[0],U),K(p,L[1],U),x(S,p),S[31]^=B(M)<<7}function xt(S,L,M){var p,U;for(m(S[0],s),m(S[1],a),m(S[2],a),m(S[3],s),U=255;U>=0;--U)p=M[U/8|0]>>(U&7)&1,pt(S,L,p),ut(L,S),ut(S,S),pt(S,L,p)}function At(S,L){var M=[r(),r(),r(),r()];m(M[0],y),m(M[1],A),m(M[2],a),K(M[3],y,A),xt(S,M,L)}function Xt(S,L,M){var p=new Uint8Array(64),U=[r(),r(),r(),r()],J;for(M||n(L,32),Ht(p,L,32),p[0]&=248,p[31]&=127,p[31]|=64,At(U,p),Wt(S,U),J=0;J<32;J++)L[J+32]=S[J];return 0}var Tt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function C(S,L){var M,p,U,J;for(p=63;p>=32;--p){for(M=0,U=p-32,J=p-12;U<J;++U)L[U]+=M-16*L[p]*Tt[U-(p-32)],M=Math.floor((L[U]+128)/256),L[U]-=M*256;L[U]+=M,L[p]=0}for(M=0,U=0;U<32;U++)L[U]+=M-(L[31]>>4)*Tt[U],M=L[U]>>8,L[U]&=255;for(U=0;U<32;U++)L[U]-=M*Tt[U];for(p=0;p<32;p++)L[p+1]+=L[p]>>8,S[p]=L[p]&255}function w(S){var L=new Float64Array(64),M;for(M=0;M<64;M++)L[M]=S[M];for(M=0;M<64;M++)S[M]=0;C(S,L)}function b(S,L,M,p){var U=new Uint8Array(64),J=new Uint8Array(64),Y=new Uint8Array(64),ue,_e,Ae=new Float64Array(64),Ee=[r(),r(),r(),r()];Ht(U,p,32),U[0]&=248,U[31]&=127,U[31]|=64;var Bt=M+64;for(ue=0;ue<M;ue++)S[64+ue]=L[ue];for(ue=0;ue<32;ue++)S[32+ue]=U[32+ue];for(Ht(Y,S.subarray(32),M+32),w(Y),At(Ee,Y),Wt(S,Ee),ue=32;ue<64;ue++)S[ue]=p[ue];for(Ht(J,S,M+64),w(J),ue=0;ue<64;ue++)Ae[ue]=0;for(ue=0;ue<32;ue++)Ae[ue]=Y[ue];for(ue=0;ue<32;ue++)for(_e=0;_e<32;_e++)Ae[ue+_e]+=J[ue]*U[_e];return C(S.subarray(32),Ae),Bt}function D(S,L){var M=r(),p=r(),U=r(),J=r(),Y=r(),ue=r(),_e=r();return m(S[2],a),d(S[1],L),re(U,S[1]),K(J,U,u),W(U,U,S[2]),k(J,S[2],J),re(Y,J),re(ue,Y),K(_e,ue,Y),K(M,_e,U),K(M,M,J),be(M,M),K(M,M,U),K(M,M,J),K(M,M,J),K(S[0],M,J),re(p,S[0]),K(p,p,J),T(p,U)&&K(S[0],S[0],v),re(p,S[0]),K(p,p,J),T(p,U)?-1:(B(S[0])===L[31]>>7&&W(S[0],s,S[0]),K(S[3],S[0],S[1]),0)}function V(S,L,M,p){var U,J=new Uint8Array(32),Y=new Uint8Array(64),ue=[r(),r(),r(),r()],_e=[r(),r(),r(),r()];if(M<64||D(_e,p))return-1;for(U=0;U<M;U++)S[U]=L[U];for(U=0;U<32;U++)S[U+32]=p[U];if(Ht(Y,S,M),w(Y),xt(ue,_e,Y),At(_e,L.subarray(32)),ut(ue,_e),Wt(J,ue),M-=64,H(L,0,J,0)){for(U=0;U<M;U++)S[U]=0;return-1}for(U=0;U<M;U++)S[U]=L[U+64];return M}var X=32,ae=24,Ze=32,Ge=16,We=32,jt=32,ze=32,rr=32,Ma=32,yr=ae,vr=Ze,Rl=Ge,zt=64,Yt=32,eo=64,ur=32,lr=64;t.lowlevel={crypto_core_hsalsa20:q,crypto_stream_xor:oe,crypto_stream:ee,crypto_stream_salsa20_xor:Z,crypto_stream_salsa20:z,crypto_onetimeauth:I,crypto_onetimeauth_verify:g,crypto_verify_16:P,crypto_verify_32:H,crypto_secretbox:f,crypto_secretbox_open:h,crypto_scalarmult:ge,crypto_scalarmult_base:tt,crypto_box_beforenm:Pe,crypto_box_afternm:pe,crypto_box:ke,crypto_box_open:vt,crypto_box_keypair:Ue,crypto_hash:Ht,crypto_sign:b,crypto_sign_keypair:Xt,crypto_sign_open:V,crypto_secretbox_KEYBYTES:X,crypto_secretbox_NONCEBYTES:ae,crypto_secretbox_ZEROBYTES:Ze,crypto_secretbox_BOXZEROBYTES:Ge,crypto_scalarmult_BYTES:We,crypto_scalarmult_SCALARBYTES:jt,crypto_box_PUBLICKEYBYTES:ze,crypto_box_SECRETKEYBYTES:rr,crypto_box_BEFORENMBYTES:Ma,crypto_box_NONCEBYTES:yr,crypto_box_ZEROBYTES:vr,crypto_box_BOXZEROBYTES:Rl,crypto_sign_BYTES:zt,crypto_sign_PUBLICKEYBYTES:Yt,crypto_sign_SECRETKEYBYTES:eo,crypto_sign_SEEDBYTES:ur,crypto_hash_BYTES:lr,gf:r,D:u,L:Tt,pack25519:x,unpack25519:d,M:K,A:k,S:re,Z:W,pow2523:be,add:ut,set25519:m,modL:C,scalarmult:xt,scalarbase:At};function tf(S,L){if(S.length!==X)throw new Error("bad key size");if(L.length!==ae)throw new Error("bad nonce size")}function _r(S,L){if(S.length!==ze)throw new Error("bad public key size");if(L.length!==rr)throw new Error("bad secret key size")}function kt(){for(var S=0;S<arguments.length;S++)if(!(arguments[S]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function rf(S){for(var L=0;L<S.length;L++)S[L]=0}t.randomBytes=function(S){var L=new Uint8Array(S);return n(L,S),L},t.secretbox=function(S,L,M){kt(S,L,M),tf(M,L);for(var p=new Uint8Array(Ze+S.length),U=new Uint8Array(p.length),J=0;J<S.length;J++)p[J+Ze]=S[J];return f(U,p,p.length,L,M),U.subarray(Ge)},t.secretbox.open=function(S,L,M){kt(S,L,M),tf(M,L);for(var p=new Uint8Array(Ge+S.length),U=new Uint8Array(p.length),J=0;J<S.length;J++)p[J+Ge]=S[J];return p.length<32||h(U,p,p.length,L,M)!==0?null:U.subarray(Ze)},t.secretbox.keyLength=X,t.secretbox.nonceLength=ae,t.secretbox.overheadLength=Ge,t.scalarMult=function(S,L){if(kt(S,L),S.length!==jt)throw new Error("bad n size");if(L.length!==We)throw new Error("bad p size");var M=new Uint8Array(We);return ge(M,S,L),M},t.scalarMult.base=function(S){if(kt(S),S.length!==jt)throw new Error("bad n size");var L=new Uint8Array(We);return tt(L,S),L},t.scalarMult.scalarLength=jt,t.scalarMult.groupElementLength=We,t.box=function(S,L,M,p){var U=t.box.before(M,p);return t.secretbox(S,L,U)},t.box.before=function(S,L){kt(S,L),_r(S,L);var M=new Uint8Array(Ma);return Pe(M,S,L),M},t.box.after=t.secretbox,t.box.open=function(S,L,M,p){var U=t.box.before(M,p);return t.secretbox.open(S,L,U)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var S=new Uint8Array(ze),L=new Uint8Array(rr);return Ue(S,L),{publicKey:S,secretKey:L}},t.box.keyPair.fromSecretKey=function(S){if(kt(S),S.length!==rr)throw new Error("bad secret key size");var L=new Uint8Array(ze);return tt(L,S),{publicKey:L,secretKey:new Uint8Array(S)}},t.box.publicKeyLength=ze,t.box.secretKeyLength=rr,t.box.sharedKeyLength=Ma,t.box.nonceLength=yr,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(S,L){if(kt(S,L),L.length!==eo)throw new Error("bad secret key size");var M=new Uint8Array(zt+S.length);return b(M,S,S.length,L),M},t.sign.open=function(S,L){if(kt(S,L),L.length!==Yt)throw new Error("bad public key size");var M=new Uint8Array(S.length),p=V(M,S,S.length,L);if(p<0)return null;for(var U=new Uint8Array(p),J=0;J<U.length;J++)U[J]=M[J];return U},t.sign.detached=function(S,L){for(var M=t.sign(S,L),p=new Uint8Array(zt),U=0;U<p.length;U++)p[U]=M[U];return p},t.sign.detached.verify=function(S,L,M){if(kt(S,L,M),L.length!==zt)throw new Error("bad signature size");if(M.length!==Yt)throw new Error("bad public key size");var p=new Uint8Array(zt+S.length),U=new Uint8Array(zt+S.length),J;for(J=0;J<zt;J++)p[J]=L[J];for(J=0;J<S.length;J++)p[J+zt]=S[J];return V(U,p,p.length,M)>=0},t.sign.keyPair=function(){var S=new Uint8Array(Yt),L=new Uint8Array(eo);return Xt(S,L),{publicKey:S,secretKey:L}},t.sign.keyPair.fromSecretKey=function(S){if(kt(S),S.length!==eo)throw new Error("bad secret key size");for(var L=new Uint8Array(Yt),M=0;M<L.length;M++)L[M]=S[32+M];return{publicKey:L,secretKey:new Uint8Array(S)}},t.sign.keyPair.fromSeed=function(S){if(kt(S),S.length!==ur)throw new Error("bad seed size");for(var L=new Uint8Array(Yt),M=new Uint8Array(eo),p=0;p<32;p++)M[p]=S[p];return Xt(L,M,!0),{publicKey:L,secretKey:M}},t.sign.publicKeyLength=Yt,t.sign.secretKeyLength=eo,t.sign.seedLength=ur,t.sign.signatureLength=zt,t.hash=function(S){kt(S);var L=new Uint8Array(lr);return Ht(L,S,S.length),L},t.hash.hashLength=lr,t.verify=function(S,L){return kt(S,L),S.length===0||L.length===0||S.length!==L.length?!1:O(S,0,L,0,S.length)===0},t.setPRNG=function(S){n=S},function(){var S=typeof self<"u"?self.crypto||self.msCrypto:null;if(S&&S.getRandomValues){var L=65536;t.setPRNG(function(M,p){var U,J=new Uint8Array(p);for(U=0;U<p;U+=L)S.getRandomValues(J.subarray(U,U+Math.min(p-U,L)));for(U=0;U<p;U++)M[U]=J[U];rf(J)})}else typeof pd<"u"&&(S=Ig,S&&S.randomBytes&&t.setPRNG(function(M,p){var U,J=S.randomBytes(p);for(U=0;U<p;U++)M[U]=J[U];rf(J)}))}()})(e.exports?e.exports:self.nacl=self.nacl||{})})(uE);var BM=ft&&ft.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),IM=ft&&ft.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),RM=ft&&ft.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&BM(t,e,r);return IM(t,e),t};Object.defineProperty(ti,"__esModule",{value:!0}),ti.getEncryptionPublicKey=ti.decryptSafely=ti.decrypt=ti.encryptSafely=ti.encrypt=void 0;const Ti=D0,Ss=RM(uE.exports),ki=Qr;function lE({publicKey:e,data:t,version:r}){if((0,ki.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,ki.isNullish)(t))throw new Error("Missing data parameter");if((0,ki.isNullish)(r))throw new Error("Missing version parameter");switch(r){case"x25519-xsalsa20-poly1305":{if(typeof t!="string")throw new Error("Message data must be given as a string");const n=Ss.box.keyPair();let i;try{i=Ti.base64.decode(e)}catch{throw new Error("Bad public key")}const o=Ti.utf8.decode(t),s=Ss.randomBytes(Ss.box.nonceLength),a=Ss.box(o,s,i,n.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:Ti.base64.encode(s),ephemPublicKey:Ti.base64.encode(n.publicKey),ciphertext:Ti.base64.encode(a)}}default:throw new Error("Encryption type/version not supported")}}ti.encrypt=lE;function TM({publicKey:e,data:t,version:r}){if((0,ki.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,ki.isNullish)(t))throw new Error("Missing data parameter");if((0,ki.isNullish)(r))throw new Error("Missing version parameter");const n=2**11,i=16;if(typeof t=="object"&&t&&"toJSON"in t)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const o={data:t,padding:""},a=ie.Buffer.byteLength(JSON.stringify(o),"utf-8")%n;let c=0;a>0&&(c=n-a-i),o.padding="0".repeat(c);const u=JSON.stringify(o);return lE({publicKey:e,data:u,version:r})}ti.encryptSafely=TM;function hE({encryptedData:e,privateKey:t}){if((0,ki.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,ki.isNullish)(t))throw new Error("Missing privateKey parameter");switch(e.version){case"x25519-xsalsa20-poly1305":{const r=ie.Buffer.from(t,"hex"),n=Ss.box.keyPair.fromSecretKey(r).secretKey,i=Ti.base64.decode(e.nonce),o=Ti.base64.decode(e.ciphertext),s=Ti.base64.decode(e.ephemPublicKey),a=Ss.box.open(o,i,s,n);try{if(!a)throw new Error;const c=Ti.utf8.encode(a);if(!c)throw new Error;return c}catch(c){throw c&&typeof c.message=="string"&&c.message.length?new Error(`Decryption failed: ${c.message}`):new Error("Decryption failed.")}}default:throw new Error("Encryption type/version not supported.")}}ti.decrypt=hE;function kM({encryptedData:e,privateKey:t}){if((0,ki.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,ki.isNullish)(t))throw new Error("Missing privateKey parameter");return JSON.parse(hE({encryptedData:e,privateKey:t})).data}ti.decryptSafely=kM;function CM(e){const t=ie.Buffer.from(e,"hex"),r=Ss.box.keyPair.fromSecretKey(t).publicKey;return Ti.base64.encode(r)}ti.getEncryptionPublicKey=CM,function(e){var t=ft&&ft.__createBinding||(Object.create?function(i,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(i,a,c)}:function(i,o,s,a){a===void 0&&(a=s),i[a]=o[s]}),r=ft&&ft.__exportStar||function(i,o){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&t(o,i,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.normalize=e.concatSig=void 0,r(lo,e),r(O2,e),r(ti,e);var n=Qr;Object.defineProperty(e,"concatSig",{enumerable:!0,get:function(){return n.concatSig}}),Object.defineProperty(e,"normalize",{enumerable:!0,get:function(){return n.normalize}})}(Gs);class dE extends Error{constructor(t,r){super(),this.code=t,this.message=r}toString(){return`${this.message} (${this.code})`}}var LM=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},$M=(e,t,r)=>(LM(e,t,"read from private field"),r?r.call(e):t.get(e)),OM=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Mp;const ka=class{constructor(e){OM(this,Mp,["eth_newFilter","eth_newBlockFilter","eth_newPendingTransactionFilter","eth_uninstallFilter","eth_subscribe"]),this.provider=e}static isUTF8(e){try{return new TextDecoder("utf8",{fatal:!0}).decode(e),!0}catch{return!1}}static bufferToHex(e){return"0x"+ie.Buffer.from(e).toString("hex")}static messageToBuffer(e){let t=ie.Buffer.from([]);try{typeof e=="string"?t=ie.Buffer.from(e.replace("0x",""),"hex"):t=ie.Buffer.from(e)}catch(r){console.log(`messageToBuffer error: ${r}`)}return t}async request(e){if($M(this,Mp).includes(e.method))return Promise.reject(new dE(4200,`EthereumProvider does not support calling ${e.method}`));switch(e.method){case"wallet_requestPermissions":return this.provider.internalRequest({method:"wallet_requestPermissions",params:e.params});case"eth_requestAccounts":return this.provider.internalRequest({method:"requestAccounts",params:{}});case"eth_sign":return this.ethSign(e.params);case"personal_sign":return this.personalSign(e.params);case"personal_ecRecover":return this.personalECRecover(e.params);case"eth_signTypedData_v3":return this.ethSignTypedData(e.params,Gs.SignTypedDataVersion.V3);case"eth_signTypedData_v4":return this.ethSignTypedData(e.params,Gs.SignTypedDataVersion.V4);case"eth_signTypedData":return this.ethSignTypedData(e.params,Gs.SignTypedDataVersion.V1);case"eth_sendTransaction":return this.provider.internalRequest({method:"signTransaction",params:e.params[0]});case"wallet_watchAsset":{const{options:t,type:r}=e.params,{address:n,symbol:i,decimals:o}=t;return this.provider.internalRequest({method:"watchAsset",params:{type:r,contract:n,symbol:i,decimals:o||0}})}case"wallet_addEthereumChain":return this.provider.internalRequest({method:"addEthereumChain",params:e.params[0]});case"wallet_switchEthereumChain":return this.provider.internalRequest({method:"switchEthereumChain",params:e.params[0]});default:return(await this.provider.getRPC().call({method:e.method,jsonrpc:"2.0",params:e.params})).result}}personalECRecover(e){return this.provider.internalRequest({method:"ecRecover",params:{signature:e[1],message:e[0]}})}async personalSign(e){const[t]=await this.provider.request({method:"eth_accounts"});if(!t)throw new Error("Unable to execute personal_sign");let[r,n]=e;typeof r=="string"&&t.toLowerCase()===r.toLowerCase()&&(r=e[1],n=e[0]);const i=ka.messageToBuffer(r);return this.provider.internalRequest({method:"signPersonalMessage",params:{data:i.length===0?ka.bufferToHex(r):r,address:n}})}ethSign(e){if(!e)throw new Error("Missing params");const[t,r]=e,n=ka.messageToBuffer(r),i=ka.bufferToHex(n);return this.provider.internalRequest({method:ka.isUTF8(n)?"signPersonalMessage":"signMessage",params:{data:i,address:t}})}async ethSignTypedData(e,t){const[r]=await this.provider.request({method:"eth_accounts"});if(!r)throw new Error("Unable to execute ethSignTypedData, address is not present");let[n,i]=e;typeof n=="string"&&r.toLowerCase()===n.toLowerCase()&&(n=e[1],i=e[0]);const o=typeof n=="string"?JSON.parse(n):n,{chainId:s}=o.domain||{};if(typeof s<"u"&&Number(s)!==Number(this.provider.getChainId()))throw new Error("Provided chainId does not match the currently active chain");const a=t!==Gs.SignTypedDataVersion.V1?Gs.TypedDataUtils.eip712Hash(o,t):"";return this.provider.internalRequest({method:"signTypedMessage",params:{data:"0x"+a.toString("hex"),raw:typeof n=="string"?n:JSON.stringify(n),address:i,version:t}})}};let MM=ka;Mp=new WeakMap;var NM=Object.defineProperty,pE=Object.getOwnPropertySymbols,PM=Object.prototype.hasOwnProperty,UM=Object.prototype.propertyIsEnumerable,gE=(e,t,r)=>t in e?NM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,FM=(e,t)=>{for(var r in t||(t={}))PM.call(t,r)&&gE(e,r,t[r]);if(pE)for(var r of pE(t))UM.call(t,r)&&gE(e,r,t[r]);return e},yE=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},DM=(e,t,r)=>(yE(e,t,"read from private field"),r?r.call(e):t.get(e)),HM=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},jM=(e,t,r,n)=>(yE(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Sl;class wE{constructor(t){HM(this,Sl,void 0),console.log("creating RPC server with",t),jM(this,Sl,t)}async getBlockNumber(){return(await this.call({jsonrpc:"2.0",method:"eth_blockNumber",params:[]})).result}async getBlockByNumber(t){return(await this.call({jsonrpc:"2.0",method:"eth_getBlockByNumber",params:[t,!1]})).result}getFilterLogs(t){return this.call({jsonrpc:"2.0",method:"eth_getLogs",params:[t]})}async call(t){const r=await(await fetch(DM(this,Sl),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(FM({id:new Date().getTime()+Math.floor(Math.random()*1e3)},t))})).json();if(!r.result&&r.error)throw new Error(r.error.message||"rpc error");return r}}Sl=new WeakMap;var mE=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Nn=(e,t,r)=>(mE(e,t,"read from private field"),r?r.call(e):t.get(e)),Ca=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Pn=(e,t,r,n)=>(mE(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Qi,La,Al,Xc,Ho,$a;const bE=class extends Cl{constructor(e){console.log("starting"),super(),Ca(this,Qi,void 0),Ca(this,La,void 0),Ca(this,Al,!1),Ca(this,Xc,!1),Ca(this,Ho,void 0),Ca(this,$a,void 0),this.isTrust=!0,this.isTrustWallet=!0,this.request=this.request.bind(this),e&&(console.log(e,"config received"),e.chainId&&Pn(this,Qi,e.chainId),(e.rpc||e.rpcUrl)&&(console.log(e.rpc||e.rpcUrl,"RPCCCCC"),Pn(this,La,e.rpc||e.rpcUrl)),typeof e.overwriteMetamask<"u"&&Pn(this,Xc,e.overwriteMetamask),typeof e.disableMobileAdapter<"u"&&Pn(this,Al,e.disableMobileAdapter),typeof e.isTrust<"u"&&(this.isTrust=e.isTrust,this.isTrustWallet=e.isTrust),Pn(this,$a,new wE(Nn(this,La)))),Nn(this,Al)||(this.mobileAdapter=new MM(this)),super.on("onResponseReady",this.onResponseReady.bind(this)),this.connect()}connect(){this.emit("connect",{chainId:Nn(this,Qi)})}enable(){return this.request({method:"eth_requestAccounts"})}sendAsync(e,t){Array.isArray(e)?Promise.all(e.map(r=>this.request(r))).then(r=>t(null,r)).catch(r=>t(r,null)):this.request(e).then(r=>t(null,r)).catch(r=>t(r,null))}_send(e){const t={jsonrpc:"2.0",result:null};switch(e.method){case"eth_accounts":case"eth_coinbase":case"net_version":case"eth_chainId":t.result=this.handleStaticRequests({method:"eth_accounts"});break;default:throw new dE(4200,`Trust does not support calling ${e.method} synchronously without a callback. Please provide a callback parameter to call ${e.method} asynchronously.`)}return t}send(e,t){if(typeof e=="string"&&(!t||Array.isArray(t))){const r=this;return new Promise((n,i)=>{try{const o=r.request({method:e,params:t});o instanceof Promise?o.then(n).catch(i):n(o)}catch(o){i(o)}})}else if(e&&typeof e=="object"&&typeof t=="function")return this.request(e).then(t);return this._send(e)}internalRequest(e){return super.request(e)}request(e){const t=()=>this.internalRequest(e);if(this.mobileAdapter){const r=this.handleStaticRequests(e,()=>this.mobileAdapter.request(e));return r instanceof Promise?r:Promise.resolve(r)}return this.handleStaticRequests(e,t)}handleStaticRequests(e,t){switch(e.method){case"net_version":return Nn(this,Qi)?parseInt(Nn(this,Qi)):void 0;case"eth_chainId":return Nn(this,Qi);case"eth_accounts":case"eth_coinbase":return Nn(this,Ho)?[Nn(this,Ho)]:[]}if(t)return t()}onResponseReady(e,t){var r,n,i,o;if(t)switch(e.method){case"eth_requestAccounts":case"requestAccounts":Pn(this,Ho,t[0]);break;case"wallet_requestPermissions":Pn(this,Ho,(o=(i=(n=(r=t[0])==null?void 0:r.caveats)==null?void 0:n[0])==null?void 0:i.value)==null?void 0:o[0]);break}}getNetwork(){return bE.NETWORK}get connected(){return!0}get isMetaMask(){return Nn(this,Xc)}getChainId(){return Nn(this,Qi)}getNetworkVersion(){return this.handleStaticRequests({method:"net_version "})}setChainId(e){Pn(this,Qi,e)}setRPCUrl(e){Pn(this,La,e),Pn(this,$a,new wE(Nn(this,La)))}getRPC(){return Nn(this,$a)}setOverwriteMetamask(e){Pn(this,Xc,e)}getAddress(){return Nn(this,Ho)}setAddress(e){Pn(this,Ho,e)}setRPC(e){Pn(this,$a,e)}};let vE=bE;Qi=new WeakMap,La=new WeakMap,Al=new WeakMap,Xc=new WeakMap,Ho=new WeakMap,$a=new WeakMap,vE.NETWORK="ethereum";class zM{constructor(t){this.provider=t}async request(t,r){if(t.method==="getKey"){const i=await this.provider.internalRequest({method:"requestAccounts",params:t.params}),o=JSON.parse(i);return{algo:"secp256k1",address:o.address,bech32Address:o.address,pubKey:ie.Buffer.from(o.pubKey,"hex")}}const n={signAmino:"signTransaction",signDirect:"signTransaction",signArbitrary:"signMessage",sendTx:"sendTransaction"};return n[t.method]?this.provider.internalRequest({method:n[t.method],params:t.params}):r()}}var _E=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},EE=(e,t,r)=>(_E(e,t,"read from private field"),r?r.call(e):t.get(e)),qM=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},VM=(e,t,r,n)=>(_E(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Jc;const Qc=class extends Cl{constructor(e){super(),qM(this,Jc,!1),this.isKeplr=!0,this.isTrust=!0,this.isTrustWallet=!0,e&&(typeof e.disableMobileAdapter<"u"&&VM(this,Jc,e.disableMobileAdapter),typeof e.isKeplr<"u"&&(this.isKeplr=e.isKeplr),typeof e.isTrust<"u"&&(this.isTrust=e.isTrust,this.isTrustWallet=e.isTrust)),EE(this,Jc)||(this.mobileAdapter=new zM(this))}static bufferToHex(e){return"0x"+ie.Buffer.from(e).toString("hex")}getNetwork(){return Qc.NETWORK}isMobileAdapterEnabled(){return!EE(this,Jc)}enable(e){return this.request({method:"enable",params:{chainIds:e}})}internalRequest(e){return super.request(e)}request(e){const t=()=>this.internalRequest(e);return this.mobileAdapter?this.mobileAdapter.request(e,t):t()}getKey(e){return this.request({method:"getKey",params:{chainId:e}})}async sendTx(e,t,r){const n=ie.Buffer.from(t).toString("base64"),i=await this.request({method:"sendTx",params:{raw:n,chainId:e,mode:r}});return ie.Buffer.from(i,"hex")}async signArbitrary(e,t,r){const n=ie.Buffer.from(r),i=Qc.bufferToHex(n);return await this.request({method:"signArbitrary",params:{chainId:e,data:i,signerAddress:t}})}async signAmino(e,t,r){const n=await this.request({method:"signAmino",params:{chainId:e,sign_doc:r}}),{signed:i,signature:o}=JSON.parse(n);return{signed:i,signature:o}}async signDirect(e,t,r){const n={bodyBytes:Qc.bufferToHex(r.bodyBytes),authInfoBytes:Qc.bufferToHex(r.authInfoBytes)},i=await this.request({method:"signDirect",params:{signerAddress:t,chainId:e,sign_doc:n}}),{signature:o}=JSON.parse(i);return{signed:r,signature:o}}experimentalSuggestChain(){}getOfflineSignerDirect(e){return{getAccounts:async()=>[await this.getKey(e)],signDirect:async(t,r)=>{if(e!==r.chainId)throw new Error("Unmatched chain id with the offline signer");if((await this.getKey(r.chainId)).address!==t)throw new Error("Unknown signer address");return await this.signDirect(e,t,r)}}}getOfflineSigner(e){return this.getOfflineSignerAmino(e)}getOfflineSignerAuto(e){return this.getOfflineSignerAmino(e)}getOfflineSignerAmino(e){return{getAccounts:async()=>{const t=await this.getKey(e);return[{address:t.bech32Address,algo:"secp256k1",pubkey:t.pubKey}]},sign:(t,r)=>this.signAmino(e,t,r),signAmino:(t,r)=>this.signAmino(e,t,r)}}};let xE=Qc;Jc=new WeakMap,xE.NETWORK="cosmos";var Np={exports:{}},Oa=typeof Reflect=="object"?Reflect:null,SE=Oa&&typeof Oa.apply=="function"?Oa.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},Bl;Oa&&typeof Oa.ownKeys=="function"?Bl=Oa.ownKeys:Object.getOwnPropertySymbols?Bl=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Bl=function(e){return Object.getOwnPropertyNames(e)};function WM(e){console&&console.warn&&console.warn(e)}var AE=Number.isNaN||function(e){return e!==e};function Gt(){Gt.init.call(this)}Np.exports=Gt,Np.exports.once=YM,Gt.EventEmitter=Gt,Gt.prototype._events=void 0,Gt.prototype._eventsCount=0,Gt.prototype._maxListeners=void 0;var BE=10;function Il(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Gt,"defaultMaxListeners",{enumerable:!0,get:function(){return BE},set:function(e){if(typeof e!="number"||e<0||AE(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");BE=e}}),Gt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Gt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||AE(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function IE(e){return e._maxListeners===void 0?Gt.defaultMaxListeners:e._maxListeners}Gt.prototype.getMaxListeners=function(){return IE(this)},Gt.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n=e==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[e];if(a===void 0)return!1;if(typeof a=="function")SE(a,this,t);else for(var c=a.length,u=LE(a,c),r=0;r<c;++r)SE(u[r],this,t);return!0};function RE(e,t,r,n){var i,o,s;if(Il(r),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),s===void 0)s=o[t]=r,++e._eventsCount;else if(typeof s=="function"?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),i=IE(e),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,WM(a)}return e}Gt.prototype.addListener=function(e,t){return RE(this,e,t,!1)},Gt.prototype.on=Gt.prototype.addListener,Gt.prototype.prependListener=function(e,t){return RE(this,e,t,!0)};function KM(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function TE(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=KM.bind(n);return i.listener=r,n.wrapFn=i,i}Gt.prototype.once=function(e,t){return Il(t),this.on(e,TE(this,e,t)),this},Gt.prototype.prependOnceListener=function(e,t){return Il(t),this.prependListener(e,TE(this,e,t)),this},Gt.prototype.removeListener=function(e,t){var r,n,i,o,s;if(Il(t),n=this._events,n===void 0)return this;if(r=n[e],r===void 0)return this;if(r===t||r.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():ZM(r,i),r.length===1&&(n[e]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",e,s||t)}return this},Gt.prototype.off=Gt.prototype.removeListener,Gt.prototype.removeAllListeners=function(e){var t,r,n;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var i=Object.keys(r),o;for(n=0;n<i.length;++n)o=i[n],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this};function kE(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?GM(i):LE(i,i.length)}Gt.prototype.listeners=function(e){return kE(this,e,!0)},Gt.prototype.rawListeners=function(e){return kE(this,e,!1)},Gt.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):CE.call(e,t)},Gt.prototype.listenerCount=CE;function CE(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Gt.prototype.eventNames=function(){return this._eventsCount>0?Bl(this._events):[]};function LE(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function ZM(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function GM(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function YM(e,t){return new Promise(function(r,n){function i(s){e.removeListener(t,o),n(s)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}$E(e,t,o,{once:!0}),t!=="error"&&XM(e,i,{once:!0})})}function XM(e,t,r){typeof e.on=="function"&&$E(e,"error",t,r)}function $E(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(o){n.once&&e.removeEventListener(t,i),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}const OE={PROMISES:"PROMISES",CALLBACK:"CALLBACK"};class JM extends Np.exports.EventEmitter{setAdapter(t){return this.adapter=t,this}async request(t){try{if(!this.adapter)throw new Error("No adapter set, maybe you forgot to register the provider?");const r=await this.adapter.request(t,this.getNetwork());return this.emit("onResponseReady",t,r),r}catch(r){throw r}}sendResponse(t,r){if(!this.adapter)throw new Error("Adapter not found");if(this.adapter.getStrategy()!==OE.CALLBACK)throw new Error("Trying to send callback request on promisified adapter");this.adapter.sendResponse(t,r)}sendError(t,r){if(!this.adapter)throw new Error("Adapter not found");if(this.adapter.getStrategy()!==OE.CALLBACK)throw new Error("Trying to send callback request on promisified adapter");this.adapter.sendError(t,r)}}const ef=class extends JM{constructor(e){super(),this._isConnected=!1,this.chainId=null,this.address=null,e&&e.network&&(this._network=e.network,e.chainId&&(this.chainId=e.chainId))}static bufferToHex(e){return"0x"+ie.Buffer.from(e).toString("hex")}static messageToBuffer(e){let t=ie.Buffer.from([]);try{typeof e=="string"?t=ie.Buffer.from(e.replace("0x",""),"hex"):t=ie.Buffer.from(e)}catch(r){console.log(`messageToBuffer error: ${r}`)}return t}setConfig(e){this._network=e.network,this.address=e.address,this.chainId=e.chainId}async connect(){const e=await this.account();return this._isConnected=!0,this.emit("connect"),e}disconnect(){this._isConnected=!1,this.emit("disconnect")}isConnected(){return this._isConnected}async account(){const e=await this.request({method:"requestAccounts",params:{}});return JSON.parse(e)}network(){return this._network}getNetwork(){return ef.NETWORK}async signMessage(e){const t="APTOS",r=(await this.account()).address;let n=t;const i=window.location.protocol+"//"+window.location.hostname;e.address&&(n+=`
address: `+r),e.application&&(n+=`
application: `+i),e.chainId&&(n+=`
chainId: `+this.chainId),n+=`
message: `+e.message,n+=`
nonce: `+e.nonce;const o=ie.Buffer.from(n),s=ef.bufferToHex(o);return this.request({method:"signMessage",params:{data:s}}).then(a=>({address:r,application:i,chainId:this.chainId,fullMessage:n,message:e.message,nonce:e.nonce,prefix:t,signature:a}))}async signAndSubmitTransaction(e){const t=await this.signTransaction(e),r=await this.request({method:"sendTransaction",params:{tx:t}});return{hash:ef.messageToBuffer(r).toString()}}async signTransaction(e){const t=await this.request({method:"signTransaction",params:{data:e}});return JSON.parse(ef.messageToBuffer(t).toString())}};let ME=ef;ME.NETWORK="aptos";const QM=(e,t)=>new ax({strategy:e,handler:t}),eN=e=>new ey(e),tN=e=>new xE(e),rN=e=>new vE(e),nN=e=>new ME(e);window.trustwallet={core:QM,solana:eN,cosmos:tN,ethereum:rN,aptos:nN}});
